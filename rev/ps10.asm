;
; Input	MD5   :	279E988E5968AF9DCAA9CA0276113DF6
; Input	CRC32 :	30DCB846

; File Name   :	PS10.EXE
; Format      :	New Executable (NE) OS/2
; Title	'PS10.EXE'
; Target operating system	  OS/2
; File Load CRC			  000000000h
; Program Entry	Point	(CS:IP)	  0001:E1A3
; Initial Stack	Pointer	(SS:SP)	  000C:6590
; Auto Data Segment Index	  000Bh	 (    11. )
; Initial Local	Heap Size	  0000h	 (     0. )
; Initial Stack	Size		  0000h	 (     0. )
; Linker Version		  6.1
; Minimum code swap area size	  0
; Expected Windows Version	  3.0
; Program Flags	(030A):	Application Multiple data Uses windowing API
; Other	EXE Flags (0000):
; ----------------------------------------------------------------------------
; Segment Number    : 1
; Alloc	Size	    : F028h
; Offset in the	file: 1000h  Length: F028h
; Attributes  (0D40): CODE Preloaded Relocations DPL: 3
; OS type	  :  MS	Windows	OS/2
; Application type:  Console GUI Executable DLL	16bit

		.386p
		.model small

; ===========================================================================

; Segment type:	Regular
cseg01		segment	para public 'CODE' use16
		assume cs:cseg01
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    1
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetRealModeIntVector proc near		; CODE XREF: CheckNP+Bp

arg_0		= dword	ptr  4
arg_4		= byte ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 200h
		mov	bl, [bp+arg_4]
		int	31h		; DPMI Services	  ax=func xxxxh
					; GET REAL MODE	INTERRUPT VECTOR
					; BL = interrupt number
					; Return: CF clear, CX:DX = segment:offset of real mode	interrupt handler
		les	di, [bp+arg_0]
		mov	es:[di], dx
		mov	es:[di+2], cx
		leave
		retn	6
GetRealModeIntVector endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RealInt60h	proc near		; CODE XREF: DO_CD_Play+47p
					; DO_CD_Play+83p ...

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		cmp	NPinst,	0
		jz	short locret_32
		mov	bx, 60h	; '`'
		xor	cx, cx
		les	di, [bp+arg_0]
		mov	ax, 300h
		int	31h		; DPMI Services	  ax=func xxxxh
					; SIMULATE REAL	MODE INTERRUPT
					; BL=interrupt number
					; CX=number of words to	copy from protected mode to real mode stack
					; ES:DI	/ ES:EDI = selector:offset of real mode	call structure
					; Return: CF set on error
					; CF clear if ok

locret_32:				; CODE XREF: RealInt60h+8j
		leave
		retn	4
RealInt60h	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DO_CD_Play	proc near		; CODE XREF: ProcessCD+41p
					; ExecConsole+D1Bp ...

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		mov	ax, CDTrack
		cmp	ax, [bp+arg_0]
		jnz	short loc_44
		jmp	locret_FD
; ---------------------------------------------------------------------------

loc_44:					; CODE XREF: DO_CD_Play+9j
		cmp	[bp+arg_0], 0
		jnz	short loc_4D
		jmp	locret_FD
; ---------------------------------------------------------------------------

loc_4D:					; CODE XREF: DO_CD_Play+12j
		xor	ax, ax
		mov	LCDTrack, ax
		xor	ax, ax
		mov	CDTrack, ax
		cmp	MSCDEX,	0
		jnz	short loc_61
		jmp	locret_FD
; ---------------------------------------------------------------------------

loc_61:					; CODE XREF: DO_CD_Play+26j
		mov	word_3666A, 0CDh ; 'Í'
		mov	word_3666C, 0
		mov	ax, [bp+arg_0]
		cwd
		mov	word_36672, ax
		mov	word_36674, dx
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		cmp	[bp+arg_0], 0FFh
		jnz	short loc_89
		jmp	short locret_FD
; ---------------------------------------------------------------------------

loc_89:					; CODE XREF: DO_CD_Play+4Fj
		les	di, PInfoStruct
		cmp	byte ptr es:[di+183h], 0
		jnz	short loc_BC
		push	0C8h ; 'È'
		call	Delay
		mov	word_3666A, 0CDh ; 'Í'
		mov	word_3666C, 0
		mov	ax, [bp+arg_0]
		cwd
		mov	word_36672, ax
		mov	word_36674, dx
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h

loc_BC:					; CODE XREF: DO_CD_Play+5Dj
		les	di, PInfoStruct
		cmp	byte ptr es:[di+183h], 1
		jnz	short locret_FD
		mov	ax, [bp+arg_0]
		mov	CDTrack, ax
		les	di, PInfoStruct
		mov	ax, es:[di+184h]
		mov	dx, es:[di+186h]
		mov	cx, 8Ch	; 'Œ'
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 4Bh	; 'K'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		sub	ax, 46h	; 'F'
		sbb	dx, 0
		mov	CDTime,	ax
		mov	word_45278, dx

locret_FD:				; CODE XREF: DO_CD_Play+Bj
					; DO_CD_Play+14j ...
		leave
		retn	2
DO_CD_Play	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DO_CD_Stop	proc near		; CODE XREF: ExecConsole+D25p
					; CheckQuit+3p	...
		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	CDTrack, ax
		cmp	MSCDEX,	0
		jnz	short loc_112
		jmp	short locret_132
; ---------------------------------------------------------------------------

loc_112:				; CODE XREF: DO_CD_Stop+Dj
		mov	word_3666A, 0CDh ; 'Í'
		mov	word_3666C, 0
		mov	word_36672, 0FFh
		mov	word_36674, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h

locret_132:				; CODE XREF: DO_CD_Stop+Fj
		leave
		retn
DO_CD_Stop	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessCD	proc near		; CODE XREF: DoGame+319p
		push	bp
		mov	bp, sp
		cmp	CDTrack, 0
		jnz	short loc_140
		jmp	short locret_178
; ---------------------------------------------------------------------------

loc_140:				; CODE XREF: ProcessCD+8j
		cmp	MSCDEX,	0
		jnz	short loc_149
		jmp	short locret_178
; ---------------------------------------------------------------------------

loc_149:				; CODE XREF: ProcessCD+11j
		mov	ax, t1
		xor	dx, dx
		sub	CDTime,	ax
		sbb	word_45278, dx
		cmp	word_45278, 0
		jl	short loc_166
		jg	short locret_178
		cmp	CDTime,	0
		ja	short locret_178

loc_166:				; CODE XREF: ProcessCD+27j
		mov	ax, CDTrack
		mov	w, ax
		xor	ax, ax
		mov	CDTrack, ax
		push	w
		call	DO_CD_Play

locret_178:				; CODE XREF: ProcessCD+Aj
					; ProcessCD+13j ...
		leave
		retn
ProcessCD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RefreshMachineMode proc	near		; CODE XREF: DoGame:loc_C58Cp
					; DoGame:loc_DC33p
		push	bp
		mov	bp, sp
		cmp	NPinst,	0
		jnz	short loc_186
		jmp	short locret_1B6
; ---------------------------------------------------------------------------

loc_186:				; CODE XREF: RefreshMachineMode+8j
		cmp	SERVER,	0
		jz	short loc_199
		les	di, PInfoStruct
		mov	word ptr es:[di+6], 1
		jmp	short locret_1B6
; ---------------------------------------------------------------------------

loc_199:				; CODE XREF: RefreshMachineMode+11j
		cmp	CLIENT,	0
		jz	short loc_1AC
		les	di, PInfoStruct
		mov	word ptr es:[di+6], 2
		jmp	short locret_1B6
; ---------------------------------------------------------------------------

loc_1AC:				; CODE XREF: RefreshMachineMode+24j
		les	di, PInfoStruct
		xor	ax, ax
		mov	es:[di+6], ax

locret_1B6:				; CODE XREF: RefreshMachineMode+Aj
					; RefreshMachineMode+1Dj ...
		leave
		retn
RefreshMachineMode endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReInstallFreeECB proc near		; CODE XREF: LoadServerPatch:loc_1684p
					; LookForServer+31p ...
		push	bp
		mov	bp, sp
		mov	word_3666A, 2
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		leave
		retn
ReInstallFreeECB endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReinitPlayer	proc near		; CODE XREF: LoadClientPatch+2Fp
					; DoGame+115p ...

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	0Ah, 0
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+1Ah], ax
		xor	ax, ax
		mov	es:[di+40h], ax
		xor	ax, ax
		mov	es:[di+42h], ax
		xor	ax, ax
		mov	es:[di+18h], ax
		xor	ax, ax
		mov	es:[di+1Eh], ax
		mov	word ptr es:[di+2Ah], 300h
		mov	word ptr es:[di+28h], 64h ; 'd'
		mov	byte ptr es:[di+27h], 0
		mov	byte ptr es:[di+25h], 41h ; 'A'
		xor	ax, ax
		mov	es:[di+4Eh], ax
		xor	ax, ax
		mov	es:[di+52h], ax
		xor	ax, ax
		mov	es:[di+50h], ax
		mov	ax, WeaponsCount
		mov	[bp+var_A], ax
		mov	ax, 1
		cmp	ax, [bp+var_A]
		jg	short loc_262
		mov	[bp+var_2], ax
		jmp	short loc_24D
; ---------------------------------------------------------------------------

loc_24A:				; CODE XREF: ReinitPlayer+8Fj
		inc	[bp+var_2]

loc_24D:				; CODE XREF: ReinitPlayer+77j
		mov	ax, [bp+var_2]
		les	di, [bp+var_8]
		assume es:nothing
		add	di, ax
		mov	byte ptr es:[di+2Dh], 0
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jnz	short loc_24A

loc_262:				; CODE XREF: ReinitPlayer+72j
		mov	al, byte_446B8
		les	di, [bp+var_8]
		mov	es:[di+2Eh], al
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 2
		mov	al, LastBorn
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	si, di
		shl	di, 1
		add	di, si
		cmp	word ptr [di-1A80h], 0
		jnz	short loc_292
		mov	LastBorn, 0

loc_292:				; CODE XREF: ReinitPlayer+BAj
		mov	al, LastBorn
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	si, di
		shl	di, 1
		add	di, si
		mov	ax, [di-1A80h]
		les	di, [bp+var_8]
		mov	es:[di+0Ah], ax
		mov	al, LastBorn
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	si, di
		shl	di, 1
		add	di, si
		mov	ax, [di-1A7Eh]
		les	di, [bp+var_8]
		mov	es:[di+0Ch], ax
		mov	al, LastBorn
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	si, di
		shl	di, 1
		add	di, si
		mov	ax, [di-1A7Ch]
		les	di, [bp+var_8]
		mov	es:[di+1Eh], ax
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	4Eh ; 'N'
		lea	di, [bp+var_4]
		push	ss
		push	di
		lea	di, [bp+var_2]
		push	ss
		push	di
		call	GetLandHeight
		mov	ax, [bp+var_4]
		les	di, [bp+var_8]
		mov	es:[di+0Eh], ax
		cmp	[bp+arg_0], 0
		jnz	short loc_340
		mov	ax, es:[di+1Eh]
		mov	HFi, ax
		push	0
		call	CalcDir
		les	di, [bp+var_8]
		mov	word ptr es:[di+48h], 1
		mov	LastGunNumber, 1
		xor	ax, ax
		mov	WeaponFTime, ax
		xor	ax, ax
		mov	WeaponPhase, ax
		mov	GunShift, 2Eh ;	'.'
		xor	ax, ax
		mov	LookVz,	ax
		call	ReInitViewConst

loc_340:				; CODE XREF: ReinitPlayer+136j
		les	di, [bp+var_8]
		mov	ax, es:[di+0Ah]
		mov	ehx, ax
		mov	ax, es:[di+0Ch]
		mov	ehy, ax
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	6
		push	1Ah
		push	60h ; '`'
		call	AddBlowLight
		inc	LastBorn
		leave
		retn	2
ReinitPlayer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MakeChanges	proc near		; CODE XREF: LoadServerPatch+4D6p

var_6		= word ptr -6
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	0Ah, 0
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_37A
; ---------------------------------------------------------------------------

loc_377:				; CODE XREF: MakeChanges+85j
		inc	[bp+var_6]

loc_37A:				; CODE XREF: MakeChanges+9j
		mov	di, [bp+var_6]
		mov	al, [di-0D14h]
		mov	[bp+var_1], al
		mov	ax, [bp+var_6]
		les	di, PServerLocal
		add	di, ax
		mov	al, es:[di+20h]
		mov	[bp+var_2], al
		mov	al, [bp+var_1]
		cmp	al, [bp+var_2]
		jz	short loc_3ED
		mov	[bp+var_3], 0
		jmp	short loc_3A5
; ---------------------------------------------------------------------------

loc_3A2:				; CODE XREF: MakeChanges+7Fj
		inc	[bp+var_3]

loc_3A5:				; CODE XREF: MakeChanges+34j
		mov	al, [bp+var_3]
		xor	ah, ah
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		mov	al, [bp+var_2]
		xor	al, [bp+var_1]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jz	short loc_3E7
		mov	al, [bp+var_3]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+var_6]
		shl	ax, 3
		add	ax, dx
		shl	ax, 2
		les	di, PChanges
		add	di, ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		call	Blow3dObjAt

loc_3E7:				; CODE XREF: MakeChanges+55j
		cmp	[bp+var_3], 7
		jnz	short loc_3A2

loc_3ED:				; CODE XREF: MakeChanges+2Ej
		cmp	[bp+var_6], 0Fh
		jnz	short loc_377
		leave
		retn
MakeChanges	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DoneChanges	proc near		; CODE XREF: JoinNetworkGame+55p

var_E		= dword	ptr -0Eh
var_6		= word ptr -6
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	0Eh, 0
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_403
; ---------------------------------------------------------------------------

loc_400:				; CODE XREF: DoneChanges+C4j
		inc	[bp+var_6]

loc_403:				; CODE XREF: DoneChanges+9j
		mov	di, [bp+var_6]
		mov	al, [di-0D14h]
		mov	[bp+var_1], al
		mov	ax, [bp+var_6]
		les	di, PServerPatch
		add	di, ax
		mov	al, es:[di+20h]
		mov	[bp+var_2], al
		mov	al, [bp+var_1]
		cmp	al, [bp+var_2]
		jnz	short loc_428
		jmp	loc_4B3
; ---------------------------------------------------------------------------

loc_428:				; CODE XREF: DoneChanges+2Ej
		mov	[bp+var_3], 0
		jmp	short loc_431
; ---------------------------------------------------------------------------

loc_42E:				; CODE XREF: DoneChanges+BBj
		inc	[bp+var_3]

loc_431:				; CODE XREF: DoneChanges+37j
		mov	al, [bp+var_3]
		xor	ah, ah
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		mov	al, [bp+var_2]
		xor	al, [bp+var_1]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jz	short loc_4AA
		mov	al, [bp+var_3]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+var_6]
		shl	ax, 3
		add	ax, dx
		shl	ax, 2
		les	di, PChanges
		add	di, ax
		imul	ax, es:[di+2], 0Bh
		mov	dx, ax
		imul	ax, es:[di], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74B8h], 3E8h
		jl	short loc_4A4
		les	di, [bp+var_E]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		call	RemoveLight

loc_4A4:				; CODE XREF: DoneChanges+9Dj
		les	di, [bp+var_E]
		inc	byte ptr es:[di]

loc_4AA:				; CODE XREF: DoneChanges+58j
		cmp	[bp+var_3], 7
		jz	short loc_4B3
		jmp	loc_42E
; ---------------------------------------------------------------------------

loc_4B3:				; CODE XREF: DoneChanges+30j
					; DoneChanges+B9j
		cmp	[bp+var_6], 0Fh
		jz	short locret_4BC
		jmp	loc_400
; ---------------------------------------------------------------------------

locret_4BC:				; CODE XREF: DoneChanges+C2j
		leave
		retn
DoneChanges	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CorrectProcesses proc near		; CODE XREF: DoneProcesses+9p
					; LoadServerPatch+4D9p

var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ch, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_4CC
; ---------------------------------------------------------------------------

loc_4C9:				; CODE XREF: CorrectProcesses+E2j
		inc	[bp+var_2]

loc_4CC:				; CODE XREF: CorrectProcesses+9j
		mov	ax, [bp+var_2]
		shl	ax, 1
		les	di, PServerLocal
		add	di, ax
		mov	ax, es:[di+30h]
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		mov	di, [bp+var_2]
		shl	di, 1
		xor	ax, [di-0D04h]
		mov	[bp+var_8], ax
		cmp	[bp+var_8], 0
		jnz	short loc_4F6
		jmp	loc_59A
; ---------------------------------------------------------------------------

loc_4F6:				; CODE XREF: CorrectProcesses+33j
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_500
; ---------------------------------------------------------------------------

loc_4FD:				; CODE XREF: CorrectProcesses+D9j
		inc	[bp+var_4]

loc_500:				; CODE XREF: CorrectProcesses+3Dj
		mov	ax, [bp+var_4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 1
		xor	dx, dx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_8]
		xor	dx, dx
		and	ax, cx
		and	dx, bx
		or	ax, dx
		jz	short loc_591
		mov	ax, [bp+var_2]
		shl	ax, 4
		add	ax, [bp+var_4]
		imul	ax, 1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	ax, [bp+var_4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 1
		xor	dx, dx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		xor	dx, dx
		and	ax, cx
		and	dx, bx
		or	ax, dx
		jz	short loc_572
		mov	ax, [bp+var_2]
		shl	ax, 4
		add	ax, [bp+var_4]
		push	ax
		push	0
		call	StartProcess
		jmp	short loc_591
; ---------------------------------------------------------------------------

loc_572:				; CODE XREF: CorrectProcesses+9Fj
		les	di, [bp+var_C]
		cmp	byte ptr es:[di+1], 2
		jz	short loc_581
		mov	byte ptr es:[di+1], 2

loc_581:				; CODE XREF: CorrectProcesses+BCj
		les	di, [bp+var_C]
		cmp	word ptr es:[di+24h], 0
		jle	short loc_591
		xor	ax, ax
		mov	es:[di+24h], ax

loc_591:				; CODE XREF: CorrectProcesses+63j
					; CorrectProcesses+B2j	...
		cmp	[bp+var_4], 0Fh
		jz	short loc_59A
		jmp	loc_4FD
; ---------------------------------------------------------------------------

loc_59A:				; CODE XREF: CorrectProcesses+35j
					; CorrectProcesses+D7j
		cmp	[bp+var_2], 3
		jz	short locret_5A3
		jmp	loc_4C9
; ---------------------------------------------------------------------------

locret_5A3:				; CODE XREF: CorrectProcesses+E0j
		leave
		retn
CorrectProcesses endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DoneProcesses	proc near		; CODE XREF: JoinNetworkGame+58p
		push	bp
		mov	bp, sp
		mov	t1, 20h	; ' '
		call	CorrectProcesses
		call	AnimateProcesses
		call	AnimateProcesses
		call	AnimateProcesses
		call	AnimateProcesses
		call	AnimateProcesses
		call	AnimateProcesses
		mov	t1, 4
		leave
		retn
DoneProcesses	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetFreeNetNumber proc near		; CODE XREF: LoadClientPatch+1Fp

var_4		= word ptr -4
var_1		= byte ptr -1

		enter	4, 0
		mov	[bp+var_1], 7
		mov	[bp+var_4], 1
		jmp	short loc_5E9
; ---------------------------------------------------------------------------

loc_5E6:				; CODE XREF: GetFreeNetNumber+29j
		inc	[bp+var_4]

loc_5E9:				; CODE XREF: GetFreeNetNumber+Dj
		imul	di, [bp+var_4],	58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_5FC
		mov	al, byte ptr [bp+var_4]
		mov	[bp+var_1], al
		jmp	short loc_602
; ---------------------------------------------------------------------------

loc_5FC:				; CODE XREF: GetFreeNetNumber+1Bj
		cmp	[bp+var_4], 7
		jnz	short loc_5E6

loc_602:				; CODE XREF: GetFreeNetNumber+23j
		mov	al, [bp+var_1]
		leave
		retn
GetFreeNetNumber endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ConnectIPXProcessor proc near		; CODE XREF: CheckNP+23p

var_2		= word ptr -2

		enter	2, 0
		xor	ax, ax
		mov	word_3666A, ax
		mov	word_3666C, ax
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		mov	ax, ds
		push	ax
		call	KERNEL_175
		mov	[bp+var_2], ax
		push	[bp+var_2]
		mov	ax, word_3667C
		xor	dx, dx
		mov	cx, 4
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		push	dx
		push	ax
		call	KERNEL_187
		push	[bp+var_2]
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	ax, word_3665E
		mov	dx, [bp+var_2]
		mov	word ptr PServerPatch, ax
		mov	word ptr PServerPatch+2, dx
		mov	ax, DRegs
		mov	dx, [bp+var_2]
		mov	word ptr PClientPatches, ax
		mov	word ptr PClientPatches+2, dx
		mov	ax, word_3666A
		mov	dx, [bp+var_2]
		mov	word ptr PInfoStruct, ax
		mov	word ptr PInfoStruct+2,	dx
		les	di, PServerPatch
		mov	ax, es
		mov	DsSeg, ax
		les	di, PServerPatch
		mov	ax, di
		mov	DsOfs, ax
		les	di, PInfoStruct
		mov	al, es:[di+14Bh]
		mov	IPXPresent, al
		mov	di, offset PServerLocal
		push	ds
		push	di
		push	0BF0h
		call	GetMem16
		les	di, PServerLocal
		mov	ax, es
		mov	DLSeg, ax
		leave
		retn
ConnectIPXProcessor endp

; ---------------------------------------------------------------------------
aNpNotFound_	db 13,'NP not found.'   ; DATA XREF: CheckNP+2Do

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckNP		proc near		; CODE XREF: PROGRAM+1B5p

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		push	60h ; '`'
		lea	di, [bp+var_4]
		push	ss
		push	di
		call	GetRealModeIntVector
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		mov	al, 0
		jz	short loc_6CF
		inc	ax

loc_6CF:				; CODE XREF: CheckNP+16j
		mov	NPinst,	al
		cmp	NPinst,	0
		jz	short loc_6DE
		call	ConnectIPXProcessor
		jmp	short locret_6F4
; ---------------------------------------------------------------------------

loc_6DE:				; CODE XREF: CheckNP+21j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aNpNotFound_	; "NP not found."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)

locret_6F4:				; CODE XREF: CheckNP+26j
		leave
		retn
CheckNP		endp

; ---------------------------------------------------------------------------
aServerStarted_	db 15,'SERVER STARTED.' ; DATA XREF: INIT_IPX_SERVER+88o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

INIT_IPX_SERVER	proc near		; CODE XREF: DoGame+144p
		push	bp
		mov	bp, sp
		mov	di, offset SelfNick
		push	ds
		push	di
		mov	di, offset unk_4527B
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, PInfoStruct
		mov	word ptr es:[di+6], 1
		mov	al, NGCard
		xor	ah, ah
		les	di, PInfoStruct
		mov	es:[di+14Ch], ax
		mov	al, NGPort
		xor	ah, ah
		les	di, PInfoStruct
		mov	es:[di+150h], ax
		mov	al, NGBaud
		xor	ah, ah
		les	di, PInfoStruct
		mov	es:[di+14Eh], ax
		les	di, PInfoStruct
		xor	ax, ax
		mov	es:[di+8], ax
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_763
; ---------------------------------------------------------------------------

loc_75F:				; CODE XREF: INIT_IPX_SERVER+72j
		inc	n__0

loc_763:				; CODE XREF: INIT_IPX_SERVER+57j
		mov	ax, n__0
		shl	ax, 5
		les	di, PClientPatches
		add	di, ax
		mov	byte ptr es:[di], 0
		cmp	n__0, 8
		jnz	short loc_75F
		mov	word_3666A, 7
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		mov	di, offset aServerStarted_ ; "SERVER STARTED."
		push	cs
		push	di
		call	PutConsMessage2
		leave
		retn
INIT_IPX_SERVER	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

INIT_IPX_CLIENT	proc near		; CODE XREF: LookForServer+4p
					; DoGame+14Ep
		enter	2, 0
		les	di, PInfoStruct
		mov	word ptr es:[di+6], 2
		mov	al, NGCard
		xor	ah, ah
		les	di, PInfoStruct
		mov	es:[di+14Ch], ax
		mov	al, NGPort
		xor	ah, ah
		les	di, PInfoStruct
		mov	es:[di+150h], ax
		mov	al, NGBaud
		xor	ah, ah
		les	di, PInfoStruct
		mov	es:[di+14Eh], ax
		mov	word_3666A, 7
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		leave
		retn
INIT_IPX_CLIENT	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CloseIPXChannel	proc near		; CODE XREF: LookForServer+D4p
					; DoGame+19C0p
		push	bp
		mov	bp, sp
		cmp	NPinst,	0
		jnz	short loc_7F4
		jmp	short locret_812
; ---------------------------------------------------------------------------

loc_7F4:				; CODE XREF: CloseIPXChannel+8j
		les	di, PInfoStruct
		xor	ax, ax
		mov	es:[di+6], ax
		mov	word_3666A, 8
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h

locret_812:				; CODE XREF: CloseIPXChannel+Aj
		leave
		retn
CloseIPXChannel	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckSendComplette proc	near		; CODE XREF: SendServerPatch+32p
					; SendClientPatch+32p ...
		push	bp
		mov	bp, sp
		mov	word_3666A, 5
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		leave
		retn
CheckSendComplette endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SendServerPatch	proc near		; CODE XREF: DoGame+39Bp

var_E		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_2		= word ptr -2

		enter	0Eh, 0
		mov	ax, RealTime
		mov	dx, word_44D7C
		cmp	dx, word_366AA
		jl	short loc_846
		jg	short loc_849
		cmp	ax, NextSendTime
		jnb	short loc_849

loc_846:				; CODE XREF: SendServerPatch+Fj
		jmp	locret_B86
; ---------------------------------------------------------------------------

loc_849:				; CODE XREF: SendServerPatch+11j
					; SendServerPatch+17j
		mov	ax, RealTime
		mov	dx, word_44D7C
		add	ax, NetPeriod
		adc	dx, word_366AE
		mov	NextSendTime, ax
		mov	word_366AA, dx
		call	CheckSendComplette
		les	di, PInfoStruct
		cmp	byte ptr es:[di+14Ah], 0
		jnz	short loc_871
		jmp	locret_B86
; ---------------------------------------------------------------------------

loc_871:				; CODE XREF: SendServerPatch+3Fj
		les	di, PServerPatch
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, LevelN
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+16h], 0
		mov	al, byte ptr Skill
		mov	es:[di+17h], al
		mov	ax, ServerVersion
		mov	es:[di+4], ax
		cmp	Paused,	0
		jz	short loc_8A1
		mov	byte ptr es:[di+16h], 1

loc_8A1:				; CODE XREF: SendServerPatch+6Dj
		mov	ax, RealTime
		mov	dx, word_44D7C
		les	di, [bp+var_8]
		mov	es:[di+0Ah], ax
		mov	es:[di+0Ch], dx
		mov	ax, RCount
		mov	es:[di+18h], ax
		mov	ax, MCount
		mov	es:[di+1Ah], ax
		mov	ax, MnCount
		mov	es:[di+1Eh], ax
		mov	al, NetMessage
		xor	ah, ah
		mov	es:[di+14h], ax
		mov	di, offset LevelChanges
		push	ds
		push	di
		les	di, [bp+var_8]
		add	di, 20h	; ' '
		push	es
		push	di
		push	10h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	di, offset ProcState
		push	ds
		push	di
		les	di, [bp+var_8]
		add	di, 30h	; '0'
		push	es
		push	di
		push	8
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_8]
		xor	ax, ax
		mov	es:[di+8], ax
		mov	word ptr es:[di+6], 38h	; '8'
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_914
; ---------------------------------------------------------------------------

loc_911:				; CODE XREF: SendServerPatch+129j
		inc	[bp+var_2]

loc_914:				; CODE XREF: SendServerPatch+E2j
		imul	di, [bp+var_2],	58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_952
		mov	ax, 1
		mov	cx, [bp+var_2]
		shl	ax, cl
		les	di, [bp+var_8]
		add	es:[di+8], ax
		imul	di, [bp+var_2],	58h
		add	di, 0F02Ah
		push	ds
		push	di
		les	di, [bp+var_8]
		mov	ax, es:[di+6]
		add	di, ax
		push	es
		push	di
		push	38h ; '8'
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_8]
		add	word ptr es:[di+6], 38h	; '8'

loc_952:				; CODE XREF: SendServerPatch+F0j
		cmp	[bp+var_2], 7
		jnz	short loc_911
		les	di, [bp+var_8]
		mov	ax, es:[di+6]
		add	ax, DsOfs
		mov	DpOfs, ax
		xor	ax, ax
		mov	es:[di+1Ch], ax
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_976
; ---------------------------------------------------------------------------

loc_973:				; CODE XREF: SendServerPatch+189j
		inc	[bp+var_2]

loc_976:				; CODE XREF: SendServerPatch+144j
		imul	di, [bp+var_2],	0Ah
		cmp	byte ptr [di-5B62h], 0
		jz	short loc_9B2
		imul	di, [bp+var_2],	0Ah
		add	di, 0A49Eh
		push	ds
		push	di
		mov	ax, DsSeg
		push	ax
		mov	di, DpOfs
		pop	es
		push	es
		push	di
		push	0Ah
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		add	DpOfs, 0Ah
		imul	di, [bp+var_2],	0Ah
		mov	byte ptr [di-5B62h], 0
		les	di, [bp+var_8]
		inc	word ptr es:[di+1Ch]

loc_9B2:				; CODE XREF: SendServerPatch+152j
		cmp	[bp+var_2], 0Fh
		jnz	short loc_973
		les	di, [bp+var_8]
		cmp	word ptr es:[di+14h], 0
		jle	short loc_9EE
		mov	di, offset unk_45555
		push	ds
		push	di
		mov	ax, DsSeg
		push	ax
		mov	di, DpOfs
		pop	es
		push	es
		push	di
		les	di, [bp+var_8]
		push	word ptr es:[di+14h]
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_8]
		mov	ax, es:[di+14h]
		add	DpOfs, ax
		mov	NetMessage, 0

loc_9EE:				; CODE XREF: SendServerPatch+193j
		mov	ax, RCount
		mov	[bp+var_A], ax
		mov	ax, 1
		cmp	ax, [bp+var_A]
		jbe	short loc_9FF
		jmp	loc_AC4
; ---------------------------------------------------------------------------

loc_9FF:				; CODE XREF: SendServerPatch+1CDj
		mov	[bp+var_2], ax
		jmp	short loc_A07
; ---------------------------------------------------------------------------

loc_A04:				; CODE XREF: SendServerPatch+294j
		inc	[bp+var_2]

loc_A07:				; CODE XREF: SendServerPatch+1D5j
		imul	di, [bp+var_2],	18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		mov	dx, es:[di+2]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 0
		mov	di, ax
		pop	es
		assume es:nothing
		mov	es:[di], dx
		les	di, [bp+var_E]
		mov	dx, es:[di+6]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		inc	ax
		inc	ax
		mov	di, ax
		pop	es
		mov	es:[di], dx
		les	di, [bp+var_E]
		mov	dx, es:[di+8]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 4
		mov	di, ax
		pop	es
		mov	es:[di], dx
		les	di, [bp+var_E]
		mov	dx, es:[di+0Ah]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 6
		mov	di, ax
		pop	es
		mov	es:[di], dx
		les	di, [bp+var_E]
		mov	dl, es:[di+0Ch]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 8
		mov	di, ax
		pop	es
		mov	es:[di], dl
		les	di, [bp+var_E]
		mov	dl, es:[di+0Dh]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 9
		mov	di, ax
		pop	es
		mov	es:[di], dl
		les	di, [bp+var_E]
		mov	dx, es:[di+12h]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 0Ah
		mov	di, ax
		pop	es
		mov	es:[di], dx
		add	DpOfs, 0Ch
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jz	short loc_AC4
		jmp	loc_A04
; ---------------------------------------------------------------------------

loc_AC4:				; CODE XREF: SendServerPatch+1CFj
					; SendServerPatch+292j
		mov	ax, MnCount
		mov	[bp+var_A], ax
		mov	ax, 1
		cmp	ax, [bp+var_A]
		ja	short loc_B03
		mov	[bp+var_2], ax
		jmp	short loc_ADA
; ---------------------------------------------------------------------------

loc_AD7:				; CODE XREF: SendServerPatch+2D4j
		inc	[bp+var_2]

loc_ADA:				; CODE XREF: SendServerPatch+2A8j
		imul	di, [bp+var_2],	0Ah
		add	di, 0BC0Ch
		push	ds
		push	di
		mov	ax, DsSeg
		push	ax
		mov	di, DpOfs
		pop	es
		push	es
		push	di
		push	6
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		add	DpOfs, 6
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jnz	short loc_AD7

loc_B03:				; CODE XREF: SendServerPatch+2A3j
		mov	ax, MCount
		mov	[bp+var_A], ax
		mov	ax, 1
		cmp	ax, [bp+var_A]
		ja	short loc_B65
		mov	[bp+var_2], ax
		jmp	short loc_B19
; ---------------------------------------------------------------------------

loc_B16:				; CODE XREF: SendServerPatch+336j
		inc	[bp+var_2]

loc_B19:				; CODE XREF: SendServerPatch+2E7j
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		push	di
		mov	ax, DsSeg
		push	ax
		mov	di, DpOfs
		pop	es
		push	es
		push	di
		push	0Ch
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		imul	di, [bp+var_2],	28h
		cmp	byte ptr [di-5AD8h], 64h ; 'd'
		jnz	short loc_B58
		imul	di, [bp+var_2],	28h
		mov	dl, [di-5ACEh]
		mov	ax, DsSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 0Ah
		mov	di, ax
		pop	es
		mov	es:[di], dl

loc_B58:				; CODE XREF: SendServerPatch+311j
		add	DpOfs, 0Ch
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jnz	short loc_B16

loc_B65:				; CODE XREF: SendServerPatch+2E2j
		mov	ax, DpOfs
		sub	ax, DsOfs
		les	di, [bp+var_8]
		mov	es:[di], ax
		mov	word_3666A, 1
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h

locret_B86:				; CODE XREF: SendServerPatch:loc_846j
					; SendServerPatch+41j
		leave
		retn
SendServerPatch	endp

; ---------------------------------------------------------------------------
asc_B88		db 1,'"'                ; DATA XREF: LoadClientPatch+D2o
					; LoadClientPatch+1F9o	...
aJoinedTheGame	db 17,'" JOINED THE GAME' ; DATA XREF: LoadClientPatch+EBo
aNowIs		db 10,'" NOW IS "'      ; DATA XREF: LoadClientPatch+213o
aDisconnected	db 14,'" DISCONNECTED'  ; DATA XREF: LoadClientPatch+306o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadClientPatch	proc near		; CODE XREF: DoGame+387p

var_106		= byte ptr -106h
var_6		= dword	ptr -6

		enter	106h, 0
		les	di, PClientPatches
		add	di, 100h
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	byte ptr es:[di], 1
		jz	short loc_BD1
		jmp	loc_CBC
; ---------------------------------------------------------------------------

loc_BD1:				; CODE XREF: LoadClientPatch+16j
		mov	byte ptr es:[di], 0
		call	GetFreeNetNumber
		xor	ah, ah
		les	di, [bp+var_6]
		mov	es:[di+3], ax
		push	word ptr es:[di+3]
		call	ReinitPlayer
		les	di, [bp+var_6]
		imul	di, es:[di+3], 58h
		mov	byte ptr [di-0FB0h], 0
		les	di, PClientPatches
		add	di, 100h
		push	es
		push	di
		les	di, [bp+var_6]
		mov	ax, es:[di+3]
		shl	ax, 5
		les	di, PClientPatches
		add	di, ax
		push	es
		push	di
		push	20h ; ' '
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_6]
		mov	ax, es:[di+3]
		shl	ax, 5
		les	di, PClientPatches
		add	di, ax
		mov	byte ptr es:[di], 1
		les	di, [bp+var_6]
		add	di, 5
		push	es
		push	di
		les	di, [bp+var_6]
		imul	di, es:[di+3], 58h
		add	di, 0F02Bh
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_6]
		mov	ax, es:[di+14h]
		imul	di, es:[di+3], 58h
		mov	[di-0FA0h], ax
		les	di, [bp+var_6]
		imul	di, es:[di+3], 58h
		xor	ax, ax
		mov	[di-0FB4h], ax
		les	di, [bp+var_6]
		imul	di, es:[di+3], 58h
		mov	byte ptr [di-0FB2h], 2
		les	di, [bp+var_6]
		imul	di, es:[di+3], 58h
		mov	byte ptr [di-0FD6h], 1
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset asc_B88 ; "\""
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		les	di, PClientPatches
		add	di, 105h
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aJoinedTheGame ; "\"	JOINED THE GAME"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		cmp	NETMonitor, 0
		jz	short loc_CBC
		call	ClearUnusedScreens

loc_CBC:				; CODE XREF: LoadClientPatch+18j
					; LoadClientPatch+FFj
		mov	n__0, 1
		jmp	short loc_CC8
; ---------------------------------------------------------------------------

loc_CC4:				; CODE XREF: LoadClientPatch+297j
		inc	n__0

loc_CC8:				; CODE XREF: LoadClientPatch+10Cj
		mov	ax, n__0
		shl	ax, 5
		les	di, PClientPatches
		add	di, ax
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	byte ptr es:[di], 1
		jz	short loc_CE3
		jmp	loc_E46
; ---------------------------------------------------------------------------

loc_CE3:				; CODE XREF: LoadClientPatch+128j
		imul	di, n__0, 58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_CF2
		jmp	loc_E46
; ---------------------------------------------------------------------------

loc_CF2:				; CODE XREF: LoadClientPatch+137j
		cli
		les	di, [bp+var_6]
		mov	byte ptr es:[di], 0
		mov	ax, es:[di+10h]
		imul	di, n__0, 58h
		mov	[di-0FB6h], ax
		les	di, [bp+var_6]
		mov	ax, es:[di+10h]
		and	ax, 8000h
		or	ax, ax
		jnz	short loc_D22
		mov	ax, es:[di+12h]
		imul	di, n__0, 58h
		mov	[di-0FB8h], ax

loc_D22:				; CODE XREF: LoadClientPatch+15Dj
		les	di, [bp+var_6]
		cmp	word ptr es:[di+1Ah], 1
		jge	short loc_D32
		mov	word ptr es:[di+1Ah], 1

loc_D32:				; CODE XREF: LoadClientPatch+174j
		les	di, [bp+var_6]
		mov	ax, es:[di+1Ah]
		imul	di, n__0, 58h
		mov	[di-0F8Eh], ax
		les	di, [bp+var_6]
		mov	ax, es:[di+16h]
		imul	di, n__0, 58h
		mov	[di-0FC6h], ax
		les	di, [bp+var_6]
		mov	ax, es:[di+18h]
		imul	di, n__0, 58h
		mov	[di-0FC0h], ax
		les	di, [bp+var_6]
		mov	ax, es:[di+1Ch]
		imul	di, n__0, 58h
		add	[di-0F96h], ax
		les	di, [bp+var_6]
		xor	ax, ax
		mov	es:[di+1Ch], ax
		mov	ax, es:[di+1Eh]
		imul	di, n__0, 58h
		add	[di-0F94h], ax
		les	di, [bp+var_6]
		xor	ax, ax
		mov	es:[di+1Eh], ax
		add	di, 5
		push	es
		push	di
		imul	di, n__0, 58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_DF0
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset asc_B88 ; "\""
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	di, n__0, 58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aNowIs ; "\"	NOW IS \""
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_6]
		add	di, 5
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_B88 ; "\""
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3

loc_DF0:				; CODE XREF: LoadClientPatch+1F1j
		les	di, [bp+var_6]
		add	di, 5
		push	es
		push	di
		imul	di, n__0, 58h
		add	di, 0F02Bh
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_6]
		mov	ax, es:[di+14h]
		imul	di, n__0, 58h
		mov	[di-0FA0h], ax
		les	di, [bp+var_6]
		mov	ax, es:[di+1]
		imul	di, n__0, 58h
		mov	[di-0FAAh], ax
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, Time
		mov	dx, word_44D6C
		mov	es:[di+54h], ax
		mov	es:[di+56h], dx
		sti

loc_E46:				; CODE XREF: LoadClientPatch+12Aj
					; LoadClientPatch+139j
		cmp	n__0, 7
		jz	short loc_E50
		jmp	loc_CC4
; ---------------------------------------------------------------------------

loc_E50:				; CODE XREF: LoadClientPatch+295j
		mov	n__0, 1
		jmp	short loc_E5C
; ---------------------------------------------------------------------------

loc_E58:				; CODE XREF: LoadClientPatch+332j
		inc	n__0

loc_E5C:				; CODE XREF: LoadClientPatch+2A0j
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	byte ptr es:[di], 0
		jz	short loc_EE1
		mov	ax, es:[di+54h]
		mov	dx, es:[di+56h]
		add	ax, 118h
		adc	dx, 0
		cmp	dx, word_44D6C
		jl	short loc_E8F
		jg	short loc_EE1
		cmp	ax, Time
		jnb	short loc_EE1

loc_E8F:				; CODE XREF: LoadClientPatch+2CFj
		les	di, [bp+var_6]
		assume es:nothing
		mov	byte ptr es:[di], 0
		xor	ax, ax
		mov	es:[di+28h], ax
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset asc_B88 ; "\""
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	di, n__0, 58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aDisconnected ; "\" DISCONNECTED"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		imul	di, n__0, 58h
		mov	byte ptr [di-0FB0h], 0
		cmp	NETMonitor, 0
		jz	short loc_EE1
		call	ClearUnusedScreens

loc_EE1:				; CODE XREF: LoadClientPatch+2BBj
					; LoadClientPatch+2D1j	...
		cmp	n__0, 7
		jz	short loc_EEB
		jmp	loc_E58
; ---------------------------------------------------------------------------

loc_EEB:				; CODE XREF: LoadClientPatch+330j
		mov	word_3666A, 4
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		leave
		retn
LoadClientPatch	endp

; ---------------------------------------------------------------------------
aServerBrokeThe	db 22,'SERVER BROKE THE GAME.' ; DATA XREF: LoadServerPatch+14Eo
aServerChangedL	db 21,'SERVER CHANGED LEVEL.' ; DATA XREF: LoadServerPatch+18Eo
aServerDisconne	db 20,'SERVER DISCONNECTED.' ; DATA XREF: LoadServerPatch+7FDo
aServerLost_	db 12,'SERVER LOST.'    ; DATA XREF: LoadServerPatch:loc_1782o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadServerPatch	proc near		; CODE XREF: DoGame+1A1p DoGame+3A5p

var_118		= dword	ptr -118h
var_114		= dword	ptr -114h
var_110		= word ptr -110h
var_10E		= dword	ptr -10Eh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	118h, 0
		cmp	KALI, 0
		jz	short loc_F70
		mov	ax, takt
		and	ax, 1Fh
		cmp	ax, 1
		jnz	short loc_F70
		sub	RealTime, 1
		sbb	word_44D7C, 0

loc_F70:				; CODE XREF: LoadServerPatch+9j
					; LoadServerPatch+14j
		cli
		push	DsSeg
		push	DsOfs
		push	DLSeg
		push	0
		push	5F8h
		call	movsw
		les	di, PServerPatch
		mov	byte ptr es:[di+16h], 0F0h ; 'ð'
		sti
		les	di, PServerLocal
		mov	word ptr [bp+var_10E], di
		mov	word ptr [bp+var_10E+2], es
		cmp	byte ptr es:[di+16h], 0F0h ; 'ð'
		jnz	short loc_FA7
		jmp	loc_1684
; ---------------------------------------------------------------------------

loc_FA7:				; CODE XREF: LoadServerPatch+52j
		cmp	KALI, 0
		jz	short loc_FEF
		mov	ax, es:[di+0Eh]
		mov	dx, es:[di+10h]
		sub	ax, es:[di+0Ah]
		sbb	dx, es:[di+0Ch]
		add	ax, 2
		adc	dx, 0
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		cmp	[bp+var_2], 0
		jl	short loc_FD8
		jg	short loc_FED
		cmp	[bp+var_4], 0
		jnb	short loc_FED

loc_FD8:				; CODE XREF: LoadServerPatch+7Ej
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		add	RealTime, ax
		adc	word_44D7C, dx

loc_FED:				; CODE XREF: LoadServerPatch+80j
					; LoadServerPatch+86j
		jmp	short loc_103E
; ---------------------------------------------------------------------------

loc_FEF:				; CODE XREF: LoadServerPatch+5Cj
		mov	ax, RealTime
		mov	dx, word_44D7C
		les	di, [bp+var_10E]
		sub	ax, es:[di+0Eh]
		sbb	dx, es:[di+10h]
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		mov	ax, takt
		and	ax, 0Fh
		cmp	ax, 1
		jnz	short loc_103E
		cli
		les	di, [bp+var_10E]
		mov	ax, es:[di+0Ah]
		mov	dx, es:[di+0Ch]
		add	ax, [bp+var_4]
		adc	dx, [bp+var_2]
		mov	RealTime, ax
		mov	word_44D7C, dx
		mov	ax, es:[di+0Ah]
		mov	dx, es:[di+0Ch]
		mov	es:[di+0Eh], ax
		mov	es:[di+10h], dx
		sti

loc_103E:				; CODE XREF: LoadServerPatch:loc_FEDj
					; LoadServerPatch+C1j
		cmp	KALI, 0
		jz	short loc_105A
		les	di, [bp+var_10E]
		mov	ax, es:[di+0Ah]
		mov	dx, es:[di+0Ch]
		mov	LastServerTime,	ax
		mov	word_366B2, dx
		jmp	short loc_106E
; ---------------------------------------------------------------------------

loc_105A:				; CODE XREF: LoadServerPatch+F3j
		mov	ax, RealTime
		mov	dx, word_44D7C
		sub	ax, [bp+var_4]
		sbb	dx, [bp+var_2]
		mov	LastServerTime,	ax
		mov	word_366B2, dx

loc_106E:				; CODE XREF: LoadServerPatch+108j
		les	di, [bp+var_10E]
		cmp	byte ptr es:[di+16h], 1
		mov	al, 0
		jnz	short loc_107C
		inc	ax

loc_107C:				; CODE XREF: LoadServerPatch+129j
		mov	Paused,	al
		mov	al, es:[di+17h]
		xor	ah, ah
		mov	Skill, ax
		cmp	byte ptr es:[di+16h], 20h ; ' '
		jnz	short loc_10C4
		push	3E8h
		push	0Ah
		call	Beep
		call	NoSound
		mov	di, offset aServerBrokeThe ; "SERVER BROKE THE GAME."
		push	cs
		push	di
		call	PutConsMessage2
		mov	CLIENT,	0
		xor	ax, ax
		mov	MyNetN,	ax
		mov	MenuCode, 4
		les	di, [bp+var_10E]
		mov	byte ptr es:[di+16h], 0F0h ; 'ð'
		jmp	locret_1797
; ---------------------------------------------------------------------------

loc_10C4:				; CODE XREF: LoadServerPatch+13Dj
		les	di, [bp+var_10E]
		cmp	byte ptr es:[di+16h], 10h
		jnz	short loc_1101
		push	3E8h
		push	0Ah
		call	Beep
		call	NoSound
		mov	di, offset aServerChangedL ; "SERVER CHANGED LEVEL."
		push	cs
		push	di
		call	PutConsMessage2
		les	di, [bp+var_10E]
		mov	ax, es:[di+12h]
		mov	LevelN,	ax
		mov	MenuCode, 4
		mov	byte ptr es:[di+16h], 0F0h ; 'ð'
		jmp	locret_1797
; ---------------------------------------------------------------------------

loc_1101:				; CODE XREF: LoadServerPatch+17Dj
		les	di, [bp+var_10E]
		mov	byte ptr es:[di+16h], 0F0h ; 'ð'
		mov	[bp+var_6], 38h	; '8'
		xor	ax, ax
		mov	word ptr iMyPlayer, ax
		mov	word ptr iMyPlayer+2, ax
		xor	ax, ax
		mov	[bp+var_8], ax
		jmp	short loc_1121
; ---------------------------------------------------------------------------

loc_111E:				; CODE XREF: LoadServerPatch+4AEj
		inc	[bp+var_8]

loc_1121:				; CODE XREF: LoadServerPatch+1CCj
		mov	ax, 1
		mov	cx, [bp+var_8]
		shl	ax, cl
		les	di, [bp+var_10E]
		and	ax, es:[di+8]
		or	ax, ax
		jnz	short loc_1141
		imul	di, [bp+var_8],	58h
		mov	byte ptr [di-0FD6h], 0
		jmp	loc_13F8
; ---------------------------------------------------------------------------

loc_1141:				; CODE XREF: LoadServerPatch+1E3j
		mov	ax, [bp+var_6]
		les	di, [bp+var_10E]
		add	di, ax
		mov	ax, di
		mov	dx, es
		mov	word ptr iPlayer, ax
		mov	word ptr iPlayer+2, dx
		imul	di, [bp+var_8],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_114+2], di
		mov	[bp+var_110], es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_118F
		les	di, iPlayer
		assume es:nothing
		cmp	word ptr es:[di+28h], 0
		jnz	short loc_118F
		push	0FFFFh
		les	di, [bp+var_114+2]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	0E8h ; 'è'
		call	AddVoice

loc_118F:				; CODE XREF: LoadServerPatch+21Cj
					; LoadServerPatch+227j
		mov	ax, MyNetN
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_8]
		xor	dx, dx
		cmp	dx, bx
		jz	short loc_11A3
		jmp	loc_13DD
; ---------------------------------------------------------------------------

loc_11A3:				; CODE XREF: LoadServerPatch+24Ej
		cmp	ax, cx
		jz	short loc_11AA
		jmp	loc_13DD
; ---------------------------------------------------------------------------

loc_11AA:				; CODE XREF: LoadServerPatch+255j
		mov	ax, word ptr iPlayer
		mov	dx, word ptr iPlayer+2
		mov	word ptr iMyPlayer, ax
		mov	word ptr iMyPlayer+2, dx
		imul	di, [bp+var_8],	58h
		cmp	word ptr [di-0FAEh], 0
		jnz	short loc_121F
		les	di, iPlayer
		cmp	word ptr es:[di+28h], 0
		jle	short loc_121F
		les	di, iPlayer
		mov	ax, es:[di+1Eh]
		mov	HFi, ax
		push	0
		call	CalcDir
		mov	LastGunNumber, 1
		xor	ax, ax
		mov	LookVz,	ax
		imul	di, [bp+var_8],	58h
		mov	word ptr [di-0F8Eh], 1
		xor	ax, ax
		mov	WeaponFTime, ax
		xor	ax, ax
		mov	WeaponPhase, ax
		mov	GunShift, 2Eh ;	'.'
		xor	ax, ax
		mov	ShakeLevel, ax
		call	ReInitViewConst
		les	di, iPlayer
		mov	al, es:[di+2Eh]
		imul	di, [bp+var_8],	58h
		mov	[di-0FA8h], al

loc_121F:				; CODE XREF: LoadServerPatch+271j
					; LoadServerPatch+27Cj
		les	di, iPlayer
		mov	al, es:[di+2Eh]
		imul	di, [bp+var_8],	58h
		cmp	al, [di-0FA8h]
		jz	short loc_1244
		les	di, iPlayer
		mov	al, es:[di+2Eh]
		xor	ah, ah
		inc	ax
		imul	di, [bp+var_8],	58h
		mov	[di-0FA8h], al

loc_1244:				; CODE XREF: LoadServerPatch+2DFj
		cmp	GunShift, 0
		jnz	short loc_1282
		imul	di, [bp+var_8],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_118+2], di
		mov	word ptr [bp+var_114], es
		mov	ax, es:[di+48h]
		add	di, ax
		mov	dl, es:[di+2Dh]
		les	di, [bp+var_118+2]
		assume es:nothing
		mov	ax, es:[di+48h]
		les	di, iPlayer
		add	di, ax
		mov	al, es:[di+2Dh]
		cmp	al, dl
		jnb	short loc_1282
		mov	WeaponActive, 1

loc_1282:				; CODE XREF: LoadServerPatch+2F9j
					; LoadServerPatch+32Bj
		les	di, [bp+var_114+2]
		mov	ax, es:[di+1Ah]
		add	ax, 20h	; ' '
		les	di, iPlayer
		cmp	ax, es:[di+1Ah]
		jge	short loc_12AD
		les	di, iPlayer
		cmp	word ptr es:[di+1Ah], 20h ; ' '
		jle	short loc_12AD
		les	di, iPlayer
		mov	ax, es:[di+1Ah]
		mov	ShakeLevel, ax

loc_12AD:				; CODE XREF: LoadServerPatch+345j
					; LoadServerPatch+350j
		les	di, iPlayer
		mov	ax, es:[di+28h]
		imul	di, [bp+var_8],	58h
		cmp	ax, [di-0FAEh]
		jge	short loc_12CC
		les	di, iPlayer
		push	word ptr es:[di+28h]
		call	SetMePain

loc_12CC:				; CODE XREF: LoadServerPatch+36Dj
		les	di, iPlayer
		mov	al, es:[di+25h]
		imul	di, [bp+var_8],	58h
		cmp	al, [di-0FB1h]
		jnb	short loc_12EE
		les	di, iPlayer
		mov	al, es:[di+25h]
		imul	di, [bp+var_8],	58h
		mov	[di-0FB1h], al

loc_12EE:				; CODE XREF: LoadServerPatch+38Cj
		les	di, iPlayer
		mov	al, es:[di+25h]
		imul	di, [bp+var_8],	58h
		xor	al, [di-0FB1h]
		xor	ah, ah
		mov	w, ax
		les	di, iPlayer
		mov	al, es:[di+25h]
		imul	di, [bp+var_8],	58h
		mov	[di-0FB1h], al
		cmp	w, 0
		jbe	short loc_1361
		xor	ax, ax
		mov	[bp+var_A], ax
		jmp	short loc_1324
; ---------------------------------------------------------------------------

loc_1321:				; CODE XREF: LoadServerPatch+40Fj
		inc	[bp+var_A]

loc_1324:				; CODE XREF: LoadServerPatch+3CFj
		mov	ax, 1
		mov	cx, [bp+var_A]
		shl	ax, cl
		and	ax, w
		or	ax, ax
		jbe	short loc_135B
		mov	ax, [bp+var_A]
		inc	ax
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		imul	di, [bp+var_8],	58h
		mov	ax, [di-0F8Eh]
		cwd
		cmp	dx, bx
		jl	short loc_1351
		jg	short loc_135B
		cmp	ax, cx
		jnb	short loc_135B

loc_1351:				; CODE XREF: LoadServerPatch+3F9j
		mov	ax, [bp+var_A]
		inc	ax
		push	ax
		call	SetWeapon

loc_135B:				; CODE XREF: LoadServerPatch+3E2j
					; LoadServerPatch+3FBj	...
		cmp	[bp+var_A], 7
		jnz	short loc_1321

loc_1361:				; CODE XREF: LoadServerPatch+3C8j
		les	di, iPlayer
		mov	ax, es:[di+2Ah]
		imul	di, [bp+var_8],	58h
		cmp	ax, [di-0FACh]
		jnb	short loc_1383
		les	di, iPlayer
		mov	ax, es:[di+2Ah]
		imul	di, [bp+var_8],	58h
		mov	[di-0FACh], ax

loc_1383:				; CODE XREF: LoadServerPatch+421j
		les	di, iPlayer
		mov	ax, es:[di+2Ah]
		imul	di, [bp+var_8],	58h
		xor	ax, [di-0FACh]
		mov	w, ax
		imul	di, [bp+var_8],	58h
		mov	ax, [di-0F8Eh]
		inc	ax
		cmp	ax, 6
		ja	short loc_13DD
		mov	w, ax
		jmp	short loc_13AD
; ---------------------------------------------------------------------------

loc_13A9:				; CODE XREF: LoadServerPatch+48Bj
		inc	w

loc_13AD:				; CODE XREF: LoadServerPatch+457j
		mov	ax, w
		imul	di, [bp+var_8],	58h
		add	di, ax
		cmp	byte ptr [di-0FA9h], 0
		jnz	short loc_13D6
		mov	ax, w
		les	di, iPlayer
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		jbe	short loc_13D6
		push	w
		call	SetWeapon

loc_13D6:				; CODE XREF: LoadServerPatch+46Bj
					; LoadServerPatch+47Bj
		cmp	w, 6
		jnz	short loc_13A9

loc_13DD:				; CODE XREF: LoadServerPatch+250j
					; LoadServerPatch+257j	...
		les	di, iPlayer
		push	es
		push	di
		imul	di, [bp+var_8],	58h
		add	di, 0F02Ah
		push	ds
		push	di
		push	38h ; '8'
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		add	[bp+var_6], 38h	; '8'

loc_13F8:				; CODE XREF: LoadServerPatch+1EEj
		cmp	[bp+var_8], 7
		jz	short loc_1401
		jmp	loc_111E
; ---------------------------------------------------------------------------

loc_1401:				; CODE XREF: LoadServerPatch+4ACj
		mov	ax, Time
		mov	dx, word_44D6C
		mov	word_452CE, ax
		mov	word_452D0, dx
		mov	di, offset SelfNick
		push	ds
		push	di
		imul	di, MyNetN, 58h
		add	di, 0F02Bh
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	MakeChanges
		call	CorrectProcesses
		les	di, [bp+var_10E]
		add	di, 20h	; ' '
		push	es
		push	di
		mov	di, offset LevelChanges
		push	ds
		push	di
		push	10h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_10E]
		mov	ax, es:[di+18h]
		mov	RCount,	ax
		mov	ax, es:[di+1Ah]
		mov	MCount,	ax
		mov	ax, es:[di+1Eh]
		mov	MnCount, ax
		mov	ax, es:[di+6]
		mov	DpOfs, ax
		mov	ax, es:[di+14h]
		cwd
		mov	cx, ax
		mov	bx, dx
		imul	ax, es:[di+1Ch], 0Ah
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		add	DpOfs, ax
		mov	ax, RCount
		mov	[bp+var_110], ax
		mov	ax, 1
		cmp	ax, [bp+var_110]
		jbe	short loc_148D
		jmp	loc_155F
; ---------------------------------------------------------------------------

loc_148D:				; CODE XREF: LoadServerPatch+538j
		mov	[bp+var_8], ax
		jmp	short loc_1495
; ---------------------------------------------------------------------------

loc_1492:				; CODE XREF: LoadServerPatch+60Cj
		inc	[bp+var_8]

loc_1495:				; CODE XREF: LoadServerPatch+540j
		imul	di, [bp+var_8],	18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_114], di
		mov	word ptr [bp+var_114+2], es
		mov	ax, DLSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 0
		mov	di, ax
		pop	es
		assume es:nothing
		mov	ax, es:[di]
		les	di, [bp+var_114]
		mov	es:[di+2], ax
		mov	ax, DLSeg
		push	ax
		mov	ax, DpOfs
		inc	ax
		inc	ax
		mov	di, ax
		pop	es
		mov	ax, es:[di]
		les	di, [bp+var_114]
		mov	es:[di+6], ax
		mov	ax, DLSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 4
		mov	di, ax
		pop	es
		mov	ax, es:[di]
		les	di, [bp+var_114]
		mov	es:[di+8], ax
		mov	ax, DLSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 6
		mov	di, ax
		pop	es
		mov	ax, es:[di]
		les	di, [bp+var_114]
		mov	es:[di+0Ah], ax
		mov	ax, DLSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 8
		mov	di, ax
		pop	es
		mov	al, es:[di]
		les	di, [bp+var_114]
		mov	es:[di+0Ch], al
		mov	ax, DLSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 9
		mov	di, ax
		pop	es
		mov	al, es:[di]
		les	di, [bp+var_114]
		mov	es:[di+0Dh], al
		mov	ax, DLSeg
		push	ax
		mov	ax, DpOfs
		add	ax, 0Ah
		mov	di, ax
		pop	es
		mov	ax, es:[di]
		les	di, [bp+var_114]
		mov	es:[di+12h], ax
		add	DpOfs, 0Ch
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_110]
		jz	short loc_155F
		jmp	loc_1492
; ---------------------------------------------------------------------------

loc_155F:				; CODE XREF: LoadServerPatch+53Aj
					; LoadServerPatch+60Aj
		mov	ax, MnCount
		mov	[bp+var_110], ax
		mov	ax, 1
		cmp	ax, [bp+var_110]
		jbe	short loc_1572
		jmp	loc_15F2
; ---------------------------------------------------------------------------

loc_1572:				; CODE XREF: LoadServerPatch+61Dj
		mov	[bp+var_8], ax
		jmp	short loc_157A
; ---------------------------------------------------------------------------

loc_1577:				; CODE XREF: LoadServerPatch+6A0j
		inc	[bp+var_8]

loc_157A:				; CODE XREF: LoadServerPatch+625j
		imul	di, [bp+var_8],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, DLSeg
		push	ax
		mov	di, DpOfs
		pop	es
		assume es:nothing
		push	es
		push	di
		imul	di, [bp+var_8],	0Ah
		add	di, 0BC0Ch
		push	ds
		push	di
		push	6
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		imul	di, [bp+var_8],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_118], di
		mov	word ptr [bp+var_118+2], es
		mov	ax, es:[di+2]
		shr	ax, 6
		mov	dx, ax
		mov	ax, es:[di]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		assume es:nothing
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_118]
		mov	es:[di+6], ax
		mov	ax, es:[di+6]
		shl	ax, 5
		mov	es:[di+6], ax
		add	DpOfs, 6
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_110]
		jnz	short loc_1577

loc_15F2:				; CODE XREF: LoadServerPatch+61Fj
		mov	ax, MCount
		mov	[bp+var_110], ax
		mov	ax, 1
		cmp	ax, [bp+var_110]
		jbe	short loc_1605
		jmp	loc_1684
; ---------------------------------------------------------------------------

loc_1605:				; CODE XREF: LoadServerPatch+6B0j
		mov	[bp+var_8], ax
		jmp	short loc_160D
; ---------------------------------------------------------------------------

loc_160A:				; CODE XREF: LoadServerPatch+732j
		inc	[bp+var_8]

loc_160D:				; CODE XREF: LoadServerPatch+6B8j
		mov	ax, DLSeg
		push	ax
		mov	di, DpOfs
		pop	es
		push	es
		push	di
		imul	di, [bp+var_8],	28h
		add	di, 0A51Eh
		push	ds
		push	di
		push	0Ch
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		imul	di, [bp+var_8],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_114], di
		mov	word ptr [bp+var_114+2], es
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jnb	short loc_1659
		mov	al, es:[di+0Ah]
		xor	ah, ah
		mov	es:[di+14h], ax
		mov	byte ptr es:[di+0Ah], 64h ; 'd'
		xor	ax, ax
		mov	es:[di+12h], ax
		jmp	short loc_1676
; ---------------------------------------------------------------------------

loc_1659:				; CODE XREF: LoadServerPatch+6F0j
		les	di, [bp+var_114]
		assume es:nothing
		cmp	word ptr es:[di+8], 10h
		jl	short loc_166C
		xor	ax, ax
		mov	es:[di+12h], ax
		jmp	short loc_1676
; ---------------------------------------------------------------------------

loc_166C:				; CODE XREF: LoadServerPatch+712j
		les	di, [bp+var_114]
		mov	word ptr es:[di+12h], 1

loc_1676:				; CODE XREF: LoadServerPatch+707j
					; LoadServerPatch+71Aj
		add	DpOfs, 0Ch
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_110]
		jnz	short loc_160A

loc_1684:				; CODE XREF: LoadServerPatch+54j
					; LoadServerPatch+6B2j
		call	ReInstallFreeECB
		xor	ax, ax
		mov	[bp+var_8], ax
		jmp	short loc_1691
; ---------------------------------------------------------------------------

loc_168E:				; CODE XREF: LoadServerPatch+787j
		inc	[bp+var_8]

loc_1691:				; CODE XREF: LoadServerPatch+73Cj
		imul	ax, [bp+var_8],	0Ah
		les	di, PInfoStruct
		add	di, ax
		add	di, 0Ah
		mov	word ptr [bp+var_10E], di
		mov	word ptr [bp+var_10E+2], es
		cmp	byte ptr es:[di], 0
		jz	short loc_16D3
		mov	al, es:[di]
		push	ax
		mov	al, es:[di+1]
		push	ax
		push	word ptr es:[di+2]
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		call	ExecuteEvent
		les	di, [bp+var_10E]
		mov	byte ptr es:[di], 0

loc_16D3:				; CODE XREF: LoadServerPatch+75Bj
		cmp	[bp+var_8], 1Fh
		jnz	short loc_168E
		les	di, PInfoStruct
		mov	word ptr [bp+var_10E], di
		mov	word ptr [bp+var_10E+2], es
		cmp	byte ptr es:[di+156h], 0
		jz	short loc_1702
		add	di, 156h
		push	es
		push	di
		call	PutConsMessage2
		les	di, [bp+var_10E]
		mov	byte ptr es:[di+156h], 0

loc_1702:				; CODE XREF: LoadServerPatch+79Bj
		mov	c, 0
		mov	ax, word ptr iMyPlayer
		or	ax, word ptr iMyPlayer+2
		jnz	short loc_1717
		mov	c, 1
		jmp	short loc_1746
; ---------------------------------------------------------------------------

loc_1717:				; CODE XREF: LoadServerPatch+7BEj
		les	di, iMyPlayer
		mov	word ptr [bp+var_10E], di
		mov	word ptr [bp+var_10E+2], es
		les	di, PInfoStruct
		mov	word ptr [bp+var_114+2], di
		mov	[bp+var_110], es
		les	di, [bp+var_10E]
		mov	ax, es:[di+2Ch]
		les	di, [bp+var_114+2]
		cmp	ax, es:[di+8]
		jz	short loc_1746
		mov	c, 1

loc_1746:				; CODE XREF: LoadServerPatch+7C5j
					; LoadServerPatch+7EFj
		cmp	c, 1
		jnz	short loc_1767
		mov	di, offset aServerDisconne ; "SERVER DISCONNECTED."
		push	cs
		push	di
		call	PutConsMessage2
		mov	CLIENT,	0
		xor	ax, ax
		mov	MyNetN,	ax
		mov	MenuCode, 4

loc_1767:				; CODE XREF: LoadServerPatch+7FBj
		mov	ax, word_452CE
		mov	dx, word_452D0
		add	ax, 17Ch
		adc	dx, 0
		cmp	dx, word_44D6C
		jl	short loc_1782
		jg	short locret_1797
		cmp	ax, Time
		jnb	short locret_1797

loc_1782:				; CODE XREF: LoadServerPatch+828j
		mov	di, offset aServerLost_	; "SERVER LOST."
		push	cs
		push	di
		call	PutConsMessage2
		mov	CLIENT,	0
		mov	MenuCode, 4

locret_1797:				; CODE XREF: LoadServerPatch+171j
					; LoadServerPatch+1AEj	...
		leave
		retn
LoadServerPatch	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SendClientPatch	proc near		; CODE XREF: DoGame+391p

var_4		= dword	ptr -4

		enter	4, 0
		mov	ax, RealTime
		mov	dx, word_44D7C
		cmp	dx, word_366AA
		jl	short loc_17B2
		jg	short loc_17B5
		cmp	ax, NextSendTime
		jnb	short loc_17B5

loc_17B2:				; CODE XREF: SendClientPatch+Fj
		jmp	locret_1893
; ---------------------------------------------------------------------------

loc_17B5:				; CODE XREF: SendClientPatch+11j
					; SendClientPatch+17j
		mov	ax, RealTime
		mov	dx, word_44D7C
		add	ax, NetPeriod
		adc	dx, word_366AE
		mov	NextSendTime, ax
		mov	word_366AA, dx
		call	CheckSendComplette
		les	di, PInfoStruct
		cmp	byte ptr es:[di+14Ah], 0
		jnz	short loc_17DD
		jmp	locret_1893
; ---------------------------------------------------------------------------

loc_17DD:				; CODE XREF: SendClientPatch+3Fj
		les	di, PClientPatches
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, HksFlags
		mov	es:[di+10h], ax
		les	di, PInfoStruct
		mov	ax, es:[di+8]
		les	di, [bp+var_4]
		mov	es:[di+1], ax
		mov	di, offset SelfNick
		push	ds
		push	di
		les	di, [bp+var_4]
		add	di, 5
		push	es
		push	di
		push	0Ah
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, SelfColor
		xor	ah, ah
		les	di, [bp+var_4]
		mov	es:[di+14h], ax
		mov	ax, HFi
		mov	es:[di+12h], ax
		mov	ax, MyNetN
		mov	es:[di+3], ax
		mov	ax, LookVz
		mov	es:[di+16h], ax
		mov	ax, HRv
		mov	es:[di+18h], ax
		imul	di, MyNetN, 58h
		mov	ax, [di-0F8Eh]
		les	di, [bp+var_4]
		mov	es:[di+1Ah], ax
		imul	di, MyNetN, 58h
		cmp	word ptr [di-0FAEh], 0
		jnz	short loc_185F
		les	di, [bp+var_4]
		add	word ptr es:[di+10h], 8000h

loc_185F:				; CODE XREF: SendClientPatch+BBj
		imul	di, MyNetN, 58h
		mov	ax, [di-0F96h]
		les	di, [bp+var_4]
		mov	es:[di+1Ch], ax
		imul	di, MyNetN, 58h
		mov	ax, [di-0F94h]
		les	di, [bp+var_4]
		mov	es:[di+1Eh], ax
		mov	word_3666A, 3
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h

locret_1893:				; CODE XREF: SendClientPatch:loc_17B2j
					; SendClientPatch+41j
		leave
		retn
SendClientPatch	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckIDsConflict proc near		; CODE XREF: LookForServer+C8p

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1

		enter	0Eh, 0
		mov	[bp+var_1], 0
		les	di, PServerPatch
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	[bp+var_6], 38h	; '8'
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_18B6
; ---------------------------------------------------------------------------

loc_18B3:				; CODE XREF: CheckIDsConflict+78j
		inc	[bp+var_4]

loc_18B6:				; CODE XREF: CheckIDsConflict+1Cj
		mov	ax, 1
		mov	cx, [bp+var_4]
		shl	ax, cl
		cwd
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_A]
		mov	ax, es:[di+8]
		xor	dx, dx
		and	ax, cx
		and	dx, bx
		cmp	dx, 0
		jg	short loc_18DC
		jl	short loc_1909
		cmp	ax, 0
		jbe	short loc_1909

loc_18DC:				; CODE XREF: CheckIDsConflict+3Ej
		mov	ax, [bp+var_6]
		les	di, [bp+var_A]
		add	di, ax
		mov	ax, di
		mov	dx, es
		mov	word ptr iPlayer, ax
		mov	word ptr iPlayer+2, dx
		add	[bp+var_6], 38h	; '8'
		les	di, iPlayer
		mov	ax, es:[di+2Ch]
		les	di, PInfoStruct
		cmp	ax, es:[di+8]
		jnz	short loc_1909
		mov	[bp+var_1], 1

loc_1909:				; CODE XREF: CheckIDsConflict+40j
					; CheckIDsConflict+45j	...
		cmp	[bp+var_4], 7
		jnz	short loc_18B3
		mov	al, [bp+var_1]
		leave
		retn
CheckIDsConflict endp

; ---------------------------------------------------------------------------
aNoServerFound_	db 16,'NO SERVER FOUND.' ; DATA XREF: LookForServer+4Fo
aIncorrectServe	db 25,'Incorrect SERVER version.' ; DATA XREF: LookForServer+69o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LookForServer	proc near		; CODE XREF: MenuJoinNet+32p
		enter	4, 0
		call	INIT_IPX_CLIENT
		les	di, PServerPatch
		mov	word ptr es:[di+12h], 0FFFFh
		xor	ax, ax
		mov	CurTime, ax

loc_1955:				; CODE XREF: LookForServer+45j
		push	64h ; 'd'
		call	Delay
		mov	word_3666A, 9
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		call	ReInstallFreeECB
		les	di, PServerPatch
		cmp	word ptr es:[di+12h], 0
		jge	short loc_1986
		cmp	CurTime, 8Ch ; 'Œ'
		jbe	short loc_1955

loc_1986:				; CODE XREF: LookForServer+3Dj
		cmp	CurTime, 8Ch ; 'Œ'
		jbe	short loc_199A
		mov	di, offset aNoServerFound_ ; "NO SERVER	FOUND."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	short loc_1A0E
; ---------------------------------------------------------------------------

loc_199A:				; CODE XREF: LookForServer+4Dj
		les	di, PServerPatch
		mov	ax, es:[di+4]
		cmp	ax, ServerVersion
		jz	short loc_19B4
		mov	di, offset aIncorrectServe ; "Incorrect	SERVER version."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	short loc_1A0E
; ---------------------------------------------------------------------------

loc_19B4:				; CODE XREF: LookForServer+67j
		mov	MenuCode, 4
		mov	CLIENT,	1
		mov	SERVER,	0
		mov	PlayDemo, 0
		les	di, PServerPatch
		mov	ax, es:[di+12h]
		mov	LevelN,	ax
		les	di, PServerPatch
		mov	al, es:[di+17h]
		xor	ah, ah
		mov	Skill, ax
		mov	di, offset SelfNick
		push	ds
		push	di
		mov	di, offset unk_4527B
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_19F2:				; CODE XREF: LookForServer+CDj
		call	@Randomize$qv	; Randomize
		push	0FFFEh
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		inc	ax
		les	di, PInfoStruct
		mov	es:[di+8], ax
		call	CheckIDsConflict
		or	al, al
		jnz	short loc_19F2

loc_1A0E:				; CODE XREF: LookForServer+59j
					; LookForServer+73j
		xor	ax, ax
		mov	CurTime, ax
		call	CloseIPXChannel
		leave
		retn
LookForServer	endp

; ---------------------------------------------------------------------------
aNoServerFoun_0	db 16,'NO SERVER FOUND.' ; DATA XREF: ScanNet+52o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScanNet		proc near		; CODE XREF: DoGame+15Fp
		enter	4, 0
		les	di, PServerPatch
		mov	word ptr es:[di+12h], 0FFFFh
		xor	ax, ax
		mov	CurTime, ax

loc_1A3C:				; CODE XREF: ScanNet+42j
		push	64h ; 'd'
		call	Delay
		mov	word_3666A, 9
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		call	ReInstallFreeECB
		les	di, PServerPatch
		cmp	word ptr es:[di+12h], 0
		jge	short loc_1A6D
		cmp	CurTime, 230h
		jbe	short loc_1A3C

loc_1A6D:				; CODE XREF: ScanNet+3Aj
		cmp	CurTime, 230h
		jbe	short loc_1A87
		mov	MenuCode, 2
		mov	di, offset aNoServerFoun_0 ; "NO SERVER	FOUND."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	short locret_1ACC
; ---------------------------------------------------------------------------

loc_1A87:				; CODE XREF: ScanNet+4Aj
		les	di, PServerPatch
		mov	ax, es:[di+0Ah]
		mov	dx, es:[di+0Ch]
		add	ax, 1
		adc	dx, 0
		mov	RealTime, ax
		mov	word_44D7C, dx
		les	di, PServerPatch
		mov	ax, es:[di+12h]
		cmp	ax, LevelN
		jz	short locret_1ACC
		mov	MenuCode, 1
		les	di, PServerPatch
		mov	ax, es:[di+12h]
		mov	LevelN,	ax
		les	di, PServerPatch
		mov	al, es:[di+17h]
		xor	ah, ah
		mov	Skill, ax

locret_1ACC:				; CODE XREF: ScanNet+5Cj ScanNet+83j
		leave
		retn
ScanNet		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

JoinServer	proc near		; CODE XREF: JoinNetworkGame+5p
					; JoinNetworkGame+Dp ...

var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_1		= byte ptr -1
arg_0		= word ptr  4

		enter	0Ah, 0
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1ADD
; ---------------------------------------------------------------------------

loc_1AD9:				; CODE XREF: JoinServer+24j
		inc	n__0

loc_1ADD:				; CODE XREF: JoinServer+9j
		imul	ax, n__0, 0Ah
		les	di, PInfoStruct
		add	di, ax
		mov	byte ptr es:[di+0Ah], 0
		cmp	n__0, 1Fh
		jnz	short loc_1AD9
		les	di, PClientPatches
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		xor	ax, ax
		mov	es:[di+10h], ax
		mov	di, offset SelfNick
		push	ds
		push	di
		les	di, [bp+var_6]
		add	di, 5
		push	es
		push	di
		push	0Ah
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_6]
		mov	word ptr es:[di+3], 0FFFFh
		mov	word ptr es:[di+1Ah], 1
		les	di, PInfoStruct
		mov	ax, es:[di+8]
		les	di, [bp+var_6]
		mov	es:[di+1], ax
		mov	word_3666A, 3
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		xor	ax, ax
		mov	CurTime, ax
		mov	MyNetN,	0FFFFh
		les	di, PServerPatch
		mov	word ptr es:[di+12h], 0FFFFh

loc_1B60:				; CODE XREF: JoinServer+184j
		les	di, PServerPatch
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	word ptr es:[di+12h], 0FFFFh
		jnz	short loc_1B74
		jmp	loc_1C25
; ---------------------------------------------------------------------------

loc_1B74:				; CODE XREF: JoinServer+A1j
		mov	al, es:[di+17h]
		xor	ah, ah
		mov	Skill, ax
		mov	di, [bp+arg_0]
		mov	word ptr ss:[di+var_6+2], 38h ;	'8'
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1B91
; ---------------------------------------------------------------------------

loc_1B8D:				; CODE XREF: JoinServer+14Aj
		inc	n__0

loc_1B91:				; CODE XREF: JoinServer+BDj
		mov	ax, 1
		mov	cx, n__0
		shl	ax, cl
		cwd
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_6]
		mov	ax, es:[di+8]
		xor	dx, dx
		and	ax, cx
		and	dx, bx
		cmp	dx, 0
		jg	short loc_1BB8
		jl	short loc_1C11
		cmp	ax, 0
		jbe	short loc_1C11

loc_1BB8:				; CODE XREF: JoinServer+E1j
		mov	di, [bp+arg_0]
		mov	ax, word ptr ss:[di+var_6+2]
		les	di, [bp+var_6]
		add	di, ax
		mov	ax, di
		mov	dx, es
		mov	word ptr iPlayer, ax
		mov	word ptr iPlayer+2, dx
		mov	di, [bp+arg_0]
		add	word ptr ss:[di+var_6+2], 38h ;	'8'
		les	di, iPlayer
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	ax, es:[di+2Ch]
		les	di, PInfoStruct
		cmp	ax, es:[di+8]
		jnz	short loc_1C11
		mov	ax, n__0
		mov	MyNetN,	ax
		les	di, [bp+var_6]
		mov	ax, es:[di+0Ah]
		mov	dx, es:[di+0Ch]
		mov	RealTime, ax
		mov	word_44D7C, dx
		les	di, [bp+var_A]
		mov	ax, es:[di+1Eh]
		mov	HFi, ax

loc_1C11:				; CODE XREF: JoinServer+E3j
					; JoinServer+E8j ...
		cmp	n__0, 7
		jz	short loc_1C1B
		jmp	loc_1B8D
; ---------------------------------------------------------------------------

loc_1C1B:				; CODE XREF: JoinServer+148j
		les	di, PServerPatch
		mov	word ptr es:[di+12h], 0FFFFh

loc_1C25:				; CODE XREF: JoinServer+A3j
		call	ReInstallFreeECB
		push	28h ; '('
		call	Delay
		mov	word_3666A, 9
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		cmp	MyNetN,	0
		jg	short loc_1C55
		cmp	CurTime, 168h
		ja	short loc_1C55
		jmp	loc_1B60
; ---------------------------------------------------------------------------

loc_1C55:				; CODE XREF: JoinServer+17Aj
					; JoinServer+182j
		cmp	MyNetN,	0
		mov	al, 0
		jle	short loc_1C5F
		inc	ax

loc_1C5F:				; CODE XREF: JoinServer+18Ej
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retn	2
JoinServer	endp

; ---------------------------------------------------------------------------
aServerNotRespo	db 21,'SERVER NOT RESPONDING' ; DATA XREF: JoinNetworkGame+27o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

JoinNetworkGame	proc near		; CODE XREF: DoGame:loc_C3F7p
		enter	4, 0
		push	bp
		call	JoinServer
		or	al, al
		jnz	short loc_1CB2
		push	bp
		call	JoinServer
		or	al, al
		jnz	short loc_1CB2
		push	bp
		call	JoinServer
		or	al, al
		jnz	short loc_1CB2
		xor	ax, ax
		mov	MyNetN,	ax
		mov	MenuCode, 4
		mov	di, offset aServerNotRespo ; "SERVER NOT RESPONDING"
		push	cs
		push	di
		call	PutConsMessage2
		jmp	short locret_1CF0
; ---------------------------------------------------------------------------

loc_1CB2:				; CODE XREF: JoinNetworkGame+Aj
					; JoinNetworkGame+12j ...
		imul	di, MyNetN, 58h
		mov	word ptr [di-0F8Eh], 1
		mov	di, offset SelfNick
		push	ds
		push	di
		imul	di, MyNetN, 58h
		add	di, 0F02Bh
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	DoneChanges
		call	DoneProcesses
		les	di, PServerPatch
		add	di, 20h	; ' '
		push	es
		push	di
		mov	di, offset LevelChanges
		push	ds
		push	di
		push	10h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)

locret_1CF0:				; CODE XREF: JoinNetworkGame+31j
		leave
		retn
JoinNetworkGame	endp

; ---------------------------------------------------------------------------
aErrorSendingPo	db 19,'ERROR SENDING POST.' ; DATA XREF: SendServerPost+40o
					; SendServerPost+179o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SendServerPost	proc near		; CODE XREF: NewGame+Bp
					; MenuStartNet+57p ...

var_4		= dword	ptr -4
arg_0		= byte ptr  4

		enter	4, 0
		cmp	SERVER,	0
		jnz	short loc_1D14
		jmp	locret_1E8B
; ---------------------------------------------------------------------------

loc_1D14:				; CODE XREF: SendServerPost+9j
		xor	ax, ax
		mov	CurTime, ax

loc_1D19:				; CODE XREF: SendServerPost+31j
		cmp	CurTime, 118h
		jnb	short loc_1D39
		les	di, PInfoStruct
		cmp	byte ptr es:[di+14Ah], 0
		jnz	short loc_1D39
		call	CheckSendComplette
		push	2
		call	Delay
		jmp	short loc_1D19
; ---------------------------------------------------------------------------

loc_1D39:				; CODE XREF: SendServerPost+19j
					; SendServerPost+25j
		cmp	CurTime, 118h
		jb	short loc_1D53
		mov	SERVER,	0
		mov	di, offset aErrorSendingPo ; "ERROR SENDING POST."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	locret_1E8B
; ---------------------------------------------------------------------------

loc_1D53:				; CODE XREF: SendServerPost+39j
		les	di, PServerPatch
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, LevelN
		mov	es:[di+12h], ax
		mov	al, [bp+arg_0]
		mov	es:[di+16h], al
		mov	al, byte ptr Skill
		mov	es:[di+17h], al
		mov	ax, ServerVersion
		mov	es:[di+4], ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	es:[di+0Ah], ax
		mov	es:[di+0Ch], dx
		xor	ax, ax
		mov	es:[di+18h], ax
		xor	ax, ax
		mov	es:[di+1Ah], ax
		xor	ax, ax
		mov	es:[di+1Ch], ax
		xor	ax, ax
		mov	es:[di+1Eh], ax
		xor	ax, ax
		mov	es:[di+14h], ax
		mov	di, offset LevelChanges
		push	ds
		push	di
		les	di, [bp+var_4]
		add	di, 20h	; ' '
		push	es
		push	di
		push	10h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	di, offset ProcState
		push	ds
		push	di
		les	di, [bp+var_4]
		add	di, 30h	; '0'
		push	es
		push	di
		push	8
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_4]
		xor	ax, ax
		mov	es:[di+8], ax
		mov	word ptr es:[di+6], 38h	; '8'
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1DEA
; ---------------------------------------------------------------------------

loc_1DE6:				; CODE XREF: SendServerPost+12Aj
		inc	n__0

loc_1DEA:				; CODE XREF: SendServerPost+DEj
		imul	di, n__0, 58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_1E2B
		mov	ax, 1
		mov	cx, n__0
		shl	ax, cl
		les	di, [bp+var_4]
		add	es:[di+8], ax
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		push	di
		les	di, [bp+var_4]
		mov	ax, es:[di+6]
		add	di, ax
		push	es
		push	di
		push	38h ; '8'
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_4]
		add	word ptr es:[di+6], 38h	; '8'

loc_1E2B:				; CODE XREF: SendServerPost+EEj
		cmp	n__0, 7
		jnz	short loc_1DE6
		les	di, [bp+var_4]
		mov	ax, es:[di+6]
		mov	DpOfs, ax
		mov	ax, es:[di+6]
		mov	es:[di], ax
		mov	word_3666A, 1
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		xor	ax, ax
		mov	CurTime, ax

loc_1E5C:				; CODE XREF: SendServerPost+16Aj
		cmp	CurTime, 118h
		jnb	short loc_1E72
		les	di, PInfoStruct
		cmp	byte ptr es:[di+14Ah], 0
		jnz	short loc_1E72
		jmp	short loc_1E5C
; ---------------------------------------------------------------------------

loc_1E72:				; CODE XREF: SendServerPost+15Cj
					; SendServerPost+168j
		cmp	CurTime, 118h
		jb	short locret_1E8B
		mov	SERVER,	0
		mov	di, offset aErrorSendingPo ; "ERROR SENDING POST."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	short $+2

locret_1E8B:				; CODE XREF: SendServerPost+Bj
					; SendServerPost+4Aj ...
		leave
		retn	2
SendServerPost	endp

; ---------------------------------------------------------------------------
asc_1E8F	db 8,'########'         ; DATA XREF: SyncroTime+96o
aServerTime	db 12,'SERVER TIME:'    ; DATA XREF: SyncroTime+86o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SyncroTime	proc near		; CODE XREF: ExecConsole+C19p

var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_1		= byte ptr -1

		enter	202h, 0
		cmp	CLIENT,	0
		jnz	short loc_1EB3
		jmp	locret_1F5E
; ---------------------------------------------------------------------------

loc_1EB3:				; CODE XREF: SyncroTime+9j
		xor	ax, ax
		mov	CurTime, ax
		mov	[bp+var_1], 0
		les	di, PServerPatch
		mov	word ptr es:[di+12h], 0FFFFh

loc_1EC6:				; CODE XREF: SyncroTime+73j
		les	di, PServerPatch
		cmp	word ptr es:[di+12h], 0FFFFh
		jz	short loc_1EEE
		mov	ax, es:[di+0Ah]
		mov	dx, es:[di+0Ch]
		mov	RealTime, ax
		mov	word_44D7C, dx
		mov	[bp+var_1], 1
		les	di, PServerPatch
		mov	word ptr es:[di+12h], 0FFFFh

loc_1EEE:				; CODE XREF: SyncroTime+2Aj
		call	ReInstallFreeECB
		push	1
		call	Delay
		mov	word_3666A, 9
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		cmp	[bp+var_1], 0
		jnz	short loc_1F1A
		cmp	CurTime, 8Ch ; 'Œ'
		jbe	short loc_1EC6

loc_1F1A:				; CODE XREF: SyncroTime+6Bj
		xor	ax, ax
		mov	CurTime, ax
		cmp	[bp+var_1], 0
		jz	short locret_1F5E
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset aServerTime ; "SERVER TIME:"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset asc_1E8F ; "########"
		push	cs
		push	di
		mov	ax, RealTime
		mov	dx, word_44D7C
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2

locret_1F5E:				; CODE XREF: SyncroTime+Bj
					; SyncroTime+7Ej
		leave
		retn
SyncroTime	endp

; ---------------------------------------------------------------------------
aServerTimeOut_	db 16,'SERVER TIME OUT.' ; DATA XREF: WaitServer+A2o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

WaitServer	proc near		; CODE XREF: DoGame:loc_C411p
					; DoGame+19Ep

var_1		= byte ptr -1

		enter	6, 0
		cmp	CLIENT,	0
		jnz	short loc_1F7F
		jmp	locret_2028
; ---------------------------------------------------------------------------

loc_1F7F:				; CODE XREF: WaitServer+9j
		xor	ax, ax
		mov	CurTime, ax
		mov	[bp+var_1], 0
		les	di, PServerPatch
		mov	word ptr es:[di+12h], 0FFFFh

loc_1F92:				; CODE XREF: WaitServer+95j
		call	ReInstallFreeECB
		les	di, PServerPatch
		cmp	word ptr es:[di+12h], 0FFFFh
		jz	short loc_1FDF
		mov	ax, es:[di+0Ah]
		mov	dx, es:[di+0Ch]
		mov	RealTime, ax
		mov	word_44D7C, dx
		mov	[bp+var_1], 1
		les	di, PServerPatch
		mov	ax, es:[di+12h]
		cmp	ax, LevelN
		jz	short loc_1FDF
		mov	MenuCode, 4
		les	di, PServerPatch
		mov	ax, es:[di+12h]
		mov	LevelN,	ax
		les	di, PServerPatch
		mov	al, es:[di+17h]
		xor	ah, ah
		mov	Skill, ax

loc_1FDF:				; CODE XREF: WaitServer+2Dj
					; WaitServer+4Ej
		push	1
		call	Delay
		mov	word_3666A, 9
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h
		cmp	[bp+var_1], 0
		jnz	short loc_2008
		cmp	CurTime, 578h
		jbe	short loc_1F92

loc_2008:				; CODE XREF: WaitServer+8Dj
		xor	ax, ax
		mov	CurTime, ax
		cmp	[bp+var_1], 0
		jnz	short locret_2028
		mov	di, offset aServerTimeOut_ ; "SERVER TIME OUT."
		push	cs
		push	di
		call	PutConsMessage2
		mov	MenuCode, 4
		mov	CLIENT,	0

locret_2028:				; CODE XREF: WaitServer+Bj
					; WaitServer+A0j
		leave
		retn
WaitServer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MulVectors	proc near		; CODE XREF: Test2Vectors+4Ep
					; Test2Vectors+64p ...

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	2, 0
		mov	cx, 0FFFFh
		mov	ax, [bp+arg_6]
		imul	[bp+arg_0]
		mov	bx, dx
		shl	ebx, 10h
		mov	bx, ax
		mov	ax, [bp+arg_4]
		imul	[bp+arg_2]
		shl	edx, 10h
		mov	dx, ax
		sub	ebx, edx
		js	short loc_2053
		mov	cx, 1

loc_2053:				; CODE XREF: MulVectors+24j
		mov	[bp+var_2], cx
		mov	ax, [bp+var_2]
		leave
		retn	8
MulVectors	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Test2Vectors	proc near		; CODE XREF: GetNearestWall+101p

var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	2, 0
		mov	[bp+var_1], 0
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_E]
		mov	nx, ax
		mov	ax, [bp+arg_8]
		sub	ax, [bp+arg_C]
		mov	ny, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_E]
		mov	v1x, ax
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_C]
		mov	v1y, ax
		mov	ax, [bp+arg_2]
		sub	ax, [bp+arg_E]
		mov	v2x, ax
		mov	ax, [bp+arg_0]
		sub	ax, [bp+arg_C]
		mov	v2y, ax
		push	nx
		push	ny
		push	v1x
		push	v1y
		call	MulVectors
		mov	i, ax
		push	nx
		push	ny
		push	v2x
		push	v2y
		call	MulVectors
		cmp	ax, i
		jnz	short loc_20CC
		jmp	short loc_2134
; ---------------------------------------------------------------------------

loc_20CC:				; CODE XREF: Test2Vectors+6Bj
		mov	ax, [bp+arg_2]
		sub	ax, [bp+arg_6]
		mov	nx, ax
		mov	ax, [bp+arg_0]
		sub	ax, [bp+arg_4]
		mov	ny, ax
		mov	ax, [bp+arg_E]
		sub	ax, [bp+arg_6]
		mov	v1x, ax
		mov	ax, [bp+arg_C]
		sub	ax, [bp+arg_4]
		mov	v1y, ax
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_6]
		mov	v2x, ax
		mov	ax, [bp+arg_8]
		sub	ax, [bp+arg_4]
		mov	v2y, ax
		push	nx
		push	ny
		push	v2x
		push	v2y
		call	MulVectors
		push	ax
		push	nx
		push	ny
		push	v1x
		push	v1y
		call	MulVectors
		pop	dx
		cmp	ax, dx
		jnz	short loc_2130
		jmp	short loc_2134
; ---------------------------------------------------------------------------

loc_2130:				; CODE XREF: Test2Vectors+CFj
		mov	[bp+var_1], 1

loc_2134:				; CODE XREF: Test2Vectors+6Dj
					; Test2Vectors+D1j
		mov	al, [bp+var_1]
		leave
		retn	10h
Test2Vectors	endp

; ---------------------------------------------------------------------------
VILineL		db 0A1h	; ¡
		db 0C4h	; Ä
		db 0E8h	; è
		db 0C1h	; Á
		db 0E0h	; à
		db    8
		db    3
		db    6
		db 0E0h	; à
		db 0E8h	; è
		db 0A3h	; £
		db 0E0h	; à
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db  72h	; r
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0C8h	; È
		db 0E8h	; è
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  39h	; 9
		db 0D8h	; Ø
		db  72h	; r
		db    2
		db  89h	; ‰
		db 0D8h	; Ø
		db 0A3h	; £
		db 0CCh	; Ì
		db 0E8h	; è
		db  8Bh	; ‹
		db  1Eh
		db  74h	; t
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0CAh	; Ê
		db 0E8h	; è
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  39h	; 9
		db 0D8h	; Ø
		db  72h	; r
		db    2
		db  89h	; ‰
		db 0D8h	; Ø
		db 0A3h	; £
		db 0CEh	; Î
		db 0E8h	; è
		db 0A1h	; ¡
		db 0A6h	; ¦
		db 0E8h	; è
		db  8Eh	; Ž
		db 0C0h	; À
		db  8Bh	; ‹
		db  1Eh
		db  76h	; v
		db 0EBh	; ë
		db  2Bh	; +
		db  1Eh
		db 0CCh	; Ì
		db 0E8h	; è
		db 0D1h	; Ñ
		db 0E3h	; ã
		db  8Bh	; ‹
		db 0B7h	; ·
		db 0EAh	; ê
		db  8Fh	; 
		db    3
		db  36h	; 6
		db 0C6h	; Æ
		db 0E8h	; è
		db  66h	; f
		db  33h	; 3
		db 0D2h	; Ò
		db  66h	; f
		db  33h	; 3
		db 0DBh	; Û
		db  66h	; f
		db 0B8h	; ¸
		db    0
		db    0
		db    0
		db    1
		db  8Bh	; ‹
		db  1Eh
		db 0C8h	; È
		db 0E8h	; è
		db    3
		db  1Eh
		db 0CAh	; Ê
		db 0E8h	; è
		db  66h	; f
		db 0F7h	; ÷
		db 0F3h	; ó
		db  66h	; f
		db  89h	; ‰
		db 0C3h	; Ã
		db  55h	; U
		db  66h	; f
		db  8Bh	; ‹
		db  2Eh	; .
		db    6
		db 0EBh	; ë
		db  66h	; f
		db  31h	; 1
		db 0C0h	; À
		db 0A1h	; ¡
		db 0CCh	; Ì
		db 0E8h	; è
		db  66h	; f
		db 0F7h	; ÷
		db 0E3h	; ã
		db  66h	; f
		db  29h	; )
		db 0C5h	; Å
		db 0A1h	; ¡
		db 0B6h	; ¶
		db 0E8h	; è
		db  66h	; f
		db 0C1h	; Á
		db 0E0h	; à
		db  14h
		db  66h	; f
		db    1
		db 0C5h	; Å
		db  66h	; f
		db  89h	; ‰
		db 0DAh	; Ú
		db 0A1h	; ¡
		db 0B4h	; ´
		db 0E8h	; è
		db  8Eh	; Ž
		db 0E0h	; à
		db  8Bh	; ‹
		db  0Eh
		db 0CCh	; Ì
		db 0E8h	; è
		db    3
		db  0Eh
		db 0CEh	; Î
		db 0E8h	; è
		db  8Bh	; ‹
		db  1Eh
		db 0E0h	; à
		db 0EBh	; ë
		db  80h	; €
		db  3Eh	; >
		db 0F2h	; ò
		db 0EBh	; ë
		db    1
		db  74h	; t
		db  1Eh
		db  66h	; f
		db  89h	; ‰
		db 0EFh	; ï
		db  66h	; f
		db 0C1h	; Á
		db 0EFh	; ï
		db  0Dh
		db  23h	; #
		db  3Eh	; >
		db    6
		db    4
		db  64h	; d
		db  8Ah	; Š
		db    5
		db 0D7h	; ×
		db  26h	; &
		db  88h	; ˆ
		db    4
		db  81h	; 
		db 0C6h	; Æ
		db  40h	; @
		db    1
		db  66h	; f
		db    1
		db 0D5h	; Õ
		db  49h	; I
		db  75h	; u
		db 0E4h	; ä
		db 0EBh	; ë
		db  1Eh
		db  66h	; f
		db  89h	; ‰
		db 0EFh	; ï
		db  66h	; f
		db 0C1h	; Á
		db 0EFh	; ï
		db  0Dh
		db  23h	; #
		db  3Eh	; >
		db    6
		db    4
		db  64h	; d
		db  8Ah	; Š
		db    5
		db 0D7h	; ×
		db  88h	; ˆ
		db 0C4h	; Ä
		db  26h	; &
		db  89h	; ‰
		db    4
		db  81h	; 
		db 0C6h	; Æ
		db  40h	; @
		db    1
		db  66h	; f
		db    1
		db 0D5h	; Õ
		db  49h	; I
		db  75h	; u
		db 0E2h	; â
		db  5Dh	; ]
		db  90h	; 
		db 0C3h	; Ã
VILineL_hi	db 0A1h	; ¡
		db 0C4h	; Ä
		db 0E8h	; è
		db 0C1h	; Á
		db 0E0h	; à
		db    8
		db    3
		db    6
		db 0E0h	; à
		db 0E8h	; è
		db 0A3h	; £
		db 0E0h	; à
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db  72h	; r
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0C8h	; È
		db 0E8h	; è
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  39h	; 9
		db 0D8h	; Ø
		db  72h	; r
		db    2
		db  89h	; ‰
		db 0D8h	; Ø
		db 0A3h	; £
		db 0CCh	; Ì
		db 0E8h	; è
		db  8Bh	; ‹
		db  1Eh
		db  74h	; t
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0CAh	; Ê
		db 0E8h	; è
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  39h	; 9
		db 0D8h	; Ø
		db  72h	; r
		db    2
		db  89h	; ‰
		db 0D8h	; Ø
		db 0A3h	; £
		db 0CEh	; Î
		db 0E8h	; è
		db 0A1h	; ¡
		db 0A6h	; ¦
		db 0E8h	; è
		db  8Eh	; Ž
		db 0C0h	; À
		db  8Bh	; ‹
		db  1Eh
		db  76h	; v
		db 0EBh	; ë
		db  2Bh	; +
		db  1Eh
		db 0CCh	; Ì
		db 0E8h	; è
		db 0C1h	; Á
		db 0E3h	; ã
		db    2
		db  66h	; f
		db  31h	; 1
		db 0F6h	; ö
		db  8Bh	; ‹
		db  36h	; 6
		db 0C6h	; Æ
		db 0E8h	; è
		db  66h	; f
		db    3
		db 0B7h	; ·
		db  7Ch	; |
		db  91h	; ‘
		db  66h	; f
		db  33h	; 3
		db 0D2h	; Ò
		db  66h	; f
		db  33h	; 3
		db 0DBh	; Û
		db  66h	; f
		db 0B8h	; ¸
		db    0
		db    0
		db    0
		db    1
		db  8Bh	; ‹
		db  1Eh
		db 0C8h	; È
		db 0E8h	; è
		db    3
		db  1Eh
		db 0CAh	; Ê
		db 0E8h	; è
		db  66h	; f
		db 0F7h	; ÷
		db 0F3h	; ó
		db  66h	; f
		db  89h	; ‰
		db 0C3h	; Ã
		db  55h	; U
		db  66h	; f
		db  8Bh	; ‹
		db  2Eh	; .
		db    6
		db 0EBh	; ë
		db  66h	; f
		db  31h	; 1
		db 0C0h	; À
		db 0A1h	; ¡
		db 0CCh	; Ì
		db 0E8h	; è
		db  66h	; f
		db 0F7h	; ÷
		db 0E3h	; ã
		db  66h	; f
		db  29h	; )
		db 0C5h	; Å
		db 0A1h	; ¡
		db 0B6h	; ¶
		db 0E8h	; è
		db  66h	; f
		db 0C1h	; Á
		db 0E0h	; à
		db  14h
		db  66h	; f
		db    1
		db 0C5h	; Å
		db  66h	; f
		db  89h	; ‰
		db 0DAh	; Ú
		db 0A1h	; ¡
		db 0B4h	; ´
		db 0E8h	; è
		db  8Eh	; Ž
		db 0E0h	; à
		db  8Bh	; ‹
		db  0Eh
		db 0CCh	; Ì
		db 0E8h	; è
		db    3
		db  0Eh
		db 0CEh	; Î
		db 0E8h	; è
		db  8Bh	; ‹
		db  1Eh
		db 0E0h	; à
		db 0EBh	; ë
		db  80h	; €
		db  3Eh	; >
		db 0F2h	; ò
		db 0EBh	; ë
		db    1
		db  74h	; t
		db  20h
		db  66h	; f
		db  89h	; ‰
		db 0EFh	; ï
		db  66h	; f
		db 0C1h	; Á
		db 0EFh	; ï
		db  0Dh
		db  23h	; #
		db  3Eh	; >
		db    6
		db    4
		db  64h	; d
		db  8Ah	; Š
		db    5
		db 0D7h	; ×
		db  26h	; &
		db  67h	; g
		db  88h	; ˆ
		db    6
		db  66h	; f
		db    1
		db 0D5h	; Õ
		db  66h	; f
		db    3
		db  36h	; 6
		db  56h	; V
		db 0EBh	; ë
		db  49h	; I
		db  75h	; u
		db 0E2h	; â
		db 0EBh	; ë
		db  20h
		db  66h	; f
		db  89h	; ‰
		db 0EFh	; ï
		db  66h	; f
		db 0C1h	; Á
		db 0EFh	; ï
		db  0Dh
		db  23h	; #
		db  3Eh	; >
		db    6
		db    4
		db  64h	; d
		db  8Ah	; Š
		db    5
		db 0D7h	; ×
		db  88h	; ˆ
		db 0C4h	; Ä
		db  26h	; &
		db  67h	; g
		db  89h	; ‰
		db    6
		db  66h	; f
		db    1
		db 0D5h	; Õ
		db  66h	; f
		db    3
		db  36h	; 6
		db  56h	; V
		db 0EBh	; ë
		db  49h	; I
		db  75h	; u
		db 0E0h	; à
		db  5Dh	; ]
		db 0C3h	; Ã

; =============== S U B	R O U T	I N E =======================================


ShowLine	proc near		; CODE XREF: ExpandPicture+4B0p
					; ExpandPicture:loc_58EEp
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, Dx0
		mov	es:2339h, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	esi, HLSt
		mov	dx, Di0
		mov	cx, HS
		mov	ax, ImSeg
		mov	bx, n__0
		push	bp
		mov	bp, ax
		mov	ax, ObjSeg
		mov	fs, ax

loc_2324:				; CODE XREF: ShowLine+4Aj
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	al, fs:[di]
		cmp	al, 0FFh
		jz	short loc_2337
		xlat
		mov	es:[esi], al

loc_2337:				; CODE XREF: ShowLine+39j
		sub	dx, 0FFFFh
		sub	esi, VideoBPL
		dec	cx
		jnz	short loc_2324
		pop	bp
		retn
ShowLine	endp


; =============== S U B	R O U T	I N E =======================================


ShowLine2	proc near		; CODE XREF: ExpandPicture+4D0p
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, Dx0
		mov	es:2389h, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	esi, HLSt
		mov	dx, Di0
		mov	cx, HS
		mov	ax, ImSeg
		mov	bx, n__0
		push	bp
		mov	bp, ax
		mov	ax, ObjSeg
		mov	fs, ax

loc_2372:				; CODE XREF: ShowLine2+4Cj
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	al, fs:[di]
		cmp	al, 0FFh
		jz	short loc_2387
		xlat
		mov	ah, al
		mov	es:[esi], ax

loc_2387:				; CODE XREF: ShowLine2+39j
		sub	dx, 0FFFFh
		sub	esi, VideoBPL
		dec	cx
		jnz	short loc_2372
		pop	bp
		retn
ShowLine2	endp


; =============== S U B	R O U T	I N E =======================================


ShowGlassLine	proc near		; CODE XREF: ExpandPicture:loc_58B4p
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, Dx0
		mov	es:23FDh, ax
		mov	ax, Dx0
		mov	es:2434h, ax
		mov	ax, word ptr VideoBPL
		mov	es:2402h, ax
		mov	ax, word ptr VideoBPL
		mov	es:2439h, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	esi, HLSt
		mov	dx, Di0
		mov	cx, HS
		mov	ax, ImSeg
		xor	bl, bl
		push	ds
		push	bp
		mov	bp, ax
		mov	ax, ObjSeg
		mov	fs, ax
		cmp	InversGlass, 1
		jz	short loc_240D
		mov	ax, RGBSeg
		mov	ds, ax

loc_23E2:				; CODE XREF: ShowGlassLine+72j
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	bh, fs:[di]
		cmp	bh, 0FFh
		jz	short loc_23FB
		mov	bl, es:[esi]
		mov	al, [bx]
		mov	es:[esi], al

loc_23FB:				; CODE XREF: ShowGlassLine+5Aj
		sub	dx, 0FFFFh
		sub	esi, 280h
		dec	cx
		jnz	short loc_23E2
		pop	bp
		pop	ds
		jmp	short locret_2442
; ---------------------------------------------------------------------------

loc_240D:				; CODE XREF: ShowGlassLine+46j
		mov	ax, RGBSeg
		mov	ds, ax

loc_2412:				; CODE XREF: ShowGlassLine+A9j
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	bl, fs:[di]
		cmp	bl, 0FFh
		jz	short loc_2432
		mov	bh, es:[esi]
		cmp	bh, 0
		jnz	short loc_242C
		inc	bh

loc_242C:				; CODE XREF: ShowGlassLine+93j
		mov	al, [bx]
		mov	es:[esi], al

loc_2432:				; CODE XREF: ShowGlassLine+8Aj
		sub	dx, 0FFFFh
		sub	esi, 280h
		dec	cx
		jnz	short loc_2412
		pop	bp
		pop	ds

locret_2442:				; CODE XREF: ShowGlassLine+76j
		retn
ShowGlassLine	endp


; =============== S U B	R O U T	I N E =======================================


ShowGlassLine2	proc near		; CODE XREF: ExpandPicture+496p
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, Dx0
		mov	es:24ADh, ax
		mov	ax, Dx0
		mov	es:24E6h, ax
		mov	ax, word ptr VideoBPL
		mov	es:24B2h, ax
		mov	ax, word ptr VideoBPL
		mov	es:24EBh, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	esi, HLSt
		mov	dx, Di0
		mov	cx, HS
		mov	ax, ImSeg
		xor	bl, bl
		push	ds
		push	bp
		mov	bp, ax
		mov	ax, ObjSeg
		mov	fs, ax
		cmp	InversGlass, 1
		jz	short loc_24BD
		mov	ax, RGBSeg
		mov	ds, ax

loc_2490:				; CODE XREF: ShowGlassLine2+74j
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	bh, fs:[di]
		cmp	bh, 0FFh
		jz	short loc_24AB
		mov	bl, es:[esi]
		mov	al, [bx]
		mov	ah, al
		mov	es:[esi], ax

loc_24AB:				; CODE XREF: ShowGlassLine2+5Aj
		sub	dx, 0FFFFh
		sub	esi, 280h
		dec	cx
		jnz	short loc_2490
		pop	bp
		pop	ds
		jmp	short locret_24F4
; ---------------------------------------------------------------------------

loc_24BD:				; CODE XREF: ShowGlassLine2+46j
		mov	ax, RGBSeg
		mov	ds, ax

loc_24C2:				; CODE XREF: ShowGlassLine2+ADj
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	bl, fs:[di]
		cmp	bl, 0FFh
		jz	short loc_24E4
		mov	bh, es:[esi]
		cmp	bh, 0
		jnz	short loc_24DC
		inc	bh

loc_24DC:				; CODE XREF: ShowGlassLine2+95j
		mov	al, [bx]
		mov	ah, al
		mov	es:[esi], ax

loc_24E4:				; CODE XREF: ShowGlassLine2+8Cj
		sub	dx, 0FFFFh
		sub	esi, 280h
		dec	cx
		jnz	short loc_24C2
		pop	bp
		pop	ds

locret_24F4:				; CODE XREF: ShowGlassLine2+78j
		retn
ShowGlassLine2	endp


; =============== S U B	R O U T	I N E =======================================


ShowGlassLine4	proc near		; CODE XREF: ExpandPicture+46Cp
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, Dx0
		shl	ax, 1
		mov	es:2588h, ax
		mov	es:25DBh, ax
		mov	ax, word ptr VideoBPL
		mov	es:258Dh, ax
		mov	es:25E0h, ax
		mov	es:2574h, ax
		mov	es:25C7h, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	esi, HLSt
		mov	dx, Di0
		mov	cx, HS
		dec	cx
		shr	cx, 1
		cmp	cx, 0
		jnz	short loc_2537
		mov	cx, 1

loc_2537:				; CODE XREF: ShowGlassLine4+3Dj
		mov	ax, ImSeg
		xor	bl, bl
		push	ds
		push	bp
		mov	bp, ax
		mov	ax, ObjSeg
		mov	fs, ax
		cmp	InversGlass, 1
		jz	short loc_2598
		mov	ax, RGBSeg
		mov	ds, ax

loc_2551:				; CODE XREF: ShowGlassLine4+9Dj
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	bh, fs:[di]
		cmp	bh, 0FFh
		jz	short loc_2571
		mov	bl, es:[esi]
		mov	al, [bx]
		mov	ah, al
		mov	es:[esi], ax
		mov	es:[esi+2], ax

loc_2571:				; CODE XREF: ShowGlassLine4+69j
		sub	esi, 280h
		cmp	bh, 0FFh
		jz	short loc_2586
		mov	es:[esi], ax
		mov	es:[esi+2], ax

loc_2586:				; CODE XREF: ShowGlassLine4+86j
		sub	dx, 0FFFFh
		sub	esi, 280h
		dec	cx
		jnz	short loc_2551
		pop	bp
		pop	ds
		jmp	short locret_25E9
; ---------------------------------------------------------------------------

loc_2598:				; CODE XREF: ShowGlassLine4+55j
		mov	ax, RGBSeg
		mov	ds, ax

loc_259D:				; CODE XREF: ShowGlassLine4+F0j
		mov	di, dx
		shr	di, 8
		add	di, bp
		mov	bl, fs:[di]
		cmp	bl, 0FFh
		jz	short loc_25C4
		mov	bh, es:[esi]
		cmp	bh, 0
		jnz	short loc_25B7
		inc	bh

loc_25B7:				; CODE XREF: ShowGlassLine4+BEj
		mov	al, [bx]
		mov	ah, al
		mov	es:[esi], ax
		mov	es:[esi+2], ax

loc_25C4:				; CODE XREF: ShowGlassLine4+B5j
		sub	esi, 280h
		cmp	bl, 0FFh
		jz	short loc_25D9
		mov	es:[esi], ax
		mov	es:[esi+2], ax

loc_25D9:				; CODE XREF: ShowGlassLine4+D9j
		sub	dx, 0FFFFh
		sub	esi, 280h
		dec	cx
		jnz	short loc_259D
		pop	bp
		pop	ds

locret_25E9:				; CODE XREF: ShowGlassLine4+A1j
		retn
ShowGlassLine4	endp

; ---------------------------------------------------------------------------
ShowSegment	db 0A1h	; ¡
		db 0A6h	; ¦
		db 0E8h	; è
		db  8Eh	; Ž
		db 0C0h	; À
		db  55h	; U
		db  66h	; f
		db  31h	; 1
		db 0C0h	; À
		db 0A1h	; ¡
		db 0B6h	; ¶
		db 0E8h	; è
		db  66h	; f
		db 0C1h	; Á
		db 0E0h	; à
		db  0Dh
		db  66h	; f
		db  89h	; ‰
		db 0C5h	; Å
		db  8Bh	; ‹
		db  0Eh
		db 0EEh	; î
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E9h	; é
		db    4
		db  3Bh	; ;
		db  0Eh
		db  82h	; ‚
		db 0EBh	; ë
		db  72h	; r
		db    4
		db  8Bh	; ‹
		db  0Eh
		db  82h	; ‚
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0ECh	; ì
		db 0EBh	; ë
		db  3Bh	; ;
		db    6
		db  80h	; €
		db 0EBh	; ë
		db  7Fh	; 
		db  1Dh
		db  66h	; f
		db  31h	; 1
		db 0DBh	; Û
		db  8Bh	; ‹
		db  1Eh
		db  80h	; €
		db 0EBh	; ë
		db  29h	; )
		db 0C3h	; Ã
		db  66h	; f
		db 0A1h	; ¡
		db  0Eh
		db 0EBh	; ë
		db  66h	; f
		db 0F7h	; ÷
		db 0E3h	; ã
		db  66h	; f
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  66h	; f
		db    1
		db 0C5h	; Å
		db 0A1h	; ¡
		db  80h	; €
		db 0EBh	; ë
		db 0A3h	; £
		db 0ECh	; ì
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  29h	; )
		db 0C1h	; Á
		db  83h	; ƒ
		db 0F9h	; ù
		db    0
		db  74h	; t
		db  39h	; 9
		db  8Bh	; ‹
		db  1Eh
		db 0ECh	; ì
		db 0EBh	; ë
		db 0C1h	; Á
		db 0EBh	; ë
		db    4
		db 0C1h	; Á
		db 0E3h	; ã
		db    2
		db  66h	; f
		db  31h	; 1
		db 0F6h	; ö
		db  8Bh	; ‹
		db  36h	; 6
		db 0C6h	; Æ
		db 0E8h	; è
		db  66h	; f
		db    3
		db 0B7h	; ·
		db  7Ch	; |
		db  91h	; ‘
		db  66h	; f
		db  8Bh	; ‹
		db  16h
		db  0Eh
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db 0E0h	; à
		db 0EBh	; ë
		db  66h	; f
		db  89h	; ‰
		db 0EFh	; ï
		db  66h	; f
		db 0C1h	; Á
		db 0EFh	; ï
		db  0Dh
		db  64h	; d
		db  8Ah	; Š
		db    5
		db 0D7h	; ×
		db  66h	; f
		db    1
		db 0D5h	; Õ
		db  26h	; &
		db  67h	; g
		db  88h	; ˆ
		db    6
		db  66h	; f
		db    3
		db  36h	; 6
		db  56h	; V
		db 0EBh	; ë
		db  49h	; I
		db  75h	; u
		db 0E6h	; æ
		db  5Dh	; ]
		db 0C3h	; Ã
ShowSegment2	db 0A1h	; ¡
		db 0A6h	; ¦
		db 0E8h	; è
		db  8Eh	; Ž
		db 0C0h	; À
		db  55h	; U
		db  66h	; f
		db  31h	; 1
		db 0C0h	; À
		db 0A1h	; ¡
		db 0B6h	; ¶
		db 0E8h	; è
		db  66h	; f
		db 0C1h	; Á
		db 0E0h	; à
		db  0Dh
		db  66h	; f
		db  89h	; ‰
		db 0C5h	; Å
		db  8Bh	; ‹
		db  0Eh
		db 0EEh	; î
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E9h	; é
		db    4
		db  3Bh	; ;
		db  0Eh
		db  82h	; ‚
		db 0EBh	; ë
		db  72h	; r
		db    4
		db  8Bh	; ‹
		db  0Eh
		db  82h	; ‚
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0ECh	; ì
		db 0EBh	; ë
		db  3Bh	; ;
		db    6
		db  80h	; €
		db 0EBh	; ë
		db  7Fh	; 
		db  1Dh
		db  66h	; f
		db  31h	; 1
		db 0DBh	; Û
		db  8Bh	; ‹
		db  1Eh
		db  80h	; €
		db 0EBh	; ë
		db  29h	; )
		db 0C3h	; Ã
		db  66h	; f
		db 0A1h	; ¡
		db  0Eh
		db 0EBh	; ë
		db  66h	; f
		db 0F7h	; ÷
		db 0E3h	; ã
		db  66h	; f
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  66h	; f
		db    1
		db 0C5h	; Å
		db 0A1h	; ¡
		db  80h	; €
		db 0EBh	; ë
		db 0A3h	; £
		db 0ECh	; ì
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E8h	; è
		db    4
		db  29h	; )
		db 0C1h	; Á
		db  83h	; ƒ
		db 0F9h	; ù
		db    0
		db  74h	; t
		db  3Bh	; ;
		db  8Bh	; ‹
		db  1Eh
		db 0ECh	; ì
		db 0EBh	; ë
		db 0C1h	; Á
		db 0EBh	; ë
		db    4
		db 0C1h	; Á
		db 0E3h	; ã
		db    2
		db  66h	; f
		db  31h	; 1
		db 0F6h	; ö
		db  8Bh	; ‹
		db  36h	; 6
		db 0C6h	; Æ
		db 0E8h	; è
		db  66h	; f
		db    3
		db 0B7h	; ·
		db  7Ch	; |
		db  91h	; ‘
		db  66h	; f
		db  8Bh	; ‹
		db  16h
		db  0Eh
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db 0E0h	; à
		db 0EBh	; ë
		db  66h	; f
		db  89h	; ‰
		db 0EFh	; ï
		db  66h	; f
		db 0C1h	; Á
		db 0EFh	; ï
		db  0Dh
		db  64h	; d
		db  8Ah	; Š
		db    5
		db 0D7h	; ×
		db  66h	; f
		db    1
		db 0D5h	; Õ
		db  88h	; ˆ
		db 0C4h	; Ä
		db  26h	; &
		db  67h	; g
		db  89h	; ‰
		db    6
		db  66h	; f
		db    3
		db  36h	; 6
		db  56h	; V
		db 0EBh	; ë
		db  49h	; I
		db  75h	; u
		db 0E4h	; ä
		db  5Dh	; ]
		db 0C3h	; Ã
VIlinePack	db 0A1h	; ¡
		db  76h	; v
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E0h	; à
		db    4
		db  2Bh	; +
		db    6
		db 0C8h	; È
		db 0E8h	; è
		db 0A3h	; £
		db 0EAh	; ê
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db 0C8h	; È
		db 0E8h	; è
		db    3
		db  1Eh
		db 0CAh	; Ê
		db 0E8h	; è
		db  89h	; ‰
		db  1Eh
		db 0E8h	; è
		db 0EBh	; ë
		db  89h	; ‰
		db 0D9h	; Ù
		db 0A1h	; ¡
		db 0B4h	; ´
		db 0E8h	; è
		db  8Eh	; Ž
		db 0E0h	; à
		db 0A1h	; ¡
		db 0A0h	;  
		db 0E8h	; è
		db  31h	; 1
		db 0D2h	; Ò
		db 0C1h	; Á
		db 0EBh	; ë
		db    4
		db 0F7h	; ÷
		db 0F3h	; ó
		db  3Dh	; =
		db  10h
		db    0
		db  72h	; r
		db    3
		db 0B8h	; ¸
		db  10h
		db    0
		db    3
		db    6
		db 0DCh	; Ü
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E0h	; à
		db    8
		db    3
		db    6
		db 0E0h	; à
		db 0E8h	; è
		db 0A3h	; £
		db 0E0h	; à
		db 0EBh	; ë
		db  66h	; f
		db  33h	; 3
		db 0D2h	; Ò
		db  66h	; f
		db  33h	; 3
		db 0DBh	; Û
		db  66h	; f
		db 0B8h	; ¸
		db    0
		db    0
		db    0
		db    1
		db  89h	; ‰
		db 0CBh	; Ë
		db  66h	; f
		db 0F7h	; ÷
		db 0F3h	; ó
		db  66h	; f
		db  89h	; ‰
		db 0C3h	; Ã
		db  66h	; f
		db 0A3h	; £
		db  0Eh
		db 0EBh	; ë
		db  8Bh	; ‹
		db  3Eh	; >
		db 0B6h	; ¶
		db 0E8h	; è
		db  30h	; 0
		db 0E4h	; ä
		db  64h	; d
		db  8Ah	; Š
		db    5
		db  3Ch	; <
		db 0FFh
		db  74h	; t
		db  61h	; a
		db 0A3h	; £
		db 0E6h	; æ
		db 0EBh	; ë
		db  64h	; d
		db  8Ah	; Š
		db  45h	; E
		db    1
		db 0A3h	; £
		db 0E4h	; ä
		db 0EBh	; ë
		db  83h	; ƒ
		db 0C7h	; Ç
		db    2
		db  89h	; ‰
		db  3Eh	; >
		db 0B6h	; ¶
		db 0E8h	; è
		db  8Bh	; ‹
		db  0Eh
		db 0EAh	; ê
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db 0E8h	; è
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0E6h	; æ
		db 0EBh	; ë
		db 0D1h	; Ñ
		db 0E0h	; à
		db 0F7h	; ÷
		db 0E3h	; ã
		db  88h	; ˆ
		db 0E0h	; à
		db  88h	; ˆ
		db 0D4h	; Ô
		db    1
		db 0C8h	; È
		db 0A3h	; £
		db 0ECh	; ì
		db 0EBh	; ë
		db  39h	; 9
		db    6
		db  84h	; „
		db 0EBh	; ë
		db  7Ch	; |
		db  29h	; )
		db 0A1h	; ¡
		db 0E6h	; æ
		db 0EBh	; ë
		db    3
		db    6
		db 0E4h	; ä
		db 0EBh	; ë
		db 0D1h	; Ñ
		db 0E0h	; à
		db 0F7h	; ÷
		db 0E3h	; ã
		db  88h	; ˆ
		db 0E0h	; à
		db  88h	; ˆ
		db 0D4h	; Ô
		db    1
		db 0C8h	; È
		db 0A3h	; £
		db 0EEh	; î
		db 0EBh	; ë
		db  39h	; 9
		db    6
		db  80h	; €
		db 0EBh	; ë
		db  7Fh	; 
		db  0Fh
		db  80h	; €
		db  3Eh	; >
		db 0F2h	; ò
		db 0EBh	; ë
		db    0
		db  74h	; t
		db    5
		db 0E8h	; è
		db 0B7h	; ·
		db 0FEh	; þ
		db 0EBh	; ë
		db    3
		db 0E8h	; è
		db  23h	; #
		db 0FEh	; þ
		db 0A1h	; ¡
		db 0E4h	; ä
		db 0EBh	; ë
		db    1
		db    6
		db 0B6h	; ¶
		db 0E8h	; è
		db 0EBh	; ë
		db  92h	; ’
		db 0C3h	; Ã
VIlineUpPack	db 0A1h	; ¡
		db  76h	; v
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E0h	; à
		db    4
		db  2Bh	; +
		db    6
		db 0C8h	; È
		db 0E8h	; è
		db 0A3h	; £
		db 0EAh	; ê
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db 0C8h	; È
		db 0E8h	; è
		db    3
		db  1Eh
		db 0CAh	; Ê
		db 0E8h	; è
		db  89h	; ‰
		db  1Eh
		db 0E8h	; è
		db 0EBh	; ë
		db  89h	; ‰
		db 0D9h	; Ù
		db 0A1h	; ¡
		db 0B4h	; ´
		db 0E8h	; è
		db  8Eh	; Ž
		db 0E0h	; à
		db 0A1h	; ¡
		db 0A0h	;  
		db 0E8h	; è
		db  31h	; 1
		db 0D2h	; Ò
		db 0C1h	; Á
		db 0EBh	; ë
		db    4
		db 0F7h	; ÷
		db 0F3h	; ó
		db  3Dh	; =
		db  10h
		db    0
		db  72h	; r
		db    3
		db 0B8h	; ¸
		db  10h
		db    0
		db    3
		db    6
		db 0DCh	; Ü
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E0h	; à
		db    8
		db    3
		db    6
		db 0E0h	; à
		db 0E8h	; è
		db 0A3h	; £
		db 0E0h	; à
		db 0EBh	; ë
		db  66h	; f
		db  33h	; 3
		db 0D2h	; Ò
		db  66h	; f
		db  33h	; 3
		db 0DBh	; Û
		db  66h	; f
		db 0B8h	; ¸
		db    0
		db    0
		db    0
		db    1
		db  89h	; ‰
		db 0CBh	; Ë
		db  66h	; f
		db 0F7h	; ÷
		db 0F3h	; ó
		db  66h	; f
		db  89h	; ‰
		db 0C3h	; Ã
		db  66h	; f
		db 0A3h	; £
		db  0Eh
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0B4h	; ´
		db 0E8h	; è
		db  8Eh	; Ž
		db 0E0h	; à
		db  8Bh	; ‹
		db  3Eh	; >
		db 0B6h	; ¶
		db 0E8h	; è
		db  30h	; 0
		db 0E4h	; ä
		db  64h	; d
		db  8Ah	; Š
		db    5
		db  3Ch	; <
		db 0FFh
		db  75h	; u
		db    3
		db 0E9h	; é
		db  91h	; ‘
		db    0
		db 0A3h	; £
		db 0E6h	; æ
		db 0EBh	; ë
		db  64h	; d
		db  8Ah	; Š
		db  45h	; E
		db    1
		db 0A3h	; £
		db 0E4h	; ä
		db 0EBh	; ë
		db  83h	; ƒ
		db 0C7h	; Ç
		db    2
		db  89h	; ‰
		db  3Eh	; >
		db 0B6h	; ¶
		db 0E8h	; è
		db  8Bh	; ‹
		db  1Eh
		db 0F0h	; ð
		db 0EBh	; ë
		db 0A1h	; ¡
		db 0E6h	; æ
		db 0EBh	; ë
		db    3
		db    6
		db 0E4h	; ä
		db 0EBh	; ë
		db  29h	; )
		db 0D8h	; Ø
		db  78h	; x
		db  67h	; g
		db  89h	; ‰
		db 0D8h	; Ø
		db  3Bh	; ;
		db    6
		db 0E6h	; æ
		db 0EBh	; ë
		db  77h	; w
		db    6
		db  29h	; )
		db  1Eh
		db 0E6h	; æ
		db 0EBh	; ë
		db 0EBh	; ë
		db  12h
		db  2Bh	; +
		db  1Eh
		db 0E6h	; æ
		db 0EBh	; ë
		db  29h	; )
		db  1Eh
		db 0E4h	; ä
		db 0EBh	; ë
		db    1
		db  1Eh
		db 0B6h	; ¶
		db 0E8h	; è
		db 0C7h	; Ç
		db    6
		db 0E6h	; æ
		db 0EBh	; ë
		db    0
		db    0
		db  8Bh	; ‹
		db  0Eh
		db 0EAh	; ê
		db 0EBh	; ë
		db  8Bh	; ‹
		db  1Eh
		db 0E8h	; è
		db 0EBh	; ë
		db 0D1h	; Ñ
		db 0E3h	; ã
		db 0A1h	; ¡
		db 0E6h	; æ
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E0h	; à
		db    8
		db 0F7h	; ÷
		db 0E3h	; ã
		db  89h	; ‰
		db 0D0h	; Ð
		db    1
		db 0C8h	; È
		db 0A3h	; £
		db 0ECh	; ì
		db 0EBh	; ë
		db  39h	; 9
		db    6
		db  84h	; „
		db 0EBh	; ë
		db  7Ch	; |
		db  28h	; (
		db 0A1h	; ¡
		db 0E6h	; æ
		db 0EBh	; ë
		db    3
		db    6
		db 0E4h	; ä
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E0h	; à
		db    8
		db 0F7h	; ÷
		db 0E3h	; ã
		db  89h	; ‰
		db 0D0h	; Ð
		db    1
		db 0C8h	; È
		db 0A3h	; £
		db 0EEh	; î
		db 0EBh	; ë
		db  39h	; 9
		db    6
		db  80h	; €
		db 0EBh	; ë
		db  7Fh	; 
		db  0Fh
		db  80h	; €
		db  3Eh	; >
		db 0F2h	; ò
		db 0EBh	; ë
		db    0
		db  74h	; t
		db    5
		db 0E8h	; è
		db 0B9h	; ¹
		db 0FDh	; ý
		db 0EBh	; ë
		db    3
		db 0E8h	; è
		db  25h	; %
		db 0FDh	; ý
		db 0A1h	; ¡
		db 0E4h	; ä
		db 0EBh	; ë
		db    1
		db    6
		db 0B6h	; ¶
		db 0E8h	; è
		db 0E9h	; é
		db  5Ah	; Z
		db 0FFh
		db 0C3h	; Ã

; =============== S U B	R O U T	I N E =======================================


Draw_Cell1	proc near		; CODE XREF: CellVHi+20Dp
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, DNpx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:298Dh, ax
		mov	es:2A1Ah, ax
		mov	es:2A07h, ax
		mov	ax, DNpy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:2993h, ax
		mov	es:2A23h, ax
		mov	es:2A0Dh, ax
		mov	al, Xi
		mov	es:298Ch, al
		mov	es:2A19h, al
		mov	es:2A06h, al
		mov	al, Yi
		mov	es:2992h, al
		mov	es:2A22h, al
		mov	es:2A0Ch, al
		mov	ax, CMP0
		mov	es:297Fh, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	cx, FLen
		inc	cx
		xor	eax, eax
		mov	ax, FLeftEnd
		mov	edi, FCSAddr
		add	edi, eax
		mov	dx, Cpx
		push	bp
		mov	ax, Cpy
		mov	bp, ax
		mov	al, 1
		cmp	CFlr, 3Fh ; '?'
		jnz	short loc_2950
		jmp	loc_2A16
; ---------------------------------------------------------------------------

loc_2950:				; CODE XREF: Draw_Cell1+7Bj
		cmp	CFlr, 3Eh ; '>'
		jnz	short loc_295B
		inc	cx
		jmp	loc_2A11
; ---------------------------------------------------------------------------

loc_295B:				; CODE XREF: Draw_Cell1+85j
					; Draw_Cell1+C8j
		mov	si, bp
		mov	ax, dx
		shr	si, 0Ah
		shr	ax, 0Ah
		mov	bx, si
		shl	si, 6
		shl	bx, 4
		add	si, ax
		shr	al, 4
		mov	bl, al
		add	bx, CurShOfs
		mov	bh, gs:[bx]
		xor	bl, bl
		add	bx, 0FFFFh
		mov	al, fs:[si]
		xlat
		mov	es:[edi], al
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_299D

loc_2991:				; CODE XREF: Draw_Cell1+FEj
		add	bp, 0FFFFh
		jb	short loc_29D0

loc_2997:				; CODE XREF: Draw_Cell1+131j
		dec	cx
		jnz	short loc_295B
		jmp	loc_2A2A
; ---------------------------------------------------------------------------

loc_299D:				; CODE XREF: Draw_Cell1+BFj
					; Draw_Cell1+139j ...
		mov	ax, FMapDx
		add	FCurMapOfs, ax
		mov	ax, FShwDx
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Eh	; '>'
		jnz	short loc_29BD
		mov	SkyVisible, 1
		jmp	short loc_2A0B
; ---------------------------------------------------------------------------

loc_29BD:				; CODE XREF: Draw_Cell1+E4j
		mov	al, 1
		cmp	bl, 3Fh	; '?'
		jz	short loc_2A21
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2991
; ---------------------------------------------------------------------------

loc_29D0:				; CODE XREF: Draw_Cell1+C5j
					; Draw_Cell1+13Fj ...
		mov	ax, FMapDy
		add	FCurMapOfs, ax
		mov	ax, FShwDy
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Eh	; '>'
		jnz	short loc_29F0
		mov	SkyVisible, 1
		jmp	short loc_2A11
; ---------------------------------------------------------------------------

loc_29F0:				; CODE XREF: Draw_Cell1+117j
		mov	al, 1
		cmp	bl, 3Fh	; '?'
		jz	short loc_2A27
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2997
; ---------------------------------------------------------------------------

loc_2A03:				; CODE XREF: Draw_Cell1+142j
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_299D

loc_2A0B:				; CODE XREF: Draw_Cell1+EBj
		add	bp, 0FFFFh
		jb	short loc_29D0

loc_2A11:				; CODE XREF: Draw_Cell1+88j
					; Draw_Cell1+11Ej
		dec	cx
		jnz	short loc_2A03
		jmp	short loc_2A2A
; ---------------------------------------------------------------------------

loc_2A16:				; CODE XREF: Draw_Cell1+7Dj
					; Draw_Cell1+158j
		inc	edi
		add	dx, 0FFFFh
		jnb	short loc_2A21
		jmp	loc_299D
; ---------------------------------------------------------------------------

loc_2A21:				; CODE XREF: Draw_Cell1+F2j
					; Draw_Cell1+14Cj
		add	bp, 0FFFFh
		jb	short loc_29D0

loc_2A27:				; CODE XREF: Draw_Cell1+125j
		dec	cx
		jnz	short loc_2A16

loc_2A2A:				; CODE XREF: Draw_Cell1+CAj
					; Draw_Cell1+144j
		pop	bp
		retn
Draw_Cell1	endp


; =============== S U B	R O U T	I N E =======================================


Draw_Cell2	proc near		; CODE XREF: CellVHi+21Ap
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, DNpx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:2AEBh, ax
		mov	es:2B78h, ax
		mov	es:2B65h, ax
		mov	ax, DNpy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:2AF1h, ax
		mov	es:2B81h, ax
		mov	es:2B6Bh, ax
		mov	al, Xi
		mov	es:2AEAh, al
		mov	es:2B77h, al
		mov	es:2B64h, al
		mov	al, Yi
		mov	es:2AF0h, al
		mov	es:2B80h, al
		mov	es:2B6Ah, al
		mov	ax, CMP0
		mov	es:2ADBh, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	cx, FLen
		inc	cx
		xor	eax, eax
		mov	ax, FLeftEnd
		mov	edi, FCSAddr
		add	edi, eax
		mov	dx, Cpx
		push	bp
		mov	ax, Cpy
		mov	bp, ax
		mov	al, 1
		cmp	CFlr, 3Fh ; '?'
		jnz	short loc_2AAC
		jmp	loc_2B74
; ---------------------------------------------------------------------------

loc_2AAC:				; CODE XREF: Draw_Cell2+7Bj
		cmp	CFlr, 3Eh ; '>'
		jnz	short loc_2AB7
		inc	cx
		jmp	loc_2B6F
; ---------------------------------------------------------------------------

loc_2AB7:				; CODE XREF: Draw_Cell2+85j
					; Draw_Cell2+CAj
		mov	si, bp
		mov	ax, dx
		shr	si, 0Bh
		shr	ax, 0Bh
		mov	bx, si
		shl	si, 5
		shl	bx, 5
		add	si, ax
		shr	al, 3
		mov	bl, al
		add	bx, CurShOfs
		mov	bh, gs:[bx]
		xor	bl, bl
		add	bx, 0FFFFh
		mov	al, fs:[si+1000h]
		xlat
		mov	es:[edi], al
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_2AFB

loc_2AEF:				; CODE XREF: Draw_Cell2+100j
		add	bp, 0FFFFh
		jb	short loc_2B2E

loc_2AF5:				; CODE XREF: Draw_Cell2+133j
		dec	cx
		jnz	short loc_2AB7
		jmp	loc_2B88
; ---------------------------------------------------------------------------

loc_2AFB:				; CODE XREF: Draw_Cell2+C1j
					; Draw_Cell2+13Bj ...
		mov	ax, FMapDx
		add	FCurMapOfs, ax
		mov	ax, FShwDx
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Eh	; '>'
		jnz	short loc_2B1B
		mov	SkyVisible, 1
		jmp	short loc_2B69
; ---------------------------------------------------------------------------

loc_2B1B:				; CODE XREF: Draw_Cell2+E6j
		mov	al, 1
		cmp	bl, 3Fh	; '?'
		jz	short loc_2B7F
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2AEF
; ---------------------------------------------------------------------------

loc_2B2E:				; CODE XREF: Draw_Cell2+C7j
					; Draw_Cell2+141j ...
		mov	ax, FMapDy
		add	FCurMapOfs, ax
		mov	ax, FShwDy
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Eh	; '>'
		jnz	short loc_2B4E
		mov	SkyVisible, 1
		jmp	short loc_2B6F
; ---------------------------------------------------------------------------

loc_2B4E:				; CODE XREF: Draw_Cell2+119j
		mov	al, 1
		cmp	bl, 3Fh	; '?'
		jz	short loc_2B85
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2AF5
; ---------------------------------------------------------------------------

loc_2B61:				; CODE XREF: Draw_Cell2+144j
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_2AFB

loc_2B69:				; CODE XREF: Draw_Cell2+EDj
		add	bp, 0FFFFh
		jb	short loc_2B2E

loc_2B6F:				; CODE XREF: Draw_Cell2+88j
					; Draw_Cell2+120j
		dec	cx
		jnz	short loc_2B61
		jmp	short loc_2B88
; ---------------------------------------------------------------------------

loc_2B74:				; CODE XREF: Draw_Cell2+7Dj
					; Draw_Cell2+15Aj
		inc	edi
		add	dx, 0FFFFh
		jnb	short loc_2B7F
		jmp	loc_2AFB
; ---------------------------------------------------------------------------

loc_2B7F:				; CODE XREF: Draw_Cell2+F4j
					; Draw_Cell2+14Ej
		add	bp, 0FFFFh
		jb	short loc_2B2E

loc_2B85:				; CODE XREF: Draw_Cell2+127j
		dec	cx
		jnz	short loc_2B74

loc_2B88:				; CODE XREF: Draw_Cell2+CCj
					; Draw_Cell2+146j
		pop	bp
		retn
Draw_Cell2	endp


; =============== S U B	R O U T	I N E =======================================


Draw_Cell3	proc near		; CODE XREF: CellVHi:loc_2F07p
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, DNpx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:2C49h, ax
		mov	es:2CD6h, ax
		mov	es:2CC3h, ax
		mov	ax, DNpy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:2C4Fh, ax
		mov	es:2CDFh, ax
		mov	es:2CC9h, ax
		mov	al, Xi
		mov	es:2C48h, al
		mov	es:2CD5h, al
		mov	es:2CC2h, al
		mov	al, Yi
		mov	es:2C4Eh, al
		mov	es:2CDEh, al
		mov	es:2CC8h, al
		mov	ax, CMP0
		mov	es:2C39h, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	cx, FLen
		inc	cx
		xor	eax, eax
		mov	ax, FLeftEnd
		mov	edi, FCSAddr
		add	edi, eax
		mov	dx, Cpx
		push	bp
		mov	ax, Cpy
		mov	bp, ax
		mov	al, 1
		cmp	CFlr, 3Fh ; '?'
		jnz	short loc_2C0A
		jmp	loc_2CD2
; ---------------------------------------------------------------------------

loc_2C0A:				; CODE XREF: Draw_Cell3+7Bj
		cmp	CFlr, 3Eh ; '>'
		jnz	short loc_2C15
		inc	cx
		jmp	loc_2CCD
; ---------------------------------------------------------------------------

loc_2C15:				; CODE XREF: Draw_Cell3+85j
					; Draw_Cell3+CAj
		mov	si, bp
		mov	ax, dx
		shr	si, 0Ch
		shr	ax, 0Ch
		mov	bx, si
		shl	si, 4
		shl	bx, 6
		add	si, ax
		shr	al, 2
		mov	bl, al
		add	bx, CurShOfs
		mov	bh, gs:[bx]
		xor	bl, bl
		add	bx, 0FFFFh
		mov	al, fs:[si+1400h]
		xlat
		mov	es:[edi], al
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_2C59

loc_2C4D:				; CODE XREF: Draw_Cell3+100j
		add	bp, 0FFFFh
		jb	short loc_2C8C

loc_2C53:				; CODE XREF: Draw_Cell3+133j
		dec	cx
		jnz	short loc_2C15
		jmp	loc_2CE6
; ---------------------------------------------------------------------------

loc_2C59:				; CODE XREF: Draw_Cell3+C1j
					; Draw_Cell3+13Bj ...
		mov	ax, FMapDx
		add	FCurMapOfs, ax
		mov	ax, FShwDx
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Eh	; '>'
		jnz	short loc_2C79
		mov	SkyVisible, 1
		jmp	short loc_2CC7
; ---------------------------------------------------------------------------

loc_2C79:				; CODE XREF: Draw_Cell3+E6j
		mov	al, 1
		cmp	bl, 3Fh	; '?'
		jz	short loc_2CDD
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2C4D
; ---------------------------------------------------------------------------

loc_2C8C:				; CODE XREF: Draw_Cell3+C7j
					; Draw_Cell3+141j ...
		mov	ax, FMapDy
		add	FCurMapOfs, ax
		mov	ax, FShwDy
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Eh	; '>'
		jnz	short loc_2CAC
		mov	SkyVisible, 1
		jmp	short loc_2CCD
; ---------------------------------------------------------------------------

loc_2CAC:				; CODE XREF: Draw_Cell3+119j
		mov	al, 1
		cmp	bl, 3Fh	; '?'
		jz	short loc_2CE3
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2C53
; ---------------------------------------------------------------------------

loc_2CBF:				; CODE XREF: Draw_Cell3+144j
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_2C59

loc_2CC7:				; CODE XREF: Draw_Cell3+EDj
		add	bp, 0FFFFh
		jb	short loc_2C8C

loc_2CCD:				; CODE XREF: Draw_Cell3+88j
					; Draw_Cell3+120j
		dec	cx
		jnz	short loc_2CBF
		jmp	short loc_2CE6
; ---------------------------------------------------------------------------

loc_2CD2:				; CODE XREF: Draw_Cell3+7Dj
					; Draw_Cell3+15Aj
		inc	edi
		add	dx, 0FFFFh
		jnb	short loc_2CDD
		jmp	loc_2C59
; ---------------------------------------------------------------------------

loc_2CDD:				; CODE XREF: Draw_Cell3+F4j
					; Draw_Cell3+14Ej
		add	bp, 0FFFFh
		jb	short loc_2C8C

loc_2CE3:				; CODE XREF: Draw_Cell3+127j
		dec	cx
		jnz	short loc_2CD2

loc_2CE6:				; CODE XREF: Draw_Cell3+CCj
					; Draw_Cell3+146j
		pop	bp
		retn
Draw_Cell3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CellVHi		proc near		; CODE XREF: BuildFloorCell+6Fp

var_2		= word ptr -2

		enter	2, 0
		xor	ax, ax
		mov	word ptr FCSAddr, ax
		mov	word ptr FCSAddr+2, ax
		mov	ax, WinSX
		mov	FLeftEnd, ax
		mov	ax, WinEX
		mov	FRightEnd, ax
		cmp	ica, 0
		jge	short loc_2D0E
		mov	Xi, 0C2h ; 'Â'
		jmp	short loc_2D13
; ---------------------------------------------------------------------------

loc_2D0E:				; CODE XREF: CellVHi+1Dj
		mov	Xi, 0EAh ; 'ê'

loc_2D13:				; CODE XREF: CellVHi+24j
		cmp	isa, 0
		jle	short loc_2D21
		mov	Yi, 0C5h ; 'Å'
		jmp	short loc_2D26
; ---------------------------------------------------------------------------

loc_2D21:				; CODE XREF: CellVHi+30j
		mov	Yi, 0EDh ; 'í'

loc_2D26:				; CODE XREF: CellVHi+37j
		mov	ax, YMin1
		inc	ax
		mov	[bp+var_2], ax
		mov	ax, WinH2u
		cmp	ax, [bp+var_2]
		jge	short loc_2D38
		jmp	locret_2F1E
; ---------------------------------------------------------------------------

loc_2D38:				; CODE XREF: CellVHi+4Bj
		mov	n__0, ax
		jmp	short loc_2D41
; ---------------------------------------------------------------------------

loc_2D3D:				; CODE XREF: CellVHi+233j
		dec	n__0

loc_2D41:				; CODE XREF: CellVHi+53j CellVHi+8Aj
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, FLeftEnd
		inc	ax
		mov	di, ax
		shl	di, 1
		mov	ax, [di-7DD2h]
		shr	ax, 4
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_2D64
		jl	short loc_2D74
		cmp	ax, cx
		jbe	short loc_2D74

loc_2D64:				; CODE XREF: CellVHi+74j
		mov	ax, FRightEnd
		dec	ax
		cmp	ax, FLeftEnd
		jle	short loc_2D74
		inc	FLeftEnd
		jmp	short loc_2D41
; ---------------------------------------------------------------------------

loc_2D74:				; CODE XREF: CellVHi+76j CellVHi+7Aj ...
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, FRightEnd
		dec	ax
		mov	di, ax
		shl	di, 1
		mov	ax, [di-7DD2h]
		shr	ax, 4
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_2D97
		jl	short loc_2DA7
		cmp	ax, cx
		jbe	short loc_2DA7

loc_2D97:				; CODE XREF: CellVHi+A7j
		mov	ax, FLeftEnd
		inc	ax
		cmp	ax, FRightEnd
		jge	short loc_2DA7
		dec	FRightEnd
		jmp	short loc_2D74
; ---------------------------------------------------------------------------

loc_2DA7:				; CODE XREF: CellVHi+A9j CellVHi+ADj ...
		mov	ax, FRightEnd
		sub	ax, FLeftEnd
		mov	FLen, ax
		mov	ax, FLeftEnd
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoCX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	FLE160,	ax
		mov	dx, word_44B3A
		mov	ax, CellV
		mov	bx, n__0
		div	bx
		mov	TMy, ax
		sub	TMy, 10h
		xor	dx, dx
		shl	ax, 2
		mov	bx, FloorDiv
		div	bx
		mov	DNp, ax
		mov	ax, DNp
		mov	bx, ica2
		imul	bx
		shr	ax, 8
		mov	ah, dl
		mov	DNpx, ax
		mov	ax, DNp
		mov	bx, isa2
		imul	bx
		shr	ax, 8
		mov	ah, dl
		mov	DNpy, ax
		mov	ax, DNp
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	DNp, ax
		xor	ax, ax
		mov	AliasMask, ax
		xor	ecx, ecx
		mov	cx, ehy
		shl	ecx, 8
		xor	eax, eax
		xor	ebx, ebx
		mov	ax, DNpy
		cwde
		mov	ebx, eax
		mov	ax, FLE160
		cwde
		imul	ebx
		sub	ecx, eax
		xor	eax, eax
		xor	ebx, ebx
		mov	ax, ica4
		cwde
		mov	bx, TMy
		imul	ebx
		sub	ecx, eax
		mov	eax, ecx
		mov	Cpy, ax
		shr	eax, 10h
		mov	FMy, ax
		xor	ecx, ecx
		mov	cx, ehx
		shl	ecx, 8
		mov	ax, DNpx
		mov	bx, FLE160
		imul	bx
		shl	edx, 10h
		mov	dx, ax
		add	ecx, edx
		mov	ax, isa4
		mov	bx, TMy
		imul	bx
		shl	edx, 10h
		mov	dx, ax
		sub	ecx, edx
		mov	eax, ecx
		mov	Cpx, ax
		shr	eax, 10h
		mov	FMx, ax
		mov	ax, FMx
		shl	ax, 6
		add	ax, FMy
		add	ax, 5EC6h
		mov	FCurMapOfs, ax
		mov	ax, FMy
		shl	ax, 0Ah
		mov	si, FMx
		shl	si, 2
		add	ax, si
		mov	CurShOfs, ax
		mov	di, FCurMapOfs
		mov	bl, [di]
		mov	CFlr, bl
		xor	bh, bh
		shl	bx, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		mov	dx, 0
		mov	ax, BlevelC
		mov	bx, n__0
		div	bx
		cmp	al, 10h
		jb	short loc_2EE4
		mov	al, 10h

loc_2EE4:				; CODE XREF: CellVHi+1F8j
		shl	ax, 8
		add	ax, 1AC6h
		mov	CMP0, ax
		cmp	DNp, 100h
		ja	short loc_2EFA
		call	Draw_Cell1
		jmp	short loc_2F0A
; ---------------------------------------------------------------------------

loc_2EFA:				; CODE XREF: CellVHi+20Bj
		cmp	DNp, 200h
		ja	short loc_2F07
		call	Draw_Cell2
		jmp	short loc_2F0A
; ---------------------------------------------------------------------------

loc_2F07:				; CODE XREF: CellVHi+218j
		call	Draw_Cell3

loc_2F0A:				; CODE XREF: CellVHi+210j CellVHi+21Dj
		mov	eax, VideoBPL
		add	FCSAddr, eax
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jz	short locret_2F1E
		jmp	loc_2D3D
; ---------------------------------------------------------------------------

locret_2F1E:				; CODE XREF: CellVHi+4Dj CellVHi+231j
		leave
		retn
CellVHi		endp


; =============== S U B	R O U T	I N E =======================================


Draw_Floor1	proc near		; CODE XREF: FloorVHi+227p
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, DNpx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:2FC2h, ax
		mov	es:3023h, ax
		mov	ax, DNpy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:2FC8h, ax
		mov	es:3029h, ax
		mov	al, Xi
		mov	es:2FC1h, al
		mov	es:3022h, al
		mov	al, Yi
		mov	es:2FC7h, al
		mov	es:3028h, al
		mov	ax, CMP0
		mov	es:2FB4h, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	cx, FLen
		inc	cx
		xor	eax, eax
		mov	ax, FLeftEnd
		mov	edi, FCSAddr
		add	edi, eax
		mov	dx, Cpx
		push	bp
		mov	ax, Cpy
		mov	bp, ax
		mov	al, 1
		cmp	CFlr, 3Fh ; '?'
		jnz	short loc_2F90
		jmp	loc_301F
; ---------------------------------------------------------------------------

loc_2F90:				; CODE XREF: Draw_Floor1+6Bj
					; Draw_Floor1+ADj
		mov	si, bp
		mov	ax, dx
		shr	si, 0Ah
		shr	ax, 0Ah
		mov	bx, si
		shl	si, 6
		shl	bx, 4
		add	si, ax
		shr	al, 4
		mov	bl, al
		add	bx, CurShOfs
		mov	bh, gs:[bx]
		xor	bl, bl
		add	bx, 0FFFFh
		mov	al, fs:[si]
		xlat
		mov	es:[edi], al
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_2FD1

loc_2FC6:				; CODE XREF: Draw_Floor1+D6j
		add	bp, 0FFFFh
		jb	short loc_2FF8

loc_2FCC:				; CODE XREF: Draw_Floor1+FDj
		dec	cx
		jnz	short loc_2F90
		jmp	short loc_3030
; ---------------------------------------------------------------------------

loc_2FD1:				; CODE XREF: Draw_Floor1+A4j
					; Draw_Floor1+105j
		mov	ax, FMapDx
		add	FCurMapOfs, ax
		mov	ax, FShwDx
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Fh	; '?'
		mov	al, 1
		jz	short loc_3027
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2FC6
; ---------------------------------------------------------------------------

loc_2FF8:				; CODE XREF: Draw_Floor1+AAj
					; Draw_Floor1+10Bj
		mov	ax, FMapDy
		add	FCurMapOfs, ax
		mov	ax, FShwDy
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Fh	; '?'
		mov	al, 1
		jz	short loc_302D
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_2FCC
; ---------------------------------------------------------------------------

loc_301F:				; CODE XREF: Draw_Floor1+6Dj
					; Draw_Floor1+10Ej
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_2FD1

loc_3027:				; CODE XREF: Draw_Floor1+CAj
		add	bp, 0FFFFh
		jb	short loc_2FF8

loc_302D:				; CODE XREF: Draw_Floor1+F1j
		dec	cx
		jnz	short loc_301F

loc_3030:				; CODE XREF: Draw_Floor1+AFj
		pop	bp
		retn
Draw_Floor1	endp


; =============== S U B	R O U T	I N E =======================================


Draw_Floor2	proc near		; CODE XREF: FloorVHi+234p
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, DNpx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:30D6h, ax
		mov	es:3137h, ax
		mov	ax, DNpy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:30DCh, ax
		mov	es:313Dh, ax
		mov	al, Xi
		mov	es:30D5h, al
		mov	es:3136h, al
		mov	al, Yi
		mov	es:30DBh, al
		mov	es:313Ch, al
		mov	ax, CMP0
		mov	es:30C6h, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	cx, FLen
		inc	cx
		xor	eax, eax
		mov	ax, FLeftEnd
		mov	edi, FCSAddr
		add	edi, eax
		mov	dx, Cpx
		push	bp
		mov	ax, Cpy
		mov	bp, ax
		mov	al, 1
		cmp	CFlr, 3Fh ; '?'
		jnz	short loc_30A2
		jmp	loc_3133
; ---------------------------------------------------------------------------

loc_30A2:				; CODE XREF: Draw_Floor2+6Bj
					; Draw_Floor2+AFj
		mov	si, bp
		mov	ax, dx
		shr	si, 0Bh
		shr	ax, 0Bh
		mov	bx, si
		shl	si, 5
		shl	bx, 5
		add	si, ax
		shr	al, 3
		mov	bl, al
		add	bx, CurShOfs
		mov	bh, gs:[bx]
		xor	bl, bl
		add	bx, 0FFFFh
		mov	al, fs:[si+1000h]
		xlat
		mov	es:[edi], al
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_30E5

loc_30DA:				; CODE XREF: Draw_Floor2+D8j
		add	bp, 0FFFFh
		jb	short loc_310C

loc_30E0:				; CODE XREF: Draw_Floor2+FFj
		dec	cx
		jnz	short loc_30A2
		jmp	short loc_3144
; ---------------------------------------------------------------------------

loc_30E5:				; CODE XREF: Draw_Floor2+A6j
					; Draw_Floor2+107j
		mov	ax, FMapDx
		add	FCurMapOfs, ax
		mov	ax, FShwDx
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Fh	; '?'
		mov	al, 1
		jz	short loc_313B
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_30DA
; ---------------------------------------------------------------------------

loc_310C:				; CODE XREF: Draw_Floor2+ACj
					; Draw_Floor2+10Dj
		mov	ax, FMapDy
		add	FCurMapOfs, ax
		mov	ax, FShwDy
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Fh	; '?'
		mov	al, 1
		jz	short loc_3141
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_30E0
; ---------------------------------------------------------------------------

loc_3133:				; CODE XREF: Draw_Floor2+6Dj
					; Draw_Floor2+110j
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_30E5

loc_313B:				; CODE XREF: Draw_Floor2+CCj
		add	bp, 0FFFFh
		jb	short loc_310C

loc_3141:				; CODE XREF: Draw_Floor2+F3j
		dec	cx
		jnz	short loc_3133

loc_3144:				; CODE XREF: Draw_Floor2+B1j
		pop	bp
		retn
Draw_Floor2	endp


; =============== S U B	R O U T	I N E =======================================


Draw_Floor3	proc near		; CODE XREF: FloorVHi:loc_3493p
		mov	ax, CSCopy__0
		mov	es, ax
		mov	ax, DNpx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:31EAh, ax
		mov	es:324Bh, ax
		mov	ax, DNpy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	es:31F0h, ax
		mov	es:3251h, ax
		mov	al, Xi
		mov	es:31E9h, al
		mov	es:324Ah, al
		mov	al, Yi
		mov	es:31EFh, al
		mov	es:3250h, al
		mov	ax, CMP0
		mov	es:31DAh, ax
		mov	ax, VgaSeg
		mov	es, ax
		mov	cx, FLen
		inc	cx
		xor	eax, eax
		mov	ax, FLeftEnd
		mov	edi, FCSAddr
		add	edi, eax
		mov	dx, Cpx
		push	bp
		mov	ax, Cpy
		mov	bp, ax
		mov	al, 1
		cmp	CFlr, 3Fh ; '?'
		jnz	short loc_31B6
		jmp	loc_3247
; ---------------------------------------------------------------------------

loc_31B6:				; CODE XREF: Draw_Floor3+6Bj
					; Draw_Floor3+AFj
		mov	si, bp
		mov	ax, dx
		shr	si, 0Ch
		shr	ax, 0Ch
		mov	bx, si
		shl	si, 4
		shl	bx, 6
		add	si, ax
		shr	al, 2
		mov	bl, al
		add	bx, CurShOfs
		mov	bh, gs:[bx]
		xor	bl, bl
		add	bx, 0FFFFh
		mov	al, fs:[si+1400h]
		xlat
		mov	es:[edi], al
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_31F9

loc_31EE:				; CODE XREF: Draw_Floor3+D8j
		add	bp, 0FFFFh
		jb	short loc_3220

loc_31F4:				; CODE XREF: Draw_Floor3+FFj
		dec	cx
		jnz	short loc_31B6
		jmp	short loc_3258
; ---------------------------------------------------------------------------

loc_31F9:				; CODE XREF: Draw_Floor3+A6j
					; Draw_Floor3+107j
		mov	ax, FMapDx
		add	FCurMapOfs, ax
		mov	ax, FShwDx
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Fh	; '?'
		mov	al, 1
		jz	short loc_324F
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_31EE
; ---------------------------------------------------------------------------

loc_3220:				; CODE XREF: Draw_Floor3+ACj
					; Draw_Floor3+10Dj
		mov	ax, FMapDy
		add	FCurMapOfs, ax
		mov	ax, FShwDy
		add	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		cmp	bl, 3Fh	; '?'
		mov	al, 1
		jz	short loc_3255
		xor	bh, bh
		shl	bl, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		jmp	short loc_31F4
; ---------------------------------------------------------------------------

loc_3247:				; CODE XREF: Draw_Floor3+6Dj
					; Draw_Floor3+110j
		inc	edi
		add	dx, 0FFFFh
		jb	short loc_31F9

loc_324F:				; CODE XREF: Draw_Floor3+CCj
		add	bp, 0FFFFh
		jb	short loc_3220

loc_3255:				; CODE XREF: Draw_Floor3+F3j
		dec	cx
		jnz	short loc_3247

loc_3258:				; CODE XREF: Draw_Floor3+B1j
		pop	bp
		retn
Draw_Floor3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FloorVHi	proc near		; CODE XREF: BuildFloorCell+8Ap

var_2		= word ptr -2

		enter	2, 0
		mov	ax, WinCY
		add	ax, WinH2d
		mov	di, ax
		shl	di, 2
		mov	ax, [di-6E84h]
		mov	dx, [di-6E82h]
		mov	word ptr FCSAddr, ax
		mov	word ptr FCSAddr+2, dx
		mov	ax, WinSX
		mov	FLeftEnd, ax
		mov	ax, WinEX
		mov	FRightEnd, ax
		cmp	ica, 0
		jge	short loc_3293
		mov	Xi, 0C2h ; 'Â'
		jmp	short loc_3298
; ---------------------------------------------------------------------------

loc_3293:				; CODE XREF: FloorVHi+30j
		mov	Xi, 0EAh ; 'ê'

loc_3298:				; CODE XREF: FloorVHi+37j
		cmp	isa, 0
		jle	short loc_32A6
		mov	Yi, 0C5h ; 'Å'
		jmp	short loc_32AB
; ---------------------------------------------------------------------------

loc_32A6:				; CODE XREF: FloorVHi+43j
		mov	Yi, 0EDh ; 'í'

loc_32AB:				; CODE XREF: FloorVHi+4Aj
		mov	ax, YMin2
		inc	ax
		mov	[bp+var_2], ax
		mov	ax, WinH2d
		cmp	ax, [bp+var_2]
		jge	short loc_32BD
		jmp	locret_34A1
; ---------------------------------------------------------------------------

loc_32BD:				; CODE XREF: FloorVHi+5Ej
		mov	n__0, ax
		jmp	short loc_32C6
; ---------------------------------------------------------------------------

loc_32C2:				; CODE XREF: FloorVHi+244j
		dec	n__0

loc_32C6:				; CODE XREF: FloorVHi+66j FloorVHi+9Dj
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, FLeftEnd
		inc	ax
		mov	di, ax
		shl	di, 1
		mov	ax, [di-7734h]
		shr	ax, 4
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_32E9
		jl	short loc_32F9
		cmp	ax, cx
		jbe	short loc_32F9

loc_32E9:				; CODE XREF: FloorVHi+87j
		mov	ax, FRightEnd
		dec	ax
		cmp	ax, FLeftEnd
		jle	short loc_32F9
		inc	FLeftEnd
		jmp	short loc_32C6
; ---------------------------------------------------------------------------

loc_32F9:				; CODE XREF: FloorVHi+89j FloorVHi+8Dj ...
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, FRightEnd
		dec	ax
		mov	di, ax
		shl	di, 1
		mov	ax, [di-7734h]
		shr	ax, 4
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_331C
		jl	short loc_332C
		cmp	ax, cx
		jbe	short loc_332C

loc_331C:				; CODE XREF: FloorVHi+BAj
		mov	ax, FLeftEnd
		inc	ax
		cmp	ax, FRightEnd
		jge	short loc_332C
		dec	FRightEnd
		jmp	short loc_32F9
; ---------------------------------------------------------------------------

loc_332C:				; CODE XREF: FloorVHi+BCj FloorVHi+C0j ...
		mov	ax, FRightEnd
		sub	ax, FLeftEnd
		mov	FLen, ax
		mov	ax, FLeftEnd
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoCX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	FLE160,	ax
		mov	dx, word_44B3E
		mov	ax, FloorV
		mov	bx, n__0
		div	bx
		mov	TMy, ax
		sub	TMy, 10h
		xor	dx, dx
		shl	ax, 2
		mov	bx, FloorDiv
		div	bx
		mov	DNp, ax
		mov	cx, 100h
		mov	ax, DNp
		mov	bx, ica2
		imul	bx
		shr	ax, 8
		mov	ah, dl
		mov	DNpx, ax
		mov	ax, DNp
		mov	bx, isa2
		imul	bx
		shr	ax, 8
		mov	ah, dl
		mov	DNpy, ax
		mov	ax, DNp
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	DNp, ax
		xor	ecx, ecx
		mov	cx, ehy
		shl	ecx, 8
		mov	ax, DNpy
		mov	bx, FLE160
		imul	bx
		shl	edx, 10h
		mov	dx, ax
		sub	ecx, edx
		mov	ax, ica4
		mov	bx, TMy
		imul	bx
		shl	edx, 10h
		mov	dx, ax
		sub	ecx, edx
		mov	eax, ecx
		mov	Cpy, ax
		shr	eax, 10h
		mov	FMy, ax
		xor	ecx, ecx
		mov	cx, ehx
		shl	ecx, 8
		xor	eax, eax
		xor	ebx, ebx
		mov	ax, DNpx
		cwde
		mov	ebx, eax
		mov	ax, FLE160
		cwde
		imul	ebx
		add	ecx, eax
		xor	eax, eax
		xor	ebx, ebx
		mov	ax, isa4
		cwde
		mov	bx, TMy
		imul	ebx
		sub	ecx, eax
		mov	eax, ecx
		mov	Cpx, ax
		shr	eax, 10h
		mov	FMx, ax
		mov	ax, FMx
		shl	ax, 6
		add	ax, FMy
		add	ax, 4EC6h
		mov	FCurMapOfs, ax
		mov	ax, FMy
		shl	ax, 0Ah
		mov	si, FMx
		shl	si, 2
		add	ax, si
		mov	CurShOfs, ax
		mov	si, FCurMapOfs
		mov	bl, [si]
		mov	CFlr, bl
		xor	bh, bh
		shl	bx, 1
		mov	ax, [bx+1890h]
		mov	fs, ax
		mov	eax, VideoBPL
		sub	FCSAddr, eax
		mov	dx, 0
		mov	ax, BLevelF
		mov	bx, n__0
		div	bx
		cmp	al, 10h
		jb	short loc_3470
		mov	al, 10h

loc_3470:				; CODE XREF: FloorVHi+212j
		shl	ax, 8
		add	ax, 1AC6h
		mov	CMP0, ax
		cmp	DNp, 100h
		ja	short loc_3486
		call	Draw_Floor1
		jmp	short loc_3496
; ---------------------------------------------------------------------------

loc_3486:				; CODE XREF: FloorVHi+225j
		cmp	DNp, 200h
		ja	short loc_3493
		call	Draw_Floor2
		jmp	short loc_3496
; ---------------------------------------------------------------------------

loc_3493:				; CODE XREF: FloorVHi+232j
		call	Draw_Floor3

loc_3496:				; CODE XREF: FloorVHi+22Aj
					; FloorVHi+237j
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jz	short locret_34A1
		jmp	loc_32C2
; ---------------------------------------------------------------------------

locret_34A1:				; CODE XREF: FloorVHi+60j
					; FloorVHi+242j
		leave
		retn
FloorVHi	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MovEX		proc near		; CODE XREF: BuildSky+16Cp

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= dword	ptr  0Eh
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		cld
		mov	dx, ds
		mov	ds, [bp+arg_E]
		mov	esi, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	es, ax
		mov	edi, [bp+arg_4]
		mov	ecx, [bp+arg_0]
		shr	ecx, 2
		jz	short loc_34C7
		rep movs dword ptr es:[edi], dword ptr [esi]

loc_34C7:				; CODE XREF: MovEX+1Ej
		mov	ecx, [bp+arg_0]
		and	ecx, 3
		jz	short loc_34D7
		rep movs byte ptr es:[edi], byte ptr [esi]

loc_34D7:				; CODE XREF: MovEX+2Fj
		mov	ds, dx
		leave
		retn	10h
MovEX		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BuildSky	proc near		; CODE XREF: BuildFloorCell+63p

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ch, 0
		mov	ax, YMin1
		cmp	ax, WinH2u
		jnb	short loc_34F1
		cmp	SkyVisible, 0
		jnz	short loc_34F4

loc_34F1:				; CODE XREF: BuildSky+Bj
		jmp	locret_369D
; ---------------------------------------------------------------------------

loc_34F4:				; CODE XREF: BuildSky+12j
		mov	SkyVisible, 0
		cmp	word_44DA4, 0
		jl	short loc_350A
		jg	short loc_3511
		cmp	VideoW,	190h
		jnb	short loc_3511

loc_350A:				; CODE XREF: BuildSky+21j
		mov	[bp+var_A], 6
		jmp	short loc_3516
; ---------------------------------------------------------------------------

loc_3511:				; CODE XREF: BuildSky+23j BuildSky+2Bj
		mov	[bp+var_A], 5

loc_3516:				; CODE XREF: BuildSky+32j
		mov	ax, EHFi
		mov	cx, [bp+var_A]
		shr	ax, cl
		and	ax, 0FFh
		add	ax, 400h
		mov	SkyX, ax
		xor	ax, ax
		mov	word ptr FCSAddr, ax
		mov	word ptr FCSAddr+2, ax
		mov	ax, 320h
		sub	ax, WinCY
		xor	dx, dx
		mov	cx, 0C8h ; 'È'
		div	cx
		xchg	ax, dx
		mov	SkyY, ax
		xor	ax, ax
		mov	FLeftEnd, ax
		mov	ax, WinEX
		mov	FRightEnd, ax
		mov	ax, YMin1
		inc	ax
		mov	[bp+var_C], ax
		mov	ax, WinH2u
		cmp	ax, [bp+var_C]
		jge	short loc_355E
		jmp	locret_369D
; ---------------------------------------------------------------------------

loc_355E:				; CODE XREF: BuildSky+7Cj
		mov	n__0, ax
		jmp	short loc_3567
; ---------------------------------------------------------------------------

loc_3563:				; CODE XREF: BuildSky+1BDj
		dec	n__0

loc_3567:				; CODE XREF: BuildSky+84j BuildSky+BBj
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, FLeftEnd
		inc	ax
		mov	di, ax
		shl	di, 1
		mov	ax, [di-7DD2h]
		shr	ax, 4
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_358A
		jl	short loc_359A
		cmp	ax, cx
		jb	short loc_359A

loc_358A:				; CODE XREF: BuildSky+A5j
		mov	ax, FRightEnd
		dec	ax
		cmp	ax, FLeftEnd
		jle	short loc_359A
		inc	FLeftEnd
		jmp	short loc_3567
; ---------------------------------------------------------------------------

loc_359A:				; CODE XREF: BuildSky+A7j BuildSky+ABj ...
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, FRightEnd
		dec	ax
		mov	di, ax
		shl	di, 1
		mov	ax, [di-7DD2h]
		shr	ax, 4
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_35BD
		jl	short loc_35CD
		cmp	ax, cx
		jb	short loc_35CD

loc_35BD:				; CODE XREF: BuildSky+D8j
		mov	ax, FLeftEnd
		inc	ax
		cmp	ax, FRightEnd
		jge	short loc_35CD
		dec	FRightEnd
		jmp	short loc_359A
; ---------------------------------------------------------------------------

loc_35CD:				; CODE XREF: BuildSky+DAj BuildSky+DEj ...
		mov	ax, FRightEnd
		sub	ax, FLeftEnd
		inc	ax
		mov	FLen, ax
		mov	ax, FLeftEnd
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, SkyX
		sub	ax, VideoCX
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		and	ax, 0FFh
		and	dx, 0
		mov	[bp+var_6], ax
		mov	ax, FLeftEnd
		cwd
		add	ax, word ptr FCSAddr
		adc	dx, word ptr FCSAddr+2
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx

loc_3609:				; CODE XREF: BuildSky+192j
		mov	ax, [bp+var_6]
		add	ax, FLen
		cmp	ax, 0FFh
		ja	short loc_361D
		mov	ax, FLen
		mov	[bp+var_A], ax
		jmp	short loc_3626
; ---------------------------------------------------------------------------

loc_361D:				; CODE XREF: BuildSky+136j
		mov	ax, 100h
		sub	ax, [bp+var_6]
		mov	[bp+var_A], ax

loc_3626:				; CODE XREF: BuildSky+13Ej
		les	di, SkyPtr
		push	es
		mov	ax, SkyY
		shl	ax, 8
		add	ax, [bp+var_6]
		xor	dx, dx
		push	dx
		push	ax
		push	VgaSeg
		push	[bp+var_2]
		push	[bp+var_4]
		mov	ax, [bp+var_A]
		xor	dx, dx
		push	dx
		push	ax
		call	MovEX
		mov	ax, [bp+var_A]
		xor	dx, dx
		add	[bp+var_4], ax
		adc	[bp+var_2], dx
		mov	ax, [bp+var_6]
		add	ax, [bp+var_A]
		and	ax, 0FFh
		mov	[bp+var_6], ax
		mov	ax, [bp+var_A]
		sub	FLen, ax
		cmp	FLen, 0
		jnz	short loc_3609
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		add	word ptr FCSAddr, ax
		adc	word ptr FCSAddr+2, dx
		inc	SkyY
		mov	ax, SkyY
		xor	dx, dx
		mov	cx, 0C8h ; 'È'
		div	cx
		xchg	ax, dx
		mov	SkyY, ax
		mov	ax, n__0
		cmp	ax, [bp+var_C]
		jz	short locret_369D
		jmp	loc_3563
; ---------------------------------------------------------------------------

locret_369D:				; CODE XREF: BuildSky:loc_34F1j
					; BuildSky+7Ej	...
		leave
		retn
BuildSky	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BuildFloorCell	proc near		; CODE XREF: DoGame+BC5p

var_1		= byte ptr -1

		enter	2, 0
		mov	ax, ShadowSeg
		mov	gs, ax
		cmp	ica, 0
		jle	short loc_36B7
		mov	FMapDx,	0FFC0h
		jmp	short loc_36BD
; ---------------------------------------------------------------------------

loc_36B7:				; CODE XREF: BuildFloorCell+Ej
		mov	FMapDx,	40h ; '@'

loc_36BD:				; CODE XREF: BuildFloorCell+16j
		cmp	isa, 0
		jle	short loc_36CC
		mov	FMapDy,	1
		jmp	short loc_36D2
; ---------------------------------------------------------------------------

loc_36CC:				; CODE XREF: BuildFloorCell+23j
		mov	FMapDy,	0FFFFh

loc_36D2:				; CODE XREF: BuildFloorCell+2Bj
		cmp	ica, 0
		jle	short loc_36E1
		mov	FShwDx,	0FFFCh
		jmp	short loc_36E7
; ---------------------------------------------------------------------------

loc_36E1:				; CODE XREF: BuildFloorCell+38j
		mov	FShwDx,	4

loc_36E7:				; CODE XREF: BuildFloorCell+40j
		cmp	isa, 0
		jle	short loc_36F6
		mov	FShwDy,	400h
		jmp	short loc_36FC
; ---------------------------------------------------------------------------

loc_36F6:				; CODE XREF: BuildFloorCell+4Dj
		mov	FShwDy,	0FC00h

loc_36FC:				; CODE XREF: BuildFloorCell+55j
					; BuildFloorCell+7Fj
		mov	al, SkyVisible
		mov	[bp+var_1], al
		call	BuildSky
		mov	ax, YMin1
		cmp	ax, WinH2u
		jnb	short loc_3711
		call	CellVHi

loc_3711:				; CODE XREF: BuildFloorCell+6Dj
		cmp	SkyVisible, 0
		jz	short loc_3720
		cmp	[bp+var_1], 0
		jnz	short loc_3720
		jmp	short loc_36FC
; ---------------------------------------------------------------------------

loc_3720:				; CODE XREF: BuildFloorCell+77j
					; BuildFloorCell+7Dj
		mov	ax, YMin2
		cmp	ax, WinH2d
		jnb	short loc_372C
		call	FloorVHi

loc_372C:				; CODE XREF: BuildFloorCell+88j
		mov	ax, CSCopy__0
		mov	gs, ax
		leave
		retn
BuildFloorCell	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawCross	proc near		; CODE XREF: EndPaint+2F7p

var_5		= byte ptr -5
var_4		= word ptr -4
arg_0		= word ptr  4

		enter	6, 0
		cmp	Cocpit,	0
		jz	short loc_3745
		cmp	NETMonitor, 0
		jz	short loc_3748

loc_3745:				; CODE XREF: DrawCross+9j
		jmp	locret_383A
; ---------------------------------------------------------------------------

loc_3748:				; CODE XREF: DrawCross+10j
		cmp	InfoPage, 0
		jz	short loc_375D
		mov	ax, VideoCY
		sub	ax, 0Ch
		add	ax, [bp+arg_0]
		mov	[bp+var_4], ax
		jmp	short loc_3769
; ---------------------------------------------------------------------------

loc_375D:				; CODE XREF: DrawCross+1Aj
		mov	ax, VideoCY
		add	ax, 4
		add	ax, [bp+arg_0]
		mov	[bp+var_4], ax

loc_3769:				; CODE XREF: DrawCross+28j
		cmp	CurVideoMode, 1
		jnz	short loc_3776
		mov	[bp+var_5], 0FAh ; 'ú'
		jmp	short loc_377A
; ---------------------------------------------------------------------------

loc_3776:				; CODE XREF: DrawCross+3Bj
		mov	[bp+var_5], 0FBh ; 'û'

loc_377A:				; CODE XREF: DrawCross+41j
		mov	ax, VgaSeg
		mov	fs, ax
		mov	ax, RGBSeg25
		mov	es, ax
		xor	esi, esi
		mov	si, VideoCX
		sub	si, 4
		mov	bx, [bp+var_4]
		shl	bx, 2
		add	esi, [bx-6E84h]
		mov	cx, 4
		mov	bh, [bp+var_5]

loc_379F:				; CODE XREF: DrawCross+7Bj
		mov	bl, fs:[esi]
		mov	al, es:[bx]
		mov	fs:[esi], al
		dec	esi
		dec	bh
		loop	loc_379F
		xor	esi, esi
		mov	si, VideoCX
		add	si, 4
		mov	bx, [bp+var_4]
		shl	bx, 2
		add	esi, [bx-6E84h]
		mov	cx, 4
		mov	bh, [bp+var_5]

loc_37CB:				; CODE XREF: DrawCross+A7j
		mov	bl, fs:[esi]
		mov	al, es:[bx]
		mov	fs:[esi], al
		inc	esi
		dec	bh
		loop	loc_37CB
		xor	esi, esi
		mov	si, VideoCX
		mov	bx, [bp+var_4]
		add	bx, 4
		shl	bx, 2
		add	esi, [bx-6E84h]
		mov	cx, 4
		mov	bh, [bp+var_5]

loc_37F7:				; CODE XREF: DrawCross+D6j
		mov	bl, fs:[esi]
		mov	al, es:[bx]
		mov	fs:[esi], al
		add	esi, VideoBPL
		dec	bh
		loop	loc_37F7
		xor	esi, esi
		mov	si, VideoCX
		mov	bx, [bp+var_4]
		sub	bx, 4
		shl	bx, 2
		add	esi, [bx-6E84h]
		mov	cx, 4
		mov	bh, [bp+var_5]

loc_3826:				; CODE XREF: DrawCross+105j
		mov	bl, fs:[esi]
		mov	al, es:[bx]
		mov	fs:[esi], al
		sub	esi, VideoBPL
		dec	bh
		loop	loc_3826

locret_383A:				; CODE XREF: DrawCross:loc_3745j
		leave
		retn	2
DrawCross	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowValue	proc near		; CODE XREF: EndPaint+38Dp
					; EndPaint+39Dp ...

var_3		= byte ptr -3
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	4, 0
		cmp	NETMonitor, 0
		jz	short loc_3851
		mov	dx, 0
		call	SwitchBank

loc_3851:				; CODE XREF: ShowValue+9j
		cmp	[bp+arg_4], 0
		jge	short loc_385C
		xor	ax, ax
		mov	[bp+arg_4], ax

loc_385C:				; CODE XREF: ShowValue+17j
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_3866
; ---------------------------------------------------------------------------

loc_3863:				; CODE XREF: ShowValue+85j
		inc	[bp+var_2]

loc_3866:				; CODE XREF: ShowValue+23j
		mov	ax, [bp+arg_4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_387D
		jl	short loc_3883
		cmp	ax, cx
		jb	short loc_3883

loc_387D:				; CODE XREF: ShowValue+37j
		mov	[bp+var_3], 0
		jmp	short loc_38AB
; ---------------------------------------------------------------------------

loc_3883:				; CODE XREF: ShowValue+39j
					; ShowValue+3Dj
		cmp	[bp+var_2], 5
		jnb	short loc_388F
		mov	[bp+var_3], 6Ch	; 'l'
		jmp	short loc_38AB
; ---------------------------------------------------------------------------

loc_388F:				; CODE XREF: ShowValue+49j
		cmp	[bp+var_2], 0Ah
		jnb	short loc_389B
		mov	[bp+var_3], 32h	; '2'
		jmp	short loc_38AB
; ---------------------------------------------------------------------------

loc_389B:				; CODE XREF: ShowValue+55j
		cmp	[bp+var_2], 0Fh
		jnb	short loc_38A7
		mov	[bp+var_3], 0A6h ; '¦'
		jmp	short loc_38AB
; ---------------------------------------------------------------------------

loc_38A7:				; CODE XREF: ShowValue+61j
		mov	[bp+var_3], 0AAh ; 'ª'

loc_38AB:				; CODE XREF: ShowValue+43j
					; ShowValue+4Fj ...
		mov	dl, [bp+var_3]
		mov	ax, VgaSeg
		push	ax
		mov	di, [bp+arg_2]
		pop	es
		mov	es:[di], dl
		mov	ax, [bp+arg_0]
		sub	[bp+arg_2], ax
		cmp	[bp+var_2], 1Fh
		jnz	short loc_3863
		leave
		retn	6
ShowValue	endp

; ---------------------------------------------------------------------------
WhatKey		db  60h	; `
		dd unk_41A6E
		db  8Eh	; Ž
		db 0D8h	; Ø
		db 0E4h	; ä
		db  60h	; `
		db  80h	; €
		db  3Eh	; >
		db 0B8h	; ¸
		db 0ECh	; ì
		db 0E0h	; à
		db  75h	; u
		db  0Ch
		db  3Ch	; <
		db 0AAh	; ª
		db  74h	; t
		db    6
		db  3Ch	; <
		db 0BCh	; ¼
		db  74h	; t
		db    2
		db 0EBh	; ë
		db    2
		db 0B0h	; °
		db    0
		db  80h	; €
		db  3Eh	; >
		db 0B8h	; ¸
		db 0ECh	; ì
		db 0E1h	; á
		db  75h	; u
		db    6
		db  3Ch	; <
		db  1Dh
		db  75h	; u
		db    2
		db 0B0h	; °
		db  6Fh	; o
		db 0A2h	; ¢
		db 0B8h	; ¸
		db 0ECh	; ì
		db 0E4h	; ä
		db  61h	; a
		db  0Ch
		db  80h	; €
		db 0E6h	; æ
		db  61h	; a
		db  24h	; $
		db  7Fh	; 
		db 0E6h	; æ
		db  61h	; a
		db 0B0h	; °
		db  20h
		db 0E6h	; æ
		db  20h
		db  31h	; 1
		db 0DBh	; Û
		db 0A0h	;  
		db 0B8h	; ¸
		db 0ECh	; ì
		db  88h	; ˆ
		db 0C3h	; Ã
		db 0C0h	; À
		db 0E8h	; è
		db    7
		db  34h	; 4
		db    1
		db  80h	; €
		db 0E3h	; ã
		db  7Fh	; 
		db  81h	; 
		db 0C3h	; Ã
		db  0Eh
		db 0ECh	; ì
		db  88h	; ˆ
		db    7
		db  3Ch	; <
		db    0
		db  74h	; t
		db  14h
		db  8Bh	; ‹
		db  1Eh
		db  9Eh	; ž
		db 0ECh	; ì
		db  83h	; ƒ
		db 0FBh	; û
		db  0Fh
		db  73h	; s
		db  0Bh
		db 0A0h	;  
		db 0B8h	; ¸
		db 0ECh	; ì
		db  88h	; ˆ
		db  87h	; ‡
		db  8Eh	; Ž
		db 0ECh	; ì
		db 0FFh
		db    6
		db  9Eh	; ž
		db 0ECh	; ì
		db  1Fh
		db  61h	; a
		db 0CFh	; Ï
		db 0C3h	; Ã
TimerFM		db  60h	; `
		db  1Eh
		dd unk_41A56
		db  8Eh	; Ž
		db 0D8h	; Ø
		db 0FFh
		db    6
		db  4Ch	; L
		db 0E8h	; è
		db 0B8h	; ¸
		db    1
		db    0
		db    1
		db    6
		db  2Ah	; *
		db 0EBh	; ë
		db 0B8h	; ¸
		db    0
		db    0
		db  11h
		db    6
		db  2Ch	; ,
		db 0EBh	; ë
		db 0B8h	; ¸
		db  64h	; d
		db    0
		db  29h	; )
		db    6
		db  12h
		db    0
		db  79h	; y
		db  0Ch
		db 0B8h	; ¸
		db    1
		db    3
		db    1
		db    6
		db  12h
		db    0
		db  9Ch	; œ
		db 0FFh
		db  1Eh
		db  76h	; v
		db 0E9h	; é
		db  80h	; €
		db  3Eh	; >
		db  57h	; W
		db    4
		db    1
		db  75h	; u
		db  15h
		db 0C4h	; Ä
		db  36h	; 6
		db  1Ch
		db 0F0h	; ð
		db  81h	; 
		db 0C6h	; Æ
		db  52h	; R
		db    1
		db 0A1h	; ¡
		db  2Ah	; *
		db 0EBh	; ë
		db  26h	; &
		db  89h	; ‰
		db    4
		db 0A1h	; ¡
		db  2Ch	; ,
		db 0EBh	; ë
		db  26h	; &
		db  89h	; ‰
		db  44h	; D
		db    2
		db 0B0h	; °
		db  20h
		db 0E6h	; æ
		db  20h
		db    7
		db  1Fh
		db  61h	; a
		db 0CFh	; Ï
		db 0C3h	; Ã
aChasm_cfg	db 9,'CHASM.CFG'        ; DATA XREF: LoadConfig+9o
aChasm_def	db 9,'CHASM.DEF'        ; DATA XREF: LoadConfig:loc_39CEo
aChasm_defNotFo	db 20,'CHASM.DEF not found.' ; DATA XREF: LoadConfig+60o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadConfig	proc near		; CODE XREF: ProcessMenu+65Fp
					; PROGRAM+232p

arg_0		= byte ptr  4

		push	bp
		mov	bp, sp
		cmp	[bp+arg_0], 0
		jz	short loc_39CE
		mov	di, offset aChasm_cfg ;	"CHASM.CFG"
		push	cs
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_39E0
; ---------------------------------------------------------------------------

loc_39CE:				; CODE XREF: LoadConfig+7j
		mov	di, offset aChasm_def ;	"CHASM.DEF"
		push	cs
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_39E0:				; CODE XREF: LoadConfig+1Bj
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		mov	di, offset F
		push	ds
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		cmp	[bp+arg_0], 0
		jz	short loc_3A08
		call	ChI
		jmp	short loc_3A1E
; ---------------------------------------------------------------------------

loc_3A08:				; CODE XREF: LoadConfig+4Ej
		call	@IOResult$qv	; IOResult: Word{AX}
		or	ax, ax
		jz	short loc_3A1E
		mov	di, offset aChasm_defNotFo ; "CHASM.DEF	not found."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	locret_3C7B
; ---------------------------------------------------------------------------

loc_3A1E:				; CODE XREF: LoadConfig+55j
					; LoadConfig+5Ej
		mov	CDVolume, 8
		mov	MSsens,	0Ah
		mov	Ms1ID, 0
		mov	Ms2ID, 1
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset _FrontOn
		push	ds
		push	di
		push	13h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset RespawnTime
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset FXVolume
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset CDVolume
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset MSsens
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Bright
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Contrast
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Color
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset FloorW
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset b0
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset InfoPage
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset SelfNick
		push	ds
		push	di
		push	9
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset SelfColor
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset ShadowCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset EpisodeReset
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Cocpit
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset ReverseMouse
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset MLookOn
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset AlwaysRun
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset NGCard
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset NGPort
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset NGBaud
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset w
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Ll
		push	ds
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		cmp	[bp+arg_0], 0
		jz	short loc_3C57
		mov	ax, w
		cmp	ax, ModesList
		ja	short loc_3C57
		mov	ax, Ll
		mov	dx, word_44D64
		imul	di, w, 0Dh
		cmp	dx, [di-0BC7h]
		jnz	short loc_3C57
		cmp	ax, [di-0BC9h]
		jnz	short loc_3C57
		mov	ax, w
		mov	CurVideoMode, ax

loc_3C57:				; CODE XREF: LoadConfig+27Dj
					; LoadConfig+286j ...
		mov	di, offset F
		push	ds
		push	di
		call	@Close$qm4File	; Close(var f: File)
		call	ChI
		cmp	[bp+arg_0], 0
		jnz	short locret_3C7B
		call	SetPalette
		call	SetVolumes
		call	ReInitViewConst

locret_3C7B:				; CODE XREF: LoadConfig+6Aj
					; LoadConfig+2B9j
		leave
		retn	2
LoadConfig	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CalcYMin	proc near		; CODE XREF: DoGame+BC2p

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		mov	ax, WinH2u
		mov	YMin1, ax
		mov	ax, WinH2d
		mov	YMin2, ax
		mov	ax, WinEX
		mov	[bp+var_4], ax
		mov	ax, WinSX
		cmp	ax, [bp+var_4]
		jg	short loc_3CEF
		mov	[bp+var_2], ax
		jmp	short loc_3CA5
; ---------------------------------------------------------------------------

loc_3CA2:				; CODE XREF: CalcYMin+6Ej
		inc	[bp+var_2]

loc_3CA5:				; CODE XREF: CalcYMin+21j
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [di-7DD2h]
		shr	ax, 4
		cmp	ax, YMin1
		jnb	short loc_3CC6
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [di-7DD2h]
		shr	ax, 4
		mov	YMin1, ax

loc_3CC6:				; CODE XREF: CalcYMin+36j
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [di-7734h]
		shr	ax, 4
		cmp	ax, YMin2
		jnb	short loc_3CE7
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [di-7734h]
		shr	ax, 4
		mov	YMin2, ax

loc_3CE7:				; CODE XREF: CalcYMin+57j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_3CA2

loc_3CEF:				; CODE XREF: CalcYMin+1Cj
		cmp	YMin1, 2
		jnb	short loc_3CFC
		mov	YMin1, 2

loc_3CFC:				; CODE XREF: CalcYMin+75j
		cmp	YMin2, 2
		jnb	short locret_3D09
		mov	YMin2, 2

locret_3D09:				; CODE XREF: CalcYMin+82j
		leave
		retn
CalcYMin	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StartPaint	proc near		; CODE XREF: DoGame+1731p

var_E		= dword	ptr -0Eh
var_2		= word ptr -2

		enter	0Eh, 0
		mov	ax, WinSX
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		mov	HLxx, ax
		cmp	CurVideoMode, 1
		jnz	short loc_3D30
		mov	ax, 213Bh
		mov	dx, seg	cseg01
		mov	word ptr [bp+var_E], ax
		mov	word ptr [bp+var_E+2], dx
		jmp	short loc_3D3C
; ---------------------------------------------------------------------------

loc_3D30:				; CODE XREF: StartPaint+15j
		mov	ax, 2215h
		mov	dx, seg	cseg01
		mov	word ptr [bp+var_E], ax
		mov	word ptr [bp+var_E+2], dx

loc_3D3C:				; CODE XREF: StartPaint+23j
					; StartPaint+D3j
		mov	ax, [bp+var_2]
		cmp	ax, WinEX
		jbe	short loc_3D48
		jmp	locret_3DE1
; ---------------------------------------------------------------------------

loc_3D48:				; CODE XREF: StartPaint+38j
		mov	Double,	0
		mov	bx, [bp+var_2]
		mov	HLxx, bx
		xor	ah, ah
		les	di, dword ptr LinesBUF
		mov	al, es:[bx+2000h]
		mov	HlBr, ax
		shl	bx, 1
		mov	ax, es:[bx]
		mov	ImSeg, ax
		mov	ax, es:[bx+800h]
		mov	ImOfs, ax
		cmp	es:[bx+802h], ax
		jnz	short loc_3D81
		mov	Double,	1
		inc	[bp+var_2]

loc_3D81:				; CODE XREF: StartPaint+6Cj
		mov	ax, [bx-7DD2h]
		cmp	ax, 60h	; '`'
		ja	short loc_3D8D
		mov	ax, 60h	; '`'

loc_3D8D:				; CODE XREF: StartPaint+7Dj
		mov	HLh1, ax
		mov	ax, [bx-7734h]
		cmp	ax, 40h	; '@'
		ja	short loc_3D9C
		mov	ax, 40h	; '@'

loc_3D9C:				; CODE XREF: StartPaint+8Cj
		mov	Hlh2, ax
		mov	ax, HLh1
		add	ax, Hlh2
		shr	ax, 4
		cmp	ax, 50h	; 'P'
		jle	short loc_3DB3
		mov	bx, 0FFFFh
		jmp	short loc_3DD4
; ---------------------------------------------------------------------------

loc_3DB3:				; CODE XREF: StartPaint+A1j
		cmp	ax, 28h	; '('
		jle	short loc_3DBD
		mov	bx, 0FFFEh
		jmp	short loc_3DD4
; ---------------------------------------------------------------------------

loc_3DBD:				; CODE XREF: StartPaint+ABj
		cmp	ax, 14h
		jle	short loc_3DC7
		mov	bx, 0FFFCh
		jmp	short loc_3DD4
; ---------------------------------------------------------------------------

loc_3DC7:				; CODE XREF: StartPaint+B5j
		cmp	ax, 0Ah
		jle	short loc_3DD1
		mov	bx, 0FFF8h
		jmp	short loc_3DD4
; ---------------------------------------------------------------------------

loc_3DD1:				; CODE XREF: StartPaint+BFj
		mov	bx, 0FFF0h

loc_3DD4:				; CODE XREF: StartPaint+A6j
					; StartPaint+B0j ...
		mov	AliasMask, bx
		call	[bp+var_E]
		inc	[bp+var_2]
		jmp	loc_3D3C
; ---------------------------------------------------------------------------

locret_3DE1:				; CODE XREF: StartPaint+3Aj
		leave
		retn
StartPaint	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDateRedShade	proc near		; CODE XREF: EndPaint:loc_45F7p

var_302		= word ptr -302h
var_300		= byte ptr -300h

		enter	302h, 0
		cmp	RShadeDir, 0
		jle	short loc_3E0D
		mov	ax, t1
		shl	ax, 3
		add	RShadeLev, ax
		cmp	RShadeLev, 50h ; 'P'
		jle	short loc_3E0B
		mov	RShadeLev, 50h ; 'P'
		mov	RShadeDir, 0FFFFh

loc_3E0B:				; CODE XREF: UpDateRedShade+1Aj
		jmp	short loc_3E2C
; ---------------------------------------------------------------------------

loc_3E0D:				; CODE XREF: UpDateRedShade+9j
		cmp	RShadeDir, 0
		jge	short loc_3E2C
		mov	ax, t1
		sub	RShadeLev, ax
		cmp	RShadeLev, 0
		jge	short loc_3E2C
		xor	ax, ax
		mov	RShadeLev, ax
		xor	ax, ax
		mov	RShadeDir, ax

loc_3E2C:				; CODE XREF: UpDateRedShade:loc_3E0Bj
					; UpDateRedShade+2Fj ...
		mov	ax, LastRShadeLev
		cmp	ax, RShadeLev
		jnz	short loc_3E38
		jmp	locret_3ED6
; ---------------------------------------------------------------------------

loc_3E38:				; CODE XREF: UpDateRedShade+50j
		xor	ax, ax
		mov	GShadeDir, ax
		xor	ax, ax
		mov	LastGShadeLev, ax
		xor	ax, ax
		mov	GShadeLev, ax
		cmp	RShadeLev, 0
		jnz	short loc_3E5A
		mov	di, offset Pal
		push	ds
		push	di
		call	DoSetPalette
		jmp	short loc_3ED0
; ---------------------------------------------------------------------------

loc_3E5A:				; CODE XREF: UpDateRedShade+69j
		mov	di, offset Pal
		push	ds
		push	di
		lea	di, [bp+var_300]
		push	ss
		push	di
		push	300h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		xor	ax, ax
		mov	[bp+var_302], ax
		jmp	short loc_3E79
; ---------------------------------------------------------------------------

loc_3E75:				; CODE XREF: UpDateRedShade+E0j
		inc	[bp+var_302]

loc_3E79:				; CODE XREF: UpDateRedShade+90j
		mov	ax, RShadeLev
		shr	ax, 2
		mov	dx, ax
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_300]
		xor	ah, ah
		add	ax, dx
		cmp	ax, 3Fh	; '?'
		jle	short loc_3EA9
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	[bp+di+var_300], 3Fh ; '?'
		jmp	short loc_3EBD
; ---------------------------------------------------------------------------

loc_3EA9:				; CODE XREF: UpDateRedShade+B3j
		mov	ax, RShadeLev
		shr	ax, 2
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	[bp+di+var_300], al

loc_3EBD:				; CODE XREF: UpDateRedShade+C4j
		cmp	[bp+var_302], 0FFh
		jnz	short loc_3E75
		lea	di, [bp+var_300]
		push	ss
		push	di
		call	DoSetPalette

loc_3ED0:				; CODE XREF: UpDateRedShade+75j
		mov	ax, RShadeLev
		mov	LastRShadeLev, ax

locret_3ED6:				; CODE XREF: UpDateRedShade+52j
		leave
		retn
UpDateRedShade	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDateGreenShade proc near		; CODE XREF: EndPaint+3DCp

var_302		= word ptr -302h
var_300		= byte ptr -300h
var_2FF		= byte ptr -2FFh

		enter	302h, 0
		cmp	GShadeDir, 0
		jle	short loc_3F02
		mov	ax, t1
		shl	ax, 2
		add	GShadeLev, ax
		cmp	GShadeLev, 1Ah
		jle	short loc_3F00
		mov	GShadeLev, 1Ah
		mov	GShadeDir, 0FFFFh

loc_3F00:				; CODE XREF: UpDateGreenShade+1Aj
		jmp	short loc_3F21
; ---------------------------------------------------------------------------

loc_3F02:				; CODE XREF: UpDateGreenShade+9j
		cmp	GShadeDir, 0
		jge	short loc_3F21
		mov	ax, t1
		sub	GShadeLev, ax
		cmp	GShadeLev, 0
		jge	short loc_3F21
		xor	ax, ax
		mov	GShadeLev, ax
		xor	ax, ax
		mov	GShadeDir, ax

loc_3F21:				; CODE XREF: UpDateGreenShade:loc_3F00j
					; UpDateGreenShade+2Fj	...
		mov	ax, LastGShadeLev
		cmp	ax, GShadeLev
		jnz	short loc_3F2D
		jmp	locret_3FBA
; ---------------------------------------------------------------------------

loc_3F2D:				; CODE XREF: UpDateGreenShade+50j
		cmp	GShadeLev, 0
		jnz	short loc_3F40
		mov	di, offset Pal
		push	ds
		push	di
		call	DoSetPalette
		jmp	short loc_3FB4
; ---------------------------------------------------------------------------

loc_3F40:				; CODE XREF: UpDateGreenShade+5Aj
		mov	di, offset Pal
		push	ds
		push	di
		lea	di, [bp+var_300]
		push	ss
		push	di
		push	300h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		xor	ax, ax
		mov	[bp+var_302], ax
		jmp	short loc_3F5F
; ---------------------------------------------------------------------------

loc_3F5B:				; CODE XREF: UpDateGreenShade+CFj
		inc	[bp+var_302]

loc_3F5F:				; CODE XREF: UpDateGreenShade+81j
		mov	ax, GShadeLev
		shr	ax, 1
		mov	dx, ax
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_2FF]
		xor	ah, ah
		add	ax, dx
		cmp	ax, 3Fh	; '?'
		jle	short loc_3F8E
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	[bp+di+var_2FF], 3Fh ; '?'
		jmp	short loc_3FA1
; ---------------------------------------------------------------------------

loc_3F8E:				; CODE XREF: UpDateGreenShade+A3j
		mov	ax, GShadeLev
		shr	ax, 1
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	[bp+di+var_2FF], al

loc_3FA1:				; CODE XREF: UpDateGreenShade+B4j
		cmp	[bp+var_302], 0FFh
		jnz	short loc_3F5B
		lea	di, [bp+var_300]
		push	ss
		push	di
		call	DoSetPalette

loc_3FB4:				; CODE XREF: UpDateGreenShade+66j
		mov	ax, GShadeLev
		mov	LastGShadeLev, ax

locret_3FBA:				; CODE XREF: UpDateGreenShade+52j
		leave
		retn
UpDateGreenShade endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpdateBlueShade	proc near		; CODE XREF: EndPaint+3DFp

var_302		= word ptr -302h
var_300		= byte ptr -300h
var_2FF		= byte ptr -2FFh
var_2FE		= byte ptr -2FEh

		enter	302h, 0
		mov	ax, t1
		sub	BShadeLev, ax
		cmp	BShadeLev, 0
		jge	short loc_3FD3
		xor	ax, ax
		mov	BShadeLev, ax

loc_3FD3:				; CODE XREF: UpdateBlueShade+10j
		mov	ax, LastBShadeLev
		cmp	ax, BShadeLev
		jnz	short loc_3FDF
		jmp	locret_410B
; ---------------------------------------------------------------------------

loc_3FDF:				; CODE XREF: UpdateBlueShade+1Ej
		mov	di, offset Pal
		push	ds
		push	di
		lea	di, [bp+var_300]
		push	ss
		push	di
		push	300h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	[bp+var_302], 1
		jmp	short loc_3FFE
; ---------------------------------------------------------------------------

loc_3FFA:				; CODE XREF: UpdateBlueShade+13Bj
		inc	[bp+var_302]

loc_3FFE:				; CODE XREF: UpdateBlueShade+3Cj
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_2FE]
		xor	ah, ah
		mov	cx, ax
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_2FF]
		xor	ah, ah
		mov	dx, ax
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_300]
		xor	ah, ah
		add	ax, dx
		add	ax, cx
		cmp	ax, 3
		jg	short loc_403E
		jmp	loc_40EF
; ---------------------------------------------------------------------------

loc_403E:				; CODE XREF: UpdateBlueShade+7Dj
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_300]
		xor	ah, ah
		add	ax, BShadeLev
		cmp	ax, 3Fh	; '?'
		jle	short loc_4068
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	[bp+di+var_300], 3Fh ; '?'
		jmp	short loc_4079
; ---------------------------------------------------------------------------

loc_4068:				; CODE XREF: UpdateBlueShade+99j
		mov	al, byte ptr BShadeLev
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	[bp+di+var_300], al

loc_4079:				; CODE XREF: UpdateBlueShade+AAj
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_2FF]
		xor	ah, ah
		add	ax, BShadeLev
		cmp	ax, 3Fh	; '?'
		jle	short loc_40A3
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	[bp+di+var_2FF], 3Fh ; '?'
		jmp	short loc_40B4
; ---------------------------------------------------------------------------

loc_40A3:				; CODE XREF: UpdateBlueShade+D4j
		mov	al, byte ptr BShadeLev
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	[bp+di+var_2FF], al

loc_40B4:				; CODE XREF: UpdateBlueShade+E5j
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [bp+di+var_2FE]
		xor	ah, ah
		add	ax, BShadeLev
		cmp	ax, 3Fh	; '?'
		jle	short loc_40DE
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	[bp+di+var_2FE], 3Fh ; '?'
		jmp	short loc_40EF
; ---------------------------------------------------------------------------

loc_40DE:				; CODE XREF: UpdateBlueShade+10Fj
		mov	al, byte ptr BShadeLev
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	[bp+di+var_2FE], al

loc_40EF:				; CODE XREF: UpdateBlueShade+7Fj
					; UpdateBlueShade+120j
		cmp	[bp+var_302], 0FFh
		jz	short loc_40FA
		jmp	loc_3FFA
; ---------------------------------------------------------------------------

loc_40FA:				; CODE XREF: UpdateBlueShade+139j
		lea	di, [bp+var_300]
		push	ss
		push	di
		call	DoSetPalette
		mov	ax, BShadeLev
		mov	LastBShadeLev, ax

locret_410B:				; CODE XREF: UpdateBlueShade+20j
		leave
		retn
UpdateBlueShade	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawItems	proc near		; CODE XREF: EndPaint:loc_4518p

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		mov	Curdark, 11h
		mov	ax, VideoCX
		mov	[bp+var_2], ax
		mov	ax, VideoCY
		mov	[bp+var_4], ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		mov	cx, 5
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	VideoCY, ax
		mov	ax, VideoW
		mov	dx, word_44DA4
		mov	cx, 7
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	VideoCX, ax
		imul	di, MyNetN, 58h
		mov	ax, [di-0FACh]
		and	ax, 4
		or	ax, ax
		jbe	short loc_419E
		mov	ax, word_3DA12
		or	ax, word_3DA14
		jz	short loc_418A
		push	word_3DA10
		push	word_3DA0E
		push	word_3DA14
		push	word_3DA12
		mov	ax, word_3DA0A
		shr	ax, 2
		push	ax
		call	Morph3d

loc_418A:				; CODE XREF: DrawItems+5Fj
		push	word_3DA10
		push	word_3DA0E
		push	0
		push	1388h
		push	0
		call	Show3DObject

loc_419E:				; CODE XREF: DrawItems+56j
		mov	ax, VideoW
		mov	dx, word_44DA4
		mov	cx, 6
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	VideoCX, ax
		imul	di, MyNetN, 58h
		mov	ax, [di-0FACh]
		and	ax, 2
		or	ax, ax
		jbe	short loc_4205
		mov	ax, word_3D9EE
		or	ax, word_3D9F0
		jz	short loc_41F1
		push	word_3D9EC
		push	word_3D9EA
		push	word_3D9F0
		push	word_3D9EE
		mov	ax, word_3D9E6
		shr	ax, 2
		push	ax
		call	Morph3d

loc_41F1:				; CODE XREF: DrawItems+C6j
		push	word_3D9EC
		push	word_3D9EA
		push	0
		push	1388h
		push	0
		call	Show3DObject

loc_4205:				; CODE XREF: DrawItems+BDj
		mov	ax, [bp+var_2]
		mov	VideoCX, ax
		mov	ax, [bp+var_4]
		mov	VideoCY, ax
		leave
		retn
DrawItems	endp

; ---------------------------------------------------------------------------
a__1		db 4,'##.#'             ; DATA XREF: EndPaint+313o
asc_4218	db 1,'/'                ; DATA XREF: EndPaint+337o
asc_421A	db 3,'###'              ; DATA XREF: EndPaint+347o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

EndPaint	proc near		; CODE XREF: DoGame:loc_DB51p

var_31A		= byte ptr -31Ah
var_21A		= byte ptr -21Ah
var_122		= dword	ptr -122h
var_11E		= dword	ptr -11Eh
var_10C		= word ptr -10Ch
var_10A		= word ptr -10Ah
var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h

		enter	31Ah, 0
		call	ScrollGun
		mov	ax, t1
		add	ax, t1
		add	WeaponFTime, ax
		mov	di, LastGunNumber
		shl	di, 5
		add	di, 0E440h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_11E], di
		mov	word ptr [bp+var_11E+2], es
		cmp	WeaponPhase, 1
		jnz	short loc_428E
		mov	ax, WeaponFTime
		cmp	ax, es:[di+10h]
		jb	short loc_428C
		cmp	WeaponActive, 0
		jz	short loc_4282
		mov	WeaponPhase, 1

loc_4264:				; CODE XREF: EndPaint+5Bj
		mov	ax, WeaponFTime
		les	di, [bp+var_11E]
		assume es:nothing
		cmp	ax, es:[di+10h]
		jb	short loc_427B
		mov	ax, es:[di+10h]
		sub	WeaponFTime, ax
		jmp	short loc_4264
; ---------------------------------------------------------------------------

loc_427B:				; CODE XREF: EndPaint+51j
		mov	WeaponActive, 0
		jmp	short loc_428C
; ---------------------------------------------------------------------------

loc_4282:				; CODE XREF: EndPaint+3Ej
		xor	ax, ax
		mov	WeaponPhase, ax
		xor	ax, ax
		mov	WeaponFTime, ax

loc_428C:				; CODE XREF: EndPaint+37j EndPaint+62j
		jmp	short loc_42B9
; ---------------------------------------------------------------------------

loc_428E:				; CODE XREF: EndPaint+2Ej
		cmp	WeaponActive, 0
		jz	short loc_42A7
		mov	WeaponPhase, 1
		xor	ax, ax
		mov	WeaponFTime, ax
		mov	WeaponActive, 0
		jmp	short loc_42B9
; ---------------------------------------------------------------------------

loc_42A7:				; CODE XREF: EndPaint+75j
		mov	ax, WeaponFTime
		les	di, [bp+var_11E]
		cmp	ax, es:[di+12h]
		jb	short loc_42B9
		xor	ax, ax
		mov	WeaponFTime, ax

loc_42B9:				; CODE XREF: EndPaint:loc_428Cj
					; EndPaint+87j	...
		mov	ax, MyNetN
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, CurOwner
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_42EC
		cmp	ax, cx
		jnz	short loc_42EC
		mov	ax, LastGunNumber
		mov	[bp+var_106], ax
		mov	ax, WeaponPhase
		mov	[bp+var_108], ax
		mov	ax, WeaponFTime
		mov	[bp+var_10A], ax
		mov	ax, GunShift
		mov	[bp+var_10C], ax
		jmp	short loc_4334
; ---------------------------------------------------------------------------

loc_42EC:				; CODE XREF: EndPaint+AAj EndPaint+AEj
		imul	di, CurOwner, 58h
		mov	ax, [di-0F8Eh]
		mov	[bp+var_106], ax
		xor	ax, ax
		mov	[bp+var_108], ax
		xor	ax, ax
		mov	[bp+var_10C], ax
		mov	di, [bp+var_106]
		shl	di, 5
		mov	ax, [di-1BAEh]
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 1
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		mov	[bp+var_10A], ax

loc_4334:				; CODE XREF: EndPaint+CCj
		cmp	ExMode,	0
		jz	short loc_433E
		jmp	loc_4518
; ---------------------------------------------------------------------------

loc_433E:				; CODE XREF: EndPaint+11Bj
		cmp	EndOfTheGame, 0
		jz	short loc_4348
		jmp	loc_4518
; ---------------------------------------------------------------------------

loc_4348:				; CODE XREF: EndPaint+125j
		imul	di, CurOwner, 58h
		cmp	word ptr [di-0FAEh], 0
		jg	short loc_4357
		jmp	loc_4518
; ---------------------------------------------------------------------------

loc_4357:				; CODE XREF: EndPaint+134j
		cmp	VideoCX, 190h
		jnz	short loc_4362
		jmp	loc_4518
; ---------------------------------------------------------------------------

loc_4362:				; CODE XREF: EndPaint+13Fj
		mov	di, [bp+var_106]
		shl	di, 5
		add	di, 0E440h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_11E], di
		mov	word ptr [bp+var_11E+2], es
		cmp	[bp+var_108], 0
		jnz	short loc_439F
		push	word ptr es:[di+16h]
		push	word ptr es:[di+14h]
		push	word ptr es:[di+1Ah]
		push	word ptr es:[di+18h]
		mov	ax, [bp+var_10A]
		shr	ax, 3
		shl	ax, 1
		push	ax
		call	Morph3d
		jmp	short loc_43C2
; ---------------------------------------------------------------------------

loc_439F:				; CODE XREF: EndPaint+15Ej
		les	di, [bp+var_11E]
		assume es:nothing
		push	word ptr es:[di+16h]
		push	word ptr es:[di+14h]
		push	word ptr es:[di+1Eh]
		push	word ptr es:[di+1Ch]
		mov	ax, [bp+var_10A]
		shr	ax, 3
		shl	ax, 1
		push	ax
		call	Morph3d

loc_43C2:				; CODE XREF: EndPaint+17Fj
		imul	di, CurOwner, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_122], di
		mov	word ptr [bp+var_122+2], es
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		call	GetSmoothBrightAt
		shr	ax, 2
		mov	bx, ax
		les	di, [bp+var_122]
		assume es:nothing
		mov	ax, es:[di+3Ah]
		cwd
		xor	ax, dx
		sub	ax, dx
		neg	ax
		cwd
		mov	cx, 9C2h
		idiv	cx
		add	ax, bx
		mov	Curdark, ax
		imul	di, CurOwner, 58h
		mov	ax, [di-0FACh]
		and	ax, 1
		or	ax, ax
		mov	al, 0
		jbe	short loc_4414
		inc	ax

loc_4414:				; CODE XREF: EndPaint+1F3j
		mov	Invisibility, al
		cmp	HRv, 0
		jnz	short loc_4426
		xor	ax, ax
		mov	[bp+var_104], ax
		jmp	short loc_446A
; ---------------------------------------------------------------------------

loc_4426:				; CODE XREF: EndPaint+1FEj
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 0Ch
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		and	ax, 3FFh
		and	dx, 0
		mov	di, ax
		shl	di, 1
		push	word ptr [di-6390h]
		push	HRv
		call	Sgn
		cbw
		shl	ax, 0Ch
		pop	dx
		add	ax, dx
		cwd
		mov	cx, 0C8h ; 'È'
		idiv	cx
		mul	HRv
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mov	[bp+var_104], ax

loc_446A:				; CODE XREF: EndPaint+206j
		imul	di, CurOwner, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_122], di
		mov	word ptr [bp+var_122+2], es
		les	di, [bp+var_11E]
		assume es:nothing
		push	word ptr es:[di+16h]
		push	word ptr es:[di+14h]
		mov	ax, [bp+var_10C]
		shl	ax, 3
		add	ax, 17Ch
		push	ax
		imul	ax, [bp+var_10C], 7
		mov	dx, ax
		mov	ax, 640h
		sub	ax, dx
		push	ax
		mov	ax, ehz
		les	di, [bp+var_122]
		sub	ax, es:[di+3Ch]
		cwd
		push	dx
		push	ax
		mov	ax, _LookVz
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		mov	cx, 4
		idiv	cx
		cwd
		push	dx
		push	ax
		mov	ax, _LookVz
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_104]
		xor	dx, dx
		push	dx
		push	ax
		imul	ax, [bp+var_10C], 46h
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0F830h
		mov	dx, 0FFFFh
		sub	ax, cx
		sbb	dx, bx
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		sub	ax, 600h
		sbb	dx, 0
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		push	ax
		call	Show3DObject
		mov	ax, _LookVz
		sub	ax, LookVz
		cwd
		mov	cx, 4
		idiv	cx
		push	ax
		call	DrawCross

loc_4518:				; CODE XREF: EndPaint+11Dj
					; EndPaint+127j ...
		call	DrawItems
		cmp	TimeInd, 0
		jz	short loc_4594
		mov	ax, WinEX
		sub	ax, 3Ch	; '<'
		push	ax
		push	4
		lea	di, [bp+var_21A]
		push	ss
		push	di
		mov	di, offset a__1	; "##.#"
		push	cs
		push	di
		mov	ax, Times10Sum
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 84h	; '„'
		xor	si, si
		mov	di, 2000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		call	Form
		mov	di, offset asc_4218 ; "/"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_31A]
		push	ss
		push	di
		mov	di, offset asc_421A ; "###"
		push	cs
		push	di
		mov	ax, Times10Sum
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 3381h
		mov	si, 3333h
		mov	di, 3333h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStr

loc_4594:				; CODE XREF: EndPaint+302j
		cmp	TimeInd, 0
		jz	short loc_45E9
		cmp	NETMonitor, 0
		jz	short loc_45B0
		push	t1
		push	27Fh
		push	4
		call	ShowValue
		jmp	short loc_45BE
; ---------------------------------------------------------------------------

loc_45B0:				; CODE XREF: EndPaint+382j
		push	t1
		mov	ax, WinW
		dec	ax
		push	ax
		push	4
		call	ShowValue

loc_45BE:				; CODE XREF: EndPaint+390j
		cmp	CLIENT,	0
		jz	short loc_45E9
		mov	ax, RealTime
		mov	dx, word_44D7C
		les	di, PServerPatch
		sub	ax, es:[di+0Eh]
		sbb	dx, es:[di+10h]
		push	ax
		mov	ax, WinW
		mov	si, ax
		shl	ax, 1
		add	ax, si
		dec	ax
		push	ax
		push	4
		call	ShowValue

loc_45E9:				; CODE XREF: EndPaint+37Bj
					; EndPaint+3A5j
		cmp	NETMonitor, 0
		jz	short loc_45F7
		call	ShowVesaScreen
		jmp	short loc_4605
; ---------------------------------------------------------------------------

loc_45F7:				; CODE XREF: EndPaint+3D0j
		call	UpDateRedShade
		call	UpDateGreenShade
		call	UpdateBlueShade
		call	ShowScreen

loc_4605:				; CODE XREF: EndPaint+3D7j
		cmp	RecordDemo, 0
		jz	short loc_4617

loc_460C:				; CODE XREF: EndPaint+3F5j
		cmp	CurTime, 4
		jnb	short loc_4615
		jmp	short loc_460C
; ---------------------------------------------------------------------------

loc_4615:				; CODE XREF: EndPaint+3F3j
		jmp	short loc_4639
; ---------------------------------------------------------------------------

loc_4617:				; CODE XREF: EndPaint+3ECj
		cmp	NETMonitor, 0
		jnz	short loc_4625
		cmp	SERVER,	0
		jz	short loc_4630

loc_4625:				; CODE XREF: EndPaint+3FEj
					; EndPaint+40Ej
		cmp	CurTime, 4
		jnb	short loc_462E
		jmp	short loc_4625
; ---------------------------------------------------------------------------

loc_462E:				; CODE XREF: EndPaint+40Cj
		jmp	short loc_4639
; ---------------------------------------------------------------------------

loc_4630:				; CODE XREF: EndPaint+405j
					; EndPaint+419j
		cmp	CurTime, 2
		jnb	short loc_4639
		jmp	short loc_4630
; ---------------------------------------------------------------------------

loc_4639:				; CODE XREF: EndPaint:loc_4615j
					; EndPaint:loc_462Ej ...
		mov	ax, CurTime
		mov	t1, ax
		cmp	Slow, 0
		jz	short loc_4682
		cmp	CLIENT,	0
		jnz	short loc_4662
		cmp	SERVER,	0
		jnz	short loc_4662
		cmp	RecordDemo, 0
		jnz	short loc_4662
		cmp	PlayDemo, 0
		jz	short loc_4673

loc_4662:				; CODE XREF: EndPaint+42Dj
					; EndPaint+434j ...
		mov	t1, 10h

loc_4668:				; CODE XREF: EndPaint+451j
		cmp	CurTime, 10h
		jnb	short loc_4671
		jmp	short loc_4668
; ---------------------------------------------------------------------------

loc_4671:				; CODE XREF: EndPaint+44Fj
		jmp	short loc_4682
; ---------------------------------------------------------------------------

loc_4673:				; CODE XREF: EndPaint+442j
		mov	ax, t1
		mov	t1, ax

loc_4679:				; CODE XREF: EndPaint+462j
		cmp	CurTime, 14h
		jnb	short loc_4682
		jmp	short loc_4679
; ---------------------------------------------------------------------------

loc_4682:				; CODE XREF: EndPaint+426j
					; EndPaint:loc_4671j ...
		cmp	t1, 16h
		jbe	short locret_468F
		mov	t1, 16h

locret_468F:				; CODE XREF: EndPaint+469j
		leave
		retn
EndPaint	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandWall	proc near		; CODE XREF: MapXY+18Fp

var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		mov	[bp+var_1], 0
		mov	ax, ehx
		sub	ax, [bp+arg_6]
		mov	[bp+arg_6], ax
		mov	ax, ehy
		sub	ax, [bp+arg_4]
		mov	[bp+arg_4], ax
		mov	ax, [bp+arg_4]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+arg_6]
		imul	isa
		add	bx, ax
		adc	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		sub	bx, 2Ch	; ','
		mov	ty1__0,	bx
		mov	ax, WXSize
		neg	ax
		shl	ax, 4
		cmp	ax, ty1__0
		jle	short loc_46E1
		jmp	loc_4DB1
; ---------------------------------------------------------------------------

loc_46E1:				; CODE XREF: ExpandWall+4Bj
		mov	ax, ehx
		sub	ax, [bp+arg_2]
		mov	[bp+arg_2], ax
		mov	ax, ehy
		sub	ax, [bp+arg_0]
		mov	[bp+arg_0], ax
		mov	ax, [bp+arg_6]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+arg_4]
		imul	isa
		sub	bx, ax
		sbb	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		mov	tx1__0,	bx
		mov	ax, [bp+arg_2]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+arg_0]
		imul	isa
		sub	bx, ax
		sbb	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		mov	tx2__0,	bx
		mov	ax, [bp+arg_0]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+arg_2]
		imul	isa
		add	bx, ax
		adc	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		sub	bx, 2Ch	; ','
		mov	ty2__0,	bx
		cmp	ty1__0,	0
		jg	short loc_476D
		cmp	ty2__0,	0
		jg	short loc_476D
		jmp	loc_4DB1
; ---------------------------------------------------------------------------

loc_476D:				; CODE XREF: ExpandWall+D0j
					; ExpandWall+D7j
		mov	ax, Long1
		mov	dx, word_36278
		mov	Esl, ax
		mov	word_44E14, dx
		cmp	ty2__0,	0
		jge	short loc_47C3
		mov	di, 26h	; '&'
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, ty1__0
		mul	ebx
		mov	bx, ty1__0
		sub	bx, ty2__0
		div	ebx
		mov	di, 0EBC2h
		mov	[di], eax
		mov	ax, tx1__0
		mov	cx, ax
		mov	bx, ty1__0
		sub	ax, tx2__0
		imul	bx
		sub	bx, ty2__0
		idiv	bx
		sub	cx, ax
		mov	tx2__0,	cx
		xor	ax, ax
		mov	ty2__0,	ax

loc_47C3:				; CODE XREF: ExpandWall+EFj
		cmp	ty1__0,	0
		jge	short loc_480B
		mov	di, 26h	; '&'
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, ty2__0
		mul	ebx
		mov	bx, ty2__0
		sub	bx, ty1__0
		div	ebx
		mov	di, 0EBC2h
		mov	[di], eax
		mov	ax, tx2__0
		mov	cx, ax
		mov	bx, ty2__0
		sub	ax, tx1__0
		imul	bx
		sub	bx, ty1__0
		idiv	bx
		sub	cx, ax
		mov	tx1__0,	cx
		xor	ax, ax
		mov	ty1__0,	ax

loc_480B:				; CODE XREF: ExpandWall+137j
		mov	ax, ty1__0
		add	ax, 4Ch	; 'L'
		mov	ty1__0,	ax
		mov	ax, ty2__0
		add	ax, 4Ch	; 'L'
		mov	ty2__0,	ax
		mov	ax, ty1__0
		add	ax, 400h
		shl	ax, 1
		mov	cx, ax
		mov	ax, tx1__0
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jle	short loc_4836
		jmp	loc_4DB1
; ---------------------------------------------------------------------------

loc_4836:				; CODE XREF: ExpandWall+1A0j
		mov	ax, tx1__0
		mov	bx, WallW
		imul	bx
		mov	bx, ty1__0
		idiv	bx
		mov	Sx1, ax
		mov	ax, tx2__0
		mov	bx, WallW
		imul	bx
		mov	bx, ty2__0
		idiv	bx
		mov	Sx2, ax
		mov	ax, Sx1
		cmp	ax, Sx2
		jl	short loc_4866
		jmp	loc_4DB1
; ---------------------------------------------------------------------------

loc_4866:				; CODE XREF: ExpandWall+1D0j
		mov	ax, Sx2
		sub	ax, Sx1
		inc	ax
		mov	sl, ax
		mov	ax, sl
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, sl
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, WXSize
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 1
		sbb	dx, 0
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	AliasMask, ax
		mov	ax, AliasMask
		cmp	ax, 0
		jz	short loc_48A6
		cmp	ax, 1
		jnz	short loc_48AE

loc_48A6:				; CODE XREF: ExpandWall+20Ej
		mov	AliasMask, 0FFFFh
		jmp	short loc_48D8
; ---------------------------------------------------------------------------

loc_48AE:				; CODE XREF: ExpandWall+213j
		cmp	ax, 2
		jz	short loc_48B8
		cmp	ax, 3
		jnz	short loc_48C0

loc_48B8:				; CODE XREF: ExpandWall+220j
		mov	AliasMask, 0FFFEh
		jmp	short loc_48D8
; ---------------------------------------------------------------------------

loc_48C0:				; CODE XREF: ExpandWall+225j
		cmp	ax, 4
		jb	short loc_48D2
		cmp	ax, 7
		ja	short loc_48D2
		mov	AliasMask, 0FFFCh
		jmp	short loc_48D8
; ---------------------------------------------------------------------------

loc_48D2:				; CODE XREF: ExpandWall+232j
					; ExpandWall+237j
		mov	AliasMask, 0FFF8h

loc_48D8:				; CODE XREF: ExpandWall+21Bj
					; ExpandWall+22Dj ...
		mov	ax, WinW2i
		neg	ax
		cmp	ax, Sx2
		jge	short loc_48EC
		mov	ax, Sx1
		cmp	ax, WinW2i
		jl	short loc_48EF

loc_48EC:				; CODE XREF: ExpandWall+250j
		jmp	loc_4DB1
; ---------------------------------------------------------------------------

loc_48EF:				; CODE XREF: ExpandWall+259j
		mov	ax, VideoCX
		add	Sx1, ax
		mov	ax, VideoCX
		add	Sx2, ax
		mov	ax, WinSX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sx1
		cwd
		cmp	dx, bx
		jg	short loc_4914
		jl	short loc_491B
		cmp	ax, cx
		jbe	short loc_491B

loc_4914:				; CODE XREF: ExpandWall+27Bj
		xor	ax, ax
		mov	_x1, ax
		jmp	short loc_492F
; ---------------------------------------------------------------------------

loc_491B:				; CODE XREF: ExpandWall+27Dj
					; ExpandWall+281j
		mov	ax, Sx1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinSX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	_x1, ax

loc_492F:				; CODE XREF: ExpandWall+288j
		mov	ax, sl
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sx1
		cwd
		add	ax, cx
		adc	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinEX
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_4953
		jl	short loc_495C
		cmp	ax, cx
		jb	short loc_495C

loc_4953:				; CODE XREF: ExpandWall+2BAj
		mov	ax, sl
		dec	ax
		mov	_x2, ax
		jmp	short loc_4970
; ---------------------------------------------------------------------------

loc_495C:				; CODE XREF: ExpandWall+2BCj
					; ExpandWall+2C0j
		mov	ax, Sx1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinEX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	_x2, ax

loc_4970:				; CODE XREF: ExpandWall+2C9j
		mov	cx, WallH
		xor	dx, dx
		mov	ax, Hz2
		mul	cx
		mov	bx, ty1__0
		div	bx
		mov	ys11, ax
		xor	dx, dx
		mov	ax, ehz
		mul	cx
		mov	bx, ty1__0
		div	bx
		mov	ys12, ax
		xor	dx, dx
		mov	ax, Hz2
		mul	cx
		mov	bx, ty2__0
		div	bx
		mov	ys21, ax
		xor	dx, dx
		mov	ax, ehz
		mul	cx
		mov	bx, ty2__0
		div	bx
		mov	ys22, ax
		mov	ax, ty1__0
		cmp	ax, ty2__0
		jg	short loc_49E2
		mov	ax, ty2__0
		sub	ax, ty1__0
		cwd
		mov	SLy, ax
		mov	word_44E20, dx
		mov	ax, ys11
		sub	ax, ys21
		mov	sh1, ax
		mov	ax, ys12
		sub	ax, ys22
		mov	sh2, ax
		jmp	short loc_4A05
; ---------------------------------------------------------------------------

loc_49E2:				; CODE XREF: ExpandWall+32Aj
		mov	ax, ty1__0
		sub	ax, ty2__0
		cwd
		mov	SLy, ax
		mov	word_44E20, dx
		mov	ax, ys21
		sub	ax, ys11
		mov	sh1, ax
		mov	ax, ys22
		sub	ax, ys12
		mov	sh2, ax

loc_4A05:				; CODE XREF: ExpandWall+34Fj
		mov	ax, Esl
		mov	dx, word_44E14
		cmp	dx, word_36278
		jnz	short loc_4A18
		cmp	ax, Long1
		jz	short loc_4A36

loc_4A18:				; CODE XREF: ExpandWall+37Fj
		mov	di, 26h	; '&'
		mov	eax, [di]
		mov	di, 0EBC2h
		sub	eax, [di]
		xor	ebx, ebx
		mov	bx, WXSize
		mul	ebx
		mov	di, 0EBC6h
		mov	[di], eax
		jmp	short loc_4A3E
; ---------------------------------------------------------------------------

loc_4A36:				; CODE XREF: ExpandWall+385j
		xor	ax, ax
		mov	Io0, ax
		mov	word_44E18, ax

loc_4A3E:				; CODE XREF: ExpandWall+3A3j
		cmp	_x1, 0
		jbe	short loc_4A4B
		mov	ax, WinSX
		mov	Sx1, ax

loc_4A4B:				; CODE XREF: ExpandWall+3B2j
		mov	di, 0EBC2h
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, WXSize
		mul	ebx
		mov	bx, ty1__0
		mul	ebx
		mov	[di], eax
		xor	eax, eax
		mov	ax, sl
		xor	ebx, ebx
		mov	bx, ty2__0
		mul	ebx
		mov	di, 0EBCAh
		mov	[di], eax
		mov	ax, ty1__0
		cmp	ax, ty2__0
		jl	short loc_4A87
		jmp	loc_4C25
; ---------------------------------------------------------------------------

loc_4A87:				; CODE XREF: ExpandWall+3F1j
		mov	ax, _x2
		mov	[bp+var_4], ax
		mov	ax, _x1
		cmp	ax, [bp+var_4]
		jbe	short loc_4A98
		jmp	loc_4C22
; ---------------------------------------------------------------------------

loc_4A98:				; CODE XREF: ExpandWall+402j
		mov	_X, ax
		jmp	short loc_4AA1
; ---------------------------------------------------------------------------

loc_4A9D:				; CODE XREF: ExpandWall+58Ej
		inc	_X

loc_4AA1:				; CODE XREF: ExpandWall+40Aj
		mov	di, Sx1
		shl	di, 1
		mov	ax, [di-7DD2h]
		mov	oldy, ax
		mov	ax, sh1
		mul	_X
		div	sl
		mov	bx, ys11
		sub	bx, ax
		mov	ys31, bx
		mov	ax, oldy
		cmp	ax, ys31
		jb	short loc_4ACF
		jmp	loc_4C13
; ---------------------------------------------------------------------------

loc_4ACF:				; CODE XREF: ExpandWall+439j
		mov	[bp+var_1], 1
		cmp	oldy, 0
		jnz	short loc_4ADE
		inc	Nlines

loc_4ADE:				; CODE XREF: ExpandWall+447j
		mov	ax, sh2
		mov	bx, _X
		mul	bx
		mov	bx, sl
		div	sl
		mov	bx, ys12
		sub	bx, ax
		mov	ys32, bx
		mov	ax, BLevelW
		xor	dx, dx
		mov	bx, ys31
		shr	bx, 4
		mov	cx, ys32
		shr	cx, 4
		add	bx, cx
		div	bx
		cmp	ax, 10h
		jb	short loc_4B18
		mov	ax, 10h

loc_4B18:				; CODE XREF: ExpandWall+482j
		mov	HlBr, ax
		mov	di, 0EBCEh
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, _X
		mul	ebx
		mov	ecx, eax
		mov	di, 0EBCAh
		mov	eax, [di]
		sub	eax, ecx
		mov	ecx, eax
		mov	di, 0EBC2h
		mov	eax, [di]
		mov	bx, _X
		mul	ebx
		mov	ebx, ecx
		div	ebx
		mov	di, 0EBC6h
		add	eax, [di]
		mov	cl, LB
		shr	eax, cl
		and	ax, AliasMask
		mov	Ims, ax
		mov	bx, Sx1
		shl	bx, 1
		les	di, dword ptr LinesBUF
		mov	ax, ImSeg
		mov	es:[bx], ax
		mov	ax, Ims
		and	ax, XOfsMask
		mov	es:[bx+800h], ax
		mov	ax, ys31
		mov	[bx-7DD2h], ax
		mov	ax, ys32
		mov	[bx-7734h], ax
		mov	ax, WShadowSeg
		mov	es, ax
		mov	ax, Ims
		mov	cl, SHRC
		shl	ax, cl
		cmp	ax, 8
		jb	short loc_4BC4
		cmp	ax, 78h	; 'x'
		jnb	short loc_4BDC
		sub	ax, 8
		mov	di, ax
		shr	di, 4
		and	ax, 0Fh
		add	di, WShadowOfs
		mov	dh, es:[di]
		mov	dl, es:[di+1]
		sub	dl, dh
		imul	dl
		sar	ax, 4
		add	al, dh
		jmp	short loc_4BF8
; ---------------------------------------------------------------------------

loc_4BC4:				; CODE XREF: ExpandWall+50Bj
		sub	al, 8
		mov	di, WShadowOfs
		mov	dh, es:[di]
		mov	dl, es:[di+1]
		sub	dl, dh
		imul	dl
		sar	ax, 4
		add	al, dh
		jmp	short loc_4BF8
; ---------------------------------------------------------------------------

loc_4BDC:				; CODE XREF: ExpandWall+510j
		sub	ax, 76h	; 'v'
		mov	di, 7
		add	di, WShadowOfs
		mov	dh, es:[di]
		mov	dl, dh
		sub	dl, es:[di-1]
		imul	dl
		sar	ax, 4
		add	al, dh
		jmp	short $+2

loc_4BF8:				; CODE XREF: ExpandWall+531j
					; ExpandWall+549j
		add	ax, HlBr
		cmp	al, 0
		jge	short loc_4C02
		xor	al, al

loc_4C02:				; CODE XREF: ExpandWall+56Dj
		cmp	al, 33h	; '3'
		jle	short loc_4C08
		mov	al, 33h	; '3'

loc_4C08:				; CODE XREF: ExpandWall+573j
		shr	bx, 1
		les	di, dword ptr LinesBUF
		mov	es:[bx+2000h], al

loc_4C13:				; CODE XREF: ExpandWall+43Bj
		inc	Sx1
		mov	ax, _X
		cmp	ax, [bp+var_4]
		jz	short loc_4C22
		jmp	loc_4A9D
; ---------------------------------------------------------------------------

loc_4C22:				; CODE XREF: ExpandWall+404j
					; ExpandWall+58Cj
		jmp	loc_4DB1
; ---------------------------------------------------------------------------

loc_4C25:				; CODE XREF: ExpandWall+3F3j
		mov	ax, _x2
		mov	[bp+var_4], ax
		mov	ax, _x1
		cmp	ax, [bp+var_4]
		jbe	short loc_4C36
		jmp	loc_4DB1
; ---------------------------------------------------------------------------

loc_4C36:				; CODE XREF: ExpandWall+5A0j
		mov	_X, ax
		jmp	short loc_4C3F
; ---------------------------------------------------------------------------

loc_4C3B:				; CODE XREF: ExpandWall+71Dj
		inc	_X

loc_4C3F:				; CODE XREF: ExpandWall+5A8j
		mov	di, Sx1
		shl	di, 1
		mov	ax, [di-7DD2h]
		mov	oldy, ax
		mov	ax, sh1
		mul	_X
		div	sl
		add	ax, ys11
		mov	ys31, ax
		mov	ax, oldy
		cmp	ax, ys31
		jb	short loc_4C6A
		jmp	loc_4DA2
; ---------------------------------------------------------------------------

loc_4C6A:				; CODE XREF: ExpandWall+5D4j
		mov	[bp+var_1], 1
		cmp	oldy, 0
		jnz	short loc_4C79
		inc	Nlines

loc_4C79:				; CODE XREF: ExpandWall+5E2j
		mov	ax, sh2
		mov	bx, _X
		mul	bx
		mov	bx, sl
		div	sl
		add	ax, ys12
		mov	ys32, ax
		mov	ax, BLevelW
		xor	dx, dx
		mov	bx, ys31
		shr	bx, 4
		mov	cx, ys32
		shr	cx, 4
		add	bx, cx
		div	bx
		cmp	ax, 10h
		jb	short loc_4CB0
		mov	ax, 10h

loc_4CB0:				; CODE XREF: ExpandWall+61Aj
		mov	HlBr, ax
		mov	di, 0EBCEh
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, _X
		mul	ebx
		mov	ecx, eax
		mov	di, 0EBCAh
		mov	eax, [di]
		add	ecx, eax
		mov	di, 0EBC2h
		mov	eax, [di]
		mov	bx, _X
		mul	ebx
		mov	ebx, ecx
		div	ebx
		mov	cl, LB
		shr	eax, cl
		and	ax, AliasMask
		mov	Ims, ax
		mov	bx, Sx1
		shl	bx, 1
		les	di, dword ptr LinesBUF
		mov	ax, ImSeg
		mov	es:[bx], ax
		mov	ax, Ims
		and	ax, XOfsMask
		mov	es:[bx+800h], ax
		mov	ax, ys31
		mov	[bx-7DD2h], ax
		mov	ax, ys32
		mov	[bx-7734h], ax
		mov	ax, WShadowSeg
		mov	es, ax
		mov	ax, Ims
		mov	cl, SHRC
		shl	ax, cl
		cmp	ax, 8
		jb	short loc_4D53
		cmp	ax, 78h	; 'x'
		jnb	short loc_4D6B
		sub	ax, 8
		mov	di, ax
		shr	di, 4
		and	ax, 0Fh
		add	di, WShadowOfs
		mov	dh, es:[di]
		mov	dl, es:[di+1]
		sub	dl, dh
		imul	dl
		sar	ax, 4
		add	al, dh
		jmp	short loc_4D87
; ---------------------------------------------------------------------------

loc_4D53:				; CODE XREF: ExpandWall+69Aj
		sub	al, 8
		mov	di, WShadowOfs
		mov	dh, es:[di]
		mov	dl, es:[di+1]
		sub	dl, dh
		imul	dl
		sar	ax, 4
		add	al, dh
		jmp	short loc_4D87
; ---------------------------------------------------------------------------

loc_4D6B:				; CODE XREF: ExpandWall+69Fj
		sub	ax, 76h	; 'v'
		mov	di, 7
		add	di, WShadowOfs
		mov	dh, es:[di]
		mov	dl, dh
		sub	dl, es:[di-1]
		imul	dl
		sar	ax, 4
		add	al, dh
		jmp	short $+2

loc_4D87:				; CODE XREF: ExpandWall+6C0j
					; ExpandWall+6D8j
		add	ax, HlBr
		cmp	al, 0
		jge	short loc_4D91
		xor	al, al

loc_4D91:				; CODE XREF: ExpandWall+6FCj
		cmp	al, 33h	; '3'
		jle	short loc_4D97
		mov	al, 33h	; '3'

loc_4D97:				; CODE XREF: ExpandWall+702j
		shr	bx, 1
		les	di, dword ptr LinesBUF
		mov	es:[bx+2000h], al

loc_4DA2:				; CODE XREF: ExpandWall+5D6j
		inc	Sx1
		mov	ax, _X
		cmp	ax, [bp+var_4]
		jz	short loc_4DB1
		jmp	loc_4C3B
; ---------------------------------------------------------------------------

loc_4DB1:				; CODE XREF: ExpandWall+4Dj
					; ExpandWall+D9j ...
		mov	al, [bp+var_1]
		leave
		retn	8
ExpandWall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SwapI		proc near		; CODE XREF: ExpandFrame+16Cp
					; ExpandFrame+17Ap

var_2		= word ptr -2
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah

		enter	2, 0
		les	di, [bp+arg_6]
		mov	ax, es:[di]
		mov	[bp+var_2], ax
		les	di, [bp+arg_2]
		mov	ax, es:[di]
		les	di, [bp+arg_6]
		mov	es:[di], ax
		mov	ax, [bp+var_2]
		les	di, [bp+arg_2]
		mov	es:[di], ax
		leave
		retn	0Ah
SwapI		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandFrame	proc near		; CODE XREF: DoGame+17A4p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		enter	8, 0
		cmp	[bp+arg_A], 0
		jg	short loc_4DF1
		cmp	[bp+arg_6], 0
		jg	short loc_4DF1
		jmp	locret_540B
; ---------------------------------------------------------------------------

loc_4DF1:				; CODE XREF: ExpandFrame+8j
					; ExpandFrame+Ej
		mov	ax, Long1
		mov	dx, word_36278
		mov	Esl, ax
		mov	word_44E14, dx
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	al, es:[di]
		mov	c, al
		mov	al, es:[di]
		dec	al
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+70B2h]
		mov	ImSeg, ax
		les	di, [bp+var_8]
		mov	al, es:[di+1]
		xor	ah, ah
		mov	WXSize,	ax
		mov	ax, [bp+arg_2]
		shl	ax, 3
		mov	dx, ax
		mov	ax, [bp+arg_0]
		shl	ax, 9
		add	ax, dx
		mov	CurShOfs, ax
		mov	al, c
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 80h
		or	al, al
		jbe	short loc_4E68
		mov	XOfsMask, 3Fh ;	'?'
		jmp	short loc_4E6E
; ---------------------------------------------------------------------------

loc_4E68:				; CODE XREF: ExpandFrame+80j
		mov	XOfsMask, 7Fh ;	''

loc_4E6E:				; CODE XREF: ExpandFrame+88j
		cmp	[bp+arg_6], 0
		jge	short loc_4EAE
		mov	di, 26h	; '&'
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, [bp+arg_A]
		mul	ebx
		mov	bx, [bp+arg_A]
		sub	bx, [bp+arg_6]
		div	ebx
		mov	di, 0EBC2h
		mov	[di], eax
		mov	ax, [bp+arg_C]
		mov	cx, ax
		mov	bx, [bp+arg_A]
		sub	ax, [bp+arg_8]
		imul	bx
		sub	bx, [bp+arg_6]
		idiv	bx
		sub	cx, ax
		mov	[bp+arg_8], cx
		xor	ax, ax
		mov	[bp+arg_6], ax

loc_4EAE:				; CODE XREF: ExpandFrame+94j
		cmp	[bp+arg_A], 0
		jge	short loc_4EEE
		mov	di, 26h	; '&'
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, [bp+arg_6]
		mul	ebx
		mov	bx, [bp+arg_6]
		sub	bx, [bp+arg_A]
		div	ebx
		mov	di, 0EBC2h
		mov	[di], eax
		mov	ax, [bp+arg_8]
		mov	cx, ax
		mov	bx, [bp+arg_6]
		sub	ax, [bp+arg_C]
		imul	bx
		sub	bx, [bp+arg_A]
		idiv	bx
		sub	cx, ax
		mov	[bp+arg_C], cx
		xor	ax, ax
		mov	[bp+arg_A], ax

loc_4EEE:				; CODE XREF: ExpandFrame+D4j
		add	[bp+arg_A], 60h	; '`'
		add	[bp+arg_6], 60h	; '`'
		mov	ax, [bp+arg_A]
		add	ax, 400h
		shl	ax, 1
		mov	cx, ax
		mov	ax, [bp+arg_C]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jle	short loc_4F0F
		jmp	locret_540B
; ---------------------------------------------------------------------------

loc_4F0F:				; CODE XREF: ExpandFrame+12Cj
		mov	ax, [bp+arg_C]
		mov	bx, WallW
		imul	bx
		mov	bx, [bp+arg_A]
		idiv	bx
		mov	Sx1, ax
		mov	ax, [bp+arg_8]
		mov	bx, WallW
		imul	bx
		mov	bx, [bp+arg_6]
		idiv	bx
		mov	Sx2, ax
		xor	ax, ax
		mov	XORMask, ax
		mov	ax, Sx1
		cmp	ax, Sx2
		jle	short loc_4F62
		mov	di, offset Sx1
		push	ds
		push	di
		mov	di, offset Sx2
		push	ds
		push	di
		push	bp
		call	SwapI
		lea	di, [bp+arg_A]
		push	ss
		push	di
		lea	di, [bp+arg_6]
		push	ss
		push	di
		push	bp
		call	SwapI
		mov	ax, WXSize
		dec	ax
		mov	XORMask, ax

loc_4F62:				; CODE XREF: ExpandFrame+15Fj
		mov	ax, Sx2
		sub	ax, Sx1
		inc	ax
		mov	sl, ax
		cmp	sl, 2
		jnb	short loc_4F7A
		mov	sl, 2

loc_4F7A:				; CODE XREF: ExpandFrame+194j
		mov	ax, sl
		dec	ax
		mov	slp, ax
		mov	ax, WinW2i
		neg	ax
		cmp	ax, Sx2
		jge	short loc_4F95
		mov	ax, Sx1
		cmp	ax, WinW2i
		jl	short loc_4F98

loc_4F95:				; CODE XREF: ExpandFrame+1ACj
		jmp	locret_540B
; ---------------------------------------------------------------------------

loc_4F98:				; CODE XREF: ExpandFrame+1B5j
		mov	ax, VideoCX
		add	Sx1, ax
		mov	ax, VideoCX
		add	Sx2, ax
		mov	ax, WinSX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sx1
		cwd
		cmp	dx, bx
		jg	short loc_4FBD
		jl	short loc_4FC4
		cmp	ax, cx
		jbe	short loc_4FC4

loc_4FBD:				; CODE XREF: ExpandFrame+1D7j
		xor	ax, ax
		mov	_x1, ax
		jmp	short loc_4FD8
; ---------------------------------------------------------------------------

loc_4FC4:				; CODE XREF: ExpandFrame+1D9j
					; ExpandFrame+1DDj
		mov	ax, Sx1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinSX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	_x1, ax

loc_4FD8:				; CODE XREF: ExpandFrame+1E4j
		mov	ax, sl
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sx1
		cwd
		add	ax, cx
		adc	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinEX
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_4FFC
		jl	short loc_5005
		cmp	ax, cx
		jb	short loc_5005

loc_4FFC:				; CODE XREF: ExpandFrame+216j
		mov	ax, sl
		dec	ax
		mov	_x2, ax
		jmp	short loc_5019
; ---------------------------------------------------------------------------

loc_5005:				; CODE XREF: ExpandFrame+218j
					; ExpandFrame+21Cj
		mov	ax, Sx1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinEX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	_x2, ax

loc_5019:				; CODE XREF: ExpandFrame+225j
		mov	ax, Sx1
		add	ax, _x1
		mov	Sx11, ax
		mov	ax, Sx1
		add	ax, _x2
		mov	Sx21, ax
		push	word_3F1BC
		mov	ax, Sx11
		shl	ax, 1
		cwd
		mov	cx, ax
		mov	bx, dx
		les	di, dword ptr LinesBUF
		db	26h
		lea	ax, [di+800h]
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		push	ax
		mov	ax, Sx21
		sub	ax, Sx11
		inc	ax
		push	ax
		push	0FFFFh
		call	StosW
		mov	cx, WallH
		add	cx, 2
		xor	dx, dx
		mov	ax, Hz2
		mul	cx
		mov	bx, [bp+arg_A]
		div	bx
		mov	ys11, ax
		xor	dx, dx
		mov	ax, ehz
		mul	cx
		mov	bx, [bp+arg_A]
		div	bx
		mov	ys12, ax
		xor	dx, dx
		mov	ax, Hz2
		mul	cx
		mov	bx, [bp+arg_6]
		div	bx
		mov	ys21, ax
		xor	dx, dx
		mov	ax, ehz
		mul	cx
		mov	bx, [bp+arg_6]
		div	bx
		mov	ys22, ax
		mov	ax, [bp+arg_A]
		cmp	ax, [bp+arg_6]
		jg	short loc_50CA
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_A]
		cwd
		mov	SLy, ax
		mov	word_44E20, dx
		mov	ax, ys11
		sub	ax, ys21
		mov	sh1, ax
		mov	ax, ys12
		sub	ax, ys22
		mov	sh2, ax
		jmp	short loc_50EC
; ---------------------------------------------------------------------------

loc_50CA:				; CODE XREF: ExpandFrame+2C6j
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_6]
		cwd
		mov	SLy, ax
		mov	word_44E20, dx
		mov	ax, ys21
		sub	ax, ys11
		mov	sh1, ax
		mov	ax, ys22
		sub	ax, ys12
		mov	sh2, ax

loc_50EC:				; CODE XREF: ExpandFrame+2EAj
		mov	ax, Esl
		mov	dx, word_44E14
		cmp	dx, word_36278
		jnz	short loc_50FF
		cmp	ax, Long1
		jz	short loc_511D

loc_50FF:				; CODE XREF: ExpandFrame+319j
		mov	di, 26h	; '&'
		mov	eax, [di]
		mov	di, 0EBC2h
		sub	eax, [di]
		xor	ebx, ebx
		mov	bx, WXSize
		mul	ebx
		mov	di, 0EBC6h
		mov	[di], eax
		jmp	short loc_5125
; ---------------------------------------------------------------------------

loc_511D:				; CODE XREF: ExpandFrame+31Fj
		xor	ax, ax
		mov	Io0, ax
		mov	word_44E18, ax

loc_5125:				; CODE XREF: ExpandFrame+33Dj
		cmp	_x1, 0
		jbe	short loc_5132
		mov	ax, WinSX
		mov	Sx1, ax

loc_5132:				; CODE XREF: ExpandFrame+34Cj
		mov	di, 0EBC2h
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, WXSize
		mul	ebx
		mov	bx, [bp+arg_A]
		mul	ebx
		mov	[di], eax
		xor	eax, eax
		mov	ax, sl
		xor	ebx, ebx
		mov	bx, [bp+arg_6]
		mul	ebx
		mov	di, 0EBCAh
		mov	[di], eax
		mov	ax, [bp+arg_A]
		cmp	ax, [bp+arg_6]
		jl	short loc_516B
		jmp	loc_525D
; ---------------------------------------------------------------------------

loc_516B:				; CODE XREF: ExpandFrame+388j
		mov	ax, _x2
		mov	word ptr [bp+var_8+2], ax
		mov	ax, _x1
		cmp	ax, word ptr [bp+var_8+2]
		jbe	short loc_517C
		jmp	loc_525A
; ---------------------------------------------------------------------------

loc_517C:				; CODE XREF: ExpandFrame+399j
		mov	_X, ax
		jmp	short loc_5185
; ---------------------------------------------------------------------------

loc_5181:				; CODE XREF: ExpandFrame+479j
		inc	_X

loc_5185:				; CODE XREF: ExpandFrame+3A1j
		mov	di, Sx1
		shl	di, 1
		mov	ax, [di-7DD2h]
		dec	ax
		mov	oldy, ax
		mov	ax, sh1
		mul	_X
		div	slp
		mov	bx, ys11
		sub	bx, ax
		mov	ys31, bx
		mov	ax, oldy
		cmp	ax, ys31
		jbe	short loc_51B4
		jmp	loc_524B
; ---------------------------------------------------------------------------

loc_51B4:				; CODE XREF: ExpandFrame+3D1j
		mov	ax, sh2
		mul	_X
		div	slp
		mov	bx, ys12
		sub	bx, ax
		mov	ys32, bx
		mov	dx, ys31
		mov	ax, Sx1
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	es:[di+1000h], dx
		mov	dx, ys32
		mov	ax, Sx1
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	es:[di+1800h], dx
		mov	di, 0EBCEh
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, _X
		mul	ebx
		mov	ecx, eax
		mov	di, 0EBCAh
		mov	eax, [di]
		sub	eax, ecx
		mov	ecx, eax
		mov	di, 0EBC2h
		mov	eax, [di]
		mov	bx, _X
		mul	ebx
		mov	ebx, ecx
		div	ebx
		mov	di, 0EBC6h
		add	eax, [di]
		mov	cl, LB
		shr	eax, cl
		xor	ax, XORMask
		mov	Ims, ax
		mov	dx, Ims
		mov	ax, Sx1
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	es:[di+800h], dx

loc_524B:				; CODE XREF: ExpandFrame+3D3j
		inc	Sx1
		mov	ax, _X
		cmp	ax, word ptr [bp+var_8+2]
		jz	short loc_525A
		jmp	loc_5181
; ---------------------------------------------------------------------------

loc_525A:				; CODE XREF: ExpandFrame+39Bj
					; ExpandFrame+477j
		jmp	loc_533D
; ---------------------------------------------------------------------------

loc_525D:				; CODE XREF: ExpandFrame+38Aj
		mov	ax, _x2
		mov	word ptr [bp+var_8+2], ax
		mov	ax, _x1
		cmp	ax, word ptr [bp+var_8+2]
		jbe	short loc_526E
		jmp	loc_533D
; ---------------------------------------------------------------------------

loc_526E:				; CODE XREF: ExpandFrame+48Bj
		mov	_X, ax
		jmp	short loc_5277
; ---------------------------------------------------------------------------

loc_5273:				; CODE XREF: ExpandFrame+55Cj
		inc	_X

loc_5277:				; CODE XREF: ExpandFrame+493j
		mov	di, Sx1
		shl	di, 1
		mov	ax, [di-7DD2h]
		dec	ax
		mov	oldy, ax
		mov	ax, sh1
		mul	_X
		div	slp
		add	ax, ys11
		mov	ys31, ax
		mov	ax, oldy
		cmp	ax, ys31
		jbe	short loc_52A3
		jmp	loc_532E
; ---------------------------------------------------------------------------

loc_52A3:				; CODE XREF: ExpandFrame+4C0j
		mov	ax, sh2
		mul	_X
		div	slp
		add	ax, ys12
		mov	ys32, ax
		mov	dx, ys31
		mov	ax, Sx1
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	es:[di+1000h], dx
		mov	dx, ys32
		mov	ax, Sx1
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	es:[di+1800h], dx
		mov	di, 0EBCEh
		mov	eax, [di]
		xor	ebx, ebx
		mov	bx, _X
		mul	ebx
		mov	ecx, eax
		mov	di, 0EBCAh
		mov	eax, [di]
		add	ecx, eax
		mov	di, 0EBC2h
		mov	eax, [di]
		mov	bx, _X
		mul	ebx
		mov	ebx, ecx
		div	ebx
		mov	cl, LB
		shr	eax, cl
		xor	ax, XORMask
		mov	Ims, ax
		mov	dx, Ims
		mov	ax, Sx1
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	es:[di+800h], dx

loc_532E:				; CODE XREF: ExpandFrame+4C2j
		inc	Sx1
		mov	ax, _X
		cmp	ax, word ptr [bp+var_8+2]
		jz	short loc_533D
		jmp	loc_5273
; ---------------------------------------------------------------------------

loc_533D:				; CODE XREF: ExpandFrame:loc_525Aj
					; ExpandFrame+48Dj ...
		cmp	WXSize,	80h ; '€'
		jnz	short loc_534C
		mov	SHRC, 4
		jmp	short loc_5351
; ---------------------------------------------------------------------------

loc_534C:				; CODE XREF: ExpandFrame+565j
		mov	SHRC, 3

loc_5351:				; CODE XREF: ExpandFrame+56Cj
		mov	ax, Sx11
		mov	x__0, ax
		mov	ax, [bp+arg_4]
		mov	ScrollK, ax
		cmp	ScrollK, 0
		jnz	short loc_5372
		mov	ax, 270Ah
		mov	dx, seg	cseg01
		mov	word ptr [bp+var_4], ax
		mov	word ptr [bp+var_4+2], dx
		jmp	short loc_537E
; ---------------------------------------------------------------------------

loc_5372:				; CODE XREF: ExpandFrame+584j
		mov	ax, 27D1h
		mov	dx, seg	cseg01
		mov	word ptr [bp+var_4], ax
		mov	word ptr [bp+var_4+2], dx

loc_537E:				; CODE XREF: ExpandFrame+592j
					; ExpandFrame+62Aj
		mov	ax, x__0
		cmp	ax, Sx21
		jle	short loc_538A
		jmp	locret_540B
; ---------------------------------------------------------------------------

loc_538A:				; CODE XREF: ExpandFrame+5A7j
		mov	bx, x__0
		mov	HLxx, bx
		shl	bx, 1
		les	di, dword ptr LinesBUF
		mov	ax, es:[bx+800h]
		mov	ImOfs, ax
		cmp	ax, 0FFFFh
		jz	short loc_5404
		mov	cl, SHRC
		shr	ax, cl
		mov	cx, ax
		mov	ax, WShadowSeg
		mov	es, ax
		mov	di, CurShOfs
		add	di, cx
		mov	cl, es:[di]
		mov	DDark, cx
		les	di, dword ptr LinesBUF
		mov	ax, es:[bx+1000h]
		mov	HLh1, ax
		mov	ax, es:[bx+1800h]
		mov	Hlh2, ax
		mov	ax, es:[bx+802h]
		mov	Double,	0
		cmp	ax, ImOfs
		jnz	short loc_53EC
		mov	Double,	1
		inc	x__0

loc_53EC:				; CODE XREF: ExpandFrame+603j
		mov	ax, ImSeg
		mov	es, ax
		mov	bx, ImOfs
		and	bx, XOfsMask
		shl	bx, 1
		mov	ax, es:[bx]
		mov	ImOfs, ax
		call	[bp+var_4]

loc_5404:				; CODE XREF: ExpandFrame+5C5j
		inc	x__0
		jmp	loc_537E
; ---------------------------------------------------------------------------

locret_540B:				; CODE XREF: ExpandFrame+10j
					; ExpandFrame+12Ej ...
		leave
		retn	0Eh
ExpandFrame	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandPicture	proc near		; CODE XREF: ExpandObject+BBp
					; DrawHoles+1F9p ...

var_1B		= byte ptr -1Bh
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= dword	ptr -6
var_1		= byte ptr -1
arg_0		= byte ptr  4
arg_2		= dword	ptr  6
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		enter	1Ch, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_C]
		lds	si, [bp+arg_2]
		mov	cx, 0Ah
		rep movsb
		mov	ds, bx
		mov	ax, HalfShr
		mov	[bp+var_E], ax
		xor	ax, ax
		mov	HalfShr, ax
		mov	ax, [bp+arg_C]
		cwd
		mov	cx, 2
		idiv	cx
		mov	[bp+arg_C], ax
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 2
		idiv	cx
		mov	[bp+arg_A], ax
		mov	[bp+var_1], 0
		cmp	[bp+arg_A], 18h
		jg	short loc_5457
		jmp	loc_590C
; ---------------------------------------------------------------------------

loc_5457:				; CODE XREF: ExpandPicture+43j
		add	[bp+arg_A], 30h	; '0'
		mov	ax, [bp+arg_A]
		sub	ax, 10h
		mov	_ty1, ax
		cmp	_ty1, 48h ; 'H'
		jge	short loc_5471
		mov	_ty1, 48h ; 'H'

loc_5471:				; CODE XREF: ExpandPicture+5Aj
		mov	ax, [bp+arg_A]
		add	ax, 200h
		shl	ax, 1
		mov	cx, ax
		mov	ax, [bp+arg_C]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jle	short loc_548A
		jmp	loc_590C
; ---------------------------------------------------------------------------

loc_548A:				; CODE XREF: ExpandPicture+76j
		les	di, [bp+var_6]
		mov	ax, es
		mov	ObjSeg,	ax
		mov	ax, [bp+var_A]
		mov	ObjectY, ax
		mov	ax, [bp+var_C]
		mov	ObjectX, ax
		mov	ax, [bp+var_8]
		mov	[bp+var_10], ax
		mov	ax, [bp+arg_C]
		mov	bx, WallW
		imul	bx
		mov	bx, [bp+arg_A]
		idiv	bx
		mov	[bp+var_18], ax
		mov	cx, [bp+var_E]
		shl	[bp+arg_A], cl
		mov	ax, [bp+var_10]
		mul	ObjectW
		div	[bp+arg_A]
		neg	ax
		add	ax, [bp+var_18]
		mov	Sx1, ax
		mov	ax, [bp+var_C]
		sub	ax, [bp+var_10]
		mul	ObjectW
		div	[bp+arg_A]
		add	ax, [bp+var_18]
		mov	Sx2, ax
		shr	[bp+arg_A], cl
		cmp	VideoCX, 0C8h ;	'È'
		jbe	short loc_54FB
		mov	ax, Sx2
		sub	ax, Sx1
		cmp	ax, 2
		jge	short loc_54FB
		inc	Sx2

loc_54FB:				; CODE XREF: ExpandPicture+DAj
					; ExpandPicture+E6j
		mov	ax, Sx2
		sub	ax, Sx1
		inc	ax
		mov	sl, ax
		mov	ax, WinW2i
		neg	ax
		cmp	ax, Sx2
		jge	short loc_551A
		mov	ax, Sx1
		cmp	ax, WinW2i
		jl	short loc_551D

loc_551A:				; CODE XREF: ExpandPicture+100j
		jmp	loc_590C
; ---------------------------------------------------------------------------

loc_551D:				; CODE XREF: ExpandPicture+109j
		mov	ax, VideoCX
		add	Sx1, ax
		mov	ax, WinSX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sx1
		cwd
		cmp	dx, bx
		jg	short loc_553B
		jl	short loc_5542
		cmp	ax, cx
		jbe	short loc_5542

loc_553B:				; CODE XREF: ExpandPicture+124j
		xor	ax, ax
		mov	_x1, ax
		jmp	short loc_5556
; ---------------------------------------------------------------------------

loc_5542:				; CODE XREF: ExpandPicture+126j
					; ExpandPicture+12Aj
		mov	ax, Sx1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinSX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	_x1, ax

loc_5556:				; CODE XREF: ExpandPicture+131j
		mov	ax, sl
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sx1
		cwd
		add	ax, cx
		adc	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinEX
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_557A
		jl	short loc_5582
		cmp	ax, cx
		jb	short loc_5582

loc_557A:				; CODE XREF: ExpandPicture+163j
		mov	ax, sl
		mov	_x2, ax
		jmp	short loc_559C
; ---------------------------------------------------------------------------

loc_5582:				; CODE XREF: ExpandPicture+165j
					; ExpandPicture+169j
		mov	ax, Sx1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinEX
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		add	ax, 1
		adc	dx, 0
		mov	_x2, ax

loc_559C:				; CODE XREF: ExpandPicture+171j
		mov	bx, [bp+arg_A]
		mov	cx, WallH
		xor	dx, dx
		mov	ax, ehz
		sub	ax, [bp+arg_8]
		sar	ax, 5
		imul	cx
		idiv	bx
		mov	[bp+var_1A], ax
		mov	cx, WallH
		xor	dx, dx
		mov	ax, ObjectY
		mul	cx
		div	bx
		mov	cx, [bp+var_E]
		shr	ax, cl
		mov	HS, ax
		mov	ax, ehz
		shr	ax, 1
		imul	WallH
		div	_ty1
		mov	ys12, ax
		cmp	HS, 0
		jnz	short loc_55E7
		mov	HS, 1

loc_55E7:				; CODE XREF: ExpandPicture+1D0j
		cmp	VideoCY, 96h ; '–'
		jbe	short loc_55FC
		cmp	HS, 1
		jnz	short loc_55FC
		mov	HS, 2

loc_55FC:				; CODE XREF: ExpandPicture+1DEj
					; ExpandPicture+1E5j
		mov	ax, [bp+var_1A]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinCY
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_1A], ax
		mov	ax, WinEY
		mov	[bp+var_16], ax
		mov	ax, [bp+var_1A]
		sub	ax, HS
		cmp	ax, [bp+var_16]
		jge	short loc_5628
		cmp	[bp+var_1A], 0
		jge	short loc_562B

loc_5628:				; CODE XREF: ExpandPicture+211j
		jmp	loc_590C
; ---------------------------------------------------------------------------

loc_562B:				; CODE XREF: ExpandPicture+217j
		mov	ax, Sx1
		add	_x1, ax
		mov	ax, Sx1
		add	_x2, ax
		mov	[bp+var_1B], 0
		mov	ax, _x1
		mov	_X, ax
		mov	cx, _x2
		sub	cx, ax
		les	di, dword ptr LinesBUF

loc_564D:				; CODE XREF: ExpandPicture+27Fj
		mov	bx, _X
		shl	bx, 1
		mov	ax, [bx-7734h]
		cmp	ax, ys12
		jb	short loc_5662
		mov	ax, 0FFFFh
		jmp	short loc_567F
; ---------------------------------------------------------------------------

loc_5662:				; CODE XREF: ExpandPicture+24Cj
		mov	[bp+var_1B], 1
		mov	ax, _X
		sub	ax, Sx1
		mov	bx, ObjectX
		mul	bx
		mov	bx, sl
		div	bx
		mov	bx, ObjectY
		mul	bx

loc_567F:				; CODE XREF: ExpandPicture+251j
		mov	bx, _X
		shl	bx, 1
		mov	es:[bx+1000h], ax
		inc	_X
		loop	loc_564D
		mov	ax, 0FFFFh
		add	bx, 1000h
		mov	es:[bx+2], ax
		mov	es:[bx+4], ax
		mov	es:[bx+6], ax
		mov	es:[bx+8], ax
		cmp	[bp+var_1B], 0
		jnz	short loc_56B0
		jmp	loc_590C
; ---------------------------------------------------------------------------

loc_56B0:				; CODE XREF: ExpandPicture+29Cj
		mov	ax, sl
		xor	dx, dx
		div	[bp+var_C]
		mov	[bp+var_12], ax
		mov	dx, 0
		mov	ax, ObjectY
		shl	ax, 8
		mov	Di0, ax
		mov	bx, HS
		div	bx
		mov	Dx0, ax
		mov	ax, [bp+var_1A]
		cmp	ax, [bp+var_16]
		jle	short loc_5722
		mov	ax, [bp+var_1A]
		sub	ax, [bp+var_16]
		mov	dx, ax
		mov	ax, HS
		sub	ax, dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_16]
		mov	[bp+var_1A], ax
		mov	ax, HS
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_14]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, ObjectY
		shl	ax, 8
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		sub	ax, 1
		sbb	dx, 0
		mov	Di0, ax
		mov	ax, [bp+var_14]
		mov	HS, ax
		jmp	short loc_572C
; ---------------------------------------------------------------------------

loc_5722:				; CODE XREF: ExpandPicture+2C7j
		mov	ax, ObjectY
		shl	ax, 8
		dec	ax
		mov	Di0, ax

loc_572C:				; CODE XREF: ExpandPicture+311j
		mov	ax, [bp+var_1A]
		sub	ax, HS
		or	ax, ax
		jge	short loc_573E
		mov	ax, [bp+var_1A]
		inc	ax
		mov	HS, ax

loc_573E:				; CODE XREF: ExpandPicture+326j
		mov	di, [bp+var_1A]
		shl	di, 2
		mov	ax, [di-6E84h]
		mov	dx, [di-6E82h]
		mov	word ptr HLSt, ax
		mov	word ptr HLSt+2, dx
		mov	ax, Dx0
		shr	ax, 1
		sub	Di0, ax
		cmp	[bp+arg_6], 0
		jl	short loc_57C0
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_A]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	n__0, ax
		cmp	n__0, 10h
		jle	short loc_5794
		mov	n__0, 10h

loc_5794:				; CODE XREF: ExpandPicture+37Dj
		cmp	n__0, 27h ; '''
		jl	short loc_57A4
		cmp	[bp+arg_0], 0
		jbe	short loc_57A4
		jmp	loc_590C
; ---------------------------------------------------------------------------

loc_57A4:				; CODE XREF: ExpandPicture+38Aj
					; ExpandPicture+390j
		mov	ax, cm_ofs
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, n__0
		add	ax, [bp+arg_6]
		shl	ax, 8
		cwd
		add	ax, cx
		adc	dx, bx
		mov	n__0, ax
		jmp	short loc_57C9
; ---------------------------------------------------------------------------

loc_57C0:				; CODE XREF: ExpandPicture+351j
		mov	ax, cm_ofs
		add	ax, 700h
		mov	n__0, ax

loc_57C9:				; CODE XREF: ExpandPicture+3AFj
		mov	al, [bp+arg_0]
		cmp	al, 1
		jnz	short loc_57DD
		mov	ax, RGBSeg25
		mov	RGBSeg,	ax
		mov	InversGlass, 0
		jmp	short loc_580E
; ---------------------------------------------------------------------------

loc_57DD:				; CODE XREF: ExpandPicture+3BFj
		cmp	al, 2
		jnz	short loc_57EE
		mov	ax, RGBSeg60
		mov	RGBSeg,	ax
		mov	InversGlass, 0
		jmp	short loc_580E
; ---------------------------------------------------------------------------

loc_57EE:				; CODE XREF: ExpandPicture+3D0j
		cmp	al, 3
		jnz	short loc_57FF
		mov	ax, RGBSeg60
		mov	RGBSeg,	ax
		mov	InversGlass, 1
		jmp	short loc_580E
; ---------------------------------------------------------------------------

loc_57FF:				; CODE XREF: ExpandPicture+3E1j
		cmp	al, 4
		jnz	short loc_580E
		mov	ax, RGBSeg25
		mov	RGBSeg,	ax
		mov	InversGlass, 1

loc_580E:				; CODE XREF: ExpandPicture+3CCj
					; ExpandPicture+3DDj ...
		mov	ax, _x1
		mov	_X, ax
		mov	ax, _X
		xor	dx, dx
		add	word ptr HLSt, ax
		adc	word ptr HLSt+2, dx

loc_5821:				; CODE XREF: ExpandPicture+4F0j
		mov	ax, _X
		cmp	ax, _x2
		jb	short loc_582D
		jmp	loc_5902
; ---------------------------------------------------------------------------

loc_582D:				; CODE XREF: ExpandPicture+419j
		mov	ax, _X
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	ax, es:[di+1000h]
		mov	ImSeg, ax
		cmp	ImSeg, 0FFFFh
		jnz	short loc_584A
		jmp	loc_58F1
; ---------------------------------------------------------------------------

loc_584A:				; CODE XREF: ExpandPicture+436j
		mov	ax, _X
		mov	HLxx, ax
		cmp	[bp+arg_0], 0
		jbe	short loc_58B9
		cmp	HS, 4
		jle	short loc_588A
		mov	ax, _X
		add	ax, 3
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	ax, es:[di+1000h]
		cmp	ax, ImSeg
		jnz	short loc_588A
		add	_X, 3
		call	ShowGlassLine4
		add	word ptr HLSt, 3
		adc	word ptr HLSt+2, 0
		jmp	short loc_58B7
; ---------------------------------------------------------------------------

loc_588A:				; CODE XREF: ExpandPicture+44Cj
					; ExpandPicture+465j
		mov	ax, _X
		inc	ax
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	ax, es:[di+1000h]
		cmp	ax, ImSeg
		jnz	short loc_58B4
		inc	_X
		call	ShowGlassLine2
		add	word ptr HLSt, 1
		adc	word ptr HLSt+2, 0
		jmp	short loc_58B7
; ---------------------------------------------------------------------------

loc_58B4:				; CODE XREF: ExpandPicture+490j
		call	ShowGlassLine

loc_58B7:				; CODE XREF: ExpandPicture+479j
					; ExpandPicture+4A3j
		jmp	short loc_58F1
; ---------------------------------------------------------------------------

loc_58B9:				; CODE XREF: ExpandPicture+445j
		cmp	[bp+var_12], 0
		jnz	short loc_58C4
		call	ShowLine
		jmp	short loc_58F1
; ---------------------------------------------------------------------------

loc_58C4:				; CODE XREF: ExpandPicture+4AEj
		mov	ax, _X
		inc	ax
		shl	ax, 1
		les	di, dword ptr LinesBUF
		add	di, ax
		mov	ax, es:[di+1000h]
		cmp	ax, ImSeg
		jnz	short loc_58EE
		inc	_X
		call	ShowLine2
		add	word ptr HLSt, 1
		adc	word ptr HLSt+2, 0
		jmp	short loc_58F1
; ---------------------------------------------------------------------------

loc_58EE:				; CODE XREF: ExpandPicture+4CAj
		call	ShowLine

loc_58F1:				; CODE XREF: ExpandPicture+438j
					; ExpandPicture:loc_58B7j ...
		inc	_X
		add	word ptr HLSt, 1
		adc	word ptr HLSt+2, 0
		jmp	loc_5821
; ---------------------------------------------------------------------------

loc_5902:				; CODE XREF: ExpandPicture+41Bj
		mov	[bp+var_1], 1
		mov	ax, RGBSeg25
		mov	RGBSeg,	ax

loc_590C:				; CODE XREF: ExpandPicture+45j
					; ExpandPicture+78j ...
		mov	al, [bp+var_1]
		leave
		retn	0Eh
ExpandPicture	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandObject	proc near		; CODE XREF: DoGame+17C6p

var_16		= dword	ptr -16h
var_8		= word ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	16h, 0
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		call	GetBrightAt
		xor	ah, ah
		mov	[bp+var_8], ax
		les	di, [bp+var_16]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 79h	; 'y'
		mov	[bp+var_4], ax
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		shl	ax, 5
		mov	[bp+var_2], ax
		imul	di, [bp+var_4],	0A5h
		add	di, 721Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	al, es:[di+2]
		and	al, 2
		or	al, al
		jz	short loc_5982
		mov	[bp+var_8], 9

loc_5982:				; CODE XREF: ExpandObject+68j
		les	di, [bp+var_16]
		assume es:nothing
		mov	al, es:[di+2]
		and	al, 4
		or	al, al
		jz	short loc_5995
		mov	HalfShr, 1

loc_5995:				; CODE XREF: ExpandObject+7Aj
		cmp	[bp+var_4], 1
		jz	short loc_59A4
		les	di, [bp+var_16]
		mov	ax, es:[di]
		mov	[bp+var_2], ax

loc_59A4:				; CODE XREF: ExpandObject+86j
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+var_2]
		push	[bp+var_8]
		les	di, [bp+var_16]
		mov	al, es:[di+4]
		xor	ah, ah
		imul	ax, 0Ah
		add	di, ax
		add	di, 5
		push	es
		push	di
		les	di, [bp+var_16]
		mov	al, es:[di+2]
		and	al, 1
		push	ax
		call	ExpandPicture
		leave
		retn	8
ExpandObject	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawHoles	proc near		; CODE XREF: DoGame+1734p

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	14h, 0
		mov	ax, HolCount
		mov	[bp+var_C], ax
		mov	ax, 1
		cmp	ax, [bp+var_C]
		jle	short loc_59EA
		jmp	locret_5BDC
; ---------------------------------------------------------------------------

loc_59EA:				; CODE XREF: DrawHoles+10j
		mov	[bp+var_2], ax
		jmp	short loc_59F2
; ---------------------------------------------------------------------------

loc_59EF:				; CODE XREF: DrawHoles+204j
		inc	[bp+var_2]

loc_59F2:				; CODE XREF: DrawHoles+18j
		imul	ax, [bp+var_2],	14h
		les	di, HolesList
		add	di, ax
		add	di, 0FFECh
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		cmp	word ptr es:[di+0Ah], 0FFFFh
		jnz	short loc_5A10
		jmp	loc_5ACD
; ---------------------------------------------------------------------------

loc_5A10:				; CODE XREF: DrawHoles+36j
		imul	ax, es:[di+0Ch], 0Bh
		mov	dx, ax
		imul	ax, es:[di+0Ah], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_14], di
		mov	word ptr [bp+var_14+2],	es
		mov	ax, es:[di+7]
		sub	ax, es:[di+3]
		push	ax
		mov	ax, es:[di+9]
		sub	ax, es:[di+5]
		push	ax
		call	FindVectorFi
		shl	ax, 6
		les	di, [bp+var_10]
		mov	es:[di+6], ax
		les	di, [bp+var_14]
		mov	ax, es:[di+7]
		sub	ax, es:[di+3]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		les	di, [bp+var_10]
		mov	cx, es:[di+0Eh]
		mov	si, es:[di+10h]
		mov	di, es:[di+12h]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_14]
		mov	ax, es:[di+3]
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_10]
		mov	es:[di], ax
		les	di, [bp+var_14]
		mov	ax, es:[di+9]
		sub	ax, es:[di+5]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		les	di, [bp+var_10]
		mov	cx, es:[di+0Eh]
		mov	si, es:[di+10h]
		mov	di, es:[di+12h]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_14]
		mov	ax, es:[di+5]
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_10]
		mov	es:[di+2], ax

loc_5ACD:				; CODE XREF: DrawHoles+38j
		mov	ax, ehx
		les	di, [bp+var_10]
		sub	ax, es:[di]
		mov	[bp+var_4], ax
		mov	ax, ehy
		sub	ax, es:[di+2]
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+var_4]
		imul	isa
		add	bx, ax
		adc	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		sub	bx, 40h	; '@'
		mov	[bp+var_A], bx
		mov	ax, [bp+var_4]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+var_6]
		imul	isa
		sub	bx, ax
		sbb	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		mov	[bp+var_8], bx
		cmp	[bp+var_A], 0
		jg	short loc_5B31
		jmp	loc_5BD1
; ---------------------------------------------------------------------------

loc_5B31:				; CODE XREF: DrawHoles+157j
		mov	Curdark, 0Ch
		mov	HPrior,	2
		les	di, [bp+var_10]
		mov	ax, es:[di+8]
		and	ax, 1
		or	ax, ax
		jbe	short loc_5B53
		mov	al, DrawMask
		xor	al, 3
		mov	DrawMask, al

loc_5B53:				; CODE XREF: DrawHoles+174j
		push	word_3D9C8
		push	word_3D9C6
		push	[bp+var_8]
		push	[bp+var_A]
		les	di, [bp+var_10]
		push	word ptr es:[di+4]
		mov	ax, es:[di+6]
		add	ax, EHFi
		push	ax
		push	0
		call	Draw3DObject
		cmp	word_3D9B0, 0
		jl	short loc_5BD1
		imul	di, word_3D9B0,	0A5h
		mov	al, [di+721Ch]
		and	al, 4
		or	al, al
		jz	short loc_5B95
		mov	HalfShr, 1

loc_5B95:				; CODE XREF: DrawHoles+1B8j
		push	[bp+var_8]
		push	[bp+var_A]
		les	di, [bp+var_10]
		push	word ptr es:[di+4]
		push	8
		imul	di, word_3D9B0,	0A5h
		mov	al, [di+721Eh]
		xor	ah, ah
		imul	ax, 0Ah
		imul	di, word_3D9B0,	0A5h
		add	di, ax
		add	di, 721Fh
		push	ds
		push	di
		imul	di, word_3D9B0,	0A5h
		mov	al, [di+721Ch]
		and	al, 1
		push	ax
		call	ExpandPicture

loc_5BD1:				; CODE XREF: DrawHoles+159j
					; DrawHoles+1A8j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_C]
		jz	short locret_5BDC
		jmp	loc_59EF
; ---------------------------------------------------------------------------

locret_5BDC:				; CODE XREF: DrawHoles+12j
					; DrawHoles+202j
		leave
		retn
DrawHoles	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Expand3dObject	proc near		; CODE XREF: DoGame+17E8p

var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	16h, 0
		cmp	Obj3d, 0
		jnz	short loc_5BEC
		jmp	locret_5EC5
; ---------------------------------------------------------------------------

loc_5BEC:				; CODE XREF: Expand3dObject+9j
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_12], di
		mov	word ptr [bp+var_12+2],	es
		mov	ax, es:[di+7]
		mov	[bp+var_E], ax
		mov	ax, [bp+var_E]
		mov	LocalFi, ax
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		call	GetBrightAt
		xor	ah, ah
		mov	[bp+var_8], ax
		les	di, [bp+var_12]
		mov	ax, es:[di+3]
		mov	GlobX, ax
		mov	ax, es:[di+5]
		mov	GlobY, ax
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_5C49
		jmp	locret_5EC5
; ---------------------------------------------------------------------------

loc_5C49:				; CODE XREF: Expand3dObject+66j
		les	di, [bp+var_12]
		mov	al, es:[di+2]
		xor	ah, ah
		mov	ShadowZ0, ax
		mov	ax, ShadowZ0
		shl	ax, 5
		mov	ShadowZ0, ax
		imul	di, [bp+var_2],	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_12], di
		mov	word ptr [bp+var_12+2],	es
		cmp	word ptr es:[di+6], 0FFFDh
		mov	al, 0
		jnz	short loc_5C78
		inc	ax

loc_5C78:				; CODE XREF: Expand3dObject+97j
		mov	YWrap, al
		cmp	word ptr es:[di+6], 0FFFDh
		jz	short loc_5C89
		cmp	word ptr es:[di+2], 0
		jnz	short loc_5C8E

loc_5C89:				; CODE XREF: Expand3dObject+A2j
		mov	HiRot, 1

loc_5C8E:				; CODE XREF: Expand3dObject+A9j
		les	di, [bp+var_12]
		assume es:nothing
		cmp	word ptr es:[di+6], 0FFFCh
		jnz	short loc_5C9E
		mov	HPrior,	50h ; 'P'

loc_5C9E:				; CODE XREF: Expand3dObject+B8j
		mov	ax, ShadowZ0
		les	di, [bp+var_12]
		add	ax, es:[di+8]
		mov	[bp+var_A], ax
		cmp	word ptr es:[di+6], 0
		jl	short loc_5D11
		cmp	[bp+var_A], 800h
		jl	short loc_5D11
		imul	di, es:[di+6], 0A5h
		mov	al, [di+721Ch]
		and	al, 4
		or	al, al
		jz	short loc_5CCF
		mov	HalfShr, 1

loc_5CCF:				; CODE XREF: Expand3dObject+E9j
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+var_A]
		push	[bp+var_8]
		les	di, [bp+var_12]
		imul	di, es:[di+6], 0A5h
		mov	al, [di+721Eh]
		xor	ah, ah
		imul	ax, 0Ah
		les	di, [bp+var_12]
		imul	di, es:[di+6], 0A5h
		add	di, ax
		add	di, 721Fh
		push	ds
		push	di
		les	di, [bp+var_12]
		imul	di, es:[di+6], 0A5h
		mov	al, [di+721Ch]
		and	al, 1
		push	ax
		call	ExpandPicture

loc_5D11:				; CODE XREF: Expand3dObject+D2j
					; Expand3dObject+D9j
		cmp	[bp+arg_4], 0
		jle	short loc_5D3E
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	DepthD,	ax
		jmp	short loc_5D43
; ---------------------------------------------------------------------------

loc_5D3E:				; CODE XREF: Expand3dObject+137j
		xor	ax, ax
		mov	DepthD,	ax

loc_5D43:				; CODE XREF: Expand3dObject+15Ej
		cmp	DepthD,	10h
		jle	short loc_5D50
		mov	DepthD,	10h

loc_5D50:				; CODE XREF: Expand3dObject+16Aj
		les	di, [bp+var_12]
		cmp	word ptr es:[di+2], 0
		jle	short loc_5D7A
		mov	ax, DepthD
		shl	ax, 2
		cwd
		mov	cx, 5
		idiv	cx
		mov	DepthD,	ax
		sub	DepthD,	4
		cmp	DepthD,	0
		jge	short loc_5D7A
		xor	ax, ax
		mov	DepthD,	ax

loc_5D7A:				; CODE XREF: Expand3dObject+17Aj
					; Expand3dObject+195j
		mov	ax, DepthD
		add	ax, [bp+var_8]
		mov	Curdark, ax
		mov	ax, EHFi
		add	[bp+var_E], ax
		les	di, [bp+var_12]
		cmp	word ptr es:[di+2], 0FFh
		jz	short loc_5D9D
		mov	ax, es:[di+18h]
		mov	[bp+var_C], ax
		jmp	short loc_5DC4
; ---------------------------------------------------------------------------

loc_5D9D:				; CODE XREF: Expand3dObject+1B4j
		mov	dx, [bp+arg_0]
		mov	ax, [bp+arg_2]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_C], ax
		cmp	[bp+var_C], 1
		jbe	short loc_5DC4
		mov	al, DrawMask
		xor	al, 3
		mov	DrawMask, al

loc_5DC4:				; CODE XREF: Expand3dObject+1BDj
					; Expand3dObject+1DCj
		les	di, [bp+var_12]
		cmp	byte ptr es:[di+16h], 0
		jnz	short loc_5DD3
		xor	ax, ax
		mov	[bp+var_C], ax

loc_5DD3:				; CODE XREF: Expand3dObject+1EEj
		imul	di, [bp+var_2],	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	ax, es:[di+20h]
		or	ax, es:[di+22h]
		jz	short loc_5E34
		cmp	byte ptr es:[di+17h], 0
		jz	short loc_5E12
		push	word ptr es:[di+1Eh]
		push	word ptr es:[di+1Ch]
		push	word ptr es:[di+22h]
		push	word ptr es:[di+20h]
		mov	ax, [bp+var_C]
		shr	ax, 2
		push	ax
		call	Morph3d
		jmp	short loc_5E34
; ---------------------------------------------------------------------------

loc_5E12:				; CODE XREF: Expand3dObject+214j
		les	di, [bp+var_16]
		assume es:nothing
		push	word ptr es:[di+1Eh]
		push	word ptr es:[di+1Ch]
		push	word ptr es:[di+22h]
		push	word ptr es:[di+20h]
		mov	ax, [bp+var_C]
		shr	ax, 2
		and	ax, 0FFFEh
		push	ax
		call	Morph3d

loc_5E34:				; CODE XREF: Expand3dObject+20Dj
					; Expand3dObject+232j
		les	di, [bp+var_16]
		push	word ptr es:[di+1Eh]
		push	word ptr es:[di+1Ch]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	ShadowZ0
		push	[bp+var_E]
		cmp	word ptr es:[di+4], 1
		mov	al, 0
		jnz	short loc_5E56
		inc	ax

loc_5E56:				; CODE XREF: Expand3dObject+275j
		push	ax
		call	Draw3DObject
		les	di, [bp+var_12]
		cmp	word ptr es:[di+6], 0
		jl	short locret_5EC5
		cmp	[bp+var_A], 800h
		jge	short locret_5EC5
		imul	di, es:[di+6], 0A5h
		mov	al, [di+721Ch]
		and	al, 4
		or	al, al
		jz	short loc_5E83
		mov	HalfShr, 1

loc_5E83:				; CODE XREF: Expand3dObject+29Dj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+var_A]
		push	[bp+var_8]
		les	di, [bp+var_12]
		imul	di, es:[di+6], 0A5h
		mov	al, [di+721Eh]
		xor	ah, ah
		imul	ax, 0Ah
		les	di, [bp+var_12]
		imul	di, es:[di+6], 0A5h
		add	di, ax
		add	di, 721Fh
		push	ds
		push	di
		les	di, [bp+var_12]
		imul	di, es:[di+6], 0A5h
		mov	al, [di+721Ch]
		and	al, 1
		push	ax
		call	ExpandPicture

locret_5EC5:				; CODE XREF: Expand3dObject+Bj
					; Expand3dObject+68j ...
		leave
		retn	8
Expand3dObject	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandRocket	proc near		; CODE XREF: DoGame+1826p

var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	0Eh, 0
		imul	di, [bp+arg_0],	18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		add	di, 0CD84h
		push	ds
		pop	es
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		les	di, [bp+var_A]
		assume es:nothing
		mov	ax, es:[di+8]
		mov	[bp+var_6], ax
		les	di, [bp+var_E]
		mov	al, es:[di+0Ah]
		and	al, 2
		or	al, al
		jbe	short loc_5F11
		mov	Curdark, 5
		jmp	short loc_5F6C
; ---------------------------------------------------------------------------

loc_5F11:				; CODE XREF: ExpandRocket+3Ej
		les	di, [bp+var_A]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		call	GetBrightAt
		xor	ah, ah
		mov	Curdark, ax
		cmp	[bp+arg_2], 0
		jle	short loc_5F53
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_2], ax
		jmp	short loc_5F58
; ---------------------------------------------------------------------------

loc_5F53:				; CODE XREF: ExpandRocket+61j
		xor	ax, ax
		mov	[bp+var_2], ax

loc_5F58:				; CODE XREF: ExpandRocket+88j
		cmp	[bp+var_2], 10h
		jle	short loc_5F63
		mov	[bp+var_2], 10h

loc_5F63:				; CODE XREF: ExpandRocket+93j
		mov	ax, Curdark
		add	ax, [bp+var_2]
		mov	Curdark, ax

loc_5F6C:				; CODE XREF: ExpandRocket+46j
		les	di, [bp+var_E]
		mov	ax, es:[di+12h]
		or	ax, es:[di+14h]
		jz	short loc_5F9B
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Eh]
		push	word ptr es:[di+14h]
		push	word ptr es:[di+12h]
		les	di, [bp+var_A]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		shr	ax, 2
		push	ax
		call	Morph3d

loc_5F9B:				; CODE XREF: ExpandRocket+AEj
		mov	ax, EHFi
		mov	b0, ax
		les	di, [bp+var_A]
		mov	ax, es:[di+0Ah]
		sub	b0, ax
		mov	ax, es:[di+12h]
		mov	XFi, ax
		les	di, [bp+var_E]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Eh]
		push	[bp+arg_4]
		push	[bp+arg_2]
		les	di, [bp+var_A]
		push	word ptr es:[di+8]
		push	b0
		push	0
		call	Draw3DObject
		leave
		retn	6
ExpandRocket	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandMine	proc near		; CODE XREF: DoGame+1841p

var_8		= dword	ptr -8
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	8, 0
		imul	di, [bp+arg_0],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		call	GetBrightAt
		xor	ah, ah
		mov	Curdark, ax
		cmp	[bp+arg_2], 0
		jle	short loc_602C
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_2], ax
		jmp	short loc_6031
; ---------------------------------------------------------------------------

loc_602C:				; CODE XREF: ExpandMine+29j
		xor	ax, ax
		mov	[bp+var_2], ax

loc_6031:				; CODE XREF: ExpandMine+50j
		cmp	[bp+var_2], 10h
		jle	short loc_603C
		mov	[bp+var_2], 10h

loc_603C:				; CODE XREF: ExpandMine+5Bj
		mov	ax, Curdark
		add	ax, [bp+var_2]
		mov	Curdark, ax
		les	di, [bp+var_8]
		assume es:nothing
		cmp	word ptr es:[di+4], 118h
		jl	short loc_6071
		cmp	SecCounter, 46h	; 'F'
		jbe	short loc_6071
		mov	al, DrawMask
		xor	al, 3
		mov	DrawMask, al
		sub	Curdark, 0Ch
		cmp	Curdark, 6
		jge	short loc_6071
		mov	Curdark, 6

loc_6071:				; CODE XREF: ExpandMine+74j
					; ExpandMine+7Bj ...
		push	word_3DB54
		push	word_3DB52
		push	[bp+arg_4]
		push	[bp+arg_2]
		les	di, [bp+var_8]
		push	word ptr es:[di+6]
		push	EHFi
		push	0
		call	Draw3DObject
		leave
		retn	6
ExpandMine	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandSepPart	proc near		; CODE XREF: DoGame+1897p

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	0Ch, 0
		imul	di, [bp+arg_0],	16h
		add	di, 0B940h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		imul	di, es:[di+4], 12h
		add	di, 0D044h
		push	ds
		pop	es
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		les	di, [bp+var_8]
		assume es:nothing
		mov	ax, es:[di+8]
		mov	GlobX, ax
		mov	ax, es:[di+0Ah]
		mov	GlobY, ax
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		call	GetBrightAt
		xor	ah, ah
		mov	Curdark, ax
		cmp	[bp+arg_2], 0
		jle	short loc_610A
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_2], ax
		jmp	short loc_610F
; ---------------------------------------------------------------------------

loc_610A:				; CODE XREF: ExpandSepPart+4Cj
		xor	ax, ax
		mov	[bp+var_2], ax

loc_610F:				; CODE XREF: ExpandSepPart+73j
		cmp	[bp+var_2], 10h
		jle	short loc_611A
		mov	[bp+var_2], 10h

loc_611A:				; CODE XREF: ExpandSepPart+7Ej
		mov	ax, Curdark
		add	ax, [bp+var_2]
		mov	Curdark, ax
		mov	ax, EHFi
		mov	b0, ax
		les	di, [bp+var_8]
		mov	ax, es:[di+14h]
		add	b0, ax
		cmp	word ptr es:[di+4], 3
		jge	short loc_614B
		mov	al, es:[di+7]
		xor	ah, ah
		imul	di, ax,	58h
		mov	ax, [di-0FA0h]
		mov	ReColor, ax

loc_614B:				; CODE XREF: ExpandSepPart+A4j
		les	di, [bp+var_8]
		cmp	word ptr es:[di+4], 46h	; 'F'
		jl	short loc_6171
		cmp	byte ptr es:[di+6], 0
		jnz	short loc_616F
		mov	al, SecCounter
		xor	ah, ah
		imul	ax, 1D4h
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	b0, ax

loc_616F:				; CODE XREF: ExpandSepPart+C5j
		jmp	short loc_61C5
; ---------------------------------------------------------------------------

loc_6171:				; CODE XREF: ExpandSepPart+BEj
		les	di, [bp+var_8]
		cmp	byte ptr es:[di+6], 0
		jnz	short loc_61A1
		les	di, [bp+var_C]
		push	word ptr es:[di+8]
		push	word ptr es:[di+6]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+0Ah]
		les	di, [bp+var_8]
		mov	ax, es:[di]
		shr	ax, 3
		shl	ax, 1
		push	ax
		call	Morph3d
		jmp	short loc_61C5
; ---------------------------------------------------------------------------

loc_61A1:				; CODE XREF: ExpandSepPart+E4j
		les	di, [bp+var_C]
		push	word ptr es:[di+8]
		push	word ptr es:[di+6]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Eh]
		les	di, [bp+var_8]
		mov	ax, es:[di]
		shr	ax, 3
		shl	ax, 1
		push	ax
		call	Morph3d

loc_61C5:				; CODE XREF: ExpandSepPart:loc_616Fj
					; ExpandSepPart+10Aj
		les	di, [bp+var_C]
		push	word ptr es:[di+8]
		push	word ptr es:[di+6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		les	di, [bp+var_8]
		mov	ax, es:[di+0Ch]
		shr	ax, 2
		push	ax
		push	b0
		cmp	byte ptr es:[di+6], 0
		jnz	short loc_61F8
		mov	ax, es:[di+0Ch]
		shr	ax, 7
		cmp	ax, 50h	; 'P'
		jl	short loc_61FC

loc_61F8:				; CODE XREF: ExpandSepPart+155j
		mov	al, 0
		jmp	short loc_61FE
; ---------------------------------------------------------------------------

loc_61FC:				; CODE XREF: ExpandSepPart+161j
		mov	al, 1

loc_61FE:				; CODE XREF: ExpandSepPart+165j
		push	ax
		call	Draw3DObject
		leave
		retn	6
ExpandSepPart	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandAmmoBag	proc near		; CODE XREF: DoGame+18B1p

var_8		= dword	ptr -8
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	8, 0
		imul	ax, [bp+arg_0],	1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, es:[di]
		mov	GlobX, ax
		mov	ax, es:[di+2]
		mov	GlobY, ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		call	GetBrightAt
		xor	ah, ah
		mov	Curdark, ax
		cmp	[bp+arg_2], 0
		jle	short loc_626B
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_2], ax
		jmp	short loc_6270
; ---------------------------------------------------------------------------

loc_626B:				; CODE XREF: ExpandAmmoBag+3Aj
		xor	ax, ax
		mov	[bp+var_2], ax

loc_6270:				; CODE XREF: ExpandAmmoBag+61j
		cmp	[bp+var_2], 10h
		jle	short loc_627B
		mov	[bp+var_2], 10h

loc_627B:				; CODE XREF: ExpandAmmoBag+6Cj
		mov	ax, Curdark
		add	ax, [bp+var_2]
		mov	Curdark, ax
		mov	ax, EHFi
		mov	b0, ax
		les	di, [bp+var_8]
		mov	ax, es:[di+0Ch]
		add	b0, ax
		push	word_3D71C
		push	word_3D71A
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	word ptr es:[di+4]
		push	b0
		push	1
		call	Draw3DObject
		leave
		retn	6
ExpandAmmoBag	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandBlow	proc near		; CODE XREF: DoGame+185Bp

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	0Ch, 0
		mov	ax, [bp+arg_0]
		shl	ax, 4
		les	di, BlowsList
		add	di, ax
		add	di, 0FFF0h
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		imul	di, es:[di+2], 3Ah
		add	di, 0D698h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	al, es:[di+2]
		and	al, 10h
		or	al, al
		jz	short loc_62F1
		mov	HalfShr, 1

loc_62F1:				; CODE XREF: ExpandBlow+33j
		les	di, [bp+var_C]
		assume es:nothing
		mov	al, es:[di+2]
		and	al, 20h
		or	al, al
		jz	short loc_6305
		mov	[bp+var_4], 7
		jmp	short loc_631A
; ---------------------------------------------------------------------------

loc_6305:				; CODE XREF: ExpandBlow+46j
		les	di, [bp+var_8]
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		call	GetBrightAt
		xor	ah, ah
		mov	[bp+var_4], ax

loc_631A:				; CODE XREF: ExpandBlow+4Dj
		les	di, [bp+var_C]
		add	di, 4
		push	es
		push	di
		les	di, [bp+var_8]
		push	word ptr es:[di]
		call	SetCurPicTo
		les	di, [bp+var_8]
		cmp	word ptr es:[di+8], 0
		jnz	short loc_6341
		mov	ax, es:[di+8]
		mov	[bp+var_2], ax
		jmp	short loc_635C
; ---------------------------------------------------------------------------

loc_6341:				; CODE XREF: ExpandBlow+80j
		mov	ax, word_37CEC
		shl	ax, 4
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_8]
		mov	ax, es:[di+8]
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_2], ax

loc_635C:				; CODE XREF: ExpandBlow+89j
		les	di, [bp+var_C]
		cmp	byte ptr es:[di+3], 4Dh	; 'M'
		jnz	short loc_63BE
		les	di, [bp+var_8]
		cmp	word ptr es:[di], 0
		jnz	short loc_6386
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	0FFFFh
		mov	di, offset CurPic
		push	ds
		push	di
		push	0
		call	ExpandPicture
		jmp	short loc_63BB
; ---------------------------------------------------------------------------

loc_6386:				; CODE XREF: ExpandBlow+B7j
		les	di, [bp+var_8]
		cmp	word ptr es:[di], 1
		jnz	short loc_63A6
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	0FFFFh
		mov	di, offset CurPic
		push	ds
		push	di
		push	3
		call	ExpandPicture
		jmp	short loc_63BB
; ---------------------------------------------------------------------------

loc_63A6:				; CODE XREF: ExpandBlow+D7j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	0FFFFh
		mov	di, offset CurPic
		push	ds
		push	di
		push	1
		call	ExpandPicture

loc_63BB:				; CODE XREF: ExpandBlow+CEj
					; ExpandBlow+EEj
		jmp	locret_6457
; ---------------------------------------------------------------------------

loc_63BE:				; CODE XREF: ExpandBlow+AEj
		les	di, [bp+var_C]
		cmp	byte ptr es:[di+3], 0Ah
		jnb	short loc_63E6
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	[bp+var_4]
		mov	di, offset CurPic
		push	ds
		push	di
		les	di, [bp+var_C]
		mov	al, es:[di+3]
		push	ax
		call	ExpandPicture
		jmp	short locret_6457
; ---------------------------------------------------------------------------

loc_63E6:				; CODE XREF: ExpandBlow+110j
		les	di, [bp+var_8]
		mov	ax, es:[di]
		inc	ax
		les	di, [bp+var_C]
		cmp	ax, es:[di]
		jnz	short loc_640C
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	0FFFFh
		mov	di, offset CurPic
		push	ds
		push	di
		push	1
		call	ExpandPicture
		jmp	short locret_6457
; ---------------------------------------------------------------------------

loc_640C:				; CODE XREF: ExpandBlow+13Dj
		les	di, [bp+var_8]
		mov	ax, es:[di]
		inc	ax
		inc	ax
		les	di, [bp+var_C]
		cmp	ax, es:[di]
		jnz	short loc_6433
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	0FFFFh
		mov	di, offset CurPic
		push	ds
		push	di
		push	2
		call	ExpandPicture
		jmp	short locret_6457
; ---------------------------------------------------------------------------

loc_6433:				; CODE XREF: ExpandBlow+164j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	0FFFFh
		mov	di, offset CurPic
		push	ds
		push	di
		les	di, [bp+var_C]
		mov	al, es:[di+3]
		xor	ah, ah
		cwd
		mov	cx, 0Ah
		idiv	cx
		xchg	ax, dx
		push	ax
		call	ExpandPicture

locret_6457:				; CODE XREF: ExpandBlow:loc_63BBj
					; ExpandBlow+12Ej ...
		leave
		retn	6
ExpandBlow	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandPlayer	proc near		; CODE XREF: DoGame+187Dp

var_14		= dword	ptr -14h
var_B		= byte ptr -0Bh
arg_0		= word ptr  4
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		enter	14h, 0
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_14], di
		mov	word ptr [bp+var_14+2],	es
		mov	ax, es:[di+0Ah]
		mov	GlobX, ax
		mov	ax, es:[di+0Ch]
		mov	GlobY, ax
		cmp	[bp+arg_6], 0
		jle	short loc_64AA
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_B], al
		jmp	short loc_64AE
; ---------------------------------------------------------------------------

loc_64AA:				; CODE XREF: ExpandPlayer+26j
		mov	[bp+var_B], 0

loc_64AE:				; CODE XREF: ExpandPlayer+4Dj
		cmp	[bp+var_B], 10h
		jbe	short loc_64B8
		mov	[bp+var_B], 10h

loc_64B8:				; CODE XREF: ExpandPlayer+57j
		les	di, [bp+var_14]
		assume es:nothing
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		call	GetSmoothBrightAt
		shr	ax, 2
		mov	dx, ax
		mov	al, [bp+var_B]
		xor	ah, ah
		add	ax, dx
		mov	Curdark, ax
		mov	ax, EHFi
		mov	b0, ax
		les	di, [bp+var_14]
		mov	ax, es:[di+1Eh]
		sub	b0, ax
		add	b0, 8000h
		mov	ax, es:[di+36h]
		mov	ReColor, ax
		mov	al, es:[di+24h]
		cmp	al, 4
		jb	short loc_6521
		cmp	al, 5
		ja	short loc_6521
		mov	al, es:[di+24h]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-4090h]
		shr	ax, 2
		les	di, [bp+var_14]
		cmp	ax, es:[di+22h]
		jbe	short loc_6521
		mov	al, 0C0h ; 'À'
		xor	DrawMask, al

loc_6521:				; CODE XREF: ExpandPlayer+A0j
					; ExpandPlayer+A4j ...
		push	word_4216E
		push	word_4216C
		les	di, [bp+var_14]
		mov	al, es:[di+24h]
		xor	ah, ah
		mov	di, ax
		shl	di, 2
		push	word ptr [di-40DEh]
		push	word ptr [di-40E0h]
		les	di, [bp+var_14]
		mov	ax, es:[di+22h]
		shr	ax, 2
		push	ax
		call	Morph3d
		les	di, [bp+var_14]
		mov	ax, es:[di+2Ah]
		and	ax, 1
		or	ax, ax
		mov	al, 0
		jbe	short loc_6560
		inc	ax

loc_6560:				; CODE XREF: ExpandPlayer+102j
		mov	Invisibility, al
		mov	ax, es:[di+10h]
		neg	ax
		cwd
		mov	cx, 4
		idiv	cx
		mov	XFi, ax
		push	word_4216E
		push	word_4216C
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	word ptr es:[di+0Eh]
		push	b0
		cmp	word ptr es:[di+0Eh], 0
		mov	al, 0
		jnz	short loc_6592
		inc	ax

loc_6592:				; CODE XREF: ExpandPlayer+134j
		push	ax
		call	Draw3DObject
		les	di, [bp+var_14]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		call	GetSmoothBrightAt
		shr	ax, 2
		mov	dx, ax
		mov	al, [bp+var_B]
		xor	ah, ah
		add	ax, dx
		mov	Curdark, ax
		les	di, [bp+var_14]
		mov	ax, es:[di+2Ah]
		and	ax, 2
		or	ax, ax
		jz	short loc_660E
		mov	ax, word_3D9EE
		or	ax, word_3D9F0
		jz	short loc_65EA
		push	word_3D9EC
		push	word_3D9EA
		push	word_3D9F0
		push	word_3D9EE
		mov	ax, word_3D9E6
		shr	ax, 2
		push	ax
		call	Morph3d

loc_65EA:				; CODE XREF: ExpandPlayer+171j
		push	word_3D9EC
		push	word_3D9EA
		push	[bp+arg_8]
		push	[bp+arg_6]
		les	di, [bp+var_14]
		mov	ax, es:[di+0Eh]
		add	ax, 260h
		push	ax
		push	b0
		push	0
		call	Draw3DObject

loc_660E:				; CODE XREF: ExpandPlayer+168j
		les	di, [bp+var_14]
		mov	ax, es:[di+2Ah]
		and	ax, 4
		or	ax, ax
		jz	short locret_666A
		mov	Invisibility, 1
		mov	ax, word_3DA12
		or	ax, word_3DA14
		jz	short loc_6646
		push	word_3DA10
		push	word_3DA0E
		push	word_3DA14
		push	word_3DA12
		mov	ax, word_3DA0A
		shr	ax, 2
		push	ax
		call	Morph3d

loc_6646:				; CODE XREF: ExpandPlayer+1CDj
		push	word_3DA10
		push	word_3DA0E
		push	[bp+arg_8]
		push	[bp+arg_6]
		les	di, [bp+var_14]
		mov	ax, es:[di+0Eh]
		sub	ax, 40h	; '@'
		push	ax
		push	b0
		push	0
		call	Draw3DObject

locret_666A:				; CODE XREF: ExpandPlayer+1BFj
		leave
		retn	0Ah
ExpandPlayer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExpandMonster	proc near		; CODE XREF: DoGame+180Bp

var_3A		= dword	ptr -3Ah
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= byte ptr -1Eh
var_1D		= byte ptr -1Dh
var_16		= word ptr -16h
var_14		= word ptr -14h
var_A		= word ptr -0Ah
arg_0		= word ptr  4
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		enter	3Ah, 0
		cmp	Obj3d, 0
		jnz	short loc_667C
		jmp	locret_6814
; ---------------------------------------------------------------------------

loc_667C:				; CODE XREF: ExpandMonster+9j
		imul	di, [bp+arg_0],	28h
		add	di, 0A51Eh
		push	ds
		push	di
		lea	di, [bp+var_28]
		push	ss
		push	di
		push	28h ; '('
		call	@$basg$qm3Anyt14Word ; Bitcopy of any type variable
		mov	al, [bp+var_1E]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_3A], di
		mov	word ptr [bp+var_3A+2],	es
		mov	ax, [bp+var_28]
		mov	GlobX, ax
		mov	ax, [bp+var_26]
		mov	GlobY, ax
		cmp	[bp+arg_6], 0
		jle	short loc_66E0
		mov	ax, BLevelDef
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		shr	ax, 7
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 8
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_2C], ax
		jmp	short loc_66E5
; ---------------------------------------------------------------------------

loc_66E0:				; CODE XREF: ExpandMonster+49j
		xor	ax, ax
		mov	[bp+var_2C], ax

loc_66E5:				; CODE XREF: ExpandMonster+70j
		cmp	[bp+var_2C], 10h
		jle	short loc_66F0
		mov	[bp+var_2C], 10h

loc_66F0:				; CODE XREF: ExpandMonster+7Bj
		push	[bp+var_28]
		push	[bp+var_26]
		call	GetSmoothBrightAt
		shr	ax, 2
		add	ax, [bp+var_2C]
		mov	Curdark, ax
		mov	al, 0AAh ; 'ª'
		mov	DrawMask, al
		mov	al, [bp+var_1D]
		and	al, 1
		or	al, al
		jz	short loc_6718
		mov	al, 3
		xor	DrawMask, al

loc_6718:				; CODE XREF: ExpandMonster+A2j
		mov	al, [bp+var_1D]
		and	al, 2
		or	al, al
		jz	short loc_6727
		mov	al, 0Ch
		xor	DrawMask, al

loc_6727:				; CODE XREF: ExpandMonster+B1j
		mov	al, [bp+var_1D]
		and	al, 4
		or	al, al
		jz	short loc_6736
		mov	al, 30h	; '0'
		xor	DrawMask, al

loc_6736:				; CODE XREF: ExpandMonster+C0j
		mov	al, [bp+var_1D]
		and	al, 8
		or	al, al
		jz	short loc_6745
		mov	al, 0C0h ; 'À'
		xor	DrawMask, al

loc_6745:				; CODE XREF: ExpandMonster+CFj
		mov	ax, [bp+var_20]
		shl	ax, 1
		les	di, [bp+var_3A]
		assume es:nothing
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_22]
		cwd
		cmp	dx, bx
		jg	short loc_6767
		jl	short loc_676C
		cmp	ax, cx
		jbe	short loc_676C

loc_6767:				; CODE XREF: ExpandMonster+F1j
		xor	ax, ax
		mov	[bp+var_22], ax

loc_676C:				; CODE XREF: ExpandMonster+F3j
					; ExpandMonster+F7j
		cmp	[bp+var_1E], 64h ; 'd'
		jnz	short loc_67A1
		imul	di, [bp+var_14], 58h
		mov	ax, [di-0FA0h]
		mov	ReColor, ax
		push	[bp+var_28]
		push	[bp+var_26]
		push	0
		lea	di, [bp+var_2A]
		push	ss
		push	di
		lea	di, [bp+var_2C]
		push	ss
		push	di
		call	GetLandHeight
		mov	ax, [bp+var_2A]
		imul	di, [bp+arg_0],	28h
		mov	[di-5AC4h], ax
		jmp	short loc_67A7
; ---------------------------------------------------------------------------

loc_67A1:				; CODE XREF: ExpandMonster+102j
		mov	ax, [bp+var_A]
		mov	[bp+var_2A], ax

loc_67A7:				; CODE XREF: ExpandMonster+131j
		les	di, [bp+var_3A]
		push	word ptr es:[di+28h]
		push	word ptr es:[di+26h]
		mov	ax, [bp+var_20]
		shl	ax, 2
		add	di, ax
		push	word ptr es:[di+2Ch]
		push	word ptr es:[di+2Ah]
		mov	ax, [bp+var_22]
		shr	ax, 2
		push	ax
		call	Morph3d
		mov	ax, [bp+var_24]
		shl	ax, 6
		mov	b0, ax
		mov	ax, EHFi
		add	b0, ax
		add	b0, 0C000h
		les	di, [bp+var_3A]
		push	word ptr es:[di+28h]
		push	word ptr es:[di+26h]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+var_2A]
		push	b0
		cmp	[bp+var_16], 0
		jle	short loc_6808
		cmp	[bp+var_A], 0
		jz	short loc_680C

loc_6808:				; CODE XREF: ExpandMonster+192j
		mov	al, 0
		jmp	short loc_680E
; ---------------------------------------------------------------------------

loc_680C:				; CODE XREF: ExpandMonster+198j
		mov	al, 1

loc_680E:				; CODE XREF: ExpandMonster+19Cj
		push	ax
		call	Draw3DObject

locret_6814:				; CODE XREF: ExpandMonster+Bj
		leave
		retn	0Ah
ExpandMonster	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MapXY		proc near		; CODE XREF: DoGame+ACDp DoGame+B24p ...

arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	6, 0
		cmp	[bp+arg_2], 0
		jl	short loc_6834
		cmp	[bp+arg_2], 3Fh	; '?'
		jg	short loc_6834
		cmp	[bp+arg_0], 0
		jl	short loc_6834
		cmp	[bp+arg_0], 3Fh	; '?'
		jle	short loc_6837

loc_6834:				; CODE XREF: MapXY+8j MapXY+Ej ...
		jmp	locret_69C3
; ---------------------------------------------------------------------------

loc_6837:				; CODE XREF: MapXY+1Aj
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		mov	c, al
		cmp	c, 0
		jnz	short loc_685A
		jmp	locret_69C3
; ---------------------------------------------------------------------------

loc_685A:				; CODE XREF: MapXY+3Dj
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		mov	di, offset L
		push	ds
		push	di
		push	0Bh
		call	@$basg$qm3Anyt14Word ; Bitcopy of any type variable
		cmp	c, 79h ; 'y'
		jnb	short loc_68B3
		mov	al, c
		dec	al
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+70B2h]
		mov	ImSeg, ax
		mov	al, c
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 80h
		or	al, al
		jbe	short loc_68AD
		mov	XOfsMask, 3Fh ;	'?'
		jmp	short loc_68B3
; ---------------------------------------------------------------------------

loc_68AD:				; CODE XREF: MapXY+8Bj
		mov	XOfsMask, 7Fh ;	''

loc_68B3:				; CODE XREF: MapXY+68j	MapXY+93j
		mov	al, byte_44D8F
		xor	ah, ah
		mov	WXSize,	ax
		mov	ax, [bp+arg_2]
		shl	ax, 3
		mov	dx, ax
		mov	ax, [bp+arg_0]
		shl	ax, 9
		add	ax, dx
		mov	WShadowOfs, ax
		cmp	WXSize,	80h ; '€'
		jnz	short loc_68DD
		mov	SHRC, 0
		jmp	short loc_68E2
; ---------------------------------------------------------------------------

loc_68DD:				; CODE XREF: MapXY+BCj
		mov	SHRC, 1

loc_68E2:				; CODE XREF: MapXY+C3j
		mov	al, c
		cmp	al, 56h	; 'V'
		jb	short loc_6917
		cmp	al, 77h	; 'w'
		ja	short loc_6917
		mov	di, offset L
		push	ds
		push	di
		mov	dx, [bp+arg_0]
		mov	ax, [bp+arg_2]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		push	ax
		mov	al, byte ptr [bp+arg_2]
		push	ax
		mov	al, byte ptr [bp+arg_0]
		push	ax
		call	InsertObject
		jmp	locret_69C3
; ---------------------------------------------------------------------------

loc_6917:				; CODE XREF: MapXY+CFj	MapXY+D3j
		cmp	al, 79h	; 'y'
		jb	short loc_6953
		cmp	al, 82h	; '‚'
		ja	short loc_6953
		mov	WXSize,	100h
		mov	L, 79h ; 'y'
		mov	di, offset L
		push	ds
		push	di
		mov	dx, [bp+arg_0]
		mov	ax, [bp+arg_2]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		push	ax
		mov	al, byte ptr [bp+arg_2]
		push	ax
		mov	al, byte ptr [bp+arg_0]
		push	ax
		call	InsertObject
		jmp	short locret_69C3
; ---------------------------------------------------------------------------

loc_6953:				; CODE XREF: MapXY+101j MapXY+105j
		cmp	al, 83h	; 'ƒ'
		jb	short loc_698F
		cmp	al, 0E2h ; 'â'
		ja	short loc_698F
		mov	WXSize,	100h
		mov	L, 7Ah ; 'z'
		mov	di, offset L
		push	ds
		push	di
		mov	dx, [bp+arg_0]
		mov	ax, [bp+arg_2]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		push	ax
		mov	al, byte ptr [bp+arg_2]
		push	ax
		mov	al, byte ptr [bp+arg_0]
		push	ax
		call	InsertObject
		jmp	short locret_69C3
; ---------------------------------------------------------------------------

loc_698F:				; CODE XREF: MapXY+13Dj MapXY+141j
		cmp	al, 1
		jb	short locret_69C3
		cmp	al, 64h	; 'd'
		ja	short locret_69C3
		push	word_44D95
		push	word_44D97
		push	word_44D91
		push	word_44D93
		call	ExpandWall
		or	al, al
		jz	short locret_69C3
		mov	dx, [bp+arg_0]
		mov	ax, [bp+arg_2]
		shl	ax, 6
		les	di, VMask
		add	di, ax
		add	di, dx
		mov	byte ptr es:[di], 1

locret_69C3:				; CODE XREF: MapXY:loc_6834j MapXY+3Fj ...
		leave
		retn	4
MapXY		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MoveRocket	proc near		; CODE XREF: AnimateRockets+4B1p

var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= dword	ptr  10h
arg_10		= dword	ptr  14h

		enter	1Ah, 0
		cmp	Sd, 2
		jnz	short loc_69DC
		imul	ax, t1,	28h
		mov	[bp+var_8], ax
		jmp	short loc_69F7
; ---------------------------------------------------------------------------

loc_69DC:				; CODE XREF: MoveRocket+9j
		cmp	Sd, 0
		jnz	short loc_69EE
		mov	ax, t1
		shl	ax, 6
		mov	[bp+var_8], ax
		jmp	short loc_69F7
; ---------------------------------------------------------------------------

loc_69EE:				; CODE XREF: MoveRocket+1Aj
		mov	ax, t1
		shl	ax, 7
		mov	[bp+var_8], ax

loc_69F7:				; CODE XREF: MoveRocket+13j
					; MoveRocket+25j
		mov	ax, [bp+arg_8]
		imul	[bp+var_8]
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+arg_6]
		imul	[bp+var_8]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		mov	ax, [bp+var_16]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_12]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cwd
		mov	cx, 3Ch	; '<'
		idiv	cx
		inc	ax
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_14]
		mov	dx, [bp+var_12]
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_C], ax
		mov	[bp+var_A], dx
		mov	ax, [bp+var_6]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_18]
		mov	dx, [bp+var_16]
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_10], ax
		mov	[bp+var_E], dx
		mov	ax, [bp+var_6]
		mov	[bp+var_1A], ax
		mov	ax, 1
		cmp	ax, [bp+var_1A]
		jle	short loc_6A70
		jmp	locret_6B6B
; ---------------------------------------------------------------------------

loc_6A70:				; CODE XREF: MoveRocket+A4j
		mov	[bp+var_4], ax
		jmp	short loc_6A78
; ---------------------------------------------------------------------------

loc_6A75:				; CODE XREF: MoveRocket+1A1j
		inc	[bp+var_4]

loc_6A78:				; CODE XREF: MoveRocket+ACj
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_A]
		les	di, [bp+arg_10]
		add	es:[di], ax
		adc	es:[di+2], dx
		mov	ax, [bp+var_10]
		mov	dx, [bp+var_E]
		les	di, [bp+arg_C]
		add	es:[di], ax
		adc	es:[di+2], dx
		les	di, [bp+arg_10]
		push	word ptr es:[di+2]
		les	di, [bp+arg_C]
		push	word ptr es:[di+2]
		push	[bp+arg_A]
		push	4
		push	Cr
		push	0
		call	Rocket_WallCheck
		or	al, al
		jz	short loc_6AC0
		mov	Blow, 1

loc_6AC0:				; CODE XREF: MoveRocket+F1j
		cmp	Blow, 0
		jnz	short loc_6AF1
		les	di, [bp+arg_10]
		push	word ptr es:[di+2]
		les	di, [bp+arg_C]
		push	word ptr es:[di+2]
		push	[bp+arg_A]
		push	[bp+arg_4]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	CheckMonsterContact
		xor	ah, ah
		mov	Blow, ax

loc_6AF1:				; CODE XREF: MoveRocket+FEj
		cmp	Blow, 1Eh
		jge	short loc_6B60
		cmp	Blow, 0
		jle	short loc_6B60
		cmp	Blow, 1
		jnz	short loc_6B2A
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_A]
		les	di, [bp+arg_10]
		sub	es:[di], ax
		sbb	es:[di+2], dx
		mov	ax, [bp+var_10]
		mov	dx, [bp+var_E]
		les	di, [bp+arg_C]
		sub	es:[di], ax
		sbb	es:[di+2], dx
		jmp	short locret_6B6B
; ---------------------------------------------------------------------------
		db 0EBh	; ë
		db  36h	; 6
; ---------------------------------------------------------------------------

loc_6B2A:				; CODE XREF: MoveRocket+13Dj
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_A]
		mov	cx, 2
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+arg_10]
		sub	es:[di], ax
		sbb	es:[di+2], dx
		mov	ax, [bp+var_10]
		mov	dx, [bp+var_E]
		mov	cx, 2
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+arg_C]
		sub	es:[di], ax
		sbb	es:[di+2], dx
		jmp	short locret_6B6B
; ---------------------------------------------------------------------------

loc_6B60:				; CODE XREF: MoveRocket+12Fj
					; MoveRocket+136j
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_1A]
		jz	short locret_6B6B
		jmp	loc_6A75
; ---------------------------------------------------------------------------

locret_6B6B:				; CODE XREF: MoveRocket+A6j
					; MoveRocket+15Fj ...
		leave
		retn	14h
MoveRocket	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateRockets	proc near		; CODE XREF: DoGame+16FAp

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2

		enter	18h, 0
		mov	[bp+var_4], 1

loc_6B78:				; CODE XREF: AnimateRockets+46j
					; AnimateRockets+88j ...
		mov	ax, MnCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_4]
		cwd
		cmp	dx, bx
		jl	short loc_6B95
		jle	short loc_6B8E
		jmp	loc_6D76
; ---------------------------------------------------------------------------

loc_6B8E:				; CODE XREF: AnimateRockets+1Aj
		cmp	ax, cx
		jbe	short loc_6B95
		jmp	loc_6D76
; ---------------------------------------------------------------------------

loc_6B95:				; CODE XREF: AnimateRockets+18j
					; AnimateRockets+21j
		imul	di, [bp+var_4],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		cmp	word ptr es:[di+4], 418h
		jle	short loc_6BB7
		push	[bp+var_4]
		call	ExplodeMine
		jmp	short loc_6B78
; ---------------------------------------------------------------------------

loc_6BB7:				; CODE XREF: AnimateRockets+3Cj
		les	di, [bp+var_C]
		assume es:nothing
		cmp	word ptr es:[di+4], 118h
		jl	short loc_6BCA
		cmp	word ptr es:[di+4], 400h
		jl	short loc_6BFA

loc_6BCA:				; CODE XREF: AnimateRockets+51j
		mov	ax, t1
		les	di, [bp+var_C]
		add	es:[di+4], ax
		cmp	word ptr es:[di+4], 118h
		jl	short loc_6BF4
		cmp	word ptr es:[di+4], 400h
		jge	short loc_6BF4
		push	0FFFFh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	48h ; 'H'
		call	AddEvVoice

loc_6BF4:				; CODE XREF: AnimateRockets+6Bj
					; AnimateRockets+73j
		inc	[bp+var_4]
		jmp	loc_6B78
; ---------------------------------------------------------------------------

loc_6BFA:				; CODE XREF: AnimateRockets+59j
		mov	[bp+var_5], 0
		mov	ax, MCount
		mov	[bp+var_E], ax
		mov	ax, 1
		cmp	ax, [bp+var_E]
		jle	short loc_6C0F
		jmp	loc_6CAD
; ---------------------------------------------------------------------------

loc_6C0F:				; CODE XREF: AnimateRockets+9Bj
		mov	[bp+var_2], ax
		jmp	short loc_6C17
; ---------------------------------------------------------------------------

loc_6C14:				; CODE XREF: AnimateRockets+13Bj
		inc	[bp+var_2]

loc_6C17:				; CODE XREF: AnimateRockets+A3j
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_14+2],	di
		mov	word ptr [bp-10h], es
		cmp	word ptr es:[di+12h], 0
		jle	short loc_6CA2
		mov	ax, es:[di]
		les	di, [bp+var_C]
		assume es:nothing
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 118h
		jge	short loc_6CA2
		les	di, [bp+var_14+2]
		mov	ax, es:[di+2]
		les	di, [bp+var_C]
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 118h
		jge	short loc_6CA2
		les	di, [bp+var_14+2]
		mov	ax, es:[di]
		les	di, [bp+var_C]
		sub	ax, es:[di]
		push	ax
		les	di, [bp+var_14+2]
		mov	ax, es:[di+2]
		les	di, [bp+var_C]
		sub	ax, es:[di+2]
		push	ax
		call	QPifagorA32__0
		cmp	ax, 118h
		jnb	short loc_6CA2
		les	di, [bp+var_C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		les	di, [bp+var_14+2]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	3
		call	PathToMe
		or	al, al
		jz	short loc_6CA2
		mov	[bp+var_5], 1

loc_6CA2:				; CODE XREF: AnimateRockets+BDj
					; AnimateRockets+D0j ...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_E]
		jz	short loc_6CAD
		jmp	loc_6C14
; ---------------------------------------------------------------------------

loc_6CAD:				; CODE XREF: AnimateRockets+9Dj
					; AnimateRockets+139j
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_6CB7
; ---------------------------------------------------------------------------

loc_6CB4:				; CODE XREF: AnimateRockets+1DCj
		inc	[bp+var_2]

loc_6CB7:				; CODE XREF: AnimateRockets+143j
		imul	di, [bp+var_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	[bp-10h], di
		mov	[bp+var_E], es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_6D45
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_C]
		assume es:nothing
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 118h
		jge	short loc_6D45
		les	di, [bp-10h]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_C]
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 118h
		jge	short loc_6D45
		les	di, [bp-10h]
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_C]
		sub	ax, es:[di]
		push	ax
		les	di, [bp-10h]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_C]
		sub	ax, es:[di+2]
		push	ax
		call	QPifagorA32__0
		cmp	ax, 118h
		jnb	short loc_6D45
		les	di, [bp+var_C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		les	di, [bp-10h]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	3
		call	PathToMe
		or	al, al
		jz	short loc_6D45
		mov	[bp+var_5], 1

loc_6D45:				; CODE XREF: AnimateRockets+15Dj
					; AnimateRockets+171j ...
		cmp	[bp+var_2], 7
		jz	short loc_6D4E
		jmp	loc_6CB4
; ---------------------------------------------------------------------------

loc_6D4E:				; CODE XREF: AnimateRockets+1DAj
		cmp	[bp+var_5], 0
		jz	short loc_6D70
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	48h ; 'H'
		call	AddEvVoice
		les	di, [bp+var_C]
		mov	word ptr es:[di+4], 400h

loc_6D70:				; CODE XREF: AnimateRockets+1E3j
		inc	[bp+var_4]
		jmp	loc_6B78
; ---------------------------------------------------------------------------

loc_6D76:				; CODE XREF: AnimateRockets+1Cj
					; AnimateRockets+23j
		mov	[bp+var_4], 1

loc_6D7B:				; CODE XREF: AnimateRockets+822j
		mov	ax, RCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_4]
		cwd
		cmp	dx, bx
		jl	short loc_6D98
		jle	short loc_6D91
		jmp	locret_7394
; ---------------------------------------------------------------------------

loc_6D91:				; CODE XREF: AnimateRockets+21Dj
		cmp	ax, cx
		jbe	short loc_6D98
		jmp	locret_7394
; ---------------------------------------------------------------------------

loc_6D98:				; CODE XREF: AnimateRockets+21Bj
					; AnimateRockets+224j
		imul	di, [bp+var_4],	18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		add	di, 0CD84h
		push	ds
		pop	es
		mov	[bp-10h], di
		mov	[bp+var_E], es
		mov	al, byte ptr t1
		les	di, [bp+var_C]
		assume es:nothing
		add	es:[di+0Dh], al
		mov	al, es:[di+0Dh]
		xor	ah, ah
		les	di, [bp-10h]
		cmp	ax, es:[di+0Ch]
		jb	short loc_6DE1
		mov	al, es:[di+0Ch]
		les	di, [bp+var_C]
		sub	es:[di+0Dh], al

loc_6DE1:				; CODE XREF: AnimateRockets+265j
		les	di, [bp-10h]
		mov	ax, es:[di+6]
		mov	Cr, ax
		xor	ax, ax
		mov	Blow, ax
		mov	al, es:[di+0Ah]
		and	al, 1
		xor	ah, ah
		mov	Sd, ax
		les	di, [bp+var_C]
		cmp	byte ptr es:[di+0Ch], 11h
		jnz	short loc_6E0B
		mov	Sd, 2

loc_6E0B:				; CODE XREF: AnimateRockets+294j
		les	di, [bp+var_C]
		cmp	word ptr es:[di+14h], 0FFFFh
		jg	short loc_6E18
		jmp	loc_6F98
; ---------------------------------------------------------------------------

loc_6E18:				; CODE XREF: AnimateRockets+2A4j
		cmp	word ptr es:[di+14h], 64h ; 'd'
		jge	short loc_6E94
		imul	di, es:[di+14h], 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_14], di
		mov	word ptr [bp+var_14+2],	es
		cmp	word ptr es:[di+12h], 0
		jnz	short loc_6E4F
		xor	ax, ax
		mov	rtgx, ax
		xor	ax, ax
		mov	rtgy, ax
		mov	rtgz, 440h
		mov	word ptr es:[di+14h], 0FFFFh
		jmp	short loc_6E92
; ---------------------------------------------------------------------------

loc_6E4F:				; CODE XREF: AnimateRockets+2C6j
		les	di, [bp+var_14]
		assume es:nothing
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_18], di
		mov	word ptr [bp+var_18+2],	es
		les	di, [bp+var_14]
		assume es:nothing
		mov	ax, es:[di]
		mov	rtgx, ax
		mov	ax, es:[di+2]
		mov	rtgy, ax
		les	di, [bp+var_18]
		mov	ax, es:[di+0Ch]
		shr	ax, 1
		mov	dx, ax
		les	di, [bp+var_14]
		mov	ax, es:[di+20h]
		shl	ax, 5
		add	ax, dx
		mov	rtgz, ax

loc_6E92:				; CODE XREF: AnimateRockets+2DEj
		jmp	short loc_6EE1
; ---------------------------------------------------------------------------

loc_6E94:				; CODE XREF: AnimateRockets+2AEj
		les	di, [bp+var_C]
		mov	ax, es:[di+14h]
		sub	ax, 0C8h ; 'È'
		imul	di, ax,	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		cmp	word ptr es:[di+28h], 0
		jle	short loc_6EC8
		mov	ax, es:[di+0Ah]
		mov	rtgx, ax
		mov	ax, es:[di+0Ch]
		mov	rtgy, ax
		mov	ax, es:[di+0Eh]
		add	ax, 440h
		mov	rtgz, ax
		jmp	short loc_6EE1
; ---------------------------------------------------------------------------

loc_6EC8:				; CODE XREF: AnimateRockets+33Dj
		xor	ax, ax
		mov	rtgx, ax
		xor	ax, ax
		mov	rtgy, ax
		mov	rtgz, 440h
		les	di, [bp+var_C]
		assume es:nothing
		mov	word ptr es:[di+14h], 0FFFFh

loc_6EE1:				; CODE XREF: AnimateRockets:loc_6E92j
					; AnimateRockets+357j
		cmp	rtgx, 0
		jg	short loc_6EEB
		jmp	loc_6F98
; ---------------------------------------------------------------------------

loc_6EEB:				; CODE XREF: AnimateRockets+377j
		mov	ax, t1
		shl	ax, 7
		mov	rdfi, ax
		mov	rn, 1
		jmp	short loc_6F00
; ---------------------------------------------------------------------------

loc_6EFC:				; CODE XREF: AnimateRockets+3D7j
		inc	rn

loc_6F00:				; CODE XREF: AnimateRockets+38Bj
		les	di, [bp+var_C]
		push	word ptr es:[di+0Eh]
		push	word ptr es:[di+10h]
		mov	ax, rtgx
		sub	ax, es:[di+2]
		push	ax
		mov	ax, rtgy
		sub	ax, es:[di+6]
		push	ax
		call	MulVectors
		cmp	ax, 0FFFFh
		jnz	short loc_6F2F
		mov	ax, rdfi
		les	di, [bp+var_C]
		add	es:[di+0Ah], ax
		jmp	short loc_6F39
; ---------------------------------------------------------------------------

loc_6F2F:				; CODE XREF: AnimateRockets+3B2j
		mov	ax, rdfi
		les	di, [bp+var_C]
		sub	es:[di+0Ah], ax

loc_6F39:				; CODE XREF: AnimateRockets+3BEj
		mov	ax, rdfi
		shr	ax, 1
		mov	rdfi, ax
		cmp	rn, 5
		jnz	short loc_6EFC
		les	di, [bp+var_C]
		mov	ax, es:[di+0Ah]
		add	ax, 0
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		shl	ax, 2
		les	di, [bp+var_C]
		mov	es:[di+0Eh], ax
		mov	ax, es:[di+0Ah]
		add	ax, 4000h
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		shl	ax, 2
		les	di, [bp+var_C]
		mov	es:[di+10h], ax
		mov	ax, rtgz
		sub	ax, es:[di+8]
		cwd
		mov	cx, 6
		idiv	cx
		mov	es:[di+12h], ax

loc_6F98:				; CODE XREF: AnimateRockets+2A6j
					; AnimateRockets+379j
		les	di, [bp-10h]
		cmp	byte ptr es:[di+0Bh], 0
		jbe	short loc_6FCA
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		mov	ax, es:[di+8]
		add	ax, 20h	; ' '
		push	ax
		push	0
		push	0
		push	8
		les	di, [bp-10h]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		call	AddBlow

loc_6FCA:				; CODE XREF: AnimateRockets+431j
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sd
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_C]
		mul	word ptr es:[di+12h]
		cwd
		mov	cx, 8
		idiv	cx
		add	es:[di+8], ax
		push	es
		push	di
		add	di, 4
		push	es
		push	di
		les	di, [bp+var_C]
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Eh]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+16h]
		les	di, [bp-10h]
		push	word ptr es:[di+4]
		push	word ptr es:[di+8]
		call	MoveRocket
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Sd
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_C]
		mul	word ptr es:[di+12h]
		cwd
		mov	cx, 8
		idiv	cx
		add	es:[di+8], ax
		cmp	Blow, 1Eh
		jz	short loc_705D
		jmp	loc_70DC
; ---------------------------------------------------------------------------

loc_705D:				; CODE XREF: AnimateRockets+4E9j
		xor	ax, ax
		mov	Blow, ax
		mov	ax, es:[di+12h]
		neg	ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+16h], ax
		push	2000h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 7000h
		les	di, [bp+var_C]
		add	es:[di+0Ah], ax
		mov	ax, es:[di+0Ah]
		add	ax, 0
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		shl	ax, 2
		les	di, [bp+var_C]
		mov	es:[di+0Eh], ax
		mov	ax, es:[di+0Ah]
		add	ax, 4000h
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		shl	ax, 2
		les	di, [bp+var_C]
		mov	es:[di+10h], ax
		mov	ax, es:[di+0Eh]
		cwd
		mov	cx, 100h
		idiv	cx
		add	es:[di+2], ax
		mov	ax, es:[di+10h]
		cwd
		mov	cx, 100h
		idiv	cx
		add	es:[di+6], ax

loc_70DC:				; CODE XREF: AnimateRockets+4EBj
		les	di, [bp-10h]
		cmp	word ptr es:[di+2], 0
		jle	short loc_7100
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+2]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		les	di, [bp+var_C]
		sub	es:[di+12h], ax

loc_7100:				; CODE XREF: AnimateRockets+575j
		les	di, [bp+var_C]
		mov	al, es:[di+7]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+3]
		xor	ah, ah
		mov	di, ax
		shl	di, 6
		add	di, dx
		cmp	byte ptr [di+5EC6h], 3Eh ; '>'
		mov	al, 0
		jnz	short loc_7122
		inc	ax

loc_7122:				; CODE XREF: AnimateRockets+5B0j
		mov	[bp+var_7], al
		les	di, [bp+var_C]
		cmp	word ptr es:[di+8], 0F40h
		jle	short loc_7136
		cmp	[bp+var_7], 0
		jz	short loc_7144

loc_7136:				; CODE XREF: AnimateRockets+5BFj
		les	di, [bp+var_C]
		cmp	word ptr es:[di+8], 60h	; '`'
		jl	short loc_7144
		mov	al, 0
		jmp	short loc_7146
; ---------------------------------------------------------------------------

loc_7144:				; CODE XREF: AnimateRockets+5C5j
					; AnimateRockets+5CFj
		mov	al, 1

loc_7146:				; CODE XREF: AnimateRockets+5D3j
		mov	[bp+var_6], al
		cmp	[bp+var_6], 0
		jz	short loc_7181
		les	di, [bp-10h]
		mov	al, es:[di+0Ah]
		and	al, 20h
		or	al, al
		jz	short loc_717B
		les	di, [bp+var_C]
		mov	ax, es:[di+12h]
		neg	ax
		shl	ax, 1
		cwd
		mov	cx, 3
		idiv	cx
		mov	es:[di+12h], ax
		mov	ax, es:[di+12h]
		add	es:[di+8], ax
		jmp	short loc_7181
; ---------------------------------------------------------------------------

loc_717B:				; CODE XREF: AnimateRockets+5EBj
		mov	Blow, 1

loc_7181:				; CODE XREF: AnimateRockets+5DEj
					; AnimateRockets+60Aj
		cmp	[bp+var_7], 0
		jnz	short loc_7198
		les	di, [bp+var_C]
		cmp	word ptr es:[di+8], 0F40h
		jle	short loc_7198
		mov	word ptr es:[di+8], 0F40h

loc_7198:				; CODE XREF: AnimateRockets+616j
					; AnimateRockets+621j
		les	di, [bp+var_C]
		cmp	word ptr es:[di+8], 60h	; '`'
		jge	short loc_71A8
		mov	word ptr es:[di+8], 60h	; '`'

loc_71A8:				; CODE XREF: AnimateRockets+631j
		les	di, [bp-10h]
		mov	al, es:[di+0Ah]
		and	al, 4
		or	al, al
		jz	short loc_71CC
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	5
		push	14h
		push	0FFh
		call	_AddBlowLight

loc_71CC:				; CODE XREF: AnimateRockets+644j
		cmp	Blow, 0
		jg	short loc_71E8
		les	di, [bp+var_C]
		cmp	word ptr es:[di+8], 1500h
		jle	short loc_71E4
		cmp	[bp+var_7], 0
		jnz	short loc_71E8

loc_71E4:				; CODE XREF: AnimateRockets+66Dj
		mov	al, 0
		jmp	short loc_71EA
; ---------------------------------------------------------------------------

loc_71E8:				; CODE XREF: AnimateRockets+662j
					; AnimateRockets+673j
		mov	al, 1

loc_71EA:				; CODE XREF: AnimateRockets+677j
		mov	[bp+var_5], al
		cmp	[bp+var_5], 0
		jnz	short loc_71F6
		jmp	loc_738E
; ---------------------------------------------------------------------------

loc_71F6:				; CODE XREF: AnimateRockets+682j
		cmp	Blow, 0
		jg	short loc_7200
		jmp	loc_734E
; ---------------------------------------------------------------------------

loc_7200:				; CODE XREF: AnimateRockets+68Cj
		les	di, [bp+var_C]
		cmp	word ptr es:[di+8], 200h
		jge	short loc_721E
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	0
		call	iswater
		or	al, al
		jnz	short loc_7222

loc_721E:				; CODE XREF: AnimateRockets+69Aj
		mov	al, 0
		jmp	short loc_7224
; ---------------------------------------------------------------------------

loc_7222:				; CODE XREF: AnimateRockets+6ADj
		mov	al, 1

loc_7224:				; CODE XREF: AnimateRockets+6B1j
		mov	[bp+var_8], al
		cmp	[bp+var_8], 0
		jz	short loc_7243
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	0
		push	1
		call	BlowShootSmoke
		jmp	short loc_725E
; ---------------------------------------------------------------------------

loc_7243:				; CODE XREF: AnimateRockets+6BCj
		cmp	Blow, 3
		jge	short loc_725E
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		call	BlowSmoke

loc_725E:				; CODE XREF: AnimateRockets+6D2j
					; AnimateRockets+6D9j
		les	di, [bp-10h]
		cmp	word ptr es:[di], 2
		jnz	short loc_727D
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		call	AddGreatBlow
		jmp	short loc_72DC
; ---------------------------------------------------------------------------

loc_727D:				; CODE XREF: AnimateRockets+6F6j
		les	di, [bp-10h]
		cmp	word ptr es:[di], 4
		jnz	short loc_729C
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		call	AddSuperGreatBlow
		jmp	short loc_72DC
; ---------------------------------------------------------------------------

loc_729C:				; CODE XREF: AnimateRockets+715j
		cmp	Blow, 1
		jnz	short loc_72C4
		les	di, [bp+var_C]
		cmp	byte ptr es:[di+0Ch], 11h
		jz	short loc_72C4
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		push	20h ; ' '
		push	1
		call	BlowSpark
		jmp	short loc_72DC
; ---------------------------------------------------------------------------

loc_72C4:				; CODE XREF: AnimateRockets+732j
					; AnimateRockets+73Cj
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		push	20h ; ' '
		push	5
		call	BlowSpark

loc_72DC:				; CODE XREF: AnimateRockets+70Cj
					; AnimateRockets+72Bj ...
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		les	di, [bp-10h]
		push	word ptr es:[di+4]
		push	word ptr es:[di+8]
		les	di, [bp+var_C]
		push	word ptr es:[di+16h]
		call	MakeBlow
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	8
		push	20h ; ' '
		push	20h ; ' '
		call	AddBlowLight
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		mov	al, es:[di+0Ch]
		xor	ah, ah
		add	ax, 1Eh
		push	ax
		call	AddEvVoice
		cmp	[bp+var_8], 0
		jz	short loc_734E
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	0Bh
		call	AddEvVoice

loc_734E:				; CODE XREF: AnimateRockets+68Ej
					; AnimateRockets+7C9j
		mov	ax, [bp+var_4]
		inc	ax
		imul	di, ax,	18h
		add	di, 0B33Eh
		push	ds
		push	di
		imul	di, [bp+var_4],	18h
		add	di, 0B33Eh
		push	ds
		push	di
		mov	ax, [bp+var_4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, RCount
		inc	ax
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 18h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	[bp+var_4]
		dec	RCount

loc_738E:				; CODE XREF: AnimateRockets+684j
		inc	[bp+var_4]
		jmp	loc_6D7B
; ---------------------------------------------------------------------------

locret_7394:				; CODE XREF: AnimateRockets+21Fj
					; AnimateRockets+226j
		leave
		retn
AnimateRockets	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetNearestWall	proc near		; CODE XREF: AnimateSwitches+42p

var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_9		= byte ptr  0Dh
arg_B		= byte ptr  0Fh
arg_D		= byte ptr  11h
arg_F		= byte ptr  13h

		enter	16h, 0
		mov	[bp+var_1], 0
		mov	al, [bp+arg_F]
		xor	ah, ah
		dec	ax
		dec	ax
		mov	[bp+var_8], ax
		mov	al, [bp+arg_B]
		xor	ah, ah
		inc	ax
		inc	ax
		mov	[bp+var_C], ax
		mov	al, [bp+arg_D]
		xor	ah, ah
		dec	ax
		dec	ax
		mov	[bp+var_A], ax
		mov	al, [bp+arg_9]
		xor	ah, ah
		inc	ax
		inc	ax
		mov	[bp+var_E], ax
		cmp	[bp+var_8], 0
		jge	short loc_73D1
		xor	ax, ax
		mov	[bp+var_8], ax

loc_73D1:				; CODE XREF: GetNearestWall+34j
		cmp	[bp+var_A], 0
		jge	short loc_73DC
		xor	ax, ax
		mov	[bp+var_A], ax

loc_73DC:				; CODE XREF: GetNearestWall+3Fj
		cmp	[bp+var_8], 3Fh	; '?'
		jle	short loc_73E7
		mov	[bp+var_8], 3Fh	; '?'

loc_73E7:				; CODE XREF: GetNearestWall+4Aj
		cmp	[bp+var_A], 3Fh	; '?'
		jle	short loc_73F2
		mov	[bp+var_A], 3Fh	; '?'

loc_73F2:				; CODE XREF: GetNearestWall+55j
		mov	ax, [bp+var_C]
		mov	[bp+var_10], ax
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_10]
		jle	short loc_7403
		jmp	loc_74CC
; ---------------------------------------------------------------------------

loc_7403:				; CODE XREF: GetNearestWall+68j
		mov	[bp+var_4], ax
		jmp	short loc_740B
; ---------------------------------------------------------------------------

loc_7408:				; CODE XREF: GetNearestWall+133j
		inc	[bp+var_4]

loc_740B:				; CODE XREF: GetNearestWall+70j
		mov	ax, [bp+var_E]
		mov	[bp+var_12], ax
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_12]
		jle	short loc_741C
		jmp	loc_74C1
; ---------------------------------------------------------------------------

loc_741C:				; CODE XREF: GetNearestWall+81j
		mov	[bp+var_6], ax
		jmp	short loc_7424
; ---------------------------------------------------------------------------

loc_7421:				; CODE XREF: GetNearestWall+128j
		inc	[bp+var_6]

loc_7424:				; CODE XREF: GetNearestWall+89j
		imul	ax, [bp+var_6],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_4],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	al, es:[di]
		cmp	al, 1
		jb	short loc_74B6
		cmp	al, 78h	; 'x'
		ja	short loc_74B6
		cmp	byte ptr es:[di], 56h ;	'V'
		jnb	short loc_7478
		mov	ax, es:[di+7]
		sub	ax, es:[di+3]
		push	ax
		mov	ax, es:[di+9]
		sub	ax, es:[di+5]
		push	ax
		mov	ax, [bp+12h]
		sub	ax, es:[di+3]
		push	ax
		mov	ax, [bp+10h]
		sub	ax, es:[di+5]
		push	ax
		call	MulVectors
		cmp	ax, 1
		jnz	short loc_74B6

loc_7478:				; CODE XREF: GetNearestWall+B6j
		push	word ptr [bp+12h]
		push	word ptr [bp+10h]
		push	word ptr [bp+0Eh]
		push	word ptr [bp+0Ch]
		les	di, [bp+var_16]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	word ptr es:[di+7]
		push	word ptr es:[di+9]
		call	Test2Vectors
		or	al, al
		jz	short loc_74B6
		mov	ax, [bp+var_4]
		les	di, [bp+arg_4]
		mov	es:[di], ax
		mov	ax, [bp+var_6]
		les	di, [bp+arg_0]
		mov	es:[di], ax
		mov	[bp+var_1], 1
		jmp	short loc_74CC
; ---------------------------------------------------------------------------

loc_74B6:				; CODE XREF: GetNearestWall+ACj
					; GetNearestWall+B0j ...
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_12]
		jz	short loc_74C1
		jmp	loc_7421
; ---------------------------------------------------------------------------

loc_74C1:				; CODE XREF: GetNearestWall+83j
					; GetNearestWall+126j
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_10]
		jz	short loc_74CC
		jmp	loc_7408
; ---------------------------------------------------------------------------

loc_74CC:				; CODE XREF: GetNearestWall+6Aj
					; GetNearestWall+11Ej ...
		mov	al, [bp+var_1]
		leave
		retn	10h
GetNearestWall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddClientProcesses proc	near		; CODE XREF: DoGame:loc_D975p

var_C		= word ptr -0Ch
var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	0Ch, 0
		mov	ax, MCount
		mov	[bp+var_2], ax
		mov	ax, 1
		cmp	ax, [bp+var_2]
		jle	short loc_74E8
		jmp	loc_7643
; ---------------------------------------------------------------------------

loc_74E8:				; CODE XREF: AddClientProcesses+10j
		mov	n__0, ax
		jmp	short loc_74F1
; ---------------------------------------------------------------------------

loc_74ED:				; CODE XREF: AddClientProcesses+16Dj
		inc	n__0

loc_74F1:				; CODE XREF: AddClientProcesses+18j
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	byte ptr es:[di+0Bh], 0FFh
		jnz	short loc_750C
		jmp	loc_7638
; ---------------------------------------------------------------------------

loc_750C:				; CODE XREF: AddClientProcesses+34j
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		les	di, [bp+var_6]
		assume es:nothing
		cmp	word ptr es:[di+8], 10h
		jge	short loc_7536
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jz	short loc_7536
		jmp	loc_7638
; ---------------------------------------------------------------------------

loc_7536:				; CODE XREF: AddClientProcesses+57j
					; AddClientProcesses+5Ej
		les	di, [bp+var_6]
		mov	al, es:[di+3]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+1]
		xor	ah, ah
		mov	di, ax
		shl	di, 6
		add	di, dx
		mov	al, [di+4EC6h]
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-23F0h], 0
		jnz	short loc_7560
		jmp	loc_7638
; ---------------------------------------------------------------------------

loc_7560:				; CODE XREF: AddClientProcesses+88j
		les	di, [bp+var_6]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_A]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_6]
		mov	ax, es:[di+6]
		add	ax, 80h	; '€'
		cwd
		cmp	dx, bx
		jg	short loc_7593
		jge	short loc_758C
		jmp	loc_7638
; ---------------------------------------------------------------------------

loc_758C:				; CODE XREF: AddClientProcesses+B4j
		cmp	ax, cx
		jnb	short loc_7593
		jmp	loc_7638
; ---------------------------------------------------------------------------

loc_7593:				; CODE XREF: AddClientProcesses+B2j
					; AddClientProcesses+BBj
		les	di, [bp+var_6]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_A]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_6]
		mov	ax, es:[di+6]
		add	ax, 10h
		cwd
		cmp	dx, bx
		jl	short loc_75C0
		jg	short loc_7638
		cmp	ax, cx
		jnb	short loc_7638

loc_75C0:				; CODE XREF: AddClientProcesses+E5j
		mov	ax, t1
		dec	ax
		mov	[bp+var_C], ax
		xor	ax, ax
		cmp	ax, [bp+var_C]
		ja	short loc_7638
		mov	j, ax
		jmp	short loc_75D7
; ---------------------------------------------------------------------------

loc_75D3:				; CODE XREF: AddClientProcesses+163j
		inc	j

loc_75D7:				; CODE XREF: AddClientProcesses+FEj
		push	104h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_6]
		mov	ax, es:[di]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 82h	; '‚'
		sbb	dx, 0
		push	ax
		push	104h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_6]
		mov	ax, es:[di+2]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 82h	; '‚'
		sbb	dx, 0
		push	ax
		push	0
		push	0
		push	0
		push	8
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 8
		push	ax
		push	0Ah
		call	AddBlow
		mov	ax, j
		cmp	ax, [bp+var_C]
		jnz	short loc_75D3

loc_7638:				; CODE XREF: AddClientProcesses+36j
					; AddClientProcesses+60j ...
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jz	short loc_7643
		jmp	loc_74ED
; ---------------------------------------------------------------------------

loc_7643:				; CODE XREF: AddClientProcesses+12j
					; AddClientProcesses+16Bj
		mov	ax, RCount
		mov	[bp+var_2], ax
		mov	ax, 1
		cmp	ax, [bp+var_2]
		jg	short locret_76B3
		mov	n__0, ax
		jmp	short loc_765A
; ---------------------------------------------------------------------------

loc_7656:				; CODE XREF: AddClientProcesses+1DEj
		inc	n__0

loc_765A:				; CODE XREF: AddClientProcesses+181j
		imul	di, n__0, 18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		add	di, 0CD84h
		push	ds
		pop	es
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		cmp	byte ptr es:[di+0Bh], 0
		jbe	short loc_76AB
		les	di, [bp+var_6]
		assume es:nothing
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	word ptr es:[di+8]
		push	0
		push	0
		push	2Ah ; '*'
		les	di, [bp+var_A]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		call	AddBlow

loc_76AB:				; CODE XREF: AddClientProcesses+1B2j
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jnz	short loc_7656

locret_76B3:				; CODE XREF: AddClientProcesses+17Cj
		leave
		retn
AddClientProcesses endp

; ---------------------------------------------------------------------------
aWrongWay	db 10,'Wrong Way!'      ; DATA XREF: AnimateSwitches:loc_7724o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateSwitches	proc near		; CODE XREF: DoGame+15D9p DoGame+160Bp

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_7		= byte ptr  0Bh
arg_9		= byte ptr  0Dh

		enter	10h, 0
		cmp	LinksCount, 0
		jnz	short loc_76CE
		jmp	locret_7835
; ---------------------------------------------------------------------------

loc_76CE:				; CODE XREF: AnimateSwitches+9j
		cmp	[bp+arg_4], 0FFFFh
		jnz	short loc_76EC
		cmp	[bp+arg_2], 0FFFFh
		jnz	short loc_76EC
		mov	al, [bp+arg_9]
		xor	ah, ah
		mov	[bp+var_4], ax
		mov	al, [bp+arg_7]
		xor	ah, ah
		mov	[bp+var_6], ax
		jmp	short loc_770C
; ---------------------------------------------------------------------------

loc_76EC:				; CODE XREF: AnimateSwitches+12j
					; AnimateSwitches+18j
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	[bp+arg_4]
		push	[bp+arg_2]
		lea	di, [bp+var_4]
		push	ss
		push	di
		lea	di, [bp+var_6]
		push	ss
		push	di
		call	GetNearestWall
		or	al, al
		jnz	short loc_770C
		jmp	locret_7835
; ---------------------------------------------------------------------------

loc_770C:				; CODE XREF: AnimateSwitches+2Aj
					; AnimateSwitches+47j
		cmp	[bp+var_4], 0
		jl	short loc_7724
		cmp	[bp+var_4], 3Fh	; '?'
		jg	short loc_7724
		cmp	[bp+var_6], 0
		jl	short loc_7724
		cmp	[bp+var_6], 3Fh	; '?'
		jle	short loc_772E

loc_7724:				; CODE XREF: AnimateSwitches+50j
					; AnimateSwitches+56j ...
		mov	di, offset aWrongWay ; "Wrong Way!"
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_772E:				; CODE XREF: AnimateSwitches+62j
		mov	ax, LinksCount
		dec	ax
		mov	[bp+var_8], ax
		xor	ax, ax
		cmp	ax, [bp+var_8]
		jle	short loc_773F
		jmp	locret_7835
; ---------------------------------------------------------------------------

loc_773F:				; CODE XREF: AnimateSwitches+7Aj
		mov	[bp+var_2], ax
		jmp	short loc_7747
; ---------------------------------------------------------------------------

loc_7744:				; CODE XREF: AnimateSwitches+172j
		inc	[bp+var_2]

loc_7747:				; CODE XREF: AnimateSwitches+82j
		imul	ax, [bp+var_2],	7
		les	di, PLinks
		add	di, ax
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	ax, es:[di+1]
		cmp	ax, [bp+var_4]
		jz	short loc_7763
		jmp	loc_782A
; ---------------------------------------------------------------------------

loc_7763:				; CODE XREF: AnimateSwitches+9Ej
		mov	ax, es:[di+3]
		cmp	ax, [bp+var_6]
		jz	short loc_776F
		jmp	loc_782A
; ---------------------------------------------------------------------------

loc_776F:				; CODE XREF: AnimateSwitches+AAj
		mov	al, es:[di]
		cmp	al, 6Ch	; 'l'
		jnz	short loc_7785
		push	word ptr es:[di+5]
		push	[bp+arg_0]
		call	StartProcess
		jmp	loc_782A
; ---------------------------------------------------------------------------

loc_7785:				; CODE XREF: AnimateSwitches+B4j
		cmp	al, 72h	; 'r'
		jnz	short loc_77C3
		les	di, [bp+var_C]
		imul	ax, es:[di+5], 1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		cmp	byte ptr es:[di+1], 3
		jz	short loc_77B3
		cmp	byte ptr es:[di+1], 2
		jnz	short loc_77C1
		cmp	word ptr es:[di+24h], 0
		jle	short loc_77C1

loc_77B3:				; CODE XREF: AnimateSwitches+E3j
		les	di, [bp+var_10]
		mov	byte ptr es:[di+1], 2
		mov	word ptr es:[di+24h], 1

loc_77C1:				; CODE XREF: AnimateSwitches+EAj
					; AnimateSwitches+F1j
		jmp	short loc_782A
; ---------------------------------------------------------------------------

loc_77C3:				; CODE XREF: AnimateSwitches+C7j
		cmp	al, 75h	; 'u'
		jnz	short loc_77DD
		les	di, [bp+var_C]
		imul	ax, es:[di+5], 1E8h
		les	di, PProc
		add	di, ax
		mov	byte ptr es:[di+2], 0
		jmp	short loc_782A
; ---------------------------------------------------------------------------

loc_77DD:				; CODE XREF: AnimateSwitches+105j
		cmp	al, 6Fh	; 'o'
		jnz	short loc_782A
		les	di, [bp+var_C]
		imul	ax, es:[di+5], 1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		cmp	byte ptr es:[di+1], 0
		jnz	short loc_780E
		les	di, [bp+var_C]
		push	word ptr es:[di+5]
		push	[bp+arg_0]
		call	StartProcess
		jmp	short loc_782A
; ---------------------------------------------------------------------------

loc_780E:				; CODE XREF: AnimateSwitches+13Bj
		les	di, [bp+var_10]
		cmp	byte ptr es:[di+1], 2
		jnz	short loc_782A
		cmp	word ptr es:[di+24h], 0
		jle	short loc_782A
		mov	byte ptr es:[di+1], 2
		mov	word ptr es:[di+24h], 1

loc_782A:				; CODE XREF: AnimateSwitches+A0j
					; AnimateSwitches+ACj ...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jz	short locret_7835
		jmp	loc_7744
; ---------------------------------------------------------------------------

locret_7835:				; CODE XREF: AnimateSwitches+Bj
					; AnimateSwitches+49j ...
		leave
		retn	0Ah
AnimateSwitches	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MakeTeleBlow	proc near		; CODE XREF: CheckTelePorts+8Cp
					; CheckTelePorts+1A6p

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	8, 0
		mov	ax, MCount
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jg	short loc_78BA
		mov	[bp+var_2], ax
		jmp	short loc_7853
; ---------------------------------------------------------------------------

loc_7850:				; CODE XREF: MakeTeleBlow+7Fj
		inc	[bp+var_2]

loc_7853:				; CODE XREF: MakeTeleBlow+15j
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		cmp	word ptr es:[di+12h], 0
		jle	short loc_78B2
		mov	ax, [bp+arg_2]
		sub	ax, es:[di]
		push	ax
		mov	ax, [bp+arg_0]
		sub	ax, es:[di+2]
		push	ax
		call	QPifagorA32__0
		cmp	ax, 12Ch
		jnb	short loc_78B2
		les	di, [bp+var_8]
		assume es:nothing
		xor	ax, ax
		mov	es:[di+12h], ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+1Eh]
		call	ExplodeMonster
		les	di, [bp+var_8]
		mov	byte ptr es:[di+0Bh], 0FFh

loc_78B2:				; CODE XREF: MakeTeleBlow+2Fj
					; MakeTeleBlow+48j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_7850

loc_78BA:				; CODE XREF: MakeTeleBlow+10j
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_78C4
; ---------------------------------------------------------------------------

loc_78C1:				; CODE XREF: MakeTeleBlow+D0j
		inc	[bp+var_2]

loc_78C4:				; CODE XREF: MakeTeleBlow+86j
		imul	di, [bp+var_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		cmp	word ptr es:[di+28h], 0
		jle	short loc_7905
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_2]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_0]
		push	ax
		call	QPifagorA32__0
		cmp	ax, 12Ch
		jnb	short loc_7905
		push	[bp+var_2]
		call	ExplodePlayer
		cmp	[bp+arg_4], 0FFFFh
		jz	short loc_7905
		imul	di, [bp+arg_4],	58h
		inc	byte ptr [di-0FB0h]

loc_7905:				; CODE XREF: MakeTeleBlow+9Aj
					; MakeTeleBlow+B4j ...
		cmp	[bp+var_2], 7
		jnz	short loc_78C1
		leave
		retn	6
MakeTeleBlow	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckTelePorts	proc near		; CODE XREF: DoGame:loc_DBC7p

var_E		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= byte ptr -8
var_6		= word ptr -6
var_4		= byte ptr -4
var_2		= word ptr -2

		enter	0Eh, 0
		xor	ax, ax
		mov	j, ax
		jmp	short loc_791E
; ---------------------------------------------------------------------------

loc_791A:				; CODE XREF: CheckTelePorts+113j
		inc	j

loc_791E:				; CODE XREF: CheckTelePorts+9j
		imul	di, j, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	word ptr [bp+var_E+2], di
		mov	[bp+var_A], es
		cmp	word ptr es:[di+28h], 0
		jg	short loc_7939
		jmp	loc_7A1B
; ---------------------------------------------------------------------------

loc_7939:				; CODE XREF: CheckTelePorts+25j
		mov	al, es:[di+0Dh]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+0Bh]
		xor	ah, ah
		shl	ax, 6
		les	di, TeleMap
		assume es:nothing
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0FFh
		jnz	short loc_7964
		jmp	loc_7A06
; ---------------------------------------------------------------------------

loc_7964:				; CODE XREF: CheckTelePorts+50j
		les	di, [bp+var_E+2]
		mov	ax, es:[di+2Ah]
		and	ax, 400h
		or	ax, ax
		jz	short loc_7975
		jmp	loc_7A06
; ---------------------------------------------------------------------------

loc_7975:				; CODE XREF: CheckTelePorts+61j
		add	word ptr es:[di+2Ah], 400h
		push	j
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		push	word ptr es:[di+4]
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		push	word ptr es:[di+6]
		call	MakeTeleBlow
		push	[bp+var_6]
		push	j
		call	MakeTeleEffect
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		mov	ax, es:[di+4]
		les	di, [bp+var_E+2]
		mov	es:[di+0Ah], ax
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		mov	ax, es:[di+6]
		les	di, [bp+var_E+2]
		mov	es:[di+0Ch], ax
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+16h], ax
		xor	ax, ax
		mov	es:[di+18h], ax
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	4Eh ; 'N'
		add	di, 0Eh
		push	es
		push	di
		lea	di, [bp+var_8]
		push	ss
		push	di
		call	GetLandHeight

loc_7A06:				; CODE XREF: CheckTelePorts+52j
					; CheckTelePorts+63j
		cmp	[bp+var_6], 0FFh
		jnz	short loc_7A1B
		les	di, [bp+var_E+2]
		mov	ax, es:[di+2Ah]
		and	ax, 0FBFFh
		mov	es:[di+2Ah], ax

loc_7A1B:				; CODE XREF: CheckTelePorts+27j
					; CheckTelePorts+FCj
		cmp	j, 7
		jz	short loc_7A25
		jmp	loc_791A
; ---------------------------------------------------------------------------

loc_7A25:				; CODE XREF: CheckTelePorts+111j
		mov	ax, MCount
		mov	[bp+var_A], ax
		mov	ax, 1
		cmp	ax, [bp+var_A]
		jbe	short loc_7A36
		jmp	locret_7B94
; ---------------------------------------------------------------------------

loc_7A36:				; CODE XREF: CheckTelePorts+122j
		mov	j, ax
		jmp	short loc_7A3F
; ---------------------------------------------------------------------------

loc_7A3B:				; CODE XREF: CheckTelePorts+282j
		inc	j

loc_7A3F:				; CODE XREF: CheckTelePorts+12Aj
		imul	di, j, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		mov	al, es:[di+3]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+1]
		xor	ah, ah
		shl	ax, 6
		les	di, TeleMap
		assume es:nothing
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0FFh
		jnz	short loc_7A7B
		jmp	loc_7B7A
; ---------------------------------------------------------------------------

loc_7A7B:				; CODE XREF: CheckTelePorts+167j
		les	di, [bp+var_E]
		cmp	byte ptr es:[di+27h], 0
		jz	short loc_7A88
		jmp	loc_7B7A
; ---------------------------------------------------------------------------

loc_7A88:				; CODE XREF: CheckTelePorts+174j
		mov	byte ptr es:[di+27h], 1
		push	[bp+var_6]
		push	0FFFFh
		call	MakeTeleEffect
		push	0FFFFh
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		push	word ptr es:[di+4]
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		push	word ptr es:[di+6]
		call	MakeTeleBlow
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		mov	ax, es:[di+4]
		les	di, [bp+var_E]
		mov	es:[di], ax
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		mov	ax, es:[di+6]
		les	di, [bp+var_E]
		mov	es:[di+2], ax
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		cmp	word ptr es:[di+8], 0FFFFh
		jz	short loc_7B0A
		imul	ax, [bp+var_6],	0Ah
		les	di, Tports
		add	di, ax
		mov	ax, es:[di+8]
		shl	ax, 8
		les	di, [bp+var_E]
		mov	es:[di+4], ax

loc_7B0A:				; CODE XREF: CheckTelePorts+1E1j
		les	di, [bp+var_E]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		push	word ptr [di+7FB6h]
		lea	di, [bp+var_2]
		push	ss
		push	di
		lea	di, [bp+var_4]
		push	ss
		push	di
		call	GetMFloorZ
		mov	ax, [bp+var_2]
		shl	ax, 5
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		les	di, [bp+var_E]
		mov	es:[di+1Eh], ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	dx, [di+7FBEh]
		les	di, [bp+var_E]
		mov	ax, es:[di+1Eh]
		shr	ax, 5
		add	ax, dx
		mov	es:[di+20h], ax
		cmp	byte ptr es:[di+0Ah], 78h ; 'x'
		jnz	short loc_7B7A
		mov	word ptr es:[di+8], 0Eh
		xor	ax, ax
		mov	es:[di+6], ax
		mov	byte ptr es:[di+26h], 0

loc_7B7A:				; CODE XREF: CheckTelePorts+169j
					; CheckTelePorts+176j ...
		cmp	[bp+var_6], 0FFh
		jnz	short loc_7B89
		les	di, [bp+var_E]
		mov	byte ptr es:[di+27h], 0

loc_7B89:				; CODE XREF: CheckTelePorts+270j
		mov	ax, j
		cmp	ax, [bp+var_A]
		jz	short locret_7B94
		jmp	loc_7A3B
; ---------------------------------------------------------------------------

locret_7B94:				; CODE XREF: CheckTelePorts+124j
					; CheckTelePorts+280j
		leave
		retn
CheckTelePorts	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckFloorLinks	proc near		; CODE XREF: DoGame+10A8p

var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= dword	ptr -4

		enter	0Eh, 0
		xor	ax, ax
		mov	j, ax
		jmp	short loc_7BA5
; ---------------------------------------------------------------------------

loc_7BA1:				; CODE XREF: CheckFloorLinks+341j
		inc	j

loc_7BA5:				; CODE XREF: CheckFloorLinks+9j
		imul	di, j, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	word ptr es:[di+28h], 0
		jg	short loc_7BC0
		jmp	loc_7ED0
; ---------------------------------------------------------------------------

loc_7BC0:				; CODE XREF: CheckFloorLinks+25j
		cmp	LinksCount, 0
		jg	short loc_7BCA
		jmp	loc_7C93
; ---------------------------------------------------------------------------

loc_7BCA:				; CODE XREF: CheckFloorLinks+2Fj
		mov	ax, LinksCount
		dec	ax
		mov	[bp+var_6], ax
		xor	ax, ax
		cmp	ax, [bp+var_6]
		jle	short loc_7BDB
		jmp	loc_7C93
; ---------------------------------------------------------------------------

loc_7BDB:				; CODE XREF: CheckFloorLinks+40j
		mov	n__0, ax
		jmp	short loc_7BE4
; ---------------------------------------------------------------------------

loc_7BE0:				; CODE XREF: CheckFloorLinks+FAj
		inc	n__0

loc_7BE4:				; CODE XREF: CheckFloorLinks+48j
		imul	ax, n__0, 7
		les	di, PLinks
		assume es:nothing
		add	di, ax
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		les	di, [bp+var_4]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		les	di, [bp+var_A]
		cmp	ax, es:[di+1]
		jz	short loc_7C0A
		jmp	loc_7C88
; ---------------------------------------------------------------------------

loc_7C0A:				; CODE XREF: CheckFloorLinks+6Fj
		les	di, [bp+var_4]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		les	di, [bp+var_A]
		cmp	ax, es:[di+3]
		jnz	short loc_7C88
		mov	al, es:[di]
		cmp	al, 66h	; 'f'
		jnz	short loc_7C32
		push	word ptr es:[di+5]
		push	j
		call	StartProcess
		jmp	short loc_7C88
; ---------------------------------------------------------------------------

loc_7C32:				; CODE XREF: CheckFloorLinks+8Bj
		cmp	al, 75h	; 'u'
		jnz	short loc_7C4C
		les	di, [bp+var_A]
		imul	ax, es:[di+5], 1E8h
		les	di, PProc
		add	di, ax
		mov	byte ptr es:[di+2], 0
		jmp	short loc_7C88
; ---------------------------------------------------------------------------

loc_7C4C:				; CODE XREF: CheckFloorLinks+9Ej
		cmp	al, 52h	; 'R'
		jnz	short loc_7C88
		les	di, [bp+var_A]
		imul	ax, es:[di+5], 1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		cmp	byte ptr es:[di+1], 3
		jz	short loc_7C7A
		cmp	byte ptr es:[di+1], 2
		jnz	short loc_7C88
		cmp	word ptr es:[di+24h], 0
		jle	short loc_7C88

loc_7C7A:				; CODE XREF: CheckFloorLinks+D4j
		les	di, [bp+var_E]
		mov	byte ptr es:[di+1], 2
		mov	word ptr es:[di+24h], 1

loc_7C88:				; CODE XREF: CheckFloorLinks+71j
					; CheckFloorLinks+84j ...
		mov	ax, n__0
		cmp	ax, [bp+var_6]
		jz	short loc_7C93
		jmp	loc_7BE0
; ---------------------------------------------------------------------------

loc_7C93:				; CODE XREF: CheckFloorLinks+31j
					; CheckFloorLinks+42j ...
		mov	ax, AmCount
		mov	[bp+var_6], ax
		mov	ax, 1
		cmp	ax, [bp+var_6]
		jle	short loc_7CA4
		jmp	loc_7ED0
; ---------------------------------------------------------------------------

loc_7CA4:				; CODE XREF: CheckFloorLinks+109j
		mov	n__0, ax
		jmp	short loc_7CAD
; ---------------------------------------------------------------------------

loc_7CA9:				; CODE XREF: CheckFloorLinks+337j
		inc	n__0

loc_7CAD:				; CODE XREF: CheckFloorLinks+111j
		imul	ax, n__0, 1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_A]
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 0A0h ; ' '
		jl	short loc_7CDC
		jmp	loc_7EC5
; ---------------------------------------------------------------------------

loc_7CDC:				; CODE XREF: CheckFloorLinks+141j
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_A]
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 0A0h ; ' '
		jl	short loc_7CF7
		jmp	loc_7EC5
; ---------------------------------------------------------------------------

loc_7CF7:				; CODE XREF: CheckFloorLinks+15Cj
		les	di, [bp+var_4]
		mov	ax, es:[di+0Eh]
		add	ax, 18h
		les	di, [bp+var_A]
		cmp	ax, es:[di+8]
		jg	short loc_7D0D
		jmp	loc_7EC5
; ---------------------------------------------------------------------------

loc_7D0D:				; CODE XREF: CheckFloorLinks+172j
		mov	ax, es:[di+8]
		add	ax, 0Ah
		les	di, [bp+var_4]
		cmp	ax, es:[di+0Eh]
		jg	short loc_7D20
		jmp	loc_7EC5
; ---------------------------------------------------------------------------

loc_7D20:				; CODE XREF: CheckFloorLinks+185j
		cmp	word ptr es:[di+28h], 64h ; 'd'
		jge	short loc_7D42
		les	di, [bp+var_A]
		mov	ax, es:[di+1Bh]
		les	di, [bp+var_4]
		add	es:[di+28h], ax
		cmp	word ptr es:[di+28h], 64h ; 'd'
		jle	short loc_7D42
		mov	word ptr es:[di+28h], 64h ; 'd'

loc_7D42:				; CODE XREF: CheckFloorLinks+18Fj
					; CheckFloorLinks+1A4j
		les	di, [bp+var_4]
		mov	al, es:[di+27h]
		xor	ah, ah
		mov	w, ax
		les	di, [bp+var_A]
		mov	ax, es:[di+1Dh]
		add	w, ax
		cmp	w, 0C8h	; 'È'
		jbe	short loc_7D67
		mov	w, 0C8h	; 'È'

loc_7D67:				; CODE XREF: CheckFloorLinks+1C9j
		mov	al, byte ptr w
		les	di, [bp+var_4]
		mov	es:[di+27h], al
		les	di, [bp+var_A]
		mov	ax, es:[di+19h]
		les	di, [bp+var_4]
		add	es:[di+4Eh], ax
		cmp	word ptr es:[di+4Eh], 78h ; 'x'
		jle	short loc_7D8C
		mov	word ptr es:[di+4Eh], 78h ; 'x'

loc_7D8C:				; CODE XREF: CheckFloorLinks+1EEj
		les	di, [bp+var_4]
		mov	al, es:[di+25h]
		les	di, [bp+var_A]
		or	al, es:[di+10h]
		les	di, [bp+var_4]
		mov	es:[di+25h], al
		mov	ax, es:[di+2Ah]
		les	di, [bp+var_A]
		or	ax, es:[di+0Eh]
		les	di, [bp+var_4]
		mov	es:[di+2Ah], ax
		mov	ax, MyNetN
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, j
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_7E17
		cmp	ax, cx
		jnz	short loc_7E17
		les	di, [bp+var_A]
		cmp	byte ptr es:[di+10h], 0
		jbe	short loc_7E17
		xor	ax, ax
		mov	i, ax
		jmp	short loc_7DDD
; ---------------------------------------------------------------------------

loc_7DD9:				; CODE XREF: CheckFloorLinks+27Fj
		inc	i

loc_7DDD:				; CODE XREF: CheckFloorLinks+241j
		mov	ax, 1
		mov	cx, i
		shl	ax, cl
		mov	dx, ax
		les	di, [bp+var_A]
		mov	al, es:[di+10h]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jle	short loc_7E10
		mov	ax, i
		inc	ax
		imul	di, j, 58h
		cmp	ax, [di-0F8Eh]
		jle	short loc_7E10
		mov	ax, i
		inc	ax
		push	ax
		call	SetWeapon

loc_7E10:				; CODE XREF: CheckFloorLinks+25Fj
					; CheckFloorLinks+26Ej
		cmp	i, 7
		jnz	short loc_7DD9

loc_7E17:				; CODE XREF: CheckFloorLinks+22Cj
					; CheckFloorLinks+230j	...
		mov	w, 1
		jmp	short loc_7E23
; ---------------------------------------------------------------------------

loc_7E1F:				; CODE XREF: CheckFloorLinks+2AEj
		inc	w

loc_7E23:				; CODE XREF: CheckFloorLinks+287j
		push	j
		push	w
		mov	ax, w
		les	di, [bp+var_A]
		add	di, ax
		mov	al, es:[di+10h]
		xor	ah, ah
		push	ax
		call	AddAmmoToPlayer
		cmp	w, 8
		jnz	short loc_7E1F
		mov	ax, MyNetN
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, j
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_7E61
		cmp	ax, cx
		jnz	short loc_7E61
		mov	GShadeDir, 1

loc_7E61:				; CODE XREF: CheckFloorLinks+2BFj
					; CheckFloorLinks+2C3j
		push	44h ; 'D'
		push	0
		push	0
		les	di, [bp+var_A]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	0
		call	AddEvent
		push	0FFFFh
		les	di, [bp+var_A]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	3Ch ; '<'
		call	AddEvVoice
		mov	ax, n__0
		inc	ax
		imul	ax, 1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		push	es
		push	di
		imul	ax, n__0, 1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		push	es
		push	di
		mov	ax, 3Fh	; '?'
		sub	ax, n__0
		imul	ax, 1Fh
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	AmCount
		jmp	short loc_7ED0
; ---------------------------------------------------------------------------

loc_7EC5:				; CODE XREF: CheckFloorLinks+143j
					; CheckFloorLinks+15Ej	...
		mov	ax, n__0
		cmp	ax, [bp+var_6]
		jz	short loc_7ED0
		jmp	loc_7CA9
; ---------------------------------------------------------------------------

loc_7ED0:				; CODE XREF: CheckFloorLinks+27j
					; CheckFloorLinks+10Bj	...
		cmp	j, 7
		jz	short locret_7EDA
		jmp	loc_7BA1
; ---------------------------------------------------------------------------

locret_7EDA:				; CODE XREF: CheckFloorLinks+33Fj
		leave
		retn
CheckFloorLinks	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DeinitMonitor	proc near		; CODE XREF: DoGame+19C8p
		push	bp
		mov	bp, sp
		cmp	NETMonitor, 0
		jnz	short loc_7EE8
		jmp	short locret_7EFD
; ---------------------------------------------------------------------------

loc_7EE8:				; CODE XREF: DeinitMonitor+8j
		mov	ax, ServerSaved
		mov	CurVideoMode, ax
		call	AllocVideo
		call	SetVideoMode
		call	ReInitViewConst

locret_7EFD:				; CODE XREF: DeinitMonitor+Aj
		leave
		retn
DeinitMonitor	endp

; ---------------------------------------------------------------------------
aServerReturned	db 24,'SERVER returned to game.' ; DATA XREF: SwitchMonitor+50o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SwitchMonitor	proc near		; CODE XREF: ProcessConsole+267p
					; ProcessMenu+514p
		push	bp
		mov	bp, sp
		call	ReInitViewConst
		cmp	NETMonitor, 0
		jz	short loc_7F2E
		call	InitVESAMonitor
		jmp	short loc_7F72
; ---------------------------------------------------------------------------

loc_7F2E:				; CODE XREF: SwitchMonitor+Dj
		mov	ax, ServerSaved
		mov	CurVideoMode, ax
		mov	ax, word_4579C
		mov	word_45284, ax
		mov	ax, word_4579E
		mov	word_45286, ax
		mov	ax, word_457A0
		mov	word_45288, ax
		push	word_45284
		push	word_45286
		push	6
		push	1Ah
		push	60h ; '`'
		call	AddBlowLight
		call	AllocVideo
		call	SetVideoMode
		call	ReInitViewConst
		mov	di, offset aServerReturned ; "SERVER returned to game."
		push	cs
		push	di
		call	PutConsMessage3

loc_7F72:				; CODE XREF: SwitchMonitor+14j
		call	SetPalette
		xor	ax, ax
		mov	CurOwner, ax
		leave
		retn
SwitchMonitor	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReInitOwners	proc near		; CODE XREF: PROGRAM+D06p

var_2		= word ptr -2

		enter	2, 0
		xor	ax, ax
		mov	CurOwner, ax
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_7F91
; ---------------------------------------------------------------------------

loc_7F8E:				; CODE XREF: ReInitOwners+22j
		inc	[bp+var_2]

loc_7F91:				; CODE XREF: ReInitOwners+Ej
		mov	ax, [bp+var_2]
		inc	ax
		mov	di, [bp+var_2]
		mov	[di-0AC0h], al
		cmp	[bp+var_2], 3
		jnz	short loc_7F8E
		leave
		retn
ReInitOwners	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InsertPlayers	proc near		; CODE XREF: DoGame:loc_D99Fp

var_E		= word ptr -0Eh
var_C		= byte ptr -0Ch
var_B		= byte ptr -0Bh
var_9		= word ptr -9
var_7		= word ptr -7
var_5		= word ptr -5
var_3		= word ptr -3

		enter	12h, 0
		xor	ax, ax
		mov	[bp+var_E], ax
		jmp	short loc_7FB2
; ---------------------------------------------------------------------------

loc_7FAF:				; CODE XREF: InsertPlayers+79j
		inc	[bp+var_E]

loc_7FB2:				; CODE XREF: InsertPlayers+9j
		cmp	ExMode,	0
		jnz	short loc_7FCE
		mov	ax, CurOwner
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_E]
		cwd
		cmp	dx, bx
		jnz	short loc_7FCE
		cmp	ax, cx
		jz	short loc_8019

loc_7FCE:				; CODE XREF: InsertPlayers+13j
					; InsertPlayers+24j
		imul	di, [bp+var_E],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		cmp	byte ptr es:[di], 0
		jz	short loc_8019
		cmp	word ptr es:[di+28h], 0
		jle	short loc_8019
		mov	ax, es:[di+0Ah]
		mov	[bp+var_9], ax
		mov	ax, es:[di+0Ch]
		mov	[bp+var_7], ax
		mov	ax, [bp+var_9]
		mov	[bp+var_5], ax
		mov	ax, [bp+var_7]
		mov	[bp+var_3], ax
		mov	[bp+var_C], 81h	; ''
		mov	al, byte ptr [bp+var_E]
		mov	[bp+var_B], al
		lea	di, [bp+var_C]
		push	ss
		push	di
		push	0
		push	0
		push	0
		call	InsertObject

loc_8019:				; CODE XREF: InsertPlayers+28j
					; InsertPlayers+38j ...
		cmp	[bp+var_E], 7
		jnz	short loc_7FAF
		leave
		retn
InsertPlayers	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

NewGame		proc near		; CODE XREF: ExecConsole+256p
					; ProcessMenu+430p ...
		push	bp
		mov	bp, sp
		mov	MenuCode, 3
		push	20h ; ' '
		call	SendServerPost
		mov	SERVER,	0
		mov	CLIENT,	0
		mov	RecordDemo, 0
		mov	PlayDemo, 0
		leave
		retn
NewGame		endp

; ---------------------------------------------------------------------------
aIpxNotInstalle	db 18,'IPX not installed.' ; DATA XREF: MenuStartNet+11o
aClientCannotCh	db 35,'CLIENT CANNOT CHANGE GAME SETTINGS.'
					; DATA XREF: MenuStartNet:loc_8117o
aNpNotInstalled	db 17,'NP not installed.' ; DATA XREF: MenuStartNet:loc_8123o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MenuStartNet	proc near		; CODE XREF: ProcessMenu+6DCp
		push	bp
		mov	bp, sp
		cmp	NGCard,	0
		jnz	short loc_80AC
		cmp	IPXPresent, 0
		jnz	short loc_80AC
		mov	di, offset aIpxNotInstalle ; "IPX not installed."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	locret_812D
; ---------------------------------------------------------------------------

loc_80AC:				; CODE XREF: MenuStartNet+8j
					; MenuStartNet+Fj
		cmp	NPinst,	0
		jz	short loc_8123
		cmp	CLIENT,	0
		jnz	short loc_8117
		mov	al, NGSkill
		xor	ah, ah
		mov	Skill, ax
		mov	al, NGLevel
		xor	ah, ah
		mov	LevelN,	ax
		mov	al, NGMode
		mov	NetMode, al
		mov	al, NGTeam
		mov	TeamMode, al
		mov	MenuCode, 4
		cmp	SERVER,	0
		jz	short loc_80EA
		push	10h
		call	SendServerPost
		jmp	short loc_8106
; ---------------------------------------------------------------------------

loc_80EA:				; CODE XREF: MenuStartNet+53j
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_80F5
; ---------------------------------------------------------------------------

loc_80F1:				; CODE XREF: MenuStartNet+76j
		inc	n__0

loc_80F5:				; CODE XREF: MenuStartNet+61j
		imul	di, n__0, 58h
		mov	byte ptr [di-0FB0h], 0
		cmp	n__0, 7
		jnz	short loc_80F1

loc_8106:				; CODE XREF: MenuStartNet+5Aj
		mov	CLIENT,	0
		mov	SERVER,	1
		mov	PlayDemo, 0
		jmp	short loc_8121
; ---------------------------------------------------------------------------

loc_8117:				; CODE XREF: MenuStartNet+2Aj
		mov	di, offset aClientCannotCh ; "CLIENT CANNOT CHANGE GAME	SETTINGS."
		push	cs
		push	di
		call	PutConsMessage2

loc_8121:				; CODE XREF: MenuStartNet+87j
		jmp	short locret_812D
; ---------------------------------------------------------------------------

loc_8123:				; CODE XREF: MenuStartNet+23j
		mov	di, offset aNpNotInstalled ; "NP not installed."
		push	cs
		push	di
		call	PutConsMessage2

locret_812D:				; CODE XREF: MenuStartNet+1Bj
					; MenuStartNet:loc_8121j
		leave
		retn
MenuStartNet	endp

; ---------------------------------------------------------------------------
aIpxNotInstal_0	db 18,'IPX not installed.' ; DATA XREF: MenuJoinNet+11o
aNpNotInstall_0	db 17,'NP not installed.' ; DATA XREF: MenuJoinNet:loc_819Fo
aAlreadyInNetwo	db 19,'Already in Network.' ; DATA XREF: MenuJoinNet:loc_81ABo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MenuJoinNet	proc near		; CODE XREF: ProcessMenu+6EDp
		push	bp
		mov	bp, sp
		cmp	NGCard,	0
		jnz	short loc_8185
		cmp	IPXPresent, 0
		jnz	short loc_8185
		mov	di, offset aIpxNotInstal_0 ; "IPX not installed."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	short locret_81B5
; ---------------------------------------------------------------------------

loc_8185:				; CODE XREF: MenuJoinNet+8j
					; MenuJoinNet+Fj
		cmp	CLIENT,	0
		jnz	short loc_81AB
		cmp	SERVER,	0
		jnz	short loc_81AB
		cmp	NPinst,	0
		jz	short loc_819F
		call	LookForServer
		jmp	short loc_81A9
; ---------------------------------------------------------------------------

loc_819F:				; CODE XREF: MenuJoinNet+30j
		mov	di, offset aNpNotInstall_0 ; "NP not installed."
		push	cs
		push	di
		call	PutConsMessage2

loc_81A9:				; CODE XREF: MenuJoinNet+35j
		jmp	short locret_81B5
; ---------------------------------------------------------------------------

loc_81AB:				; CODE XREF: MenuJoinNet+22j
					; MenuJoinNet+29j
		mov	di, offset aAlreadyInNetwo ; "Already in Network."
		push	cs
		push	di
		call	PutConsMessage2

locret_81B5:				; CODE XREF: MenuJoinNet+1Bj
					; MenuJoinNet:loc_81A9j
		leave
		retn
MenuJoinNet	endp

; ---------------------------------------------------------------------------
asc_81B7	db 1,' '                ; DATA XREF: ExecConsole:loc_83FBo
					; ExecConsole+160o
aUnknownCommand	db 15,'Unknown command' ; DATA XREF: ExecConsole+224o
a__2		db 1,'.'                ; DATA XREF: ExecConsole+2CAo
aIncorrectLevel	db 23,'Incorrect level number.' ; DATA XREF: ExecConsole:loc_8604o
asc_81E3	db 1,'#'                ; DATA XREF: ExecConsole+345o
					; ExecConsole+384o
aShadows_count	db 16,'SHADOWS_COUNT = ' ; DATA XREF: ExecConsole+335o
					; ExecConsole+374o
aMustBeIn0__7	db 15,'Must be in 0..7' ; DATA XREF: ExecConsole:loc_86B8o
asc_8206	db 3,'###'              ; DATA XREF: ExecConsole+3ECo
					; ExecConsole+441o
aRespawn_time	db 14,'RESPAWN_TIME ='  ; DATA XREF: ExecConsole+3DCo
					; ExecConsole+431o
aSec__0		db 5,' SEC.'            ; DATA XREF: ExecConsole+408o
					; ExecConsole+45Do
aRespawnDisable	db 16,'RESPAWN DISABLED' ; DATA XREF: ExecConsole:loc_872Ao
aMustBeIn0__600	db 17,'Must be in 0..600' ; DATA XREF: ExecConsole:loc_877Fo
aChojinModeIs	db 14,'CHOJIN mode is'  ; DATA XREF: ExecConsole+49Ao
aReverseSoundIs	db 16,'REVERSE SOUND is' ; DATA XREF: ExecConsole+4F3o
asc_8262	db 4,'####'             ; DATA XREF: ExecConsole+585o
aDepth		db 7,'DEPTH ='          ; DATA XREF: ExecConsole+575o
aAmmoAddedTo	db 14,'AMMO added to '  ; DATA XREF: ExecConsole+618o
aArmorAddedTo	db 15,'ARMOR added to ' ; DATA XREF: ExecConsole+679o
aSet		db 4,'Set '             ; DATA XREF: ExecConsole+6DBo
aInvisible	db 10,' invisible'      ; DATA XREF: ExecConsole+6F4o
aGive		db 5,'Give '            ; DATA XREF: ExecConsole+750o
aAllKeys_	db 10,' all keys.'      ; DATA XREF: ExecConsole+769o
aWeaponsAddedTo	db 17,'WEAPONS added to ' ; DATA XREF: ExecConsole+817o
aFullMapIs	db 11,'FULL MAP is'     ; DATA XREF: ExecConsole+8C7o
asc_82CD	db 2,'##'               ; DATA XREF: ExecConsole+911o
					; ExecConsole+99Ao
aTime		db 5,'Time:'            ; DATA XREF: ExecConsole+901o
asc_82D6	db 1,':'                ; DATA XREF: ExecConsole+939o
					; ExecConsole+9C2o
a@_1		db 2,'@#'               ; DATA XREF: ExecConsole+949o
					; ExecConsole+9D2o
aCdtime		db 7,'CDTime:'          ; DATA XREF: ExecConsole+98Ao
asc_82E3	db 5,'#####'            ; DATA XREF: ExecConsole+A23o
					; ExecConsole+A59o
aMem		db 4,'Mem:'             ; DATA XREF: ExecConsole+A13o
asc_82EE	db 1,'/'                ; DATA XREF: ExecConsole+A49o
asc_82F0	db 1,'"'                ; DATA XREF: ExecConsole+AB3o
					; ExecConsole+ADBo
aNowIs_0	db 10,'" now is "'      ; DATA XREF: ExecConsole+AC7o
aCurrentNick	db 14,'Current Nick: '  ; DATA XREF: ExecConsole+AF2o
asc_830C	db 1,'['                ; DATA XREF: ExecConsole+CADo
asc_830E	db 2,'] '               ; DATA XREF: ExecConsole+CCEo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExecConsole	proc near		; CODE XREF: ProcessConsole+399p

var_350		= byte ptr -350h
var_254		= byte ptr -254h
var_250		= byte ptr -250h
var_154		= byte ptr -154h
var_150		= byte ptr -150h
var_56		= dword	ptr -56h
var_52		= word ptr -52h
var_50		= byte ptr -50h
var_3A		= byte ptr -3Ah
var_24		= byte ptr -24h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	350h, 0
		mov	[bp+var_2], 1
		jmp	short loc_831F
; ---------------------------------------------------------------------------

loc_831C:				; CODE XREF: ExecConsole+30j
		inc	[bp+var_2]

loc_831F:				; CODE XREF: ExecConsole+9j
		imul	di, [bp+var_2],	29h
		add	di, 0E6EEh
		push	ds
		push	di
		mov	ax, [bp+var_2]
		dec	ax
		imul	di, ax,	29h
		add	di, 0E6EEh
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_2], 6
		jnz	short loc_831C
		lea	di, [bp+var_250]
		push	ss
		push	di
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset byte_44A34
		push	ds
		push	di
		call	Trim
		call	StUpcase
		lea	di, [bp+var_24]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		imul	ax, HistCnt, 28h
		les	di, ConsHistory
		assume es:nothing
		add	di, ax
		add	di, 0FFD8h
		push	es
		push	di
		lea	di, [bp+var_24]
		push	ss
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_83F4
		cmp	HistCnt, 40h ; '@'
		jge	short loc_8394
		inc	HistCnt
		jmp	short loc_83CE
; ---------------------------------------------------------------------------

loc_8394:				; CODE XREF: ExecConsole+7Bj
		mov	[bp+var_4], 1
		jmp	short loc_839E
; ---------------------------------------------------------------------------

loc_839B:				; CODE XREF: ExecConsole+BBj
		inc	[bp+var_4]

loc_839E:				; CODE XREF: ExecConsole+88j
		mov	ax, [bp+var_4]
		inc	ax
		imul	ax, 28h
		les	di, ConsHistory
		add	di, ax
		add	di, 0FFD8h
		push	es
		push	di
		imul	ax, [bp+var_4],	28h
		les	di, ConsHistory
		add	di, ax
		add	di, 0FFD8h
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_4], 3Fh	; '?'
		jnz	short loc_839B

loc_83CE:				; CODE XREF: ExecConsole+81j
		lea	di, [bp+var_24]
		push	ss
		push	di
		imul	ax, HistCnt, 28h
		les	di, ConsHistory
		add	di, ax
		add	di, 0FFD8h
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	ax, HistCnt
		inc	ax
		mov	CurHist, ax
		jmp	short loc_83FB
; ---------------------------------------------------------------------------

loc_83F4:				; CODE XREF: ExecConsole+74j
		mov	ax, HistCnt
		inc	ax
		mov	CurHist, ax

loc_83FB:				; CODE XREF: ExecConsole+E1j
		mov	di, offset asc_81B7 ; "	"
		push	cs
		push	di
		lea	di, [bp+var_24]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_6], ax
		mov	[bp+var_3A], 0
		mov	[bp+var_50], 0
		mov	[bp+var_C], 0FFFFh
		cmp	[bp+var_6], 0
		jnz	short loc_8423
		jmp	loc_84FE
; ---------------------------------------------------------------------------

loc_8423:				; CODE XREF: ExecConsole+10Dj
		lea	di, [bp+var_250]
		push	ss
		push	di
		lea	di, [bp+var_150]
		push	ss
		push	di
		lea	di, [bp+var_24]
		push	ss
		push	di
		push	[bp+var_6]
		push	64h ; 'd'
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_3A]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, byte ptr [bp+var_6]
		mov	[bp+var_24], al
		lea	di, [bp+var_150]
		push	ss
		push	di
		lea	di, [bp+var_24]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_24]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset asc_81B7 ; "	"
		push	cs
		push	di
		lea	di, [bp+var_3A]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jnz	short loc_849D
		lea	di, [bp+var_3A]
		push	ss
		push	di
		lea	di, [bp+var_2]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_C], ax
		jmp	short loc_84FE
; ---------------------------------------------------------------------------

loc_849D:				; CODE XREF: ExecConsole+176j
		lea	di, [bp+var_250]
		push	ss
		push	di
		lea	di, [bp+var_150]
		push	ss
		push	di
		lea	di, [bp+var_3A]
		push	ss
		push	di
		push	[bp+var_6]
		push	64h ; 'd'
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_50]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, byte ptr [bp+var_6]
		mov	[bp+var_3A], al
		lea	di, [bp+var_150]
		push	ss
		push	di
		lea	di, [bp+var_3A]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_2]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_C], ax
		lea	di, [bp+var_50]
		push	ss
		push	di
		lea	di, [bp+var_2]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_E], ax

loc_84FE:				; CODE XREF: ExecConsole+10Fj
					; ExecConsole+18Aj
		mov	[bp+var_A], 0FFFFh
		mov	[bp+var_2], 1
		jmp	short loc_850D
; ---------------------------------------------------------------------------

loc_850A:				; CODE XREF: ExecConsole+21Cj
		inc	[bp+var_2]

loc_850D:				; CODE XREF: ExecConsole+1F7j
		lea	di, [bp+var_24]
		push	ss
		push	di
		imul	di, [bp+var_2],	0Dh
		add	di, 27h	; '''
		push	ds
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_8529
		mov	ax, [bp+var_2]
		mov	[bp+var_A], ax

loc_8529:				; CODE XREF: ExecConsole+210j
		cmp	[bp+var_2], 2Ah	; '*'
		jnz	short loc_850A
		cmp	[bp+var_A], 0FFFFh
		jnz	short loc_8542
		mov	di, offset aUnknownCommand ; "Unknown command"
		push	cs
		push	di
		call	PutConsMessage
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8542:				; CODE XREF: ExecConsole+222j
		mov	ax, [bp+var_A]
		cmp	ax, 1
		jnz	short loc_8562
		mov	MenuCode, 0FFFFh
		push	20h ; ' '
		call	SendServerPost
		mov	SERVER,	0
		mov	CLIENT,	0
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8562:				; CODE XREF: ExecConsole+237j
		cmp	ax, 2
		jnz	short loc_856D
		call	NewGame
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_856D:				; CODE XREF: ExecConsole+254j
		cmp	ax, 17h
		jnz	short loc_857B
		mov	EndDelay, 1Eh
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_857B:				; CODE XREF: ExecConsole+25Fj
		cmp	ax, 3
		jnz	short loc_85A3
		cmp	CLIENT,	0
		jnz	short loc_85A0
		cmp	PlayDemo, 0
		jnz	short loc_85A0
		cmp	RecordDemo, 0
		jnz	short loc_85A0
		mov	MenuCode, 4
		push	10h
		call	SendServerPost

loc_85A0:				; CODE XREF: ExecConsole+274j
					; ExecConsole+27Bj ...
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_85A3:				; CODE XREF: ExecConsole+26Dj
		cmp	ax, 14h
		jnz	short loc_8611
		cmp	SERVER,	0
		jnz	short loc_860E
		cmp	CLIENT,	0
		jnz	short loc_860E
		cmp	RecordDemo, 0
		jnz	short loc_860E
		cmp	[bp+var_C], 0
		jle	short loc_8604
		cmp	[bp+var_C], 40h	; '@'
		jg	short loc_8604
		mov	ax, [bp+var_C]
		shl	ax, 5
		les	di, LevelNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		mov	di, offset a__2	; "."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_8604
		mov	RecordDemo, 0
		mov	PlayDemo, 0
		mov	ax, [bp+var_C]
		mov	LevelN,	ax
		mov	MenuCode, 4
		push	10h
		call	SendServerPost
		jmp	short loc_860E
; ---------------------------------------------------------------------------

loc_8604:				; CODE XREF: ExecConsole+2B0j
					; ExecConsole+2B6j ...
		mov	di, offset aIncorrectLevel ; "Incorrect	level number."
		push	cs
		push	di
		call	PutConsMessage

loc_860E:				; CODE XREF: ExecConsole+29Cj
					; ExecConsole+2A3j ...
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8611:				; CODE XREF: ExecConsole+295j
		cmp	ax, 0Bh
		jnz	short loc_8626
		cmp	Obj3d, 0
		mov	al, 0
		jnz	short loc_8620
		inc	ax

loc_8620:				; CODE XREF: ExecConsole+30Cj
		mov	Obj3d, al
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8626:				; CODE XREF: ExecConsole+303j
		cmp	ax, 15h
		jz	short loc_862E
		jmp	loc_86C5
; ---------------------------------------------------------------------------

loc_862E:				; CODE XREF: ExecConsole+318j
		cmp	[bp+var_C], 0
		jl	short loc_8679
		cmp	[bp+var_C], 8
		jge	short loc_8679
		mov	ax, [bp+var_C]
		mov	ShadowCount, ax
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aShadows_count ; "SHADOWS_COUNT = "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_81E3 ; "#"
		push	cs
		push	di
		mov	ax, ShadowCount
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage
		jmp	short loc_86C2
; ---------------------------------------------------------------------------

loc_8679:				; CODE XREF: ExecConsole+321j
					; ExecConsole+327j
		cmp	[bp+var_C], 0FFFFh
		jnz	short loc_86B8
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aShadows_count ; "SHADOWS_COUNT = "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_81E3 ; "#"
		push	cs
		push	di
		mov	ax, ShadowCount
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage
		jmp	short loc_86C2
; ---------------------------------------------------------------------------

loc_86B8:				; CODE XREF: ExecConsole+36Cj
		mov	di, offset aMustBeIn0__7 ; "Must be in 0..7"
		push	cs
		push	di
		call	PutConsMessage

loc_86C2:				; CODE XREF: ExecConsole+366j
					; ExecConsole+3A5j
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_86C5:				; CODE XREF: ExecConsole+31Aj
		cmp	ax, 16h
		jz	short loc_86CD
		jmp	loc_878C
; ---------------------------------------------------------------------------

loc_86CD:				; CODE XREF: ExecConsole+3B7j
		cmp	[bp+var_C], 0
		jl	short loc_8736
		cmp	[bp+var_C], 258h
		jg	short loc_8736
		mov	ax, [bp+var_C]
		mov	RespawnTime, ax
		cmp	RespawnTime, 0
		jz	short loc_872A
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aRespawn_time ; "RESPAWN_TIME ="
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_8206 ; "###"
		push	cs
		push	di
		mov	ax, RespawnTime
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aSec__0 ; " SEC."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage
		jmp	short loc_8734
; ---------------------------------------------------------------------------

loc_872A:				; CODE XREF: ExecConsole+3D4j
		mov	di, offset aRespawnDisable ; "RESPAWN DISABLED"
		push	cs
		push	di
		call	PutConsMessage

loc_8734:				; CODE XREF: ExecConsole+417j
		jmp	short loc_8789
; ---------------------------------------------------------------------------

loc_8736:				; CODE XREF: ExecConsole+3C0j
					; ExecConsole+3C7j
		cmp	[bp+var_C], 0FFFFh
		jnz	short loc_877F
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aRespawn_time ; "RESPAWN_TIME ="
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_8206 ; "###"
		push	cs
		push	di
		mov	ax, RespawnTime
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aSec__0 ; " SEC."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage
		jmp	short loc_8789
; ---------------------------------------------------------------------------

loc_877F:				; CODE XREF: ExecConsole+429j
		mov	di, offset aMustBeIn0__600 ; "Must be in 0..600"
		push	cs
		push	di
		call	PutConsMessage

loc_8789:				; CODE XREF: ExecConsole:loc_8734j
					; ExecConsole+46Cj
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_878C:				; CODE XREF: ExecConsole+3B9j
		cmp	ax, 7
		jnz	short loc_87D7
		cmp	word_452A2, 0
		jle	short loc_87D4
		cmp	Chojin,	0
		mov	al, 0
		jnz	short loc_87A2
		inc	ax

loc_87A2:				; CODE XREF: ExecConsole+48Ej
		mov	Chojin,	al
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aChojinModeIs ; "CHOJIN mode	is"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	al, Chojin
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2

loc_87D4:				; CODE XREF: ExecConsole+485j
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_87D7:				; CODE XREF: ExecConsole+47Ej
		cmp	ax, 12h
		jnz	short loc_87EC
		cmp	TimeInd, 0
		mov	al, 0
		jnz	short loc_87E6
		inc	ax

loc_87E6:				; CODE XREF: ExecConsole+4D2j
		mov	TimeInd, al
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_87EC:				; CODE XREF: ExecConsole+4C9j
		cmp	ax, 0Fh
		jnz	short loc_8830
		cmp	Reverse, 0
		mov	al, 0
		jnz	short loc_87FB
		inc	ax

loc_87FB:				; CODE XREF: ExecConsole+4E7j
		mov	Reverse, al
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aReverseSoundIs ; "REVERSE SOUND is"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	al, Reverse
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8830:				; CODE XREF: ExecConsole+4DEj
		cmp	ax, 0Dh
		jnz	short loc_885E
		mov	ax, MCount
		mov	[bp+var_52], ax
		mov	ax, 1
		cmp	ax, [bp+var_52]
		ja	short loc_885B
		mov	[bp+var_4], ax
		jmp	short loc_884B
; ---------------------------------------------------------------------------

loc_8848:				; CODE XREF: ExecConsole+548j
		inc	[bp+var_4]

loc_884B:				; CODE XREF: ExecConsole+535j
		push	[bp+var_4]
		call	RespawnMonster
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_52]
		jnz	short loc_8848

loc_885B:				; CODE XREF: ExecConsole+530j
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_885E:				; CODE XREF: ExecConsole+522j
		cmp	ax, 0Eh
		jnz	short loc_88BA
		cmp	[bp+var_C], 0
		jl	short loc_8880
		cmp	[bp+var_C], 4B0h
		jle	short loc_8875
		mov	[bp+var_C], 4B0h

loc_8875:				; CODE XREF: ExecConsole+55Dj
		mov	ax, [bp+var_C]
		mov	BLevelDef, ax
		call	ReInitViewConst

loc_8880:				; CODE XREF: ExecConsole+556j
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aDepth ; "DEPTH ="
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_8262 ; "####"
		push	cs
		push	di
		mov	ax, BLevelDef
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_88BA:				; CODE XREF: ExecConsole+550j
		cmp	ax, 4
		jz	short loc_88C2
		jmp	loc_894A
; ---------------------------------------------------------------------------

loc_88C2:				; CODE XREF: ExecConsole+5ACj
		cmp	[bp+var_C], 0
		jl	short loc_88CE
		cmp	[bp+var_C], 7
		jle	short loc_88D3

loc_88CE:				; CODE XREF: ExecConsole+5B5j
		xor	ax, ax
		mov	[bp+var_C], ax

loc_88D3:				; CODE XREF: ExecConsole+5BBj
		imul	di, [bp+var_C],	58h
		cmp	word ptr [di-0FAEh], 0
		jz	short loc_88E9
		imul	di, [bp+var_C],	58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_88EE

loc_88E9:				; CODE XREF: ExecConsole+5CBj
		xor	ax, ax
		mov	[bp+var_C], ax

loc_88EE:				; CODE XREF: ExecConsole+5D6j
		mov	ax, WeaponsCount
		mov	[bp+var_52], ax
		mov	ax, 1
		cmp	ax, [bp+var_52]
		ja	short loc_8923
		mov	[bp+var_4], ax
		jmp	short loc_8904
; ---------------------------------------------------------------------------

loc_8901:				; CODE XREF: ExecConsole+610j
		inc	[bp+var_4]

loc_8904:				; CODE XREF: ExecConsole+5EEj
		mov	di, [bp+var_4]
		shl	di, 5
		mov	dl, [di-1BBAh]
		mov	ax, [bp+var_4]
		imul	di, [bp+var_C],	58h
		add	di, ax
		mov	[di-0FA9h], dl
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_52]
		jnz	short loc_8901

loc_8923:				; CODE XREF: ExecConsole+5E9j
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aAmmoAddedTo	; "AMMO	added to "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	di, [bp+var_C],	58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_894A:				; CODE XREF: ExecConsole+5AEj
		cmp	ax, 10h
		jnz	short loc_89AB
		cmp	[bp+var_C], 0
		jl	short loc_895B
		cmp	[bp+var_C], 7
		jle	short loc_8960

loc_895B:				; CODE XREF: ExecConsole+642j
		xor	ax, ax
		mov	[bp+var_C], ax

loc_8960:				; CODE XREF: ExecConsole+648j
		imul	di, [bp+var_C],	58h
		cmp	word ptr [di-0FAEh], 0
		jz	short loc_8976
		imul	di, [bp+var_C],	58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_897B

loc_8976:				; CODE XREF: ExecConsole+658j
		xor	ax, ax
		mov	[bp+var_C], ax

loc_897B:				; CODE XREF: ExecConsole+663j
		imul	di, [bp+var_C],	58h
		mov	byte ptr [di-0FAFh], 0C8h ; 'È'
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aArmorAddedTo ; "ARMOR added	to "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	di, [bp+var_C],	58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_89AB:				; CODE XREF: ExecConsole+63Cj
		cmp	ax, 11h
		jnz	short loc_8A17
		cmp	[bp+var_C], 0
		jl	short loc_89BC
		cmp	[bp+var_C], 7
		jle	short loc_89C1

loc_89BC:				; CODE XREF: ExecConsole+6A3j
		xor	ax, ax
		mov	[bp+var_C], ax

loc_89C1:				; CODE XREF: ExecConsole+6A9j
		imul	di, [bp+var_C],	58h
		cmp	word ptr [di-0FAEh], 0
		jz	short loc_89D7
		imul	di, [bp+var_C],	58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_89DC

loc_89D7:				; CODE XREF: ExecConsole+6B9j
		xor	ax, ax
		mov	[bp+var_C], ax

loc_89DC:				; CODE XREF: ExecConsole+6C4j
		imul	di, [bp+var_C],	58h
		mov	word ptr [di-0F88h], 78h ; 'x'
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aSet	; "Set "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	di, [bp+var_C],	58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aInvisible ;	" invisible"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8A17:				; CODE XREF: ExecConsole+69Dj
		cmp	ax, 13h
		jnz	short loc_8A8C
		cmp	[bp+var_C], 0
		jl	short loc_8A28
		cmp	[bp+var_C], 7
		jle	short loc_8A2D

loc_8A28:				; CODE XREF: ExecConsole+70Fj
		xor	ax, ax
		mov	[bp+var_C], ax

loc_8A2D:				; CODE XREF: ExecConsole+715j
		imul	di, [bp+var_C],	58h
		cmp	word ptr [di-0FAEh], 0
		jz	short loc_8A43
		imul	di, [bp+var_C],	58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_8A48

loc_8A43:				; CODE XREF: ExecConsole+725j
		xor	ax, ax
		mov	[bp+var_C], ax

loc_8A48:				; CODE XREF: ExecConsole+730j
		imul	di, [bp+var_C],	58h
		mov	ax, [di-0FACh]
		or	ax, 70h
		imul	di, [bp+var_C],	58h
		mov	[di-0FACh], ax
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aGive ; "Give "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	di, [bp+var_C],	58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aAllKeys_ ; " all keys."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8A8C:				; CODE XREF: ExecConsole+709j
		cmp	ax, 8
		jz	short loc_8A94
		jmp	loc_8B49
; ---------------------------------------------------------------------------

loc_8A94:				; CODE XREF: ExecConsole+77Ej
		cmp	[bp+var_C], 0
		jl	short loc_8AA0
		cmp	[bp+var_C], 7
		jle	short loc_8AA5

loc_8AA0:				; CODE XREF: ExecConsole+787j
		xor	ax, ax
		mov	[bp+var_C], ax

loc_8AA5:				; CODE XREF: ExecConsole+78Dj
		imul	di, [bp+var_C],	58h
		cmp	word ptr [di-0FAEh], 0
		jz	short loc_8ABB
		imul	di, [bp+var_C],	58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_8AC0

loc_8ABB:				; CODE XREF: ExecConsole+79Dj
		xor	ax, ax
		mov	[bp+var_C], ax

loc_8AC0:				; CODE XREF: ExecConsole+7A8j
		imul	di, [bp+var_C],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_56+2],	di
		mov	[bp+var_52], es
		mov	ax, WeaponsCount
		mov	word ptr [bp+var_56], ax
		mov	ax, 1
		cmp	ax, word ptr [bp+var_56]
		ja	short loc_8B22
		mov	[bp+var_4], ax
		jmp	short loc_8AE6
; ---------------------------------------------------------------------------

loc_8AE3:				; CODE XREF: ExecConsole+80Fj
		inc	[bp+var_4]

loc_8AE6:				; CODE XREF: ExecConsole+7D0j
		mov	di, [bp+var_4]
		shl	di, 5
		mov	dl, [di-1BBAh]
		mov	ax, [bp+var_4]
		les	di, [bp+var_56+2]
		assume es:nothing
		add	di, ax
		mov	es:[di+2Dh], dl
		mov	ax, [bp+var_4]
		dec	ax
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		les	di, [bp+var_56+2]
		mov	al, es:[di+25h]
		xor	ah, ah
		or	ax, dx
		mov	es:[di+25h], al
		mov	ax, [bp+var_4]
		cmp	ax, word ptr [bp+var_56]
		jnz	short loc_8AE3

loc_8B22:				; CODE XREF: ExecConsole+7CBj
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aWeaponsAddedTo ; "WEAPONS added to "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	di, [bp+var_C],	58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8B49:				; CODE XREF: ExecConsole+780j
		cmp	ax, 6
		jnz	short loc_8BC0
		mov	ax, MCount
		mov	[bp+var_52], ax
		mov	ax, 1
		cmp	ax, [bp+var_52]
		ja	short loc_8BBD
		mov	[bp+var_4], ax
		jmp	short loc_8B64
; ---------------------------------------------------------------------------

loc_8B61:				; CODE XREF: ExecConsole+8AAj
		inc	[bp+var_4]

loc_8B64:				; CODE XREF: ExecConsole+84Ej
		imul	di, [bp+var_4],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_56], di
		mov	word ptr [bp+var_56+2],	es
		cmp	word ptr es:[di+12h], 0
		jle	short loc_8BB5
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		cmp	al, 9
		jz	short loc_8BB5
		cmp	al, 12h
		jb	short loc_8B90
		cmp	al, 14h
		jbe	short loc_8BB5

loc_8B90:				; CODE XREF: ExecConsole+879j
		les	di, [bp+var_56]
		assume es:nothing
		xor	ax, ax
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+26h], 5
		xor	ax, ax
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di+8], ax
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 0Ah

loc_8BB5:				; CODE XREF: ExecConsole+868j
					; ExecConsole+875j ...
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_52]
		jnz	short loc_8B61

loc_8BBD:				; CODE XREF: ExecConsole+849j
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8BC0:				; CODE XREF: ExecConsole+83Bj
		cmp	ax, 5
		jnz	short loc_8C04
		cmp	FullMap, 0
		mov	al, 0
		jnz	short loc_8BCF
		inc	ax

loc_8BCF:				; CODE XREF: ExecConsole+8BBj
		mov	FullMap, al
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aFullMapIs ;	"FULL MAP is"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	al, FullMap
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8C04:				; CODE XREF: ExecConsole+8B2j
		cmp	ax, 0Ah
		jz	short loc_8C0C
		jmp	loc_8D98
; ---------------------------------------------------------------------------

loc_8C0C:				; CODE XREF: ExecConsole+8F6j
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aTime ; "Time:"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_82CD ; "##"
		push	cs
		push	di
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 20D0h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_82D6 ; ":"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_350]
		push	ss
		push	di
		mov	di, offset a@_1	; "@#"
		push	cs
		push	di
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 8Ch	; 'Œ'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, 3Ch	; '<'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aCdtime ; "CDTime:"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_82CD ; "##"
		push	cs
		push	di
		mov	ax, CDTime
		mov	dx, word_45278
		mov	cx, 20D0h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_82D6 ; ":"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_350]
		push	ss
		push	di
		mov	di, offset a@_1	; "@#"
		push	cs
		push	di
		mov	ax, CDTime
		mov	dx, word_45278
		mov	cx, 8Ch	; 'Œ'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, 3Ch	; '<'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aMem	; "Mem:"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_82E3 ; "#####"
		push	cs
		push	di
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_82EE ; "/"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_350]
		push	ss
		push	di
		mov	di, offset asc_82E3 ; "#####"
		push	cs
		push	di
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8D98:				; CODE XREF: ExecConsole+8F8j
		cmp	ax, 1Fh
		jz	short loc_8DA0
		jmp	loc_8E36
; ---------------------------------------------------------------------------

loc_8DA0:				; CODE XREF: ExecConsole+A8Aj
		cmp	[bp+var_3A], 0
		jz	short loc_8DB7
		lea	di, [bp+var_3A]
		push	ss
		push	di
		mov	di, offset SelfNick
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_8DB7:				; CODE XREF: ExecConsole+A93j
		cmp	SERVER,	0
		jz	short loc_8DFD
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset asc_82F0 ; "\""
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset unk_4527B
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aNowIs_0 ; "\" now is \""
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset SelfNick
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_82F0 ; "\""
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		jmp	short loc_8E1C
; ---------------------------------------------------------------------------

loc_8DFD:				; CODE XREF: ExecConsole+AABj
		lea	di, [bp+var_150]
		push	ss
		push	di
		mov	di, offset aCurrentNick	; "Current Nick: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset SelfNick
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2

loc_8E1C:				; CODE XREF: ExecConsole+AEAj
		mov	di, offset SelfNick
		push	ds
		push	di
		imul	di, MyNetN, 58h
		add	di, 0F02Bh
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8E36:				; CODE XREF: ExecConsole+A8Cj
		cmp	ax, 27h	; '''
		jnz	short loc_8E6C
		cmp	PlayDemo, 0
		jnz	short loc_8E69
		cmp	RecordDemo, 0
		jnz	short loc_8E69
		cmp	CLIENT,	0
		jnz	short loc_8E69
		cmp	SERVER,	0
		jnz	short loc_8E69
		cmp	Internal, 0
		jnz	short loc_8E69
		mov	RecordDemo, 1
		mov	MenuCode, 4

loc_8E69:				; CODE XREF: ExecConsole+B2Fj
					; ExecConsole+B36j ...
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8E6C:				; CODE XREF: ExecConsole+B28j
		cmp	ax, 28h	; '('
		jnz	short loc_8EA7
		cmp	PlayDemo, 0
		jnz	short loc_8EA4
		cmp	RecordDemo, 0
		jnz	short loc_8EA4
		cmp	CLIENT,	0
		jnz	short loc_8EA4
		cmp	SERVER,	0
		jnz	short loc_8EA4
		mov	PlayDemo, 1
		mov	ax, [bp+var_C]
		dec	ax
		mov	LevelN,	ax
		call	GetNextDemoNumber
		mov	MenuCode, 4

loc_8EA4:				; CODE XREF: ExecConsole+B65j
					; ExecConsole+B6Cj ...
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8EA7:				; CODE XREF: ExecConsole+B5Ej
		cmp	ax, 26h	; '&'
		jnz	short loc_8ED2
		cmp	PlayDemo, 0
		jnz	short loc_8EBA
		cmp	RecordDemo, 0
		jz	short loc_8ECF

loc_8EBA:				; CODE XREF: ExecConsole+BA0j
		call	EndDemo
		mov	MenuCode, 4
		mov	RecordDemo, 0
		mov	PlayDemo, 0

loc_8ECF:				; CODE XREF: ExecConsole+BA7j
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8ED2:				; CODE XREF: ExecConsole+B99j
		cmp	ax, 1Eh
		jnz	short loc_8F02
		cmp	SERVER,	0
		jnz	short loc_8EE5
		cmp	CLIENT,	0
		jz	short loc_8EFF

loc_8EE5:				; CODE XREF: ExecConsole+BCBj
		push	20h ; ' '
		call	SendServerPost
		mov	CLIENT,	0
		mov	SERVER,	0
		mov	MenuCode, 4
		xor	ax, ax
		mov	MyNetN,	ax

loc_8EFF:				; CODE XREF: ExecConsole+BD2j
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8F02:				; CODE XREF: ExecConsole+BC4j
		cmp	ax, 1Ah
		jnz	short loc_8F25
		cmp	SERVER,	0
		jz	short loc_8F22
		mov	al, byte ptr [bp+var_C]
		cmp	al, 1
		jb	short loc_8F22
		cmp	al, 7
		ja	short loc_8F22
		imul	di, [bp+var_C],	58h
		mov	byte ptr [di-0FD6h], 0

loc_8F22:				; CODE XREF: ExecConsole+BFBj
					; ExecConsole+C02j ...
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8F25:				; CODE XREF: ExecConsole+BF4j
		cmp	ax, 1Bh
		jnz	short loc_8F30
		call	SyncroTime
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8F30:				; CODE XREF: ExecConsole+C17j
		cmp	ax, 19h
		jnz	short loc_8F6C
		cmp	[bp+var_C], 0
		jl	short loc_8F69
		cmp	[bp+var_C], 7
		jg	short loc_8F69
		imul	di, [bp+var_C],	58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_8F69
		imul	di, [bp+var_C],	58h
		cmp	word ptr [di-0FAEh], 0
		jle	short loc_8F69
		imul	di, [bp+var_C],	58h
		xor	ax, ax
		mov	[di-0FAEh], ax
		push	[bp+var_C]
		call	AddDeadPlayer

loc_8F69:				; CODE XREF: ExecConsole+C28j
					; ExecConsole+C2Ej ...
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8F6C:				; CODE XREF: ExecConsole+C22j
		cmp	ax, 23h	; '#'
		jnz	short loc_8F93
		lea	di, [bp+var_150]
		push	ss
		push	di
		lea	di, [bp+var_3A]
		push	ss
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_50]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3
		jmp	loc_9039
; ---------------------------------------------------------------------------

loc_8F93:				; CODE XREF: ExecConsole+C5Ej
		cmp	ax, 20h	; ' '
		jnz	short loc_9004
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_8FA2
; ---------------------------------------------------------------------------

loc_8F9F:				; CODE XREF: ExecConsole+CEFj
		inc	[bp+var_4]

loc_8FA2:				; CODE XREF: ExecConsole+C8Cj
		imul	di, [bp+var_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_56+2],	di
		mov	[bp+var_52], es
		cmp	byte ptr es:[di], 0
		jz	short loc_8FFC
		lea	di, [bp+var_254]
		push	ss
		push	di
		mov	di, offset asc_830C ; "["
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_154]
		push	ss
		push	di
		mov	ax, [bp+var_4]
		add	ax, 31h	; '1'
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_830E ; "] "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_56+2]
		assume es:nothing
		add	di, 1
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage

loc_8FFC:				; CODE XREF: ExecConsole+CA5j
		cmp	[bp+var_4], 7
		jnz	short loc_8F9F
		jmp	short loc_9039
; ---------------------------------------------------------------------------

loc_9004:				; CODE XREF: ExecConsole+C85j
		cmp	ax, 22h	; '"'
		jnz	short loc_9024
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_9013
; ---------------------------------------------------------------------------

loc_9010:				; CODE XREF: ExecConsole+D0Fj
		inc	[bp+var_4]

loc_9013:				; CODE XREF: ExecConsole+CFDj
		imul	di, [bp+var_4],	58h
		mov	byte ptr [di-0FB0h], 0
		cmp	[bp+var_4], 7
		jnz	short loc_9010
		jmp	short loc_9039
; ---------------------------------------------------------------------------

loc_9024:				; CODE XREF: ExecConsole+CF6j
		cmp	ax, 29h	; ')'
		jnz	short loc_9031
		push	[bp+var_C]
		call	DO_CD_Play
		jmp	short loc_9039
; ---------------------------------------------------------------------------

loc_9031:				; CODE XREF: ExecConsole+D16j
		cmp	ax, 2Ah	; '*'
		jnz	short loc_9039
		call	DO_CD_Stop

loc_9039:				; CODE XREF: ExecConsole+22Ej
					; ExecConsole+24Ej ...
		mov	byte_44A34, 0
		leave
		retn
ExecConsole	endp

; ---------------------------------------------------------------------------
aQuit		db 4,'QUIT'             ; DATA XREF: ProcessConsole+28Eo
aNew		db 3,'NEW'              ; DATA XREF: ProcessConsole+2D3o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessConsole	proc near		; CODE XREF: DoGame+2DDp

var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_1		= byte ptr -1

		enter	202h, 0
		cmp	byte_44E88, 0
		jnz	short loc_905B
		cmp	byte_44E94, 0
		jz	short loc_906E

loc_905B:				; CODE XREF: ProcessConsole+9j
		mov	al, key
		xor	ah, ah
		add	ax, 80h	; '€'
		mov	di, ax
		mov	al, [di-1346h]
		mov	[bp+var_1], al
		jmp	short loc_907C
; ---------------------------------------------------------------------------

loc_906E:				; CODE XREF: ProcessConsole+10j
		mov	al, key
		xor	ah, ah
		mov	di, ax
		mov	al, [di-1346h]
		mov	[bp+var_1], al

loc_907C:				; CODE XREF: ProcessConsole+23j
		cmp	key, 0Fh
		jnz	short loc_908D
		mov	ax, 1
		sub	ax, ConsMode
		mov	ConsMode, ax

loc_908D:				; CODE XREF: ProcessConsole+38j
		cmp	key, 4Bh ; 'K'
		jnz	short loc_90A0
		cmp	ConsMode, 1
		jnz	short loc_90A0
		xor	ax, ax
		mov	ConsMode, ax

loc_90A0:				; CODE XREF: ProcessConsole+49j
					; ProcessConsole+50j
		cmp	key, 4Dh ; 'M'
		jnz	short loc_90BB
		cmp	ConsMode, 0
		jnz	short loc_90BB
		cmp	ConsMenu, 4
		jz	short loc_90BB
		mov	ConsMode, 1

loc_90BB:				; CODE XREF: ProcessConsole+5Cj
					; ProcessConsole+63j ...
		cmp	key, 53h ; 'S'
		jnz	short loc_90C7
		mov	byte_44A34, 0

loc_90C7:				; CODE XREF: ProcessConsole+77j
		cmp	ConsMode, 1
		jz	short loc_90D1
		jmp	loc_9163
; ---------------------------------------------------------------------------

loc_90D1:				; CODE XREF: ProcessConsole+83j
		cmp	HistCnt, 0
		jnz	short loc_90DB
		jmp	loc_9163
; ---------------------------------------------------------------------------

loc_90DB:				; CODE XREF: ProcessConsole+8Dj
		cmp	key, 48h ; 'H'
		jnz	short loc_9110
		dec	CurHist
		cmp	CurHist, 1
		jge	short loc_90F3
		mov	CurHist, 1

loc_90F3:				; CODE XREF: ProcessConsole+A2j
		imul	ax, CurHist, 28h
		les	di, ConsHistory
		add	di, ax
		add	di, 0FFD8h
		push	es
		push	di
		mov	di, offset byte_44A34
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_9110:				; CODE XREF: ProcessConsole+97j
		cmp	key, 50h ; 'P'
		jnz	short loc_9163
		mov	ax, HistCnt
		inc	ax
		cmp	ax, CurHist
		jl	short loc_9163
		inc	CurHist
		mov	ax, HistCnt
		inc	ax
		cmp	ax, CurHist
		jge	short loc_9136
		mov	ax, HistCnt
		inc	ax
		mov	CurHist, ax

loc_9136:				; CODE XREF: ProcessConsole+E4j
		mov	ax, CurHist
		cmp	ax, HistCnt
		jg	short loc_915E
		imul	ax, CurHist, 28h
		les	di, ConsHistory
		add	di, ax
		add	di, 0FFD8h
		push	es
		push	di
		mov	di, offset byte_44A34
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_9163
; ---------------------------------------------------------------------------

loc_915E:				; CODE XREF: ProcessConsole+F4j
		mov	byte_44A34, 0

loc_9163:				; CODE XREF: ProcessConsole+85j
					; ProcessConsole+8Fj ...
		cmp	ConsMode, 0
		jz	short loc_916D
		jmp	loc_936E
; ---------------------------------------------------------------------------

loc_916D:				; CODE XREF: ProcessConsole+11Fj
		cmp	key, 48h ; 'H'
		jnz	short loc_9178
		dec	ConsMainY

loc_9178:				; CODE XREF: ProcessConsole+129j
		cmp	key, 50h ; 'P'
		jnz	short loc_9183
		inc	ConsMainY

loc_9183:				; CODE XREF: ProcessConsole+134j
		cmp	ConsMenu, 4
		jnz	short loc_91CB
		cmp	key, 4Dh ; 'M'
		jnz	short loc_91A8
		mov	di, ConsMainY
		shl	di, 1
		cmp	word ptr [di-17DEh], 0Eh
		jge	short loc_91A8
		mov	di, ConsMainY
		shl	di, 1
		inc	word ptr [di-17DEh]

loc_91A8:				; CODE XREF: ProcessConsole+146j
					; ProcessConsole+153j
		cmp	key, 4Bh ; 'K'
		jnz	short loc_91C6
		mov	di, ConsMainY
		shl	di, 1
		cmp	word ptr [di-17DEh], 0
		jle	short loc_91C6
		mov	di, ConsMainY
		shl	di, 1
		dec	word ptr [di-17DEh]

loc_91C6:				; CODE XREF: ProcessConsole+164j
					; ProcessConsole+171j
		call	SetPalette

loc_91CB:				; CODE XREF: ProcessConsole+13Fj
		mov	ax, ConsMenu
		cmp	ax, 4
		jz	short loc_91D8
		cmp	ax, 0Ah
		jnz	short loc_91E0

loc_91D8:				; CODE XREF: ProcessConsole+188j
		mov	i, 2
		jmp	short loc_91F3
; ---------------------------------------------------------------------------

loc_91E0:				; CODE XREF: ProcessConsole+18Dj
		cmp	ax, 0
		jnz	short loc_91ED
		mov	i, 3
		jmp	short loc_91F3
; ---------------------------------------------------------------------------

loc_91ED:				; CODE XREF: ProcessConsole+19Aj
		mov	i, 5

loc_91F3:				; CODE XREF: ProcessConsole+195j
					; ProcessConsole+1A2j
		cmp	ConsMainY, 0
		jge	short loc_9200
		mov	ax, i
		mov	ConsMainY, ax

loc_9200:				; CODE XREF: ProcessConsole+1AFj
		mov	ax, ConsMainY
		cmp	ax, i
		jle	short loc_920E
		xor	ax, ax
		mov	ConsMainY, ax

loc_920E:				; CODE XREF: ProcessConsole+1BEj
		cmp	ConsMode, 0
		jnz	short loc_9268
		cmp	ConsMenu, 0
		jnz	short loc_9268
		cmp	SERVER,	0
		jz	short loc_922A
		cmp	VESAPresent, 0
		jnz	short loc_9245

loc_922A:				; CODE XREF: ProcessConsole+1D8j
		cmp	ConsMainY, 1
		jnz	short loc_9245
		cmp	key, 50h ; 'P'
		jnz	short loc_9240
		mov	ConsMainY, 2
		jmp	short loc_9245
; ---------------------------------------------------------------------------

loc_9240:				; CODE XREF: ProcessConsole+1EDj
		xor	ax, ax
		mov	ConsMainY, ax

loc_9245:				; CODE XREF: ProcessConsole+1DFj
					; ProcessConsole+1E6j ...
		cmp	NETMonitor, 0
		jz	short loc_9268
		cmp	ConsMainY, 0
		jnz	short loc_9268
		cmp	key, 50h ; 'P'
		jnz	short loc_9262
		mov	ConsMainY, 1
		jmp	short loc_9268
; ---------------------------------------------------------------------------

loc_9262:				; CODE XREF: ProcessConsole+20Fj
		mov	ConsMainY, 3

loc_9268:				; CODE XREF: ProcessConsole+1CAj
					; ProcessConsole+1D1j ...
		cmp	key, 1Ch
		jz	short loc_9272
		jmp	loc_932D
; ---------------------------------------------------------------------------

loc_9272:				; CODE XREF: ProcessConsole+224j
		mov	ax, ConsMenu
		cmp	ax, 0
		jnz	short loc_92EF
		mov	ax, ConsMainY
		cmp	ax, 0
		jnz	short loc_9290
		mov	ConsMenu, 0Ah
		mov	ax, Skill
		mov	ConsMainY, ax
		jmp	short loc_92ED
; ---------------------------------------------------------------------------

loc_9290:				; CODE XREF: ProcessConsole+237j
		cmp	ax, 1
		jnz	short loc_92BA
		cmp	VESAPresent, 0
		jz	short loc_92B8
		cmp	SERVER,	0
		jz	short loc_92B8
		cmp	NETMonitor, 0
		mov	al, 0
		jnz	short loc_92AD
		inc	ax

loc_92AD:				; CODE XREF: ProcessConsole+261j
		mov	NETMonitor, al
		call	SwitchMonitor
		mov	key, 0Eh

loc_92B8:				; CODE XREF: ProcessConsole+251j
					; ProcessConsole+258j
		jmp	short loc_92ED
; ---------------------------------------------------------------------------

loc_92BA:				; CODE XREF: ProcessConsole+24Aj
		cmp	ax, 2
		jnz	short loc_92CC
		mov	ConsMenu, 4
		xor	ax, ax
		mov	ConsMainY, ax
		jmp	short loc_92ED
; ---------------------------------------------------------------------------

loc_92CC:				; CODE XREF: ProcessConsole+274j
		cmp	ax, 3
		jnz	short loc_92ED
		mov	ConsMode, 1
		mov	di, offset aQuit ; "QUIT"
		push	cs
		push	di
		mov	di, offset byte_44A34
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	key, 0

loc_92ED:				; CODE XREF: ProcessConsole+245j
					; ProcessConsole:loc_92B8j ...
		jmp	short loc_932D
; ---------------------------------------------------------------------------

loc_92EF:				; CODE XREF: ProcessConsole+22Fj
		cmp	ax, 4
		jnz	short loc_9301
		xor	ax, ax
		mov	ConsMenu, ax
		mov	ConsMainY, 3
		jmp	short loc_932D
; ---------------------------------------------------------------------------

loc_9301:				; CODE XREF: ProcessConsole+2A9j
		cmp	ax, 0Ah
		jnz	short loc_932D
		mov	ax, ConsMainY
		mov	Skill, ax
		xor	ax, ax
		mov	ConsMainY, ax
		xor	ax, ax
		mov	ConsMenu, ax
		mov	ConsMode, 1
		mov	di, offset aNew	; "NEW"
		push	cs
		push	di
		mov	di, offset byte_44A34
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_932D:				; CODE XREF: ProcessConsole+226j
					; ProcessConsole:loc_92EDj ...
		cmp	key, 1
		jnz	short loc_9362
		mov	ax, ConsMenu
		cmp	ax, 4
		jnz	short loc_934E
		xor	ax, ax
		mov	ConsMenu, ax
		mov	ConsMainY, 2
		mov	key, 0
		jmp	short loc_9362
; ---------------------------------------------------------------------------

loc_934E:				; CODE XREF: ProcessConsole+2F1j
		cmp	ax, 0Ah
		jnz	short loc_9362
		xor	ax, ax
		mov	ConsMainY, ax
		xor	ax, ax
		mov	ConsMenu, ax
		mov	key, 0

loc_9362:				; CODE XREF: ProcessConsole+2E9j
					; ProcessConsole+303j ...
		cmp	key, 0Eh
		jnz	short loc_936E
		mov	key, 1

loc_936E:				; CODE XREF: ProcessConsole+121j
					; ProcessConsole+31Ej
		cmp	[bp+var_1], 0
		jz	short loc_93BC
		mov	al, [bp+var_1]
		cmp	al, 20h	; ' '
		jb	short loc_93BC
		cmp	al, 80h	; '€'
		ja	short loc_93BC
		cmp	byte_44A34, 18h
		jnb	short loc_93B6
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset byte_44A34
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	al, [bp+var_1]
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset byte_44A34
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_93B6:				; CODE XREF: ProcessConsole+33Bj
		mov	ConsMode, 1

loc_93BC:				; CODE XREF: ProcessConsole+329j
					; ProcessConsole+330j ...
		cmp	ConsMode, 1
		jnz	short loc_93F7
		cmp	key, 1Ch
		jnz	short loc_93E5
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset byte_44A34
		push	ds
		push	di
		call	Trim
		pop	di
		pop	es
		cmp	byte ptr es:[di], 0
		jz	short loc_93E5
		call	ExecConsole

loc_93E5:				; CODE XREF: ProcessConsole+37Fj
					; ProcessConsole+397j
		cmp	key, 0Eh
		jnz	short loc_93F7
		cmp	byte_44A34, 0
		jz	short loc_93F7
		dec	byte_44A34

loc_93F7:				; CODE XREF: ProcessConsole+378j
					; ProcessConsole+3A1j ...
		cmp	key, 1
		jz	short loc_9405
		mov	key, 0
		jmp	short locret_9411
; ---------------------------------------------------------------------------

loc_9405:				; CODE XREF: ProcessConsole+3B3j
		cmp	NETMonitor, 0
		jnz	short locret_9411
		mov	key, 0Eh

locret_9411:				; CODE XREF: ProcessConsole+3BAj
					; ProcessConsole+3C1j
		leave
		retn
ProcessConsole	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LeftRight	proc near		; CODE XREF: ProcessMenu+269p
					; ProcessMenu+27Dp ...

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		cmp	key, 4Dh ; 'M'
		jnz	short loc_9429
		les	di, [bp+arg_0]
		cmp	byte ptr es:[di], 0Fh
		jnb	short loc_9429
		inc	byte ptr es:[di]

loc_9429:				; CODE XREF: LeftRight+8j
					; LeftRight+11j
		cmp	key, 4Bh ; 'K'
		jnz	short loc_943C
		les	di, [bp+arg_0]
		cmp	byte ptr es:[di], 0
		jbe	short loc_943C
		dec	byte ptr es:[di]

loc_943C:				; CODE XREF: LeftRight+1Bj
					; LeftRight+24j
		push	0
		push	0
		push	0
		push	2
		call	AddVoice
		leave
		retn	4
LeftRight	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LR_Roll		proc near		; CODE XREF: ProcessMenu+2B0p
					; ProcessMenu+2C3p ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		cmp	key, 4Bh ; 'K'
		jnz	short loc_9474
		les	di, [bp+arg_4]
		mov	al, es:[di]
		xor	ah, ah
		cmp	ax, [bp+arg_2]
		jle	short loc_9469
		dec	byte ptr es:[di]
		jmp	short loc_9472
; ---------------------------------------------------------------------------

loc_9469:				; CODE XREF: LR_Roll+15j
		mov	al, byte ptr [bp+arg_0]
		les	di, [bp+arg_4]
		mov	es:[di], al

loc_9472:				; CODE XREF: LR_Roll+1Aj
		jmp	short loc_948F
; ---------------------------------------------------------------------------

loc_9474:				; CODE XREF: LR_Roll+8j
		les	di, [bp+arg_4]
		mov	al, es:[di]
		xor	ah, ah
		cmp	ax, [bp+arg_0]
		jge	short loc_9486
		inc	byte ptr es:[di]
		jmp	short loc_948F
; ---------------------------------------------------------------------------

loc_9486:				; CODE XREF: LR_Roll+32j
		mov	al, byte ptr [bp+arg_2]
		les	di, [bp+arg_4]
		mov	es:[di], al

loc_948F:				; CODE XREF: LR_Roll:loc_9472j
					; LR_Roll+37j
		push	0
		push	0
		push	0
		push	2
		call	AddVoice
		leave
		retn	8
LR_Roll		endp

; ---------------------------------------------------------------------------
a__3		db 1,'.'                ; DATA XREF: LookForLevel+5Co

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LookForLevel	proc near		; CODE XREF: ProcessMenu+2E0p

var_2		= word ptr -2

		enter	2, 0
		push	0
		push	0
		push	0
		push	2
		call	AddVoice
		mov	[bp+var_2], 1
		jmp	short loc_94BD
; ---------------------------------------------------------------------------

loc_94BA:				; CODE XREF: LookForLevel+6Ej
		inc	[bp+var_2]

loc_94BD:				; CODE XREF: LookForLevel+16j
		cmp	key, 4Bh ; 'K'
		jnz	short loc_94D8
		cmp	NGLevel, 1
		jbe	short loc_94D1
		dec	NGLevel
		jmp	short loc_94D6
; ---------------------------------------------------------------------------

loc_94D1:				; CODE XREF: LookForLevel+27j
		mov	NGLevel, 40h ; '@'

loc_94D6:				; CODE XREF: LookForLevel+2Dj
		jmp	short loc_94EA
; ---------------------------------------------------------------------------

loc_94D8:				; CODE XREF: LookForLevel+20j
		cmp	NGLevel, 40h ; '@'
		jnb	short loc_94E5
		inc	NGLevel
		jmp	short loc_94EA
; ---------------------------------------------------------------------------

loc_94E5:				; CODE XREF: LookForLevel+3Bj
		mov	NGLevel, 1

loc_94EA:				; CODE XREF: LookForLevel:loc_94D6j
					; LookForLevel+41j
		mov	al, NGLevel
		xor	ah, ah
		shl	ax, 5
		les	di, LevelNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		mov	di, offset a__3	; "."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_950C
		jmp	short locret_9512
; ---------------------------------------------------------------------------

loc_950C:				; CODE XREF: LookForLevel+66j
		cmp	[bp+var_2], 40h	; '@'
		jnz	short loc_94BA

locret_9512:				; CODE XREF: LookForLevel+68j
		leave
		retn
LookForLevel	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RemoveMouse	proc near		; CODE XREF: ProcessMenu+4Dp
					; ProcessMenu+5Dp ...

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		mov	ax, ds
		push	ax
		mov	ax, [bp+arg_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0ECB0h
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		pop	es
		mov	byte ptr es:[di], 32h ;	'2'
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_953D
; ---------------------------------------------------------------------------

loc_953A:				; CODE XREF: RemoveMouse+69j
		inc	[bp+var_2]

loc_953D:				; CODE XREF: RemoveMouse+24j
		mov	ax, ds
		push	ax
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0ECB0h
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		pop	es
		mov	al, es:[di]
		xor	ah, ah
		cmp	ax, [bp+arg_0]
		jnz	short loc_9579
		mov	ax, ds
		push	ax
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0ECB0h
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		pop	es
		mov	byte ptr es:[di], 32h ;	'2'

loc_9579:				; CODE XREF: RemoveMouse+48j
		cmp	[bp+var_2], 2
		jnz	short loc_953A
		mov	al, byte ptr KbWait
		push	ax
		mov	ax, ds
		push	ax
		mov	ax, [bp+arg_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0ECB0h
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		pop	es
		pop	ax
		mov	es:[di], al
		mov	KbWait,	0FFFFh
		leave
		retn	4
RemoveMouse	endp

; ---------------------------------------------------------------------------
aNpNotInstall_1	db 17,'NP not installed.' ; DATA XREF: ProcessMenu:loc_9A98o
					; ProcessMenu:loc_9AD1o
aClientCannot_0	db 35,'CLIENT CANNOT CHANGE GAME SETTINGS.'
					; DATA XREF: ProcessMenu:loc_9AC5o
a___		db 4,' ...'             ; DATA XREF: ProcessMenu+56Do
aCannotChangeDi	db 38,'Cannot change difficulty in this mode.'
					; DATA XREF: ProcessMenu:loc_9C06o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessMenu	proc near		; CODE XREF: DoGame+2E7p

var_200		= byte ptr -200h
var_100		= byte ptr -100h

		enter	200h, 0
		cmp	KbWait,	0FFFFh
		jz	short loc_968C
		call	GetMouseStatus
		call	GetJoyStatus
		cmp	key, 1
		jbe	short loc_9643
		cmp	key, 58h ; 'X'
		ja	short loc_9643
		mov	al, key
		mov	di, KbWait
		mov	[di-1360h], al
		mov	KbWait,	0FFFFh
		mov	key, 0

loc_9643:				; CODE XREF: ProcessMenu+1Aj
					; ProcessMenu+21j
		cmp	KbWait,	0Dh
		jge	short loc_967A
		cmp	MsKeyA,	0
		jz	short loc_965A
		push	0
		push	KbWait
		call	RemoveMouse

loc_965A:				; CODE XREF: ProcessMenu+45j
		cmp	MsKeyB,	0
		jz	short loc_966A
		push	1
		push	KbWait
		call	RemoveMouse

loc_966A:				; CODE XREF: ProcessMenu+55j
		cmp	MsKeyC,	0
		jz	short loc_967A
		push	2
		push	KbWait
		call	RemoveMouse

loc_967A:				; CODE XREF: ProcessMenu+3Ej
					; ProcessMenu+65j
		cmp	key, 1
		jnz	short loc_968C
		mov	KbWait,	0FFFFh
		mov	key, 0

loc_968C:				; CODE XREF: ProcessMenu+9j
					; ProcessMenu+75j
		cmp	key, 0
		jnz	short loc_9696
		jmp	locret_9E31
; ---------------------------------------------------------------------------

loc_9696:				; CODE XREF: ProcessMenu+87j
		cmp	key, 48h ; 'H'
		jnz	short loc_96A1
		dec	MenuMainY

loc_96A1:				; CODE XREF: ProcessMenu+91j
		cmp	key, 50h ; 'P'
		jnz	short loc_96AC
		inc	MenuMainY

loc_96AC:				; CODE XREF: ProcessMenu+9Cj
		mov	al, key
		cmp	al, 48h	; 'H'
		jz	short loc_96B7
		cmp	al, 50h	; 'P'
		jnz	short loc_96C4

loc_96B7:				; CODE XREF: ProcessMenu+A7j
		push	0FFFFh
		push	0
		push	0
		push	4
		call	AddVoice

loc_96C4:				; CODE XREF: ProcessMenu+ABj
		cmp	key, 1Ch
		jnz	short loc_96D8
		push	0
		push	0
		push	0
		push	5
		call	AddVoice

loc_96D8:				; CODE XREF: ProcessMenu+BFj
		cmp	key, 1
		jnz	short loc_96EC
		push	0
		push	0
		push	0
		push	3
		call	AddVoice

loc_96EC:				; CODE XREF: ProcessMenu+D3j
		mov	ax, MenuMode
		cmp	ax, 0
		jnz	short loc_972E
		mov	i, 5
		cmp	SERVER,	0
		jnz	short loc_970F
		cmp	CLIENT,	0
		jnz	short loc_970F
		cmp	PlayDemo, 0
		jz	short loc_972B

loc_970F:				; CODE XREF: ProcessMenu+F5j
					; ProcessMenu+FCj
		cmp	MenuMainY, 2
		jnz	short loc_972B
		cmp	key, 48h ; 'H'
		jnz	short loc_9725
		mov	MenuMainY, 1
		jmp	short loc_972B
; ---------------------------------------------------------------------------

loc_9725:				; CODE XREF: ProcessMenu+111j
		mov	MenuMainY, 3

loc_972B:				; CODE XREF: ProcessMenu+103j
					; ProcessMenu+10Aj ...
		jmp	loc_97DB
; ---------------------------------------------------------------------------

loc_972E:				; CODE XREF: ProcessMenu+E8j
		cmp	ax, 0Bh
		jnz	short loc_9752
		cmp	SERVER,	0
		jz	short loc_9749
		cmp	VESAPresent, 0
		jz	short loc_9749
		mov	i, 3
		jmp	short loc_974F
; ---------------------------------------------------------------------------

loc_9749:				; CODE XREF: ProcessMenu+12Ej
					; ProcessMenu+135j
		mov	i, 2

loc_974F:				; CODE XREF: ProcessMenu+13Dj
		jmp	loc_97DB
; ---------------------------------------------------------------------------

loc_9752:				; CODE XREF: ProcessMenu+127j
		cmp	ax, 0Ch
		jz	short loc_975C
		cmp	ax, 0Dh
		jnz	short loc_9764

loc_975C:				; CODE XREF: ProcessMenu+14Bj
		mov	i, 9
		jmp	short loc_97DB
; ---------------------------------------------------------------------------

loc_9764:				; CODE XREF: ProcessMenu+150j
		cmp	ax, 0Eh
		jnz	short loc_9771
		mov	i, 0Bh
		jmp	short loc_97DB
; ---------------------------------------------------------------------------

loc_9771:				; CODE XREF: ProcessMenu+15Dj
		cmp	ax, 18h
		jnz	short loc_977E
		mov	i, 0Fh
		jmp	short loc_97DB
; ---------------------------------------------------------------------------

loc_977E:				; CODE XREF: ProcessMenu+16Aj
		cmp	ax, 19h
		jz	short loc_9788
		cmp	ax, 1Ah
		jnz	short loc_9790

loc_9788:				; CODE XREF: ProcessMenu+177j
		mov	i, 2
		jmp	short loc_97DB
; ---------------------------------------------------------------------------

loc_9790:				; CODE XREF: ProcessMenu+17Cj
		cmp	ax, 1Bh
		jnz	short loc_979E
		mov	ax, ModesList
		dec	ax
		mov	i, ax
		jmp	short loc_97DB
; ---------------------------------------------------------------------------

loc_979E:				; CODE XREF: ProcessMenu+189j
		cmp	ax, 6Fh	; 'o'
		jnz	short loc_97B8
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+278h]
		add	ax, 5
		mov	i, ax
		jmp	short loc_97DB
; ---------------------------------------------------------------------------

loc_97B8:				; CODE XREF: ProcessMenu+197j
		cmp	ax, 70h	; 'p'
		jnz	short loc_97D0
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+278h]
		inc	ax
		mov	i, ax
		jmp	short loc_97DB
; ---------------------------------------------------------------------------

loc_97D0:				; CODE XREF: ProcessMenu+1B1j
		cmp	ax, 71h	; 'q'
		jnz	short loc_97DB
		mov	i, 2

loc_97DB:				; CODE XREF: ProcessMenu:loc_972Bj
					; ProcessMenu:loc_974Fj ...
		cmp	MenuMainY, 0
		jge	short loc_97E8
		mov	ax, i
		mov	MenuMainY, ax

loc_97E8:				; CODE XREF: ProcessMenu+1D6j
		mov	ax, MenuMainY
		cmp	ax, i
		jle	short loc_97F6
		xor	ax, ax
		mov	MenuMainY, ax

loc_97F6:				; CODE XREF: ProcessMenu+1E5j
		mov	al, key
		cmp	al, 1Ch
		jz	short loc_9808
		cmp	al, 4Bh	; 'K'
		jz	short loc_9808
		cmp	al, 4Dh	; 'M'
		jz	short loc_9808
		jmp	loc_998D
; ---------------------------------------------------------------------------

loc_9808:				; CODE XREF: ProcessMenu+1F1j
					; ProcessMenu+1F5j ...
		mov	ax, MenuMode
		cmp	ax, 19h
		jnz	short loc_9861
		cmp	key, 4Dh ; 'M'
		jnz	short loc_982E
		mov	di, MenuMainY
		shl	di, 1
		cmp	word ptr [di-17DEh], 0Eh
		jge	short loc_982E
		mov	di, MenuMainY
		shl	di, 1
		inc	word ptr [di-17DEh]

loc_982E:				; CODE XREF: ProcessMenu+20Bj
					; ProcessMenu+218j
		cmp	key, 4Bh ; 'K'
		jnz	short loc_984C
		mov	di, MenuMainY
		shl	di, 1
		cmp	word ptr [di-17DEh], 0
		jle	short loc_984C
		mov	di, MenuMainY
		shl	di, 1
		dec	word ptr [di-17DEh]

loc_984C:				; CODE XREF: ProcessMenu+229j
					; ProcessMenu+236j
		call	SetPalette
		push	0
		push	0
		push	0
		push	2
		call	AddVoice
		jmp	loc_998D
; ---------------------------------------------------------------------------

loc_9861:				; CODE XREF: ProcessMenu+204j
		cmp	ax, 0Eh
		jnz	short loc_98A1
		mov	ax, MenuMainY
		cmp	ax, 8
		jnz	short loc_987D
		mov	di, offset FXVolume
		push	ds
		push	di
		call	LeftRight
		call	SetVolumes
		jmp	short loc_989E
; ---------------------------------------------------------------------------

loc_987D:				; CODE XREF: ProcessMenu+262j
		cmp	ax, 9
		jnz	short loc_9891
		mov	di, offset CDVolume
		push	ds
		push	di
		call	LeftRight
		call	SetVolumes
		jmp	short loc_989E
; ---------------------------------------------------------------------------

loc_9891:				; CODE XREF: ProcessMenu+276j
		cmp	ax, 0Ah
		jnz	short loc_989E
		mov	di, offset MSsens
		push	ds
		push	di
		call	LeftRight

loc_989E:				; CODE XREF: ProcessMenu+271j
					; ProcessMenu+285j ...
		jmp	loc_998D
; ---------------------------------------------------------------------------

loc_98A1:				; CODE XREF: ProcessMenu+25Aj
		cmp	ax, 6Fh	; 'o'
		jz	short loc_98A9
		jmp	loc_9928
; ---------------------------------------------------------------------------

loc_98A9:				; CODE XREF: ProcessMenu+29Aj
		mov	ax, MenuMainY
		cmp	ax, 1
		jnz	short loc_98BF
		mov	di, offset NGMode
		push	ds
		push	di
		push	0
		push	2
		call	LR_Roll
		jmp	short loc_9926
; ---------------------------------------------------------------------------

loc_98BF:				; CODE XREF: ProcessMenu+2A5j
		cmp	ax, 2
		jnz	short loc_98D2
		mov	di, offset NGTeam
		push	ds
		push	di
		push	0
		push	1
		call	LR_Roll
		jmp	short loc_9926
; ---------------------------------------------------------------------------

loc_98D2:				; CODE XREF: ProcessMenu+2B8j
		cmp	ax, 3
		jnz	short loc_98E5
		mov	di, offset NGSkill
		push	ds
		push	di
		push	0
		push	2
		call	LR_Roll
		jmp	short loc_9926
; ---------------------------------------------------------------------------

loc_98E5:				; CODE XREF: ProcessMenu+2CBj
		cmp	ax, 4
		jnz	short loc_98EF
		call	LookForLevel
		jmp	short loc_9926
; ---------------------------------------------------------------------------

loc_98EF:				; CODE XREF: ProcessMenu+2DEj
		cmp	ax, 5
		jnz	short loc_9902
		mov	di, offset NGCard
		push	ds
		push	di
		push	0
		push	1
		call	LR_Roll
		jmp	short loc_9926
; ---------------------------------------------------------------------------

loc_9902:				; CODE XREF: ProcessMenu+2E8j
		cmp	ax, 6
		jnz	short loc_9915
		mov	di, offset NGPort
		push	ds
		push	di
		push	0
		push	1
		call	LR_Roll
		jmp	short loc_9926
; ---------------------------------------------------------------------------

loc_9915:				; CODE XREF: ProcessMenu+2FBj
		cmp	ax, 7
		jnz	short loc_9926
		mov	di, offset NGBaud
		push	ds
		push	di
		push	0
		push	4
		call	LR_Roll

loc_9926:				; CODE XREF: ProcessMenu+2B3j
					; ProcessMenu+2C6j ...
		jmp	short loc_998D
; ---------------------------------------------------------------------------

loc_9928:				; CODE XREF: ProcessMenu+29Cj
		cmp	ax, 70h	; 'p'
		jnz	short loc_9969
		mov	ax, MenuMainY
		cmp	ax, 1
		jnz	short loc_9943
		mov	di, offset NGCard
		push	ds
		push	di
		push	0
		push	1
		call	LR_Roll
		jmp	short loc_9967
; ---------------------------------------------------------------------------

loc_9943:				; CODE XREF: ProcessMenu+329j
		cmp	ax, 2
		jnz	short loc_9956
		mov	di, offset NGPort
		push	ds
		push	di
		push	0
		push	1
		call	LR_Roll
		jmp	short loc_9967
; ---------------------------------------------------------------------------

loc_9956:				; CODE XREF: ProcessMenu+33Cj
		cmp	ax, 3
		jnz	short loc_9967
		mov	di, offset NGBaud
		push	ds
		push	di
		push	0
		push	4
		call	LR_Roll

loc_9967:				; CODE XREF: ProcessMenu+337j
					; ProcessMenu+34Aj ...
		jmp	short loc_998D
; ---------------------------------------------------------------------------

loc_9969:				; CODE XREF: ProcessMenu+321j
		cmp	ax, 71h	; 'q'
		jnz	short loc_998D
		cmp	key, 1Ch
		jnz	short loc_997A
		xor	ax, ax
		mov	MenuMainY, ax

loc_997A:				; CODE XREF: ProcessMenu+369j
		cmp	MenuMainY, 2
		jnz	short loc_998D
		mov	di, offset NGColor
		push	ds
		push	di
		push	1
		push	8
		call	LR_Roll

loc_998D:				; CODE XREF: ProcessMenu+1FBj
					; ProcessMenu+254j ...
		cmp	MenuMainY, 1
		jz	short loc_9997
		jmp	loc_9A1A
; ---------------------------------------------------------------------------

loc_9997:				; CODE XREF: ProcessMenu+388j
		cmp	MenuMode, 71h ;	'q'
		jnz	short loc_9A1A
		cmp	key, 0Eh
		jnz	short loc_99B0
		cmp	NGNick,	0
		jbe	short loc_99B0
		dec	NGNick

loc_99B0:				; CODE XREF: ProcessMenu+399j
					; ProcessMenu+3A0j
		cmp	byte_44E88, 0
		jnz	short loc_99BE
		cmp	byte_44E94, 0
		jz	short loc_99D1

loc_99BE:				; CODE XREF: ProcessMenu+3ABj
		mov	al, key
		xor	ah, ah
		add	ax, 80h	; '€'
		mov	di, ax
		mov	al, [di-1346h]
		mov	c, al
		jmp	short loc_99DF
; ---------------------------------------------------------------------------

loc_99D1:				; CODE XREF: ProcessMenu+3B2j
		mov	al, key
		xor	ah, ah
		mov	di, ax
		mov	al, [di-1346h]
		mov	c, al

loc_99DF:				; CODE XREF: ProcessMenu+3C5j
		mov	al, c
		cmp	al, 20h	; ' '
		jb	short loc_9A1A
		cmp	al, 80h	; '€'
		ja	short loc_9A1A
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset NGNick
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	al, c
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset NGNick
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_9A1A:				; CODE XREF: ProcessMenu+38Aj
					; ProcessMenu+392j ...
		cmp	key, 1Ch
		jz	short loc_9A24
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9A24:				; CODE XREF: ProcessMenu+415j
		mov	ax, MenuMode
		cmp	ax, 0
		jnz	short loc_9A6E
		cmp	PlayDemo, 0
		jz	short loc_9A3F
		cmp	MenuMainY, 0
		jnz	short loc_9A3F
		call	NewGame
		jmp	short loc_9A6B
; ---------------------------------------------------------------------------

loc_9A3F:				; CODE XREF: ProcessMenu+427j
					; ProcessMenu+42Ej
		mov	ax, MenuMainY
		add	ax, 0Ah
		mov	MenuMode, ax
		xor	ax, ax
		mov	MenuMainY, ax
		mov	al, byte ptr MenuMode
		cmp	al, 0Ch
		jb	short loc_9A5E
		cmp	al, 0Dh
		ja	short loc_9A5E
		mov	ax, LoadSaveY
		mov	MenuMainY, ax

loc_9A5E:				; CODE XREF: ProcessMenu+448j
					; ProcessMenu+44Cj
		cmp	MenuMode, 0Ah
		jnz	short loc_9A6B
		mov	ax, Skill
		mov	MenuMainY, ax

loc_9A6B:				; CODE XREF: ProcessMenu+433j
					; ProcessMenu+459j
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9A6E:				; CODE XREF: ProcessMenu+420j
		cmp	ax, 0Ah
		jnz	short loc_9A79
		call	NewGame
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9A79:				; CODE XREF: ProcessMenu+467j
		cmp	ax, 0Bh
		jz	short loc_9A81
		jmp	loc_9B34
; ---------------------------------------------------------------------------

loc_9A81:				; CODE XREF: ProcessMenu+472j
		mov	ax, MenuMainY
		cmp	ax, 0
		jnz	short loc_9AA5
		cmp	NPinst,	0
		jz	short loc_9A98
		mov	MenuMode, 70h ;	'p'
		jmp	short loc_9AA2
; ---------------------------------------------------------------------------

loc_9A98:				; CODE XREF: ProcessMenu+484j
		mov	di, offset aNpNotInstall_1 ; "NP not installed."
		push	cs
		push	di
		call	PutConsMessage2

loc_9AA2:				; CODE XREF: ProcessMenu+48Cj
		jmp	loc_9B31
; ---------------------------------------------------------------------------

loc_9AA5:				; CODE XREF: ProcessMenu+47Dj
		cmp	ax, 1
		jnz	short loc_9ADD
		cmp	NPinst,	0
		jz	short loc_9AD1
		cmp	CLIENT,	0
		jnz	short loc_9AC5
		xor	ax, ax
		mov	MenuMainY, ax
		mov	MenuMode, 6Fh ;	'o'
		jmp	short loc_9ACF
; ---------------------------------------------------------------------------

loc_9AC5:				; CODE XREF: ProcessMenu+4ACj
		mov	di, offset aClientCannot_0 ; "CLIENT CANNOT CHANGE GAME	SETTINGS."
		push	cs
		push	di
		call	PutConsMessage2

loc_9ACF:				; CODE XREF: ProcessMenu+4B9j
		jmp	short loc_9ADB
; ---------------------------------------------------------------------------

loc_9AD1:				; CODE XREF: ProcessMenu+4A5j
		mov	di, offset aNpNotInstall_1 ; "NP not installed."
		push	cs
		push	di
		call	PutConsMessage2

loc_9ADB:				; CODE XREF: ProcessMenu:loc_9ACFj
		jmp	short loc_9B31
; ---------------------------------------------------------------------------

loc_9ADD:				; CODE XREF: ProcessMenu+49Ej
		cmp	ax, 2
		jnz	short loc_9B06
		mov	di, offset SelfNick
		push	ds
		push	di
		mov	di, offset NGNick
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, SelfColor
		mov	NGColor, al
		mov	MenuMode, 71h ;	'q'
		xor	ax, ax
		mov	MenuMainY, ax
		jmp	short loc_9B31
; ---------------------------------------------------------------------------

loc_9B06:				; CODE XREF: ProcessMenu+4D6j
		cmp	ax, 3
		jnz	short loc_9B31
		cmp	VESAPresent, 0
		jz	short loc_9B31
		cmp	SERVER,	0
		jz	short loc_9B31
		mov	NETMonitor, 1
		call	SwitchMonitor
		mov	MenuOn,	0
		xor	ax, ax
		mov	MenuMode, ax
		mov	MenuMainY, 1

loc_9B31:				; CODE XREF: ProcessMenu:loc_9AA2j
					; ProcessMenu:loc_9ADBj ...
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9B34:				; CODE XREF: ProcessMenu+474j
		cmp	ax, 0Ch
		jnz	short loc_9B61
		cmp	PlayDemo, 0
		jnz	short loc_9B5E
		push	MenuMainY
		call	SaveGame
		call	ScanSavedNames
		mov	MenuMainY, 2
		xor	ax, ax
		mov	MenuMode, ax
		mov	MenuOn,	0

loc_9B5E:				; CODE XREF: ProcessMenu+534j
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9B61:				; CODE XREF: ProcessMenu+52Dj
		cmp	ax, 0Dh
		jnz	short loc_9B98
		imul	ax, MenuMainY, 28h
		les	di, PM
		add	di, ax
		add	di, 0F50h
		push	es
		push	di
		mov	di, offset a___	; " ..."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_9B95
		mov	ax, MenuMainY
		mov	LoadSaveY, ax
		mov	al, byte ptr MenuMainY
		mov	LSMenuY, al
		mov	MenuCode, 100h

loc_9B95:				; CODE XREF: ProcessMenu+577j
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9B98:				; CODE XREF: ProcessMenu+55Aj
		cmp	ax, 0Eh
		jz	short loc_9BA0
		jmp	loc_9C6F
; ---------------------------------------------------------------------------

loc_9BA0:				; CODE XREF: ProcessMenu+591j
		mov	ax, MenuMainY
		cmp	ax, 0
		jnz	short loc_9BB6
		mov	MenuMode, 18h
		xor	ax, ax
		mov	MenuMainY, ax
		jmp	loc_9C6C
; ---------------------------------------------------------------------------

loc_9BB6:				; CODE XREF: ProcessMenu+59Cj
		cmp	ax, 1
		jnz	short loc_9BCB
		mov	MenuMode, 1Bh
		mov	ax, CurVideoMode
		dec	ax
		mov	MenuMainY, ax
		jmp	loc_9C6C
; ---------------------------------------------------------------------------

loc_9BCB:				; CODE XREF: ProcessMenu+5AFj
		cmp	ax, 2
		jnz	short loc_9BDE
		mov	MenuMode, 19h
		xor	ax, ax
		mov	MenuMainY, ax
		jmp	loc_9C6C
; ---------------------------------------------------------------------------

loc_9BDE:				; CODE XREF: ProcessMenu+5C4j
		cmp	ax, 3
		jnz	short loc_9C12
		cmp	PlayDemo, 0
		jnz	short loc_9C06
		cmp	CLIENT,	0
		jnz	short loc_9C06
		cmp	SERVER,	0
		jnz	short loc_9C06
		mov	MenuMode, 1Ah
		mov	ax, Skill
		mov	MenuMainY, ax
		jmp	short loc_9C10
; ---------------------------------------------------------------------------

loc_9C06:				; CODE XREF: ProcessMenu+5DEj
					; ProcessMenu+5E5j ...
		mov	di, offset aCannotChangeDi ; "Cannot change difficulty in this mode."
		push	cs
		push	di
		call	PutConsMessage2

loc_9C10:				; CODE XREF: ProcessMenu+5FAj
		jmp	short loc_9C6C
; ---------------------------------------------------------------------------

loc_9C12:				; CODE XREF: ProcessMenu+5D7j
		cmp	ax, 4
		jnz	short loc_9C26
		cmp	AlwaysRun, 0
		mov	al, 0
		jnz	short loc_9C21
		inc	ax

loc_9C21:				; CODE XREF: ProcessMenu+614j
		mov	AlwaysRun, al
		jmp	short loc_9C6C
; ---------------------------------------------------------------------------

loc_9C26:				; CODE XREF: ProcessMenu+60Bj
		cmp	ax, 5
		jnz	short loc_9C3A
		cmp	Cocpit,	0
		mov	al, 0
		jnz	short loc_9C35
		inc	ax

loc_9C35:				; CODE XREF: ProcessMenu+628j
		mov	Cocpit,	al
		jmp	short loc_9C6C
; ---------------------------------------------------------------------------

loc_9C3A:				; CODE XREF: ProcessMenu+61Fj
		cmp	ax, 6
		jnz	short loc_9C4E
		cmp	ReverseMouse, 0
		mov	al, 0
		jnz	short loc_9C49
		inc	ax

loc_9C49:				; CODE XREF: ProcessMenu+63Cj
		mov	ReverseMouse, al
		jmp	short loc_9C6C
; ---------------------------------------------------------------------------

loc_9C4E:				; CODE XREF: ProcessMenu+633j
		cmp	ax, 7
		jnz	short loc_9C62
		cmp	EpisodeReset, 0
		mov	al, 0
		jnz	short loc_9C5D
		inc	ax

loc_9C5D:				; CODE XREF: ProcessMenu+650j
		mov	EpisodeReset, al
		jmp	short loc_9C6C
; ---------------------------------------------------------------------------

loc_9C62:				; CODE XREF: ProcessMenu+647j
		cmp	ax, 0Bh
		jnz	short loc_9C6C
		push	0
		call	LoadConfig

loc_9C6C:				; CODE XREF: ProcessMenu+5A9j
					; ProcessMenu+5BEj ...
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9C6F:				; CODE XREF: ProcessMenu+593j
		cmp	ax, 1Bh
		jnz	short loc_9C92
		mov	ax, MenuMainY
		inc	ax
		mov	CurVideoMode, ax
		call	CorrectMenuPos
		call	AllocVideo
		call	SetVideoMode
		call	ReInitViewConst
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9C92:				; CODE XREF: ProcessMenu+668j
		cmp	ax, 0Fh
		jnz	short loc_9CAF
		mov	MenuCode, 0FFFFh
		push	20h ; ' '
		call	SendServerPost
		mov	SERVER,	0
		mov	CLIENT,	0
		jmp	loc_9D39
; ---------------------------------------------------------------------------

loc_9CAF:				; CODE XREF: ProcessMenu+68Bj
		cmp	ax, 18h
		jnz	short loc_9CBC
		mov	ax, MenuMainY
		mov	KbWait,	ax
		jmp	short loc_9D39
; ---------------------------------------------------------------------------

loc_9CBC:				; CODE XREF: ProcessMenu+6A8j
		cmp	ax, 1Ah
		jnz	short loc_9CDA
		mov	ax, MenuMainY
		mov	Skill, ax
		xor	ax, ax
		mov	MenuMode, ax
		mov	MenuMainY, 4
		mov	MenuCode, 4
		jmp	short loc_9D39
; ---------------------------------------------------------------------------

loc_9CDA:				; CODE XREF: ProcessMenu+6B5j
		cmp	ax, 6Fh	; 'o'
		jnz	short loc_9CEB
		cmp	MenuMainY, 0
		jnz	short loc_9CE9
		call	MenuStartNet

loc_9CE9:				; CODE XREF: ProcessMenu+6DAj
		jmp	short loc_9D39
; ---------------------------------------------------------------------------

loc_9CEB:				; CODE XREF: ProcessMenu+6D3j
		cmp	ax, 70h	; 'p'
		jnz	short loc_9CFC
		cmp	MenuMainY, 0
		jnz	short loc_9CFA
		call	MenuJoinNet

loc_9CFA:				; CODE XREF: ProcessMenu+6EBj
		jmp	short loc_9D39
; ---------------------------------------------------------------------------

loc_9CFC:				; CODE XREF: ProcessMenu+6E4j
		cmp	ax, 71h	; 'q'
		jnz	short loc_9D39
		cmp	MenuMainY, 0
		jnz	short loc_9D39
		mov	al, NGColor
		mov	SelfColor, al
		mov	di, offset NGNick
		push	ds
		push	di
		mov	di, offset SelfNick
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, SelfColor
		xor	ah, ah
		imul	di, MyNetN, 58h
		mov	[di-0FA0h], ax
		mov	MenuMainY, 2
		mov	MenuMode, 0Bh

loc_9D39:				; CODE XREF: ProcessMenu+417j
					; ProcessMenu:loc_9A6Bj ...
		cmp	key, 1
		jz	short loc_9D43
		jmp	loc_9E25
; ---------------------------------------------------------------------------

loc_9D43:				; CODE XREF: ProcessMenu+734j
		mov	ax, MenuMode
		cmp	ax, 0Ah
		jz	short loc_9D64
		cmp	ax, 0Bh
		jz	short loc_9D64
		cmp	ax, 0Ch
		jz	short loc_9D64
		cmp	ax, 0Dh
		jz	short loc_9D64
		cmp	ax, 0Eh
		jz	short loc_9D64
		cmp	ax, 0Fh
		jnz	short loc_9D7A

loc_9D64:				; CODE XREF: ProcessMenu+73Fj
					; ProcessMenu+744j ...
		mov	key, 0
		mov	ax, MenuMode
		sub	ax, 0Ah
		mov	MenuMainY, ax
		xor	ax, ax
		mov	MenuMode, ax
		jmp	loc_9E25
; ---------------------------------------------------------------------------

loc_9D7A:				; CODE XREF: ProcessMenu+758j
		cmp	ax, 18h
		jnz	short loc_9D98
		mov	key, 0
		xor	ax, ax
		mov	MenuMainY, ax
		mov	MenuMode, 0Eh
		mov	KbWait,	0FFFFh
		jmp	loc_9E25
; ---------------------------------------------------------------------------

loc_9D98:				; CODE XREF: ProcessMenu+773j
		cmp	ax, 19h
		jnz	short loc_9DB0
		mov	key, 0
		mov	MenuMainY, 2
		mov	MenuMode, 0Eh
		jmp	short loc_9E25
; ---------------------------------------------------------------------------

loc_9DB0:				; CODE XREF: ProcessMenu+791j
		cmp	ax, 1Ah
		jnz	short loc_9DC8
		mov	key, 0
		mov	MenuMainY, 3
		mov	MenuMode, 0Eh
		jmp	short loc_9E25
; ---------------------------------------------------------------------------

loc_9DC8:				; CODE XREF: ProcessMenu+7A9j
		cmp	ax, 1Bh
		jnz	short loc_9DE0
		mov	key, 0
		mov	MenuMainY, 1
		mov	MenuMode, 0Eh
		jmp	short loc_9E25
; ---------------------------------------------------------------------------

loc_9DE0:				; CODE XREF: ProcessMenu+7C1j
		cmp	ax, 6Fh	; 'o'
		jnz	short loc_9DF8
		mov	key, 0
		mov	MenuMainY, 1
		mov	MenuMode, 0Bh
		jmp	short loc_9E25
; ---------------------------------------------------------------------------

loc_9DF8:				; CODE XREF: ProcessMenu+7D9j
		cmp	ax, 70h	; 'p'
		jnz	short loc_9E0F
		mov	key, 0
		xor	ax, ax
		mov	MenuMainY, ax
		mov	MenuMode, 0Bh
		jmp	short loc_9E25
; ---------------------------------------------------------------------------

loc_9E0F:				; CODE XREF: ProcessMenu+7F1j
		cmp	ax, 71h	; 'q'
		jnz	short loc_9E25
		mov	key, 0
		mov	MenuMainY, 2
		mov	MenuMode, 0Bh

loc_9E25:				; CODE XREF: ProcessMenu+736j
					; ProcessMenu+76Dj ...
		cmp	key, 1
		jz	short locret_9E31
		mov	key, 0

locret_9E31:				; CODE XREF: ProcessMenu+89j
					; ProcessMenu+820j
		leave
		retn
ProcessMenu	endp

; ---------------------------------------------------------------------------
Build3dScene	db 0C8h	; È
		db    4
		db    0
		db    0
		db 0A1h	; ¡
		db  60h	; `
		db 0EBh	; ë
		db 0D1h	; Ñ
		db 0E0h	; à
		db  8Bh	; ‹
		db 0F0h	; ð
		db 0D1h	; Ñ
		db 0E0h	; à
		db    1
		db 0F0h	; ð
		db 0C1h	; Á
		db 0E8h	; è
		db    3
		db 0A3h	; £
		db  76h	; v
		db 0EBh	; ë
		db  8Ch	; Œ
		db 0D8h	; Ø
		db  50h	; P
		db 0BFh	; ¿
		db  2Eh	; .
		db  82h	; ‚
		db  57h	; W
		db 0A1h	; ¡
		db  52h	; R
		db 0EBh	; ë
		db    5
		db    4
		db    0
		db  50h	; P
		db  6Ah	; j
		db    0
		db  9Ah	; š
		dd StosW
		db 0FFh
		db  36h	; 6
		db  6Ch	; l
		db  8Fh	; 
		db  6Ah	; j
		db    0
		db 0A1h	; ¡
		db  52h	; R
		db 0EBh	; ë
		db    5
		db    4
		db    0
		db  50h	; P
		db 0FFh
		db  36h	; 6
		db 0B2h	; ²
		db 0E8h	; è
		db  9Ah	; š
		dd StosW
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db  76h	; v
		db 0E8h	; è
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db 0D8h	; Ø
		db 0E8h	; è
		db 0B8h	; ¸
		db    0
		db  10h
		db  2Bh	; +
		db    6
		db  3Ch	; <
		db 0E9h	; é
		db 0A3h	; £
		db  30h	; 0
		db 0E8h	; è
		db 0A1h	; ¡
		db  30h	; 0
		db 0E8h	; è
		db 0C1h	; Á
		db 0E8h	; è
		db    5
		db 0A3h	; £
		db  64h	; d
		db 0E8h	; è
		db 0A1h	; ¡
		db  30h	; 0
		db 0E8h	; è
		db  31h	; 1
		db 0D2h	; Ò
		db  31h	; 1
		db 0C9h	; É
		db 0BBh	; »
		db    8
		db    0
		db  9Ah	; š
		dd @$brmul$q7Longintt1	; X1{DX:AX}*=X2{BX:CX}
		db 0B9h	; ¹
		db    0
		db    8
		db  31h	; 1
		db 0DBh	; Û
		db  9Ah	; š
		dd @$brdiv$q7Longintt1	; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		db    5
		db    0
		db    2
		db  83h	; ƒ
		db 0D2h	; Ò
		db    0
		db 0A3h	; £
		db    6
		db 0EBh	; ë
		db  89h	; ‰
		db  16h
		db    8
		db 0EBh	; ë
		db 0A1h	; ¡
		db  9Eh	; ž
		db 0E8h	; è
		db 0A3h	; £
		db 0A0h	;  
		db 0E8h	; è
		db 0A1h	; ¡
		db  78h	; x
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E8h	; è
		db    5
		db  8Bh	; ‹
		db  1Eh
		db  3Ch	; <
		db 0E9h	; é
		db 0F7h	; ÷
		db 0E3h	; ã
		db 0A3h	; £
		db 0ECh	; ì
		db 0E8h	; è
		db  89h	; ‰
		db  16h
		db 0EEh	; î
		db 0E8h	; è
		db 0A1h	; ¡
		db  78h	; x
		db 0EBh	; ë
		db 0C1h	; Á
		db 0E8h	; è
		db    5
		db  8Bh	; ‹
		db  1Eh
		db  30h	; 0
		db 0E8h	; è
		db 0F7h	; ÷
		db 0E3h	; ã
		db 0A3h	; £
		db 0E8h	; è
		db 0E8h	; è
		db  89h	; ‰
		db  16h
		db 0EAh	; ê
		db 0E8h	; è
		db 0A1h	; ¡
		db 0A0h	;  
		db 0E8h	; è
		db  8Bh	; ‹
		db  1Eh
		db  3Ch	; <
		db 0E9h	; é
		db 0F7h	; ÷
		db 0E3h	; ã
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0F3h	; ó
		db 0A3h	; £
		db 0A4h	; ¤
		db 0E8h	; è
		db 0A1h	; ¡
		db 0A0h	;  
		db 0E8h	; è
		db  8Bh	; ‹
		db  1Eh
		db  30h	; 0
		db 0E8h	; è
		db 0F7h	; ÷
		db 0E3h	; ã
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0F3h	; ó
		db 0A3h	; £
		db 0A2h	; ¢
		db 0E8h	; è
		db 0A0h	;  
		db  39h	; 9
		db 0E9h	; é
		db  30h	; 0
		db 0E4h	; ä
		db 0A3h	; £
		db  34h	; 4
		db 0E9h	; é
		db 0A0h	;  
		db  3Bh	; ;
		db 0E9h	; é
		db  30h	; 0
		db 0E4h	; ä
		db 0A3h	; £
		db  36h	; 6
		db 0E9h	; é
		db 0FFh
		db  36h	; 6
		db  34h	; 4
		db 0E9h	; é
		db 0FFh
		db  36h	; 6
		db  36h	; 6
		db 0E9h	; é
		db 0E8h	; è
		db 0F9h	; ù
		db 0C8h	; È
		db 0C7h	; Ç
		db    6
		db  46h	; F
		db 0E9h	; é
		db    1
		db    0
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db 0E2h	; â
		db 0E8h	; è
		db  83h	; ƒ
		db  3Eh	; >
		db 0E2h	; â
		db 0E8h	; è
		db    2
		db  72h	; r
		db  0Ah
		db  83h	; ƒ
		db  3Eh	; >
		db  46h	; F
		db 0E9h	; é
		db    4
		db  7Ch	; |
		db    3
		db 0E9h	; é
		db 0A9h	; ©
		db    0
		db 0A1h	; ¡
		db 0D8h	; Ø
		db 0E8h	; è
		db  3Bh	; ;
		db    6
		db  64h	; d
		db 0EBh	; ë
		db  75h	; u
		db    4
		db 0FFh
		db    6
		db 0E2h	; â
		db 0E8h	; è
		db 0A1h	; ¡
		db  34h	; 4
		db 0E9h	; é
		db    3
		db    6
		db  46h	; F
		db 0E9h	; é
		db  89h	; ‰
		db  46h	; F
		db 0FEh	; þ
		db 0A1h	; ¡
		db  34h	; 4
		db 0E9h	; é
		db  2Bh	; +
		db    6
		db  46h	; F
		db 0E9h	; é
		db  3Bh	; ;
		db  46h	; F
		db 0FEh	; þ
		db  7Fh	; 
		db  2Fh	; /
		db 0A3h	; £
		db  42h	; B
		db 0E9h	; é
		db 0EBh	; ë
		db    4
		db 0FFh
		db    6
		db  42h	; B
		db 0E9h	; é
		db 0FFh
		db  36h	; 6
		db  42h	; B
		db 0E9h	; é
		db 0A1h	; ¡
		db  36h	; 6
		db 0E9h	; é
		db    3
		db    6
		db  46h	; F
		db 0E9h	; é
		db  50h	; P
		db 0E8h	; è
		db 0A2h	; ¢
		db 0C8h	; È
		db 0FFh
		db  36h	; 6
		db  42h	; B
		db 0E9h	; é
		db 0A1h	; ¡
		db  36h	; 6
		db 0E9h	; é
		db  2Bh	; +
		db    6
		db  46h	; F
		db 0E9h	; é
		db  50h	; P
		db 0E8h	; è
		db  93h	; “
		db 0C8h	; È
		db 0A1h	; ¡
		db  42h	; B
		db 0E9h	; é
		db  3Bh	; ;
		db  46h	; F
		db 0FEh	; þ
		db  75h	; u
		db 0D6h	; Ö
		db 0A1h	; ¡
		db  36h	; 6
		db 0E9h	; é
		db    3
		db    6
		db  46h	; F
		db 0E9h	; é
		db  48h	; H
		db  89h	; ‰
		db  46h	; F
		db 0FEh	; þ
		db 0A1h	; ¡
		db  36h	; 6
		db 0E9h	; é
		db  2Bh	; +
		db    6
		db  46h	; F
		db 0E9h	; é
		db  40h	; @
		db  3Bh	; ;
		db  46h	; F
		db 0FEh	; þ
		db  7Fh	; 
		db  2Fh	; /
		db 0A3h	; £
		db  44h	; D
		db 0E9h	; é
		db 0EBh	; ë
		db    4
		db 0FFh
		db    6
		db  44h	; D
		db 0E9h	; é
		db 0A1h	; ¡
		db  34h	; 4
		db 0E9h	; é
		db  2Bh	; +
		db    6
		db  46h	; F
		db 0E9h	; é
		db  50h	; P
		db 0FFh
		db  36h	; 6
		db  44h	; D
		db 0E9h	; é
		db 0E8h	; è
		db  5Bh	; [
		db 0C8h	; È
		db 0A1h	; ¡
		db  34h	; 4
		db 0E9h	; é
		db    3
		db    6
		db  46h	; F
		db 0E9h	; é
		db  50h	; P
		db 0FFh
		db  36h	; 6
		db  44h	; D
		db 0E9h	; é
		db 0E8h	; è
		db  4Ch	; L
		db 0C8h	; È
		db 0A1h	; ¡
		db  44h	; D
		db 0E9h	; é
		db  3Bh	; ;
		db  46h	; F
		db 0FEh	; þ
		db  75h	; u
		db 0D6h	; Ö
		db 0FFh
		db    6
		db  46h	; F
		db 0E9h	; é
		db  83h	; ƒ
		db  3Eh	; >
		db  46h	; F
		db 0E9h	; é
		db  1Eh
		db  7Eh	; ~
		db    2
		db 0EBh	; ë
		db    3
		db 0E9h	; é
		db  46h	; F
		db 0FFh
		db 0A0h	;  
		db  39h	; 9
		db 0E9h	; é
		db  30h	; 0
		db 0E4h	; ä
		db 0A3h	; £
		db  34h	; 4
		db 0E9h	; é
		db 0A0h	;  
		db  3Bh	; ;
		db 0E9h	; é
		db  30h	; 0
		db 0E4h	; ä
		db 0A3h	; £
		db  36h	; 6
		db 0E9h	; é
		db 0A1h	; ¡
		db  46h	; F
		db 0E9h	; é
		db    5
		db    3
		db    0
		db 0C1h	; Á
		db 0E0h	; à
		db    8
		db 0A3h	; £
		db  48h	; H
		db 0E9h	; é
		db 0A1h	; ¡
		db  44h	; D
		db 0E8h	; è
		db    1
		db    6
		db  92h	; ’
		db 0E8h	; è
		db  83h	; ƒ
		db  3Eh	; >
		db  92h	; ’
		db 0E8h	; è
		db  0Ah
		db 0B0h	; °
		db    0
		db  76h	; v
		db    1
		db  40h	; @
		db 0A2h	; ¢
		db  67h	; g
		db 0E9h	; é
		db  80h	; €
		db  3Eh	; >
		db  67h	; g
		db 0E9h	; é
		db    0
		db  74h	; t
		db    5
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db  92h	; ’
		db 0E8h	; è
		db  9Ah	; š
		dd AnimateObjects
		db 0E8h	; è
		db  57h	; W
		db  9Ch	; œ
		db 0E8h	; è
		db  74h	; t
		db  96h	; –
		db 0E8h	; è
		db 0DDh	; Ý
		db  9Ch	; œ
		db  83h	; ƒ
		db  3Eh	; >
		db  76h	; v
		db 0E8h	; è
		db    0
		db  77h	; w
		db    3
		db 0E9h	; é
		db  81h	; 
		db    0
		db 0A1h	; ¡
		db  76h	; v
		db 0E8h	; è
		db  3Dh	; =
		db    1
		db    0
		db  7Ch	; |
		db  79h	; y
		db 0A3h	; £
		db  0Ah
		db  13h
		db 0EBh	; ë
		db    4
		db 0FFh
		db  0Eh
		db  0Ah
		db  13h
		db  6Bh	; k
		db    6
		db  0Ah
		db  13h
		db  0Eh
		db 0C4h	; Ä
		db  3Eh	; >
		db  3Eh	; >
		db 0A5h	; ¥
		db    3
		db 0F8h	; ø
		db  81h	; 
		db 0C7h	; Ç
		db 0F2h	; ò
		db 0FFh
		db  89h	; ‰
		db  7Eh	; ~
		db 0FCh	; ü
		db  8Ch	; Œ
		db  46h	; F
		db 0FEh	; þ
		db  26h	; &
		db  8Ah	; Š
		db  45h	; E
		db  0Ah
		db  3Ch	; <
		db  56h	; V
		db  72h	; r
		db  2Dh	; -
		db  3Ch	; <
		db  78h	; x
		db  77h	; w
		db  29h	; )
		db  26h	; &
		db 0FFh
		db  75h	; u
		db    4
		db  26h	; &
		db 0FFh
		db  75h	; u
		db    6
		db  26h	; &
		db 0FFh
		db  35h	; 5
		db  26h	; &
		db 0FFh
		db  75h	; u
		db    2
		db  26h	; &
		db  8Ah	; Š
		db  45h	; E
		db  0Dh
		db  30h	; 0
		db 0E4h	; ä
		db  50h	; P
		db  26h	; &
		db  8Ah	; Š
		db  45h	; E
		db  0Bh
		db  30h	; 0
		db 0E4h	; ä
		db  50h	; P
		db  26h	; &
		db  8Ah	; Š
		db  45h	; E
		db  0Ch
		db  30h	; 0
		db 0E4h	; ä
		db  50h	; P
		db 0E8h	; è
		db  4Dh	; M
		db 0ADh	; ­
		db 0EBh	; ë
		db  1Fh
		db  3Ch	; <
		db  7Ah	; z
		db  75h	; u
		db  1Bh
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0FFh
		db  35h	; 5
		db  26h	; &
		db 0FFh
		db  75h	; u
		db    2
		db  26h	; &
		db  8Ah	; Š
		db  45h	; E
		db  0Bh
		db  30h	; 0
		db 0E4h	; ä
		db  50h	; P
		db  26h	; &
		db  8Ah	; Š
		db  45h	; E
		db  0Ch
		db  30h	; 0
		db 0E4h	; ä
		db  50h	; P
		db 0E8h	; è
		db  2Ch	; ,
		db 0BBh	; »
		db  83h	; ƒ
		db  3Eh	; >
		db  0Ah
		db  13h
		db    1
		db  75h	; u
		db  8Ch	; Œ
		db 0A1h	; ¡
		db  60h	; `
		db 0EBh	; ë
		db  8Bh	; ‹
		db 0F0h	; ð
		db 0D1h	; Ñ
		db 0E0h	; à
		db 0D1h	; Ñ
		db 0E0h	; à
		db    1
		db 0F0h	; ð
		db  31h	; 1
		db 0D2h	; Ò
		db 0B9h	; ¹
		db  0Eh
		db    0
		db 0F7h	; ÷
		db 0F1h	; ñ
		db 0A3h	; £
		db  76h	; v
		db 0EBh	; ë
		db  8Ch	; Œ
		db 0D8h	; Ø
		db  50h	; P
		db 0BFh	; ¿
		db  2Eh	; .
		db  82h	; ‚
		db  57h	; W
		db 0A1h	; ¡
		db  52h	; R
		db 0EBh	; ë
		db    5
		db    4
		db    0
		db  50h	; P
		db  6Ah	; j
		db    1
		db  9Ah	; š
		dd StosW
		db  8Ch	; Œ
		db 0D8h	; Ø
		db  50h	; P
		db 0BFh	; ¿
		db 0CCh	; Ì
		db  88h	; ˆ
		db  57h	; W
		db 0A1h	; ¡
		db  52h	; R
		db 0EBh	; ë
		db    5
		db    4
		db    0
		db  50h	; P
		db  6Ah	; j
		db    1
		db  9Ah	; š
		dd StosW
		db 0C9h	; É
		db 0CBh	; Ë

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SwitchToNextWeapon proc	near		; CODE XREF: ProcessDevices+465p

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	6, 0
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	word ptr es:[di+28h], 0
		jle	short locret_A189
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_A120
; ---------------------------------------------------------------------------

loc_A11D:				; CODE XREF: SwitchToNextWeapon+8Dj
		inc	[bp+var_2]

loc_A120:				; CODE XREF: SwitchToNextWeapon+21j
		les	di, [bp+var_6]
		assume es:nothing
		inc	word ptr es:[di+48h]
		mov	ax, WeaponsCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+48h]
		cwd
		cmp	dx, bx
		jg	short loc_A13F
		jl	short loc_A148
		cmp	ax, cx
		jbe	short loc_A148

loc_A13F:				; CODE XREF: SwitchToNextWeapon+3Dj
		les	di, [bp+var_6]
		mov	word ptr es:[di+48h], 1

loc_A148:				; CODE XREF: SwitchToNextWeapon+3Fj
					; SwitchToNextWeapon+43j
		les	di, [bp+var_6]
		mov	ax, es:[di+48h]
		dec	ax
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		mov	al, es:[di+25h]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jle	short loc_A183
		mov	ax, es:[di+48h]
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		jbe	short loc_A183
		cmp	GunShift, 0
		jnz	short loc_A181
		mov	GunShift, 1

loc_A181:				; CODE XREF: SwitchToNextWeapon+7Fj
		jmp	short locret_A189
; ---------------------------------------------------------------------------

loc_A183:				; CODE XREF: SwitchToNextWeapon+6Bj
					; SwitchToNextWeapon+78j
		cmp	[bp+var_2], 8
		jnz	short loc_A11D

locret_A189:				; CODE XREF: SwitchToNextWeapon+1Aj
					; SwitchToNextWeapon:loc_A181j
		leave
		retn
SwitchToNextWeapon endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

WeaponAvail	proc near		; CODE XREF: ChangeWeapon+1Ep
					; ChangeWeapon+2Fp ...

var_1		= byte ptr -1
arg_0		= word ptr  4

		enter	6, 0
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, [bp+arg_0]
		dec	ax
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		mov	al, es:[di+25h]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jle	short loc_A1C1
		mov	ax, [bp+arg_0]
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		ja	short loc_A1C5

loc_A1C1:				; CODE XREF: WeaponAvail+28j
		mov	al, 0
		jmp	short loc_A1C7
; ---------------------------------------------------------------------------

loc_A1C5:				; CODE XREF: WeaponAvail+34j
		mov	al, 1

loc_A1C7:				; CODE XREF: WeaponAvail+38j
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retn	2
WeaponAvail	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ChangeWeapon	proc near		; CODE XREF: ProcessDevices+60Fp

var_6		= dword	ptr -6

		enter	6, 0
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	word ptr es:[di+28h], 0
		jle	short locret_A25F
		push	2
		call	WeaponAvail
		or	al, al
		jz	short loc_A1FE
		mov	i, 2
		jmp	short loc_A248
; ---------------------------------------------------------------------------

loc_A1FE:				; CODE XREF: ChangeWeapon+23j
		push	3
		call	WeaponAvail
		or	al, al
		jz	short loc_A20F
		mov	i, 3
		jmp	short loc_A248
; ---------------------------------------------------------------------------

loc_A20F:				; CODE XREF: ChangeWeapon+34j
		push	5
		call	WeaponAvail
		or	al, al
		jz	short loc_A220
		mov	i, 5
		jmp	short loc_A248
; ---------------------------------------------------------------------------

loc_A220:				; CODE XREF: ChangeWeapon+45j
		push	6
		call	WeaponAvail
		or	al, al
		jz	short loc_A231
		mov	i, 6
		jmp	short loc_A248
; ---------------------------------------------------------------------------

loc_A231:				; CODE XREF: ChangeWeapon+56j
		push	4
		call	WeaponAvail
		or	al, al
		jz	short loc_A242
		mov	i, 4
		jmp	short loc_A248
; ---------------------------------------------------------------------------

loc_A242:				; CODE XREF: ChangeWeapon+67j
		mov	i, 1

loc_A248:				; CODE XREF: ChangeWeapon+2Bj
					; ChangeWeapon+3Cj ...
		mov	ax, i
		les	di, [bp+var_6]
		assume es:nothing
		mov	es:[di+48h], ax
		cmp	GunShift, 0
		jnz	short locret_A25F
		mov	GunShift, 1

locret_A25F:				; CODE XREF: ChangeWeapon+1Aj
					; ChangeWeapon+86j
		leave
		retn
ChangeWeapon	endp

; ---------------------------------------------------------------------------
aMouseLookIs	db 14,'Mouse look is '  ; DATA XREF: ProcessDevices+368o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessDevices	proc near		; CODE XREF: DoGame+37Dp

var_106		= byte ptr -106h
var_A		= dword	ptr -0Ah
var_5		= byte ptr -5
var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= word ptr -2

		enter	106h, 0
		mov	ax, HksFlags
		and	ax, 800h
		or	ax, ax
		mov	al, 0
		jbe	short loc_A281
		inc	ax

loc_A281:				; CODE XREF: ProcessDevices+Ej
		mov	[bp+var_4], al
		mov	ax, HksFlags
		and	ax, 1000h
		or	ax, ax
		mov	al, 0
		jbe	short loc_A291
		inc	ax

loc_A291:				; CODE XREF: ProcessDevices+1Ej
		mov	[bp+var_5], al
		mov	ax, HksFlags
		and	ax, 100h
		or	ax, ax
		mov	al, 0
		jbe	short loc_A2A1
		inc	ax

loc_A2A1:				; CODE XREF: ProcessDevices+2Ej
		mov	[bp+var_3], al
		xor	ax, ax
		mov	HksFlags, ax
		cmp	Console, 0
		jnz	short loc_A2F5
		cmp	MenuOn,	0
		jnz	short loc_A2F5
		mov	al, _ViewUpOn
		xor	ah, ah
		mov	di, ax
		mov	al, [di-13F2h]
		neg	al
		sbb	al, al
		neg	al
		mov	kbViewUp, al
		mov	al, _ViewDnOn
		xor	ah, ah
		mov	di, ax
		mov	al, [di-13F2h]
		neg	al
		sbb	al, al
		neg	al
		mov	kbViewDn, al
		mov	al, _ViewCntrOn
		xor	ah, ah
		mov	di, ax
		mov	al, [di-13F2h]
		neg	al
		sbb	al, al
		neg	al
		mov	kbViewCntr, al
		jmp	short loc_A2FA
; ---------------------------------------------------------------------------

loc_A2F5:				; CODE XREF: ProcessDevices+3Ej
					; ProcessDevices+45j
		mov	kbViewCntr, 0

loc_A2FA:				; CODE XREF: ProcessDevices+83j
		cmp	Console, 0
		jz	short loc_A304
		jmp	loc_A44A
; ---------------------------------------------------------------------------

loc_A304:				; CODE XREF: ProcessDevices+8Fj
		cmp	MenuOn,	0
		jz	short loc_A30E
		jmp	loc_A44A
; ---------------------------------------------------------------------------

loc_A30E:				; CODE XREF: ProcessDevices+99j
		mov	al, _FrontOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A320
		inc	HksFlags

loc_A320:				; CODE XREF: ProcessDevices+AAj
		mov	al, _BackOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A333
		add	HksFlags, 2

loc_A333:				; CODE XREF: ProcessDevices+BCj
		mov	al, _ChangOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A347
		add	HksFlags, 100h

loc_A347:				; CODE XREF: ProcessDevices+CFj
		mov	al, _JumpOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A35A
		add	HksFlags, 40h ;	'@'

loc_A35A:				; CODE XREF: ProcessDevices+E3j
		mov	al, _FireOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A375
		cmp	GunShift, 0
		jnz	short loc_A375
		add	HksFlags, 80h ;	'€'

loc_A375:				; CODE XREF: ProcessDevices+F6j
					; ProcessDevices+FDj
		mov	al, _SLeftOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A388
		add	HksFlags, 10h

loc_A388:				; CODE XREF: ProcessDevices+111j
		mov	al, _SRightOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A39B
		add	HksFlags, 20h ;	' '

loc_A39B:				; CODE XREF: ProcessDevices+124j
		mov	al, _SpeedUpOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jnz	short loc_A3B0
		cmp	AlwaysRun, 0
		jz	short loc_A3B6

loc_A3B0:				; CODE XREF: ProcessDevices+137j
		add	HksFlags, 400h

loc_A3B6:				; CODE XREF: ProcessDevices+13Ej
		mov	al, _StrafeOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A3CA
		add	HksFlags, 200h

loc_A3CA:				; CODE XREF: ProcessDevices+152j
		mov	al, _MLookOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A3DE
		add	HksFlags, 800h

loc_A3DE:				; CODE XREF: ProcessDevices+166j
		mov	al, _MLookT
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A3F2
		add	HksFlags, 1000h

loc_A3F2:				; CODE XREF: ProcessDevices+17Aj
		mov	ax, HksFlags
		and	ax, 200h
		or	ax, ax
		jz	short loc_A424
		mov	al, _LeftOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A40F
		add	HksFlags, 10h

loc_A40F:				; CODE XREF: ProcessDevices+198j
		mov	al, _RightOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A422
		add	HksFlags, 20h ;	' '

loc_A422:				; CODE XREF: ProcessDevices+1ABj
		jmp	short loc_A44A
; ---------------------------------------------------------------------------

loc_A424:				; CODE XREF: ProcessDevices+18Aj
		mov	al, _LeftOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A437
		add	HksFlags, 4

loc_A437:				; CODE XREF: ProcessDevices+1C0j
		mov	al, _RightOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A44A
		add	HksFlags, 8

loc_A44A:				; CODE XREF: ProcessDevices+91j
					; ProcessDevices+9Bj ...
		imul	di, MyNetN, 58h
		xor	ax, ax
		mov	[di-0F96h], ax
		imul	di, MyNetN, 58h
		xor	ax, ax
		mov	[di-0F94h], ax
		cmp	MouseD,	0
		jnz	short loc_A471
		cmp	JoyStick, 0
		jnz	short loc_A471
		jmp	loc_A6C5
; ---------------------------------------------------------------------------

loc_A471:				; CODE XREF: ProcessDevices+1F5j
					; ProcessDevices+1FCj
		call	GetMouseStatus
		call	GetJoyStatus
		mov	ax, Msvvi
		cwd
		mov	cx, 4
		idiv	cx
		add	ax, MsVV
		mov	Msvvi, ax
		mov	ax, msrvi
		cwd
		mov	cx, 4
		idiv	cx
		add	ax, MsRv
		mov	msrvi, ax
		imul	ax, t1,	3Ch
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Msvvi
		cwd
		cmp	dx, bx
		jg	short loc_A4B4
		jl	short loc_A4BC
		cmp	ax, cx
		jbe	short loc_A4BC

loc_A4B4:				; CODE XREF: ProcessDevices+23Cj
		imul	ax, t1,	3Ch
		mov	Msvvi, ax

loc_A4BC:				; CODE XREF: ProcessDevices+23Ej
					; ProcessDevices+242j
		mov	ax, t1
		xor	dx, dx
		mov	cx, 0FFC4h
		mov	bx, 0FFFFh
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, Msvvi
		cwd
		cmp	dx, bx
		jl	short loc_A4DE
		jg	short loc_A4F1
		cmp	ax, cx
		jnb	short loc_A4F1

loc_A4DE:				; CODE XREF: ProcessDevices+266j
		mov	ax, t1
		xor	dx, dx
		mov	cx, 0FFC4h
		mov	bx, 0FFFFh
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	Msvvi, ax

loc_A4F1:				; CODE XREF: ProcessDevices+268j
					; ProcessDevices+26Cj
		imul	ax, t1,	78h
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, msrvi
		cwd
		cmp	dx, bx
		jg	short loc_A50A
		jl	short loc_A512
		cmp	ax, cx
		jbe	short loc_A512

loc_A50A:				; CODE XREF: ProcessDevices+292j
		imul	ax, t1,	78h
		mov	msrvi, ax

loc_A512:				; CODE XREF: ProcessDevices+294j
					; ProcessDevices+298j
		mov	ax, t1
		xor	dx, dx
		mov	cx, 0FF88h
		mov	bx, 0FFFFh
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, msrvi
		cwd
		cmp	dx, bx
		jl	short loc_A534
		jg	short loc_A547
		cmp	ax, cx
		jnb	short loc_A547

loc_A534:				; CODE XREF: ProcessDevices+2BCj
		mov	ax, t1
		xor	dx, dx
		mov	cx, 0FF88h
		mov	bx, 0FFFFh
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	msrvi, ax

loc_A547:				; CODE XREF: ProcessDevices+2BEj
					; ProcessDevices+2C2j
		cmp	Console, 0
		jnz	short loc_A5A9
		cmp	MenuOn,	0
		jnz	short loc_A5A9
		cmp	MsKeyA,	0
		jz	short loc_A571
		mov	al, Ms1ID
		xor	ah, ah
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		or	ax, HksFlags
		mov	HksFlags, ax

loc_A571:				; CODE XREF: ProcessDevices+2EAj
		cmp	MsKeyB,	0
		jz	short loc_A58D
		mov	al, Ms2ID
		xor	ah, ah
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		or	ax, HksFlags
		mov	HksFlags, ax

loc_A58D:				; CODE XREF: ProcessDevices+306j
		cmp	MsKeyC,	0
		jz	short loc_A5A9
		mov	al, ms3id
		xor	ah, ah
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		or	ax, HksFlags
		mov	HksFlags, ax

loc_A5A9:				; CODE XREF: ProcessDevices+2DCj
					; ProcessDevices+2E3j ...
		cmp	[bp+var_4], 0
		jnz	short loc_A60E
		mov	ax, HksFlags
		and	ax, 800h
		or	ax, ax
		jz	short loc_A60E
		cmp	MLookOn, 0
		mov	al, 0
		jnz	short loc_A5C3
		inc	ax

loc_A5C3:				; CODE XREF: ProcessDevices+350j
		mov	MLookOn, al
		cmp	MLookOn, 0
		jnz	short loc_A5D2
		mov	VCenterMode, 1

loc_A5D2:				; CODE XREF: ProcessDevices+35Bj
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset aMouseLookIs	; "Mouse look is "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	al, MLookOn
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2
		cmp	word_455F2, 0
		jnz	short loc_A60E
		mov	word_455B3, 0B4h ; '´'

loc_A60E:				; CODE XREF: ProcessDevices+33Dj
					; ProcessDevices+347j ...
		cmp	[bp+var_5], 0
		jz	short loc_A623
		mov	ax, HksFlags
		and	ax, 1000h
		or	ax, ax
		jnz	short loc_A623
		mov	VCenterMode, 1

loc_A623:				; CODE XREF: ProcessDevices+3A2j
					; ProcessDevices+3ACj
		mov	ax, HksFlags
		and	ax, 1000h
		or	ax, ax
		ja	short loc_A634
		cmp	MLookOn, 0
		jz	short loc_A687

loc_A634:				; CODE XREF: ProcessDevices+3BBj
		cmp	MsVV, 0
		jz	short loc_A685
		cmp	ReverseMouse, 0
		jz	short loc_A654
		mov	ax, MsVV
		add	ax, 8
		cwd
		mov	cx, 0Ch
		idiv	cx
		add	LookVz,	ax
		jmp	short loc_A664
; ---------------------------------------------------------------------------

loc_A654:				; CODE XREF: ProcessDevices+3D0j
		mov	ax, MsVV
		add	ax, 8
		cwd
		mov	cx, 0Ch
		idiv	cx
		sub	LookVz,	ax

loc_A664:				; CODE XREF: ProcessDevices+3E2j
		cmp	LookVz,	17Ch
		jle	short loc_A672
		mov	LookVz,	17Ch

loc_A672:				; CODE XREF: ProcessDevices+3FAj
		cmp	LookVz,	0FE84h
		jge	short loc_A680
		mov	LookVz,	0FE84h

loc_A680:				; CODE XREF: ProcessDevices+408j
		call	ReInitViewConst

loc_A685:				; CODE XREF: ProcessDevices+3C9j
		jmp	short loc_A6A2
; ---------------------------------------------------------------------------

loc_A687:				; CODE XREF: ProcessDevices+3C2j
		cmp	MenuOn,	0
		jnz	short loc_A6A2
		mov	ax, Msvvi
		neg	ax
		cwd
		mov	cx, 14h
		idiv	cx
		imul	di, MyNetN, 58h
		mov	[di-0F94h], ax

loc_A6A2:				; CODE XREF: ProcessDevices:loc_A685j
					; ProcessDevices+41Cj
		mov	ax, HksFlags
		and	ax, 200h
		or	ax, ax
		jbe	short loc_A6C5
		cmp	MenuOn,	0
		jnz	short loc_A6C5
		mov	ax, msrvi
		cwd
		mov	cx, 10h
		idiv	cx
		imul	di, MyNetN, 58h
		mov	[di-0F96h], ax

loc_A6C5:				; CODE XREF: ProcessDevices+1FEj
					; ProcessDevices+43Aj ...
		cmp	[bp+var_3], 0
		jnz	short loc_A6D8
		mov	ax, HksFlags
		and	ax, 100h
		or	ax, ax
		jbe	short loc_A6D8
		call	SwitchToNextWeapon

loc_A6D8:				; CODE XREF: ProcessDevices+459j
					; ProcessDevices+463j
		cmp	RecordDemo, 0
		jz	short loc_A6E6
		mov	[bp+var_2], 8
		jmp	short loc_A6EB
; ---------------------------------------------------------------------------

loc_A6E6:				; CODE XREF: ProcessDevices+46Dj
		mov	[bp+var_2], 10h

loc_A6EB:				; CODE XREF: ProcessDevices+474j
		mov	ax, HksFlags
		and	ax, 0Ch
		or	ax, ax
		jnz	short loc_A6FA
		xor	ax, ax
		mov	HRv, ax

loc_A6FA:				; CODE XREF: ProcessDevices+483j
		mov	ax, HksFlags
		and	ax, 4
		or	ax, ax
		jz	short loc_A71C
		cmp	HRv, 0
		jle	short loc_A712
		xor	ax, ax
		mov	HRv, ax
		jmp	short loc_A71C
; ---------------------------------------------------------------------------

loc_A712:				; CODE XREF: ProcessDevices+499j
		mov	ax, t1
		shl	ax, 2
		sub	HRv, ax

loc_A71C:				; CODE XREF: ProcessDevices+492j
					; ProcessDevices+4A0j
		mov	ax, HksFlags
		and	ax, 8
		or	ax, ax
		jz	short loc_A73E
		cmp	HRv, 0
		jge	short loc_A734
		xor	ax, ax
		mov	HRv, ax
		jmp	short loc_A73E
; ---------------------------------------------------------------------------

loc_A734:				; CODE XREF: ProcessDevices+4BBj
		mov	ax, t1
		shl	ax, 2
		add	HRv, ax

loc_A73E:				; CODE XREF: ProcessDevices+4B4j
					; ProcessDevices+4C2j
		cmp	HRv, 80h ; '€'
		jle	short loc_A74C
		mov	HRv, 80h ; '€'

loc_A74C:				; CODE XREF: ProcessDevices+4D4j
		cmp	HRv, 0FF80h
		jge	short loc_A759
		mov	HRv, 0FF80h

loc_A759:				; CODE XREF: ProcessDevices+4E1j
		cmp	HRv, 0
		jz	short loc_A7B6
		mov	al, _SpeedUpOn
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-13F2h], 0
		jz	short loc_A79C
		mov	ax, HRv
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 3
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 2
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		push	ax
		call	CalcDir
		jmp	short loc_A7B4
; ---------------------------------------------------------------------------

loc_A79C:				; CODE XREF: ProcessDevices+4FCj
		mov	ax, HRv
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	CalcDir

loc_A7B4:				; CODE XREF: ProcessDevices+52Aj
		jmp	short loc_A7BD
; ---------------------------------------------------------------------------

loc_A7B6:				; CODE XREF: ProcessDevices+4EEj
		push	0
		call	CalcDir

loc_A7BD:				; CODE XREF: ProcessDevices:loc_A7B4j
		mov	ax, HksFlags
		and	ax, 200h
		or	ax, ax
		jnz	short loc_A7DE
		cmp	MouseD,	0
		jnz	short loc_A7D5
		cmp	JoyStick, 0
		jz	short loc_A7DE

loc_A7D5:				; CODE XREF: ProcessDevices+55Cj
		push	MsRv
		call	CalcDir

loc_A7DE:				; CODE XREF: ProcessDevices+555j
					; ProcessDevices+563j
		cmp	kbViewCntr, 0
		jz	short loc_A7F1
		cmp	LookVz,	0
		jz	short loc_A7F1
		mov	VCenterMode, 1

loc_A7F1:				; CODE XREF: ProcessDevices+573j
					; ProcessDevices+57Aj
		cmp	kbViewUp, 0
		jnz	short loc_A7FF
		cmp	kbViewDn, 0
		jz	short loc_A804

loc_A7FF:				; CODE XREF: ProcessDevices+586j
		mov	VCenterMode, 0

loc_A804:				; CODE XREF: ProcessDevices+58Dj
		cmp	VCenterMode, 0
		jz	short loc_A810
		call	CenterView

loc_A810:				; CODE XREF: ProcessDevices+599j
		cmp	kbViewUp, 0
		jz	short loc_A821
		mov	ax, t1
		shl	ax, 3
		add	LookVz,	ax

loc_A821:				; CODE XREF: ProcessDevices+5A5j
		cmp	kbViewDn, 0
		jz	short loc_A832
		mov	ax, t1
		shl	ax, 3
		sub	LookVz,	ax

loc_A832:				; CODE XREF: ProcessDevices+5B6j
		cmp	LookVz,	17Ch
		jle	short loc_A840
		mov	LookVz,	17Ch

loc_A840:				; CODE XREF: ProcessDevices+5C8j
		cmp	LookVz,	0FE84h
		jge	short loc_A84E
		mov	LookVz,	0FE84h

loc_A84E:				; CODE XREF: ProcessDevices+5D6j
		cmp	kbViewUp, 0
		jnz	short loc_A85C
		cmp	kbViewDn, 0
		jz	short loc_A861

loc_A85C:				; CODE XREF: ProcessDevices+5E3j
		call	ReInitViewConst

loc_A861:				; CODE XREF: ProcessDevices+5EAj
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	ax, es:[di+48h]
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		jnz	short loc_A882
		call	ChangeWeapon

loc_A882:				; CODE XREF: ProcessDevices+60Dj
		mov	ax, HksFlags
		and	ax, 80h
		or	ax, ax
		jz	short loc_A8B4
		les	di, [bp+var_A]
		assume es:nothing
		mov	ax, es:[di+2Ah]
		and	ax, 200h
		or	ax, ax
		jnz	short loc_A8B4
		cmp	GunShift, 0
		jnz	short loc_A8B4
		mov	ax, es:[di+48h]
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		jbe	short loc_A8B4
		add	HksFlags, 4000h

loc_A8B4:				; CODE XREF: ProcessDevices+61Aj
					; ProcessDevices+628j ...
		mov	ax, HksFlags
		and	ax, 400h
		or	ax, ax
		jz	short loc_A903
		les	di, [bp+var_A]
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 5
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 3
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	StepMove, ax
		jmp	short loc_A93C
; ---------------------------------------------------------------------------

loc_A903:				; CODE XREF: ProcessDevices+64Cj
		les	di, [bp+var_A]
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 2
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		add	StepMove, ax

loc_A93C:				; CODE XREF: ProcessDevices+691j
		cmp	StepMove, 1800h
		jle	short loc_A997
		sub	StepMove, 1800h
		les	di, [bp+var_A]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+0Eh]
		call	iswater
		or	al, al
		jz	short loc_A971
		push	0FFFFh
		push	0
		push	0
		push	0Ah
		call	AddVoice
		jmp	short loc_A997
; ---------------------------------------------------------------------------

loc_A971:				; CODE XREF: ProcessDevices+6F0j
		mov	ax, HksFlags
		and	ax, 400h
		or	ax, ax
		jnz	short loc_A98A
		push	0FFFFh
		push	0
		push	0
		push	0Eh
		call	AddVoice
		jmp	short loc_A997
; ---------------------------------------------------------------------------

loc_A98A:				; CODE XREF: ProcessDevices+709j
		push	0FFFFh
		push	0
		push	0
		push	0Fh
		call	AddVoice

loc_A997:				; CODE XREF: ProcessDevices+6D2j
					; ProcessDevices+6FFj ...
		cmp	CLIENT,	0
		jnz	short loc_A9AF
		mov	ax, HksFlags
		les	di, [bp+var_A]
		mov	es:[di+20h], ax
		mov	ax, HFi
		mov	es:[di+1Eh], ax

loc_A9AF:				; CODE XREF: ProcessDevices+72Cj
		mov	ax, HRv
		les	di, [bp+var_A]
		mov	es:[di+16h], ax
		mov	ax, LookVz
		mov	es:[di+10h], ax
		leave
		retn
ProcessDevices	endp

; ---------------------------------------------------------------------------
aGamePaused_	db 12,'Game paused.'    ; DATA XREF: ProcessPreKeyboard+2Co
aGameUnpaused_	db 14,'Game unpaused.'  ; DATA XREF: ProcessPreKeyboard:loc_AA1Bo
a____0		db 4,' ...'             ; DATA XREF: ProcessPreKeyboard+16Do

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessPreKeyboard proc	near		; CODE XREF: DoGame:loc_C542p
		push	bp
		mov	bp, sp
		cmp	key, 6Fh ; 'o'
		jnz	short loc_AA25
		cmp	PlayDemo, 0
		jnz	short loc_AA25
		cmp	CLIENT,	0
		jnz	short loc_AA25
		cmp	Paused,	0
		mov	al, 0
		jnz	short loc_AA05
		inc	ax

loc_AA05:				; CODE XREF: ProcessPreKeyboard+1Fj
		mov	Paused,	al
		cmp	Paused,	0
		jz	short loc_AA1B
		mov	di, offset aGamePaused_	; "Game	paused."
		push	cs
		push	di
		call	PutConsMessage3
		jmp	short loc_AA25
; ---------------------------------------------------------------------------

loc_AA1B:				; CODE XREF: ProcessPreKeyboard+2Aj
		mov	di, offset aGameUnpaused_ ; "Game unpaused."
		push	cs
		push	di
		call	PutConsMessage3

loc_AA25:				; CODE XREF: ProcessPreKeyboard+8j
					; ProcessPreKeyboard+Fj ...
		cmp	MenuOn,	0
		jnz	short loc_AA3A
		cmp	Console, 0
		jnz	short loc_AA3A
		cmp	key, 0
		jnz	short loc_AA3D

loc_AA3A:				; CODE XREF: ProcessPreKeyboard+47j
					; ProcessPreKeyboard+4Ej
		jmp	locret_AB68
; ---------------------------------------------------------------------------

loc_AA3D:				; CODE XREF: ProcessPreKeyboard+55j
		mov	al, key
		cmp	al, 3Ch	; '<'
		jnz	short loc_AA5F
		cmp	PlayDemo, 0
		jnz	short loc_AA5C
		mov	MenuOn,	1
		mov	MenuMode, 0Ch
		mov	ax, LoadSaveY
		mov	MenuMainY, ax

loc_AA5C:				; CODE XREF: ProcessPreKeyboard+66j
		jmp	loc_AAFB
; ---------------------------------------------------------------------------

loc_AA5F:				; CODE XREF: ProcessPreKeyboard+5Fj
		cmp	al, 3Dh	; '='
		jnz	short loc_AA77
		mov	MenuOn,	1
		mov	MenuMode, 0Dh
		mov	ax, LoadSaveY
		mov	MenuMainY, ax
		jmp	loc_AAFB
; ---------------------------------------------------------------------------

loc_AA77:				; CODE XREF: ProcessPreKeyboard+7Ej
		cmp	al, 3Eh	; '>'
		jnz	short loc_AA8D
		mov	MenuOn,	1
		mov	MenuMode, 0Eh
		xor	ax, ax
		mov	MenuMainY, ax
		jmp	short loc_AAFB
; ---------------------------------------------------------------------------

loc_AA8D:				; CODE XREF: ProcessPreKeyboard+96j
		cmp	al, 3Fh	; '?'
		jnz	short loc_AAA3
		mov	MenuOn,	1
		mov	MenuMode, 0Bh
		xor	ax, ax
		mov	MenuMainY, ax
		jmp	short loc_AAFB
; ---------------------------------------------------------------------------

loc_AAA3:				; CODE XREF: ProcessPreKeyboard+ACj
		cmp	al, 42h	; 'B'
		jnz	short loc_AAE7
		cmp	CLIENT,	0
		jnz	short loc_AAB5
		cmp	SERVER,	0
		jz	short loc_AAE5

loc_AAB5:				; CODE XREF: ProcessPreKeyboard+C9j
		cmp	Ranking, 0
		mov	al, 0
		jnz	short loc_AABF
		inc	ax

loc_AABF:				; CODE XREF: ProcessPreKeyboard+D9j
		mov	Ranking, al
		cmp	Ranking, 0
		jz	short loc_AAD8
		push	0
		push	0
		push	0
		push	5
		call	AddVoice
		jmp	short loc_AAE5
; ---------------------------------------------------------------------------

loc_AAD8:				; CODE XREF: ProcessPreKeyboard+E4j
		push	0
		push	0
		push	0
		push	3
		call	AddVoice

loc_AAE5:				; CODE XREF: ProcessPreKeyboard+D0j
					; ProcessPreKeyboard+F3j
		jmp	short loc_AAFB
; ---------------------------------------------------------------------------

loc_AAE7:				; CODE XREF: ProcessPreKeyboard+C2j
		cmp	al, 44h	; 'D'
		jnz	short loc_AAFB
		mov	MenuOn,	1
		mov	MenuMode, 0Fh
		xor	ax, ax
		mov	MenuMainY, ax

loc_AAFB:				; CODE XREF: ProcessPreKeyboard:loc_AA5Cj
					; ProcessPreKeyboard+91j ...
		cmp	MenuOn,	0
		jz	short loc_AB0F
		push	0
		push	0
		push	0
		push	5
		call	AddVoice

loc_AB0F:				; CODE XREF: ProcessPreKeyboard+11Dj
		cmp	PlayDemo, 0
		jnz	short locret_AB68
		cmp	CLIENT,	0
		jnz	short locret_AB68
		cmp	SERVER,	0
		jnz	short locret_AB68
		mov	al, key
		cmp	al, 40h	; '@'
		jnz	short loc_AB3B
		push	LoadSaveY
		call	SaveGame
		call	ScanSavedNames
		jmp	short locret_AB68
; ---------------------------------------------------------------------------

loc_AB3B:				; CODE XREF: ProcessPreKeyboard+146j
		cmp	al, 43h	; 'C'
		jnz	short locret_AB68
		imul	ax, MenuMainY, 28h
		les	di, PM
		add	di, ax
		add	di, 0F50h
		push	es
		push	di
		mov	di, offset a____0 ; " ..."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short locret_AB68
		mov	al, byte ptr LoadSaveY
		mov	LSMenuY, al
		mov	MenuCode, 100h

locret_AB68:				; CODE XREF: ProcessPreKeyboard:loc_AA3Aj
					; ProcessPreKeyboard+131j ...
		leave
		retn
ProcessPreKeyboard endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetPFlags	proc near		; CODE XREF: MoveServerPlayers+629p
					; MoveServerPlayers+640p ...

arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		les	di, [bp+arg_6]
		cmp	word ptr es:[di], 0
		jnz	short loc_AB78
		jmp	short locret_ABAE
; ---------------------------------------------------------------------------

loc_AB78:				; CODE XREF: SetPFlags+Aj
		les	di, [bp+arg_6]
		cmp	word ptr es:[di], 0Ah
		jg	short loc_AB98
		mov	ax, Time
		xor	dx, dx
		mov	cx, 64h	; 'd'
		div	cx
		xchg	ax, dx
		cmp	ax, 32h	; '2'
		ja	short loc_AB98
		cmp	RecordDemo, 0
		jz	short loc_ABA1

loc_AB98:				; CODE XREF: SetPFlags+15j
					; SetPFlags+25j
		mov	ax, [bp+arg_0]
		les	di, [bp+arg_2]
		add	es:[di], ax

loc_ABA1:				; CODE XREF: SetPFlags+2Cj
		cmp	NewSecond, 0
		jz	short locret_ABAE
		les	di, [bp+arg_6]
		dec	word ptr es:[di]

locret_ABAE:				; CODE XREF: SetPFlags+Cj
					; SetPFlags+3Cj
		leave
		retn	0Ah
SetPFlags	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MoveServerPlayers proc near		; CODE XREF: DoGame+3BDp

var_30		= word ptr -30h
var_2E		= dword	ptr -2Eh
var_29		= byte ptr -29h
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	30h, 0
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_ABC1
; ---------------------------------------------------------------------------

loc_ABBD:				; CODE XREF: MoveServerPlayers+92Ej
		inc	n__0

loc_ABC1:				; CODE XREF: MoveServerPlayers+9j
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2E], di
		mov	word ptr [bp+var_2E+2],	es
		cmp	byte ptr es:[di], 0
		jnz	short loc_ABDB
		jmp	loc_B4D9
; ---------------------------------------------------------------------------

loc_ABDB:				; CODE XREF: MoveServerPlayers+24j
		cmp	word ptr es:[di+28h], 0
		jg	short loc_ABE5
		jmp	loc_B4D9
; ---------------------------------------------------------------------------

loc_ABE5:				; CODE XREF: MoveServerPlayers+2Ej
		mov	[bp+var_12], 0
		mov	[bp+var_10], 0
		mov	[bp+var_E], 0
		mov	[bp+var_18], 0
		mov	[bp+var_16], 0
		mov	[bp+var_14], 0
		mov	ax, es:[di+1Eh]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	[bp+var_6], ax
		mov	[bp+var_4], bx
		mov	[bp+var_2], dx
		les	di, [bp+var_2E]
		assume es:nothing
		mov	ax, es:[di+1Eh]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	[bp+var_C], ax
		mov	[bp+var_A], bx
		mov	[bp+var_8], dx
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ch]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 8Bh	; '‹'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	[bp+var_24], ax
		mov	[bp+var_22], bx
		mov	[bp+var_20], dx
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ch]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 8Bh	; '‹'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	[bp+var_1E], ax
		mov	[bp+var_1C], bx
		mov	[bp+var_1A], dx
		mov	ax, t1
		mov	[bp+var_30], ax
		mov	ax, 1
		cmp	ax, [bp+var_30]
		jle	short loc_AD17
		jmp	loc_B084
; ---------------------------------------------------------------------------

loc_AD17:				; CODE XREF: MoveServerPlayers+160j
		mov	[bp+var_28], ax
		jmp	short loc_AD1F
; ---------------------------------------------------------------------------

loc_AD1C:				; CODE XREF: MoveServerPlayers+4CFj
		inc	[bp+var_28]

loc_AD1F:				; CODE XREF: MoveServerPlayers+168j
		cmp	RecordDemo, 0
		jz	short loc_AD2D
		mov	[bp+var_26], 1
		jmp	short loc_AD4A
; ---------------------------------------------------------------------------

loc_AD2D:				; CODE XREF: MoveServerPlayers+172j
		les	di, [bp+var_2E]
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_AD45
		mov	[bp+var_26], 1
		jmp	short loc_AD4A
; ---------------------------------------------------------------------------

loc_AD45:				; CODE XREF: MoveServerPlayers+18Aj
		mov	[bp+var_26], 2

loc_AD4A:				; CODE XREF: MoveServerPlayers+179j
					; MoveServerPlayers+191j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 3
		or	ax, ax
		jnz	short loc_AD93
		cmp	word ptr es:[di+12h], 0
		jz	short loc_AD93
		cmp	word ptr es:[di+12h], 0
		jle	short loc_AD7C
		mov	ax, [bp+var_26]
		sub	es:[di+12h], ax
		cmp	word ptr es:[di+12h], 0
		jge	short loc_AD7A
		xor	ax, ax
		mov	es:[di+12h], ax

loc_AD7A:				; CODE XREF: MoveServerPlayers+1C0j
		jmp	short loc_AD93
; ---------------------------------------------------------------------------

loc_AD7C:				; CODE XREF: MoveServerPlayers+1B2j
		mov	ax, [bp+var_26]
		les	di, [bp+var_2E]
		add	es:[di+12h], ax
		cmp	word ptr es:[di+12h], 0
		jle	short loc_AD93
		xor	ax, ax
		mov	es:[di+12h], ax

loc_AD93:				; CODE XREF: MoveServerPlayers+1A4j
					; MoveServerPlayers+1ABj ...
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ah]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_ADAB
		mov	[bp+var_26], 1
		jmp	short loc_ADB0
; ---------------------------------------------------------------------------

loc_ADAB:				; CODE XREF: MoveServerPlayers+1F0j
		mov	[bp+var_26], 2

loc_ADB0:				; CODE XREF: MoveServerPlayers+1F7j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+1Ah], 0
		jle	short loc_ADD0
		mov	ax, [bp+var_26]
		sub	es:[di+1Ah], ax
		cmp	word ptr es:[di+1Ah], 0
		jge	short loc_ADCE
		xor	ax, ax
		mov	es:[di+1Ah], ax

loc_ADCE:				; CODE XREF: MoveServerPlayers+214j
		jmp	short loc_ADE7
; ---------------------------------------------------------------------------

loc_ADD0:				; CODE XREF: MoveServerPlayers+206j
		mov	ax, [bp+var_26]
		les	di, [bp+var_2E]
		add	es:[di+1Ah], ax
		cmp	word ptr es:[di+1Ah], 0
		jle	short loc_ADE7
		xor	ax, ax
		mov	es:[di+1Ah], ax

loc_ADE7:				; CODE XREF: MoveServerPlayers:loc_ADCEj
					; MoveServerPlayers+22Dj
		cmp	RecordDemo, 0
		jz	short loc_ADF5
		mov	[bp+var_26], 1
		jmp	short loc_AE12
; ---------------------------------------------------------------------------

loc_ADF5:				; CODE XREF: MoveServerPlayers+23Aj
		les	di, [bp+var_2E]
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_AE0D
		mov	[bp+var_26], 2
		jmp	short loc_AE12
; ---------------------------------------------------------------------------

loc_AE0D:				; CODE XREF: MoveServerPlayers+252j
		mov	[bp+var_26], 4

loc_AE12:				; CODE XREF: MoveServerPlayers+241j
					; MoveServerPlayers+259j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 30h
		or	ax, ax
		jnz	short loc_AE54
		cmp	word ptr es:[di+14h], 0
		jle	short loc_AE3D
		mov	ax, [bp+var_26]
		sub	es:[di+14h], ax
		cmp	word ptr es:[di+14h], 0
		jge	short loc_AE3B
		xor	ax, ax
		mov	es:[di+14h], ax

loc_AE3B:				; CODE XREF: MoveServerPlayers+281j
		jmp	short loc_AE54
; ---------------------------------------------------------------------------

loc_AE3D:				; CODE XREF: MoveServerPlayers+273j
		mov	ax, [bp+var_26]
		les	di, [bp+var_2E]
		add	es:[di+14h], ax
		cmp	word ptr es:[di+14h], 0
		jle	short loc_AE54
		xor	ax, ax
		mov	es:[di+14h], ax

loc_AE54:				; CODE XREF: MoveServerPlayers+26Cj
					; MoveServerPlayers:loc_AE3Bj ...
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 1
		or	ax, ax
		jz	short loc_AE78
		cmp	word ptr es:[di+12h], 0
		jge	short loc_AE70
		add	word ptr es:[di+12h], 4
		jmp	short loc_AE78
; ---------------------------------------------------------------------------

loc_AE70:				; CODE XREF: MoveServerPlayers+2B5j
		les	di, [bp+var_2E]
		add	word ptr es:[di+12h], 2

loc_AE78:				; CODE XREF: MoveServerPlayers+2AEj
					; MoveServerPlayers+2BCj
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 2
		or	ax, ax
		jz	short loc_AE9C
		cmp	word ptr es:[di+12h], 0
		jle	short loc_AE94
		sub	word ptr es:[di+12h], 4
		jmp	short loc_AE9C
; ---------------------------------------------------------------------------

loc_AE94:				; CODE XREF: MoveServerPlayers+2D9j
		les	di, [bp+var_2E]
		sub	word ptr es:[di+12h], 2

loc_AE9C:				; CODE XREF: MoveServerPlayers+2D2j
					; MoveServerPlayers+2E0j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 10h
		or	ax, ax
		jz	short loc_AEC0
		cmp	word ptr es:[di+14h], 0
		jle	short loc_AEB8
		sub	word ptr es:[di+14h], 8
		jmp	short loc_AEC0
; ---------------------------------------------------------------------------

loc_AEB8:				; CODE XREF: MoveServerPlayers+2FDj
		les	di, [bp+var_2E]
		sub	word ptr es:[di+14h], 4

loc_AEC0:				; CODE XREF: MoveServerPlayers+2F6j
					; MoveServerPlayers+304j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 20h
		or	ax, ax
		jz	short loc_AEE4
		cmp	word ptr es:[di+14h], 0
		jge	short loc_AEDC
		add	word ptr es:[di+14h], 8
		jmp	short loc_AEE4
; ---------------------------------------------------------------------------

loc_AEDC:				; CODE XREF: MoveServerPlayers+321j
		les	di, [bp+var_2E]
		add	word ptr es:[di+14h], 4

loc_AEE4:				; CODE XREF: MoveServerPlayers+31Aj
					; MoveServerPlayers+328j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 400h
		or	ax, ax
		jnz	short loc_AF31
		cmp	word ptr es:[di+12h], 30h ; '0'
		jle	short loc_AEFF
		mov	word ptr es:[di+12h], 30h ; '0'

loc_AEFF:				; CODE XREF: MoveServerPlayers+345j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+12h], 0FFD0h
		jge	short loc_AF0F
		mov	word ptr es:[di+12h], 0FFD0h

loc_AF0F:				; CODE XREF: MoveServerPlayers+355j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 40h ; '@'
		jle	short loc_AF1F
		mov	word ptr es:[di+14h], 40h ; '@'

loc_AF1F:				; CODE XREF: MoveServerPlayers+365j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 0FFC0h
		jge	short loc_AF2F
		mov	word ptr es:[di+14h], 0FFC0h

loc_AF2F:				; CODE XREF: MoveServerPlayers+375j
		jmp	short loc_AF71
; ---------------------------------------------------------------------------

loc_AF31:				; CODE XREF: MoveServerPlayers+33Ej
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+12h], 48h ; 'H'
		jle	short loc_AF41
		mov	word ptr es:[di+12h], 48h ; 'H'

loc_AF41:				; CODE XREF: MoveServerPlayers+387j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+12h], 0FFB8h
		jge	short loc_AF51
		mov	word ptr es:[di+12h], 0FFB8h

loc_AF51:				; CODE XREF: MoveServerPlayers+397j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 40h ; '@'
		jle	short loc_AF61
		mov	word ptr es:[di+14h], 40h ; '@'

loc_AF61:				; CODE XREF: MoveServerPlayers+3A7j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 0FFC0h
		jge	short loc_AF71
		mov	word ptr es:[di+14h], 0FFC0h

loc_AF71:				; CODE XREF: MoveServerPlayers:loc_AF2Fj
					; MoveServerPlayers+3B7j
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ah]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_1E]
		mov	si, [bp+var_1C]
		mov	di, [bp+var_1A]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+14h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_C]
		mov	si, [bp+var_A]
		mov	di, [bp+var_8]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+12h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_6]
		mov	si, [bp+var_4]
		mov	di, [bp+var_2]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_12]
		mov	bx, [bp+var_10]
		mov	dx, [bp+var_E]
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		mov	[bp+var_12], ax
		mov	[bp+var_10], bx
		mov	[bp+var_E], dx
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ah]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_24]
		mov	si, [bp+var_22]
		mov	di, [bp+var_20]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+14h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_6]
		mov	si, [bp+var_4]
		mov	di, [bp+var_2]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+12h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_C]
		mov	si, [bp+var_A]
		mov	di, [bp+var_8]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_18]
		mov	bx, [bp+var_16]
		mov	dx, [bp+var_14]
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		mov	[bp+var_18], ax
		mov	[bp+var_16], bx
		mov	[bp+var_14], dx
		mov	ax, [bp+var_28]
		cmp	ax, [bp+var_30]
		jz	short loc_B084
		jmp	loc_AD1C
; ---------------------------------------------------------------------------

loc_B084:				; CODE XREF: MoveServerPlayers+162j
					; MoveServerPlayers+4CDj
		les	di, [bp+var_2E]
		mov	ax, es:[di+42h]
		add	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+42h], ax
		mov	ax, es:[di+40h]
		add	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+40h], ax
		mov	di, offset n__0
		push	ds
		push	di
		les	di, [bp+var_2E]
		add	di, 0Ah
		push	es
		push	di
		les	di, [bp+var_2E]
		add	di, 0Ch
		push	es
		push	di
		les	di, [bp+var_2E]
		push	word ptr es:[di+0Eh]
		mov	ax, [bp+var_12]
		mov	bx, [bp+var_10]
		mov	dx, [bp+var_E]
		mov	cx, 83h	; 'ƒ'
		xor	si, si
		mov	di, 6000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Trunc$q4Real	; Trunc(x: Real): Longint{DX:AX}
		push	ax
		mov	ax, [bp+var_18]
		mov	bx, [bp+var_16]
		mov	dx, [bp+var_14]
		mov	cx, 83h	; 'ƒ'
		xor	si, si
		mov	di, 6000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Trunc$q4Real	; Trunc(x: Real): Longint{DX:AX}
		push	ax
		push	1
		call	MoveOn
		mov	ax, t1
		les	di, [bp+var_2E]
		add	es:[di+22h], ax
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, 0Ah
		jg	short loc_B137
		mov	ax, es:[di+16h]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 14h
		jg	short loc_B137
		mov	al, 0
		jmp	short loc_B139
; ---------------------------------------------------------------------------

loc_B137:				; CODE XREF: MoveServerPlayers+571j
					; MoveServerPlayers+57Fj
		mov	al, 1

loc_B139:				; CODE XREF: MoveServerPlayers+583j
		mov	[bp+var_29], al
		cmp	[bp+var_29], 0
		jz	short loc_B15F
		les	di, [bp+var_2E]
		mov	al, es:[di+24h]
		cmp	al, 2
		jz	short loc_B151
		cmp	al, 7
		jnz	short loc_B15F

loc_B151:				; CODE XREF: MoveServerPlayers+599j
		les	di, [bp+var_2E]
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 6

loc_B15F:				; CODE XREF: MoveServerPlayers+58Ej
					; MoveServerPlayers+59Dj
		les	di, [bp+var_2E]
		mov	al, es:[di+24h]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-4090h]
		les	di, [bp+var_2E]
		cmp	ax, es:[di+22h]
		ja	short loc_B1BC
		mov	al, es:[di+24h]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-4090h]
		les	di, [bp+var_2E]
		sub	es:[di+22h], ax
		cmp	[bp+var_29], 0
		jz	short loc_B19B
		mov	byte ptr es:[di+24h], 0
		jmp	short loc_B1BC
; ---------------------------------------------------------------------------

loc_B19B:				; CODE XREF: MoveServerPlayers+5E0j
		les	di, [bp+var_2E]
		mov	al, es:[di+24h]
		cmp	al, 0
		jz	short loc_B1AA
		cmp	al, 6
		jnz	short loc_B1B4

loc_B1AA:				; CODE XREF: MoveServerPlayers+5F2j
		les	di, [bp+var_2E]
		mov	byte ptr es:[di+24h], 7
		jmp	short loc_B1BC
; ---------------------------------------------------------------------------

loc_B1B4:				; CODE XREF: MoveServerPlayers+5F6j
		les	di, [bp+var_2E]
		mov	byte ptr es:[di+24h], 2

loc_B1BC:				; CODE XREF: MoveServerPlayers+5C5j
					; MoveServerPlayers+5E7j ...
		les	di, [bp+var_2E]
		mov	ax, es:[di+2Ah]
		and	ax, 0FFF0h
		mov	es:[di+2Ah], ax
		add	di, 4Eh	; 'N'
		push	es
		push	di
		les	di, [bp+var_2E]
		add	di, 2Ah	; '*'
		push	es
		push	di
		push	1
		call	SetPFlags
		les	di, [bp+var_2E]
		add	di, 50h	; 'P'
		push	es
		push	di
		les	di, [bp+var_2E]
		add	di, 2Ah	; '*'
		push	es
		push	di
		push	2
		call	SetPFlags
		les	di, [bp+var_2E]
		add	di, 52h	; 'R'
		push	es
		push	di
		les	di, [bp+var_2E]
		add	di, 2Ah	; '*'
		push	es
		push	di
		push	4
		call	SetPFlags
		les	di, [bp+var_2E]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	4Eh ; 'N'
		mov	di, offset LandZ
		push	ds
		push	di
		mov	di, offset CeilZ
		push	ds
		push	di
		call	GetLandHeight
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 40h
		or	ax, ax
		jnz	short loc_B248
		cmp	word ptr es:[di+18h], 0
		jnz	short loc_B248
		mov	ax, es:[di+2Ah]
		and	ax, 0FEFFh
		mov	es:[di+2Ah], ax

loc_B248:				; CODE XREF: MoveServerPlayers+682j
					; MoveServerPlayers+689j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 80h
		or	ax, ax
		jnz	short loc_B261
		mov	ax, es:[di+2Ah]
		and	ax, 0FDFFh
		mov	es:[di+2Ah], ax

loc_B261:				; CODE XREF: MoveServerPlayers+6A2j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 40h
		or	ax, ax
		jz	short loc_B2DD
		mov	ax, es:[di+2Ah]
		and	ax, 100h
		or	ax, ax
		jnz	short loc_B2DD
		mov	ax, LandZ
		cmp	ax, es:[di+0Eh]
		jnz	short loc_B2DD
		mov	ax, es:[di+0Eh]
		add	ax, 300h
		cmp	ax, CeilZ
		jge	short loc_B2B6
		inc	word ptr es:[di+0Eh]
		mov	word ptr es:[di+18h], 2Ah ; '*'
		mov	ax, es:[di+2Ah]
		or	ax, 100h
		mov	es:[di+2Ah], ax
		push	0FFFFh
		push	0FFFFh
		push	n__0
		push	0Ch
		call	AddEvVoice
		jmp	short loc_B2DD
; ---------------------------------------------------------------------------

loc_B2B6:				; CODE XREF: MoveServerPlayers+6DCj
		les	di, [bp+var_2E]
		inc	word ptr es:[di+0Eh]
		mov	word ptr es:[di+18h], 10h
		mov	ax, es:[di+2Ah]
		or	ax, 100h
		mov	es:[di+2Ah], ax
		push	0FFFFh
		push	0FFFFh
		push	n__0
		push	0Dh
		call	AddEvVoice

loc_B2DD:				; CODE XREF: MoveServerPlayers+6BBj
					; MoveServerPlayers+6C6j ...
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		add	ax, 400h
		cmp	ax, LandZ
		jge	short loc_B2F4
		mov	ax, es:[di+0Eh]
		mov	LandZ, ax

loc_B2F4:				; CODE XREF: MoveServerPlayers+739j
		mov	ax, t1
		mov	[bp+var_30], ax
		mov	ax, 1
		cmp	ax, [bp+var_30]
		jle	short loc_B305
		jmp	loc_B401
; ---------------------------------------------------------------------------

loc_B305:				; CODE XREF: MoveServerPlayers+74Ej
		mov	[bp+var_28], ax
		jmp	short loc_B30D
; ---------------------------------------------------------------------------

loc_B30A:				; CODE XREF: MoveServerPlayers+84Cj
		inc	[bp+var_28]

loc_B30D:				; CODE XREF: MoveServerPlayers+756j
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jnz	short loc_B31D
		jmp	loc_B3ED
; ---------------------------------------------------------------------------

loc_B31D:				; CODE XREF: MoveServerPlayers+766j
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jge	short loc_B34E
		add	word ptr es:[di+18h], 4
		mov	ax, es:[di+18h]
		add	es:[di+0Eh], ax
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jle	short loc_B34B
		mov	ax, LandZ
		mov	es:[di+0Eh], ax
		xor	ax, ax
		mov	es:[di+18h], ax

loc_B34B:				; CODE XREF: MoveServerPlayers+78Aj
		jmp	loc_B3EB
; ---------------------------------------------------------------------------

loc_B34E:				; CODE XREF: MoveServerPlayers+773j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+18h], 0
		jle	short loc_B369
		mov	ax, es:[di+2Ah]
		and	ax, 100h
		or	ax, ax
		jnz	short loc_B369
		mov	word ptr es:[di+18h], 0FFFEh

loc_B369:				; CODE XREF: MoveServerPlayers+7A4j
					; MoveServerPlayers+7AFj
		les	di, [bp+var_2E]
		dec	word ptr es:[di+18h]
		mov	ax, es:[di+18h]
		add	es:[di+0Eh], ax
		mov	ax, es:[di+0Eh]
		cmp	ax, CeilZ
		jle	short loc_B3A0
		mov	ax, CeilZ
		mov	es:[di+0Eh], ax
		cmp	word ptr es:[di+18h], 0
		jle	short loc_B3A0
		mov	ax, es:[di+18h]
		neg	ax
		cwd
		mov	cx, 4
		idiv	cx
		mov	es:[di+18h], ax

loc_B3A0:				; CODE XREF: MoveServerPlayers+7CEj
					; MoveServerPlayers+7DCj
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jge	short loc_B3EB
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	LandZ
		call	iswater
		or	al, al
		jz	short loc_B3CA
		mov	w, 9
		jmp	short loc_B3D0
; ---------------------------------------------------------------------------

loc_B3CA:				; CODE XREF: MoveServerPlayers+80Ej
		mov	w, 0Eh

loc_B3D0:				; CODE XREF: MoveServerPlayers+816j
		mov	ax, LandZ
		les	di, [bp+var_2E]
		mov	es:[di+0Eh], ax
		push	0FFFFh
		push	0FFFFh
		push	n__0
		push	w
		call	AddEvVoice

loc_B3EB:				; CODE XREF: MoveServerPlayers:loc_B34Bj
					; MoveServerPlayers+7F9j
		jmp	short loc_B3F6
; ---------------------------------------------------------------------------

loc_B3ED:				; CODE XREF: MoveServerPlayers+768j
		les	di, [bp+var_2E]
		xor	ax, ax
		mov	es:[di+18h], ax

loc_B3F6:				; CODE XREF: MoveServerPlayers:loc_B3EBj
		mov	ax, [bp+var_28]
		cmp	ax, [bp+var_30]
		jz	short loc_B401
		jmp	loc_B30A
; ---------------------------------------------------------------------------

loc_B401:				; CODE XREF: MoveServerPlayers+750j
					; MoveServerPlayers+84Aj
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		add	ax, 600h
		mov	es:[di+3Ch], ax
		mov	ax, es:[di+1Eh]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 87h	; '‡'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 89h	; '‰'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		les	di, [bp+var_2E]
		mov	es:[di+3Ah], ax
		mov	ax, es:[di+1Eh]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	cx, 87h	; '‡'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 89h	; '‰'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		les	di, [bp+var_2E]
		mov	es:[di+38h], ax
		mov	ax, es:[di+3Ch]
		mov	di, es:[di+48h]
		shl	di, 5
		sub	ax, [di-1BBEh]
		les	di, [bp+var_2E]
		mov	es:[di+3Eh], ax

loc_B4D9:				; CODE XREF: MoveServerPlayers+26j
					; MoveServerPlayers+30j
		cmp	n__0, 7
		jz	short locret_B4E3
		jmp	loc_ABBD
; ---------------------------------------------------------------------------

locret_B4E3:				; CODE XREF: MoveServerPlayers+92Cj
		leave
		retn
MoveServerPlayers endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CorrectPlayerPosition proc near		; CODE XREF: DoGame+416p

var_30		= word ptr -30h
var_2E		= dword	ptr -2Eh
var_29		= byte ptr -29h
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	30h, 0
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_B4F4
; ---------------------------------------------------------------------------

loc_B4F0:				; CODE XREF: CorrectPlayerPosition+6E9j
		inc	n__0

loc_B4F4:				; CODE XREF: CorrectPlayerPosition+9j
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2E], di
		mov	word ptr [bp+var_2E+2],	es
		cmp	byte ptr es:[di], 0
		jnz	short loc_B50E
		jmp	loc_BBC7
; ---------------------------------------------------------------------------

loc_B50E:				; CODE XREF: CorrectPlayerPosition+24j
		cmp	word ptr es:[di+28h], 0
		jg	short loc_B518
		jmp	loc_BBC7
; ---------------------------------------------------------------------------

loc_B518:				; CODE XREF: CorrectPlayerPosition+2Ej
		mov	[bp+var_6], 0
		mov	[bp+var_4], 0
		mov	[bp+var_2], 0
		mov	[bp+var_C], 0
		mov	[bp+var_A], 0
		mov	[bp+var_8], 0
		mov	ax, es:[di+1Eh]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	[bp+var_1E], ax
		mov	[bp+var_1C], bx
		mov	[bp+var_1A], dx
		les	di, [bp+var_2E]
		assume es:nothing
		mov	ax, es:[di+1Eh]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	[bp+var_24], ax
		mov	[bp+var_22], bx
		mov	[bp+var_20], dx
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ch]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 8Bh	; '‹'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	[bp+var_18], ax
		mov	[bp+var_16], bx
		mov	[bp+var_14], dx
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ch]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 8Bh	; '‹'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	[bp+var_12], ax
		mov	[bp+var_10], bx
		mov	[bp+var_E], dx
		mov	ax, [bp+arg_0]
		mov	[bp+var_30], ax
		mov	ax, 1
		cmp	ax, [bp+var_30]
		jle	short loc_B64A
		jmp	loc_B99B
; ---------------------------------------------------------------------------

loc_B64A:				; CODE XREF: CorrectPlayerPosition+160j
		mov	[bp+var_28], ax
		jmp	short loc_B652
; ---------------------------------------------------------------------------

loc_B64F:				; CODE XREF: CorrectPlayerPosition+4B3j
		inc	[bp+var_28]

loc_B652:				; CODE XREF: CorrectPlayerPosition+168j
		les	di, [bp+var_2E]
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_B66A
		mov	[bp+var_26], 1
		jmp	short loc_B66F
; ---------------------------------------------------------------------------

loc_B66A:				; CODE XREF: CorrectPlayerPosition+17Cj
		mov	[bp+var_26], 2

loc_B66F:				; CODE XREF: CorrectPlayerPosition+183j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 3
		or	ax, ax
		jnz	short loc_B6B8
		cmp	word ptr es:[di+12h], 0
		jz	short loc_B6B8
		cmp	word ptr es:[di+12h], 0
		jle	short loc_B6A1
		mov	ax, [bp+var_26]
		sub	es:[di+12h], ax
		cmp	word ptr es:[di+12h], 0
		jge	short loc_B69F
		xor	ax, ax
		mov	es:[di+12h], ax

loc_B69F:				; CODE XREF: CorrectPlayerPosition+1B2j
		jmp	short loc_B6B8
; ---------------------------------------------------------------------------

loc_B6A1:				; CODE XREF: CorrectPlayerPosition+1A4j
		mov	ax, [bp+var_26]
		les	di, [bp+var_2E]
		add	es:[di+12h], ax
		cmp	word ptr es:[di+12h], 0
		jle	short loc_B6B8
		xor	ax, ax
		mov	es:[di+12h], ax

loc_B6B8:				; CODE XREF: CorrectPlayerPosition+196j
					; CorrectPlayerPosition+19Dj ...
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ah]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_B6D0
		mov	[bp+var_26], 1
		jmp	short loc_B6D5
; ---------------------------------------------------------------------------

loc_B6D0:				; CODE XREF: CorrectPlayerPosition+1E2j
		mov	[bp+var_26], 2

loc_B6D5:				; CODE XREF: CorrectPlayerPosition+1E9j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+1Ah], 0
		jle	short loc_B6F5
		mov	ax, [bp+var_26]
		sub	es:[di+1Ah], ax
		cmp	word ptr es:[di+1Ah], 0
		jge	short loc_B6F3
		xor	ax, ax
		mov	es:[di+1Ah], ax

loc_B6F3:				; CODE XREF: CorrectPlayerPosition+206j
		jmp	short loc_B70C
; ---------------------------------------------------------------------------

loc_B6F5:				; CODE XREF: CorrectPlayerPosition+1F8j
		mov	ax, [bp+var_26]
		les	di, [bp+var_2E]
		add	es:[di+1Ah], ax
		cmp	word ptr es:[di+1Ah], 0
		jle	short loc_B70C
		xor	ax, ax
		mov	es:[di+1Ah], ax

loc_B70C:				; CODE XREF: CorrectPlayerPosition:loc_B6F3j
					; CorrectPlayerPosition+21Fj
		les	di, [bp+var_2E]
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_B724
		mov	[bp+var_26], 2
		jmp	short loc_B729
; ---------------------------------------------------------------------------

loc_B724:				; CODE XREF: CorrectPlayerPosition+236j
		mov	[bp+var_26], 4

loc_B729:				; CODE XREF: CorrectPlayerPosition+23Dj
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 30h
		or	ax, ax
		jnz	short loc_B76B
		cmp	word ptr es:[di+14h], 0
		jle	short loc_B754
		mov	ax, [bp+var_26]
		sub	es:[di+14h], ax
		cmp	word ptr es:[di+14h], 0
		jge	short loc_B752
		xor	ax, ax
		mov	es:[di+14h], ax

loc_B752:				; CODE XREF: CorrectPlayerPosition+265j
		jmp	short loc_B76B
; ---------------------------------------------------------------------------

loc_B754:				; CODE XREF: CorrectPlayerPosition+257j
		mov	ax, [bp+var_26]
		les	di, [bp+var_2E]
		add	es:[di+14h], ax
		cmp	word ptr es:[di+14h], 0
		jle	short loc_B76B
		xor	ax, ax
		mov	es:[di+14h], ax

loc_B76B:				; CODE XREF: CorrectPlayerPosition+250j
					; CorrectPlayerPosition:loc_B752j ...
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 1
		or	ax, ax
		jz	short loc_B78F
		cmp	word ptr es:[di+12h], 0
		jge	short loc_B787
		add	word ptr es:[di+12h], 4
		jmp	short loc_B78F
; ---------------------------------------------------------------------------

loc_B787:				; CODE XREF: CorrectPlayerPosition+299j
		les	di, [bp+var_2E]
		add	word ptr es:[di+12h], 2

loc_B78F:				; CODE XREF: CorrectPlayerPosition+292j
					; CorrectPlayerPosition+2A0j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 2
		or	ax, ax
		jz	short loc_B7B3
		cmp	word ptr es:[di+12h], 0
		jle	short loc_B7AB
		sub	word ptr es:[di+12h], 4
		jmp	short loc_B7B3
; ---------------------------------------------------------------------------

loc_B7AB:				; CODE XREF: CorrectPlayerPosition+2BDj
		les	di, [bp+var_2E]
		sub	word ptr es:[di+12h], 2

loc_B7B3:				; CODE XREF: CorrectPlayerPosition+2B6j
					; CorrectPlayerPosition+2C4j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 10h
		or	ax, ax
		jz	short loc_B7D7
		cmp	word ptr es:[di+14h], 0
		jle	short loc_B7CF
		sub	word ptr es:[di+14h], 8
		jmp	short loc_B7D7
; ---------------------------------------------------------------------------

loc_B7CF:				; CODE XREF: CorrectPlayerPosition+2E1j
		les	di, [bp+var_2E]
		sub	word ptr es:[di+14h], 4

loc_B7D7:				; CODE XREF: CorrectPlayerPosition+2DAj
					; CorrectPlayerPosition+2E8j
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 20h
		or	ax, ax
		jz	short loc_B7FB
		cmp	word ptr es:[di+14h], 0
		jge	short loc_B7F3
		add	word ptr es:[di+14h], 8
		jmp	short loc_B7FB
; ---------------------------------------------------------------------------

loc_B7F3:				; CODE XREF: CorrectPlayerPosition+305j
		les	di, [bp+var_2E]
		add	word ptr es:[di+14h], 4

loc_B7FB:				; CODE XREF: CorrectPlayerPosition+2FEj
					; CorrectPlayerPosition+30Cj
		les	di, [bp+var_2E]
		mov	ax, es:[di+20h]
		and	ax, 400h
		or	ax, ax
		jnz	short loc_B848
		cmp	word ptr es:[di+12h], 30h ; '0'
		jle	short loc_B816
		mov	word ptr es:[di+12h], 30h ; '0'

loc_B816:				; CODE XREF: CorrectPlayerPosition+329j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+12h], 0FFD0h
		jge	short loc_B826
		mov	word ptr es:[di+12h], 0FFD0h

loc_B826:				; CODE XREF: CorrectPlayerPosition+339j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 40h ; '@'
		jle	short loc_B836
		mov	word ptr es:[di+14h], 40h ; '@'

loc_B836:				; CODE XREF: CorrectPlayerPosition+349j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 0FFC0h
		jge	short loc_B846
		mov	word ptr es:[di+14h], 0FFC0h

loc_B846:				; CODE XREF: CorrectPlayerPosition+359j
		jmp	short loc_B888
; ---------------------------------------------------------------------------

loc_B848:				; CODE XREF: CorrectPlayerPosition+322j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+12h], 48h ; 'H'
		jle	short loc_B858
		mov	word ptr es:[di+12h], 48h ; 'H'

loc_B858:				; CODE XREF: CorrectPlayerPosition+36Bj
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+12h], 0FFB8h
		jge	short loc_B868
		mov	word ptr es:[di+12h], 0FFB8h

loc_B868:				; CODE XREF: CorrectPlayerPosition+37Bj
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 40h ; '@'
		jle	short loc_B878
		mov	word ptr es:[di+14h], 40h ; '@'

loc_B878:				; CODE XREF: CorrectPlayerPosition+38Bj
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+14h], 0FFC0h
		jge	short loc_B888
		mov	word ptr es:[di+14h], 0FFC0h

loc_B888:				; CODE XREF: CorrectPlayerPosition:loc_B846j
					; CorrectPlayerPosition+39Bj
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ah]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_12]
		mov	si, [bp+var_10]
		mov	di, [bp+var_E]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+14h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_24]
		mov	si, [bp+var_22]
		mov	di, [bp+var_20]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+12h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_1E]
		mov	si, [bp+var_1C]
		mov	di, [bp+var_1A]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_6]
		mov	bx, [bp+var_4]
		mov	dx, [bp+var_2]
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		mov	[bp+var_6], ax
		mov	[bp+var_4], bx
		mov	[bp+var_2], dx
		les	di, [bp+var_2E]
		mov	ax, es:[di+1Ah]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_18]
		mov	si, [bp+var_16]
		mov	di, [bp+var_14]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+14h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_1E]
		mov	si, [bp+var_1C]
		mov	di, [bp+var_1A]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2E]
		mov	ax, es:[di+12h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_24]
		mov	si, [bp+var_22]
		mov	di, [bp+var_20]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_C]
		mov	bx, [bp+var_A]
		mov	dx, [bp+var_8]
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		mov	[bp+var_C], ax
		mov	[bp+var_A], bx
		mov	[bp+var_8], dx
		mov	ax, [bp+var_28]
		cmp	ax, [bp+var_30]
		jz	short loc_B99B
		jmp	loc_B64F
; ---------------------------------------------------------------------------

loc_B99B:				; CODE XREF: CorrectPlayerPosition+162j
					; CorrectPlayerPosition+4B1j
		mov	di, offset n__0
		push	ds
		push	di
		les	di, [bp+var_2E]
		add	di, 0Ah
		push	es
		push	di
		les	di, [bp+var_2E]
		add	di, 0Ch
		push	es
		push	di
		les	di, [bp+var_2E]
		push	word ptr es:[di+0Eh]
		mov	ax, [bp+var_6]
		mov	bx, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 83h	; 'ƒ'
		xor	si, si
		mov	di, 6000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Trunc$q4Real	; Trunc(x: Real): Longint{DX:AX}
		push	ax
		mov	ax, [bp+var_C]
		mov	bx, [bp+var_A]
		mov	dx, [bp+var_8]
		mov	cx, 83h	; 'ƒ'
		xor	si, si
		mov	di, 6000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Trunc$q4Real	; Trunc(x: Real): Longint{DX:AX}
		push	ax
		push	1
		call	MoveOn
		les	di, [bp+var_2E]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	4Eh ; 'N'
		mov	di, offset LandZ
		push	ds
		push	di
		mov	di, offset CeilZ
		push	ds
		push	di
		call	GetLandHeight
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		add	ax, 400h
		cmp	ax, LandZ
		jge	short loc_BA2B
		mov	ax, es:[di+0Eh]
		mov	LandZ, ax

loc_BA2B:				; CODE XREF: CorrectPlayerPosition+53Dj
		mov	ax, [bp+arg_0]
		mov	[bp+var_30], ax
		mov	ax, 1
		cmp	ax, [bp+var_30]
		jle	short loc_BA3C
		jmp	loc_BB00
; ---------------------------------------------------------------------------

loc_BA3C:				; CODE XREF: CorrectPlayerPosition+552j
		mov	[bp+var_28], ax
		jmp	short loc_BA44
; ---------------------------------------------------------------------------

loc_BA41:				; CODE XREF: CorrectPlayerPosition+618j
		inc	[bp+var_28]

loc_BA44:				; CODE XREF: CorrectPlayerPosition+55Aj
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jnz	short loc_BA54
		jmp	loc_BAEC
; ---------------------------------------------------------------------------

loc_BA54:				; CODE XREF: CorrectPlayerPosition+56Aj
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jge	short loc_BA84
		add	word ptr es:[di+18h], 4
		mov	ax, es:[di+18h]
		add	es:[di+0Eh], ax
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jle	short loc_BA82
		mov	ax, LandZ
		mov	es:[di+0Eh], ax
		xor	ax, ax
		mov	es:[di+18h], ax

loc_BA82:				; CODE XREF: CorrectPlayerPosition+58Ej
		jmp	short loc_BAEA
; ---------------------------------------------------------------------------

loc_BA84:				; CODE XREF: CorrectPlayerPosition+577j
		les	di, [bp+var_2E]
		cmp	word ptr es:[di+18h], 0
		jle	short loc_BA9F
		mov	ax, es:[di+2Ah]
		and	ax, 100h
		or	ax, ax
		jnz	short loc_BA9F
		mov	word ptr es:[di+18h], 0FFFEh

loc_BA9F:				; CODE XREF: CorrectPlayerPosition+5A7j
					; CorrectPlayerPosition+5B2j
		les	di, [bp+var_2E]
		dec	word ptr es:[di+18h]
		mov	ax, es:[di+18h]
		add	es:[di+0Eh], ax
		mov	ax, es:[di+0Eh]
		cmp	ax, LandZ
		jge	short loc_BABF
		mov	ax, LandZ
		mov	es:[di+0Eh], ax

loc_BABF:				; CODE XREF: CorrectPlayerPosition+5D1j
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		cmp	ax, CeilZ
		jle	short loc_BAEA
		mov	ax, CeilZ
		mov	es:[di+0Eh], ax
		cmp	word ptr es:[di+18h], 0
		jle	short loc_BAEA
		mov	ax, es:[di+18h]
		neg	ax
		cwd
		mov	cx, 4
		idiv	cx
		mov	es:[di+18h], ax

loc_BAEA:				; CODE XREF: CorrectPlayerPosition:loc_BA82j
					; CorrectPlayerPosition+5E5j ...
		jmp	short loc_BAF5
; ---------------------------------------------------------------------------

loc_BAEC:				; CODE XREF: CorrectPlayerPosition+56Cj
		les	di, [bp+var_2E]
		xor	ax, ax
		mov	es:[di+18h], ax

loc_BAF5:				; CODE XREF: CorrectPlayerPosition:loc_BAEAj
		mov	ax, [bp+var_28]
		cmp	ax, [bp+var_30]
		jz	short loc_BB00
		jmp	loc_BA41
; ---------------------------------------------------------------------------

loc_BB00:				; CODE XREF: CorrectPlayerPosition+554j
					; CorrectPlayerPosition+616j
		les	di, [bp+var_2E]
		mov	ax, es:[di+0Eh]
		add	ax, 600h
		mov	es:[di+3Ch], ax
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, 0Ah
		jg	short loc_BB3B
		mov	ax, es:[di+16h]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 14h
		jg	short loc_BB3B
		mov	al, 0
		jmp	short loc_BB3D
; ---------------------------------------------------------------------------

loc_BB3B:				; CODE XREF: CorrectPlayerPosition+642j
					; CorrectPlayerPosition+650j
		mov	al, 1

loc_BB3D:				; CODE XREF: CorrectPlayerPosition+654j
		mov	[bp+var_29], al
		mov	ax, [bp+arg_0]
		les	di, [bp+var_2E]
		add	es:[di+22h], ax
		cmp	[bp+var_29], 0
		jz	short loc_BB6A
		mov	al, es:[di+24h]
		cmp	al, 2
		jz	short loc_BB5C
		cmp	al, 7
		jnz	short loc_BB6A

loc_BB5C:				; CODE XREF: CorrectPlayerPosition+671j
		les	di, [bp+var_2E]
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 6

loc_BB6A:				; CODE XREF: CorrectPlayerPosition+669j
					; CorrectPlayerPosition+675j
		les	di, [bp+var_2E]
		mov	al, es:[di+24h]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-4090h]
		les	di, [bp+var_2E]
		cmp	ax, es:[di+22h]
		ja	short loc_BBC7
		mov	al, es:[di+24h]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-4090h]
		les	di, [bp+var_2E]
		sub	es:[di+22h], ax
		cmp	[bp+var_29], 0
		jz	short loc_BBA6
		mov	byte ptr es:[di+24h], 0
		jmp	short loc_BBC7
; ---------------------------------------------------------------------------

loc_BBA6:				; CODE XREF: CorrectPlayerPosition+6B8j
		les	di, [bp+var_2E]
		mov	al, es:[di+24h]
		cmp	al, 0
		jz	short loc_BBB5
		cmp	al, 6
		jnz	short loc_BBBF

loc_BBB5:				; CODE XREF: CorrectPlayerPosition+6CAj
		les	di, [bp+var_2E]
		mov	byte ptr es:[di+24h], 7
		jmp	short loc_BBC7
; ---------------------------------------------------------------------------

loc_BBBF:				; CODE XREF: CorrectPlayerPosition+6CEj
		les	di, [bp+var_2E]
		mov	byte ptr es:[di+24h], 2

loc_BBC7:				; CODE XREF: CorrectPlayerPosition+26j
					; CorrectPlayerPosition+30j ...
		cmp	n__0, 7
		jz	short locret_BBD1
		jmp	loc_B4F0
; ---------------------------------------------------------------------------

locret_BBD1:				; CODE XREF: CorrectPlayerPosition+6E7j
		leave
		retn	2
CorrectPlayerPosition endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CorrectRocketPosition proc near		; CODE XREF: DoGame+41Dp

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	0Ah, 0
		mov	ax, [bp+arg_0]
		mov	[bp+var_4], ax
		mov	ax, RCount
		mov	[bp+var_6], ax
		mov	ax, 1
		cmp	ax, [bp+var_6]
		jle	short loc_BBF0
		jmp	locret_BD39
; ---------------------------------------------------------------------------

loc_BBF0:				; CODE XREF: CorrectRocketPosition+16j
		mov	n__0, ax
		jmp	short loc_BBF9
; ---------------------------------------------------------------------------

loc_BBF5:				; CODE XREF: CorrectRocketPosition+161j
		inc	n__0

loc_BBF9:				; CODE XREF: CorrectRocketPosition+1Ej
		imul	di, n__0, 18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	ax, [bp+var_4]
		mov	[bp+arg_0], ax
		mov	al, byte ptr [bp+arg_0]
		add	es:[di+0Dh], al
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		mov	dx, [di-3270h]
		les	di, [bp+var_A]
		assume es:nothing
		mov	al, es:[di+0Dh]
		xor	ah, ah
		cmp	ax, dx
		jb	short loc_BC45
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		mov	al, [di-3270h]
		les	di, [bp+var_A]
		sub	es:[di+0Dh], al

loc_BC45:				; CODE XREF: CorrectRocketPosition+5Aj
		les	di, [bp+var_A]
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		mov	al, [di-3272h]
		and	al, 1
		or	al, al
		jz	short loc_BC63
		mov	ax, [bp+arg_0]
		shl	ax, 1
		mov	[bp+arg_0], ax

loc_BC63:				; CODE XREF: CorrectRocketPosition+84j
		les	di, [bp+var_A]
		mov	ax, es:[di+0Ah]
		mov	b0, ax
		mov	ax, es:[di+0Ah]
		mov	b0, ax
		add	b0, 4000h
		mov	ax, es:[di+0Ah]
		add	ax, 0
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 4
		idiv	cx
		mul	[bp+arg_0]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	dx, ax
		les	di, [bp+var_A]
		mov	ax, es:[di+2]
		sub	ax, dx
		mov	es:[di+2], ax
		mov	ax, b0
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 4
		idiv	cx
		mul	[bp+arg_0]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	dx, ax
		les	di, [bp+var_A]
		mov	ax, es:[di+6]
		sub	ax, dx
		mov	es:[di+6], ax
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		mov	al, [di-3272h]
		and	al, 1
		xor	ah, ah
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		mul	[bp+arg_0]
		add	ax, [bp+arg_0]
		les	di, [bp+var_A]
		mul	word ptr es:[di+12h]
		cwd
		mov	cx, 8
		idiv	cx
		add	es:[di+8], ax
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		mov	al, [di-3272h]
		and	al, 4
		or	al, al
		jz	short loc_BD2E
		les	di, [bp+var_A]
		push	word ptr es:[di+2]
		push	word ptr es:[di+6]
		push	5
		push	12h
		push	0FFh
		call	_AddBlowLight

loc_BD2E:				; CODE XREF: CorrectRocketPosition+140j
		mov	ax, n__0
		cmp	ax, [bp+var_6]
		jz	short locret_BD39
		jmp	loc_BBF5
; ---------------------------------------------------------------------------

locret_BD39:				; CODE XREF: CorrectRocketPosition+18j
					; CorrectRocketPosition+15Fj
		leave
		retn	2
CorrectRocketPosition endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CorrectMonstersPosition	proc near	; CODE XREF: DoGame+424p

var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
arg_0		= word ptr  4

		enter	0Eh, 0
		mov	n__0, 1
		inc	MsTakt

loc_BD4B:				; CODE XREF: CorrectMonstersPosition:loc_BF31j
		mov	ax, MCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, n__0
		cwd
		cmp	dx, bx
		jl	short loc_BD68
		jle	short loc_BD61
		jmp	locret_BF34
; ---------------------------------------------------------------------------

loc_BD61:				; CODE XREF: CorrectMonstersPosition+1Fj
		cmp	ax, cx
		jbe	short loc_BD68
		jmp	locret_BF34
; ---------------------------------------------------------------------------

loc_BD68:				; CODE XREF: CorrectMonstersPosition+1Dj
					; CorrectMonstersPosition+26j
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		cmp	byte ptr es:[di+0Bh], 0FFh
		jnz	short loc_BD87
		inc	n__0
		jmp	loc_BF31
; ---------------------------------------------------------------------------

loc_BD87:				; CODE XREF: CorrectMonstersPosition+41j
		les	di, [bp+var_A]
		assume es:nothing
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		les	di, [bp+var_A]
		assume es:nothing
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		ja	short loc_BDAD
		jmp	loc_BEE3
; ---------------------------------------------------------------------------

loc_BDAD:				; CODE XREF: CorrectMonstersPosition+6Bj
		mov	ax, [bp+arg_0]
		add	es:[di+6], ax
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_E]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_A]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_BDDB
		jl	short loc_BE16
		cmp	ax, cx
		jb	short loc_BE16

loc_BDDB:				; CODE XREF: CorrectMonstersPosition+96j
		les	di, [bp+var_A]
		cmp	word ptr es:[di+8], 10h
		jge	short loc_BDFD
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_E]
		add	di, ax
		mov	ax, es:[di+7Ah]
		les	di, [bp+var_A]
		sub	es:[di+6], ax
		jmp	short loc_BE16
; ---------------------------------------------------------------------------

loc_BDFD:				; CODE XREF: CorrectMonstersPosition+A6j
		les	di, [bp+var_A]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_E]
		add	di, ax
		mov	ax, es:[di+7Ah]
		les	di, [bp+var_A]
		mov	es:[di+6], ax

loc_BE16:				; CODE XREF: CorrectMonstersPosition+98j
					; CorrectMonstersPosition+9Cj ...
		les	di, [bp+var_A]
		mov	ax, es:[di+4]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		les	di, [bp+var_E]
		mul	word ptr es:[di+2]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		les	di, [bp+var_A]
		mov	es:[di+0Eh], ax
		mov	di, es:[di+4]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		les	di, [bp+var_E]
		mul	word ptr es:[di+2]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		les	di, [bp+var_A]
		mov	es:[di+10h], ax
		cmp	word ptr es:[di+8], 0
		jnz	short loc_BEE1
		mov	ax, es:[di+0Eh]
		mul	[bp+arg_0]
		cwd
		mov	cx, 4
		idiv	cx
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+10h]
		mul	[bp+arg_0]
		cwd
		mov	cx, 4
		idiv	cx
		add	ax, es:[di+2]
		push	ax
		push	word ptr es:[di+20h]
		les	di, [bp+var_E]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+8]
		mov	ax, es:[di+0Ah]
		sub	ax, 28h	; '('
		push	ax
		push	0
		push	1
		push	0
		call	NotFreeForMonster
		or	al, al
		jnz	short loc_BEE1
		les	di, [bp+var_A]
		mov	ax, es:[di+0Eh]
		mul	[bp+arg_0]
		cwd
		mov	cx, 4
		idiv	cx
		add	es:[di], ax
		mov	ax, es:[di+10h]
		mul	[bp+arg_0]
		cwd
		mov	cx, 4
		idiv	cx
		add	es:[di+2], ax

loc_BEE1:				; CODE XREF: CorrectMonstersPosition+131j
					; CorrectMonstersPosition+17Ej
		jmp	short loc_BF2D
; ---------------------------------------------------------------------------

loc_BEE3:				; CODE XREF: CorrectMonstersPosition+6Dj
		mov	ax, [bp+arg_0]
		les	di, [bp+var_A]
		add	es:[di+6], ax
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_E]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_A]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_BF14
		jl	short loc_BF2D
		cmp	ax, cx
		jb	short loc_BF2D

loc_BF14:				; CODE XREF: CorrectMonstersPosition+1CFj
		les	di, [bp+var_A]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_E]
		add	di, ax
		mov	ax, es:[di+7Ah]
		les	di, [bp+var_A]
		mov	es:[di+6], ax

loc_BF2D:				; CODE XREF: CorrectMonstersPosition:loc_BEE1j
					; CorrectMonstersPosition+1D1j	...
		inc	n__0

loc_BF31:				; CODE XREF: CorrectMonstersPosition+47j
		jmp	loc_BD4B
; ---------------------------------------------------------------------------

locret_BF34:				; CODE XREF: CorrectMonstersPosition+21j
					; CorrectMonstersPosition+28j
		leave
		retn	2
CorrectMonstersPosition	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RedrawWindowSelection proc near		; CODE XREF: AnimateKeyboard:loc_C1DEp

var_2		= word ptr -2

		enter	6, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_BF46
; ---------------------------------------------------------------------------

loc_BF43:				; CODE XREF: RedrawWindowSelection+4Fj
		inc	[bp+var_2]

loc_BF46:				; CODE XREF: RedrawWindowSelection+9j
		cmp	Console, 0
		jnz	short loc_BF56
		mov	ax, [bp+var_2]
		cmp	ax, CurWindow
		jz	short loc_BF83

loc_BF56:				; CODE XREF: RedrawWindowSelection+13j
		mov	di, [bp+var_2]
		shl	di, 2
		add	di, 27Eh
		push	ds
		pop	es
		assume es:dseg11
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di]
		add	ax, 12Fh
		push	ax
		mov	ax, es:[di+2]
		add	ax, 95h	; '•'
		push	ax
		push	3
		push	1
		push	4
		call	vesa_DrawKey

loc_BF83:				; CODE XREF: RedrawWindowSelection+1Cj
		cmp	[bp+var_2], 3
		jnz	short loc_BF43
		cmp	Console, 0
		jnz	short locret_BFBE
		mov	di, CurWindow
		shl	di, 2
		add	di, 27Eh
		push	ds
		pop	es
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di]
		add	ax, 12Fh
		push	ax
		mov	ax, es:[di+2]
		add	ax, 95h	; '•'
		push	ax
		push	1
		push	26h ; '&'
		push	25h ; '%'
		call	vesa_DrawKey

locret_BFBE:				; CODE XREF: RedrawWindowSelection+56j
		leave
		retn
RedrawWindowSelection endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateKeyboard	proc near		; CODE XREF: DoGame:loc_C7AFp

var_24		= dword	ptr -24h
var_20		= byte ptr -20h

		enter	24h, 0
		cmp	PlayDemo, 0
		jz	short loc_BFCE
		jmp	loc_C07A
; ---------------------------------------------------------------------------

loc_BFCE:				; CODE XREF: AnimateKeyboard+9j
		cmp	EndOfTheGame, 0
		jz	short loc_BFD8
		jmp	loc_C07A
; ---------------------------------------------------------------------------

loc_BFD8:				; CODE XREF: AnimateKeyboard+13j
		mov	al, key
		mov	ah, 1
		mov	dx, 20h	; ' '
		call	@Set@GetElemOffset$q4Wordt1 ; Compute Set offset and bitmask
					; AL - Element number
					; AH - mask
					; DX - Set params
		push	dx
		push	ax
		lea	di, [bp+var_20]
		push	ss
		push	di
		push	0
		call	@$basg$qm3Set4Word ; Load word sized set
		push	2
		mov	ax, WeaponsCount
		dec	ax
		inc	ax
		inc	ax
		push	ax
		call	@Set@$brplu$q4Bytet1 ; Add Set range
		pop	di
		pop	es
		assume es:nothing
		pop	ax
		pop	dx
		add	di, dx
		test	es:[di], al
		jz	short loc_C07A
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_24], di
		mov	word ptr [bp+var_24+2],	es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_C07A
		mov	al, key
		xor	ah, ah
		dec	ax
		dec	ax
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		mov	al, es:[di+25h]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jle	short loc_C07A
		mov	al, key
		dec	al
		xor	ah, ah
		cmp	ax, es:[di+48h]
		jz	short loc_C07A
		mov	al, key
		dec	al
		xor	ah, ah
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		jbe	short loc_C07A
		mov	al, key
		dec	al
		xor	ah, ah
		les	di, [bp+var_24]
		assume es:nothing
		mov	es:[di+48h], ax
		cmp	GunShift, 0
		jnz	short loc_C07A
		mov	GunShift, 1

loc_C07A:				; CODE XREF: AnimateKeyboard+Bj
					; AnimateKeyboard+15j ...
		cmp	key, 0Fh
		jnz	short loc_C08E
		cmp	MapMode, 0
		mov	al, 0
		jnz	short loc_C08B
		inc	ax

loc_C08B:				; CODE XREF: AnimateKeyboard+C8j
		mov	MapMode, al

loc_C08E:				; CODE XREF: AnimateKeyboard+BFj
		mov	al, byte_44E98
		neg	al
		sbb	al, al
		neg	al
		mov	TabMode, al
		cmp	NETMonitor, 0
		jz	short loc_C0A4
		jmp	loc_C153
; ---------------------------------------------------------------------------

loc_C0A4:				; CODE XREF: AnimateKeyboard+DFj
		mov	al, key
		cmp	al, 0Ch
		jb	short loc_C0AF
		cmp	al, 0Dh
		jbe	short loc_C0BA

loc_C0AF:				; CODE XREF: AnimateKeyboard+E9j
		mov	al, key
		cmp	al, 4Ah	; 'J'
		jz	short loc_C0BA
		cmp	al, 4Eh	; 'N'
		jnz	short loc_C0E5

loc_C0BA:				; CODE XREF: AnimateKeyboard+EDj
					; AnimateKeyboard+F4j
		cmp	key, 0Ch
		jz	short loc_C0C8
		cmp	key, 4Ah ; 'J'
		jnz	short loc_C0CD

loc_C0C8:				; CODE XREF: AnimateKeyboard+FFj
		mov	InfoPage, 1

loc_C0CD:				; CODE XREF: AnimateKeyboard+106j
		cmp	key, 0Dh
		jz	short loc_C0DB
		cmp	key, 4Eh ; 'N'
		jnz	short loc_C0E0

loc_C0DB:				; CODE XREF: AnimateKeyboard+112j
		mov	InfoPage, 0

loc_C0E0:				; CODE XREF: AnimateKeyboard+119j
		call	ReInitViewConst

loc_C0E5:				; CODE XREF: AnimateKeyboard+F8j
		cmp	byte_44E78, 0
		jz	short loc_C0F7
		cmp	mps, 10h
		jle	short loc_C0F7
		dec	mps

loc_C0F7:				; CODE XREF: AnimateKeyboard+12Aj
					; AnimateKeyboard+131j
		cmp	byte_44E79, 0
		jz	short loc_C109
		cmp	mps, 40h ; '@'
		jge	short loc_C109
		inc	mps

loc_C109:				; CODE XREF: AnimateKeyboard+13Cj
					; AnimateKeyboard+143j
		cmp	key, 0Eh
		jnz	short loc_C12F
		cmp	Console, 0
		jz	short loc_C11F
		mov	ConsDY,	0FFFFh
		jmp	short loc_C12A
; ---------------------------------------------------------------------------

loc_C11F:				; CODE XREF: AnimateKeyboard+155j
		mov	ConsDY,	1
		mov	Console, 1

loc_C12A:				; CODE XREF: AnimateKeyboard+15Dj
		call	ReInitViewConst

loc_C12F:				; CODE XREF: AnimateKeyboard+14Ej
		cmp	key, 1
		jnz	short loc_C150
		push	0
		push	0
		push	0
		push	3
		call	AddVoice
		cmp	MenuOn,	0
		mov	al, 0
		jnz	short loc_C14D
		inc	ax

loc_C14D:				; CODE XREF: AnimateKeyboard+18Aj
		mov	MenuOn,	al

loc_C150:				; CODE XREF: AnimateKeyboard+174j
		jmp	loc_C1E1
; ---------------------------------------------------------------------------

loc_C153:				; CODE XREF: AnimateKeyboard+E1j
		mov	al, key
		cmp	al, 2
		jb	short loc_C187
		cmp	al, 8
		jbe	short loc_C162
		cmp	al, 0Bh
		jnz	short loc_C187

loc_C162:				; CODE XREF: AnimateKeyboard+19Cj
		cmp	key, 0Bh
		jnz	short loc_C174
		mov	di, CurWindow
		mov	byte ptr [di-0AC0h], 0
		jmp	short loc_C182
; ---------------------------------------------------------------------------

loc_C174:				; CODE XREF: AnimateKeyboard+1A7j
		mov	al, key
		xor	ah, ah
		dec	ax
		mov	di, CurWindow
		mov	[di-0AC0h], al

loc_C182:				; CODE XREF: AnimateKeyboard+1B2j
		call	ClearUnusedScreens

loc_C187:				; CODE XREF: AnimateKeyboard+198j
					; AnimateKeyboard+1A0j
		cmp	key, 1
		jnz	short loc_C19B
		cmp	Console, 0
		mov	al, 0
		jnz	short loc_C198
		inc	ax

loc_C198:				; CODE XREF: AnimateKeyboard+1D5j
		mov	Console, al

loc_C19B:				; CODE XREF: AnimateKeyboard+1CCj
		cmp	key, 4Dh ; 'M'
		jnz	short loc_C1A6
		inc	CurWindow

loc_C1A6:				; CODE XREF: AnimateKeyboard+1E0j
		cmp	key, 50h ; 'P'
		jnz	short loc_C1B2
		add	CurWindow, 2

loc_C1B2:				; CODE XREF: AnimateKeyboard+1EBj
		mov	ax, CurWindow
		and	ax, 3
		mov	CurWindow, ax
		cmp	key, 4Bh ; 'K'
		jnz	short loc_C1C6
		dec	CurWindow

loc_C1C6:				; CODE XREF: AnimateKeyboard+200j
		cmp	key, 48h ; 'H'
		jnz	short loc_C1D2
		sub	CurWindow, 2

loc_C1D2:				; CODE XREF: AnimateKeyboard+20Bj
		cmp	CurWindow, 0
		jge	short loc_C1DE
		add	CurWindow, 4

loc_C1DE:				; CODE XREF: AnimateKeyboard+217j
		call	RedrawWindowSelection

loc_C1E1:				; CODE XREF: AnimateKeyboard:loc_C150j
					; AnimateKeyboard+22Fj
		call	KeyPressed
		or	al, al
		jz	short locret_C1F1
		call	ReadKey
		jmp	short loc_C1E1
; ---------------------------------------------------------------------------

locret_C1F1:				; CODE XREF: AnimateKeyboard+228j
		leave
		retn
AnimateKeyboard	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StopSound	proc near		; CODE XREF: DoGame+19CBp

var_2		= word ptr -2

		enter	2, 0
		push	0FFFFh
		call	SetAmbient
		mov	ObjAmbU, 0FFFFh
		cli
		mov	al, MaxVoice
		xor	ah, ah
		mov	[bp+var_2], ax
		xor	ax, ax
		cmp	ax, [bp+var_2]
		jg	short loc_C230
		mov	n__0, ax
		jmp	short loc_C21D
; ---------------------------------------------------------------------------

loc_C219:				; CODE XREF: StopSound+3Bj
		inc	n__0

loc_C21D:				; CODE XREF: StopSound+24j
		imul	di, n__0, 0Eh
		mov	word ptr [di-878h], 0FFh
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jnz	short loc_C219

loc_C230:				; CODE XREF: StopSound+1Fj
		sti
		leave
		retn
StopSound	endp

; ---------------------------------------------------------------------------
aYouGotInvisibi	db 20,'YOU GOT INVISIBILITY' ; DATA XREF: DoGame+14D1o
aYouGotTheRefle	db 21,'YOU GOT THE REFLECTOR' ; DATA XREF: DoGame+1518o
aYouGotTheChoji	db 23,'YOU GOT THE CHOJIN MASK' ; DATA XREF: DoGame+155Fo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DoGame		proc near		; CODE XREF: PROGRAM:loc_EEDEp

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		enter	10h, 0
		mov	ExMode,	0
		mov	MenuOn,	0
		xor	ax, ax
		mov	MenuMainY, ax
		xor	ax, ax
		mov	MenuMode, ax
		xor	ax, ax
		mov	MenuCode, ax
		xor	ax, ax
		mov	RealTime, ax
		mov	word_44D7C, ax
		xor	ax, ax
		mov	LastPainTime, ax
		mov	word_44D84, ax
		mov	NextSendTime, 0FFF2h
		mov	word_366AA, 0FFFFh
		mov	SecCounter, 0
		mov	NewSecond, 0
		xor	ax, ax
		mov	word_45674, ax
		xor	ax, ax
		mov	RShadeDir, ax
		xor	ax, ax
		mov	RShadeLev, ax
		xor	ax, ax
		mov	GShadeDir, ax
		xor	ax, ax
		mov	GShadeLev, ax
		mov	Players, 1
		xor	ax, ax
		mov	StepMove, ax
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_C2E7
; ---------------------------------------------------------------------------

loc_C2E3:				; CODE XREF: DoGame+80j
		inc	n__0

loc_C2E7:				; CODE XREF: DoGame+6Bj
		imul	di, n__0, 58h
		mov	byte ptr [di-0FB2h], 2
		cmp	n__0, 7
		jnz	short loc_C2E3
		cmp	Console, 0
		jz	short loc_C30A
		mov	ConsDY,	1
		xor	ax, ax
		mov	ConsY, ax

loc_C30A:				; CODE XREF: DoGame+87j
		cmp	SERVER,	0
		jnz	short loc_C369
		cmp	CLIENT,	0
		jnz	short loc_C369
		xor	ax, ax
		mov	MyNetN,	ax
		push	word_45284
		push	word_45286
		push	4Eh ; 'N'
		mov	di, offset i
		push	ds
		push	di
		mov	di, offset n__0
		push	ds
		push	di
		call	GetLandHeight
		mov	ax, i
		mov	word_45288, ax
		mov	n__0, 1
		jmp	short loc_C348
; ---------------------------------------------------------------------------

loc_C344:				; CODE XREF: DoGame+F1j
		inc	n__0

loc_C348:				; CODE XREF: DoGame+CCj
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	byte ptr es:[di+26h], 0
		mov	byte ptr es:[di], 0
		xor	ax, ax
		mov	es:[di+28h], ax
		cmp	n__0, 7
		jnz	short loc_C344

loc_C369:				; CODE XREF: DoGame+99j DoGame+A0j
		cmp	SERVER,	0
		jz	short loc_C3B3
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_C37B
; ---------------------------------------------------------------------------

loc_C377:				; CODE XREF: DoGame+13Bj
		inc	n__0

loc_C37B:				; CODE XREF: DoGame+FFj
		imul	di, n__0, 58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_C3A1
		push	n__0
		call	ReinitPlayer
		imul	di, n__0, 58h
		mov	word ptr [di-0F82h], 578h
		mov	word ptr [di-0F80h], 0
		jmp	short loc_C3AC
; ---------------------------------------------------------------------------

loc_C3A1:				; CODE XREF: DoGame+10Fj
		imul	di, n__0, 58h
		xor	ax, ax
		mov	[di-0FAEh], ax

loc_C3AC:				; CODE XREF: DoGame+129j
		cmp	n__0, 7
		jnz	short loc_C377

loc_C3B3:				; CODE XREF: DoGame+F8j
		cmp	SERVER,	0
		jz	short loc_C3BD
		call	INIT_IPX_SERVER

loc_C3BD:				; CODE XREF: DoGame+142j
		cmp	CLIENT,	0
		jz	short loc_C3C7
		call	INIT_IPX_CLIENT

loc_C3C7:				; CODE XREF: DoGame+14Cj
		cmp	CLIENT,	0
		jz	short loc_C41A
		cmp	MyNetN,	0
		jnz	short loc_C411
		call	ScanNet
		cmp	MenuCode, 2
		jnz	short loc_C3E4
		mov	CLIENT,	0

loc_C3E4:				; CODE XREF: DoGame+167j
		cmp	MenuCode, 0
		jz	short loc_C3F7
		mov	MenuCode, 4
		jmp	locret_DC4E
; ---------------------------------------------------------------------------
		db 0E9h	; é
		db  3Ch	; <
		db  18h
; ---------------------------------------------------------------------------

loc_C3F7:				; CODE XREF: DoGame+173j
		call	JoinNetworkGame
		cmp	MenuCode, 0
		jz	short loc_C40F
		mov	MenuCode, 4
		mov	CLIENT,	0
		jmp	loc_DC33
; ---------------------------------------------------------------------------

loc_C40F:				; CODE XREF: DoGame+189j
		jmp	short loc_C41A
; ---------------------------------------------------------------------------

loc_C411:				; CODE XREF: DoGame+15Dj
		call	WaitServer
		call	WaitServer
		call	LoadServerPatch

loc_C41A:				; CODE XREF: DoGame+156j
					; DoGame:loc_C40Fj
		cmp	MenuCode, 0
		jz	short loc_C424
		jmp	loc_DC33
; ---------------------------------------------------------------------------

loc_C424:				; CODE XREF: DoGame+1A9j
		cmp	CLIENT,	0
		jnz	short loc_C432
		cmp	SERVER,	0
		jz	short loc_C448

loc_C432:				; CODE XREF: DoGame+1B3j
		mov	PlayDemo, 0
		mov	RecordDemo, 0
		cmp	NetMode, 0
		jnz	short loc_C448
		xor	ax, ax
		mov	MCount,	ax

loc_C448:				; CODE XREF: DoGame+1BAj DoGame+1CBj
		cmp	RecordDemo, 0
		jnz	short loc_C456
		cmp	PlayDemo, 0
		jz	short loc_C45B

loc_C456:				; CODE XREF: DoGame+1D7j
		call	StartDemo

loc_C45B:				; CODE XREF: DoGame+1DEj
		cmp	NETMonitor, 0
		jz	short loc_C469
		cmp	SERVER,	0
		jnz	short loc_C46D

loc_C469:				; CODE XREF: DoGame+1EAj
		mov	al, 0
		jmp	short loc_C46F
; ---------------------------------------------------------------------------

loc_C46D:				; CODE XREF: DoGame+1F1j
		mov	al, 1

loc_C46F:				; CODE XREF: DoGame+1F5j
		mov	NETMonitor, al
		cmp	NETMonitor, 0
		jz	short loc_C47E
		call	InitVESAMonitor

loc_C47E:				; CODE XREF: DoGame+201j
		call	ReInitViewConst
		call	InitMZPosition
		call	SetPalette
		cmp	PlayDemo, 0
		jz	short loc_C49A
		mov	LCDTrack, 0Ah

loc_C49A:				; CODE XREF: DoGame+21Cj
		push	LCDTrack
		call	DO_CD_Play
		call	ReDrawGround
		xor	ax, ax
		mov	CurTime, ax
		mov	t1, 4
		xor	ax, ax
		mov	Times10Sum, ax
		xor	ax, ax
		mov	_Times10Sum, ax
		xor	ax, ax
		mov	Frames10Count, ax
		xor	ax, ax
		mov	EndDelay, ax
		xor	ax, ax
		mov	KBDBufCnt, ax
		mov	NextL, 0
		mov	Paused,	0
		cmp	MouseD,	0
		jz	short loc_C4F8
		mov	LastMouseTime, 0FFF0h
		mov	word_44D80, 0FFFFh
		call	GetMouseStatus
		mov	LastMouseTime, 0FFF0h
		mov	word_44D80, 0FFFFh

loc_C4F8:				; CODE XREF: DoGame+263j DoGame+19BAj
		xor	ax, ax
		mov	CurTime, ax
		cmp	KBDBufCnt, 0
		jbe	short loc_C523
		cli
		mov	al, KBDBuf
		mov	key, al
		dec	KBDBufCnt
		mov	di, offset unk_44EDF
		push	ds
		push	di
		mov	di, offset KBDBuf
		push	ds
		push	di
		push	0Fh
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		sti
		jmp	short loc_C528
; ---------------------------------------------------------------------------

loc_C523:				; CODE XREF: DoGame+28Cj
		mov	key, 0

loc_C528:				; CODE XREF: DoGame+2ABj
		cmp	key, 58h ; 'X'
		jnz	short loc_C542
		cmp	NETMonitor, 0
		jz	short loc_C53D
		call	SaveMPicture
		jmp	short loc_C542
; ---------------------------------------------------------------------------

loc_C53D:				; CODE XREF: DoGame+2BEj
		call	SavePicture

loc_C542:				; CODE XREF: DoGame+2B7j DoGame+2C5j
		call	ProcessPreKeyboard
		cmp	Console, 0
		jz	short loc_C556
		cmp	key, 0
		jz	short loc_C556
		call	ProcessConsole

loc_C556:				; CODE XREF: DoGame+2D4j DoGame+2DBj
		cmp	MenuOn,	0
		jz	short loc_C560
		call	ProcessMenu

loc_C560:				; CODE XREF: DoGame+2E5j
		cmp	SERVER,	0
		jnz	short loc_C56E
		cmp	CLIENT,	0
		jz	short loc_C582

loc_C56E:				; CODE XREF: DoGame+2EFj
		mov	word_3666A, 9
		mov	word_3666C, 0
		mov	di, offset DRegs
		push	ds
		push	di
		call	RealInt60h

loc_C582:				; CODE XREF: DoGame+2F6j
		cmp	MenuCode, 0
		jz	short loc_C58C
		jmp	loc_DC33
; ---------------------------------------------------------------------------

loc_C58C:				; CODE XREF: DoGame+311j
		call	RefreshMachineMode
		call	ProcessCD
		mov	al, NETMonitor
		mov	DisableALL, al
		cmp	CLIENT,	0
		jnz	short loc_C5BB
		cmp	SERVER,	0
		jnz	short loc_C5BB
		cmp	PlayDemo, 0
		jnz	short loc_C5BB
		cmp	RecordDemo, 0
		jnz	short loc_C5BB
		cmp	MenuOn,	0
		jnz	short loc_C5C2

loc_C5BB:				; CODE XREF: DoGame+327j DoGame+32Ej ...
		cmp	Paused,	0
		jz	short loc_C5C6

loc_C5C2:				; CODE XREF: DoGame+343j
		mov	al, 0
		jmp	short loc_C5C8
; ---------------------------------------------------------------------------

loc_C5C6:				; CODE XREF: DoGame+34Aj
		mov	al, 1

loc_C5C8:				; CODE XREF: DoGame+34Ej
		mov	GameActive, al
		cmp	NETMonitor, 0
		jnz	short loc_C5D9
		cmp	EndOfTheGame, 0
		jz	short loc_C5E5

loc_C5D9:				; CODE XREF: DoGame+35Aj
		xor	ax, ax
		mov	word_4529A, ax
		xor	ax, ax
		mov	HksFlags, ax
		jmp	short loc_C5F6
; ---------------------------------------------------------------------------

loc_C5E5:				; CODE XREF: DoGame+361j
		cmp	PlayDemo, 0
		jnz	short loc_C5F6
		cmp	Paused,	0
		jnz	short loc_C5F6
		call	ProcessDevices

loc_C5F6:				; CODE XREF: DoGame+36Dj DoGame+374j ...
		cmp	SERVER,	0
		jz	short loc_C600
		call	LoadClientPatch

loc_C600:				; CODE XREF: DoGame+385j
		cmp	CLIENT,	0
		jz	short loc_C60A
		call	SendClientPatch

loc_C60A:				; CODE XREF: DoGame+38Fj
		cmp	SERVER,	0
		jz	short loc_C614
		call	SendServerPatch

loc_C614:				; CODE XREF: DoGame+399j
		cmp	CLIENT,	0
		jz	short loc_C61E
		call	LoadServerPatch

loc_C61E:				; CODE XREF: DoGame+3A3j
		cmp	CLIENT,	0
		jnz	short loc_C636
		cmp	PlayDemo, 0
		jnz	short loc_C636
		cmp	Paused,	0
		jnz	short loc_C636
		call	MoveServerPlayers

loc_C636:				; CODE XREF: DoGame+3ADj DoGame+3B4j ...
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	demotime, ax
		mov	word_3688A, dx
		cmp	PlayDemo, 0
		jz	short loc_C650
		call	Demo_ReadNext

loc_C650:				; CODE XREF: DoGame+3D3j
		cmp	MenuCode, 0
		jz	short loc_C65A
		jmp	loc_DC33
; ---------------------------------------------------------------------------

loc_C65A:				; CODE XREF: DoGame+3DFj
		cmp	CLIENT,	0
		jz	short loc_C6A9
		cmp	Spline,	0
		jz	short loc_C6A9
		cmp	Paused,	0
		jnz	short loc_C6A9
		mov	ax, RealTime
		mov	dx, word_44D7C
		sub	ax, LastServerTime
		sbb	dx, word_366B2
		mov	DeltaT,	ax
		cmp	DeltaT,	0
		jle	short loc_C6A9
		push	DeltaT
		call	CorrectPlayerPosition
		push	DeltaT
		call	CorrectRocketPosition
		push	DeltaT
		call	CorrectMonstersPosition
		mov	ax, DeltaT
		cwd
		add	LastServerTime,	ax
		adc	word_366B2, dx

loc_C6A9:				; CODE XREF: DoGame+3E9j DoGame+3F0j ...
		cmp	PlayDemo, 0
		jz	short loc_C6B3
		jmp	loc_C7AF
; ---------------------------------------------------------------------------

loc_C6B3:				; CODE XREF: DoGame+438j
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, es:[di+0Ah]
		mov	Hx, ax
		mov	ax, es:[di+0Ch]
		mov	Hy, ax
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		push	ax
		push	30h ; '0'
		call	Min
		mov	bx, ax
		mov	ax, hvz
		mov	si, ax
		shl	ax, 1
		add	ax, si
		cwd
		mov	cx, 4
		idiv	cx
		add	ax, bx
		mov	hvz, ax
		mov	ax, hvz
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 0Ah
		jg	short loc_C71E
		xor	ax, ax
		mov	ZTime, ax
		mov	word_44D70, ax

loc_C71E:				; CODE XREF: DoGame+49Ej
		les	di, [bp+var_4]
		assume es:nothing
		mov	ax, es:[di+0Eh]
		add	ax, 600h
		mov	es:[di+3Ch], ax
		mov	ax, _LookVz
		cwd
		mov	cx, 4
		idiv	cx
		mov	dx, ax
		mov	ax, es:[di+3Ch]
		sub	ax, dx
		mov	Hz, ax
		cmp	Paused,	0
		jnz	short loc_C7AF
		mov	ax, hvz
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, hvz
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 84h	; '„'
		xor	si, si
		mov	di, 4000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 85h	; '…'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, ZTime
		mov	dx, word_44D70
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 84h	; '„'
		xor	si, si
		mov	di, 4000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		pop	cx
		pop	si
		pop	di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		add	Hz, ax

loc_C7AF:				; CODE XREF: DoGame+43Aj DoGame+4CFj
		call	AnimateKeyboard
		xor	ax, ax
		mov	k__0, ax
		mov	word_44D78, ax
		cmp	NETMonitor, 0
		jnz	short loc_C7C4
		jmp	loc_C848
; ---------------------------------------------------------------------------

loc_C7C4:				; CODE XREF: DoGame+549j
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_C7CF
; ---------------------------------------------------------------------------

loc_C7CB:				; CODE XREF: DoGame+5C0j
		inc	n__0

loc_C7CF:				; CODE XREF: DoGame+553j
		inc	CurOwner
		mov	ax, CurOwner
		and	ax, 7
		mov	CurOwner, ax
		cmp	CurOwner, 0
		jnz	short loc_C7E9
		mov	CurOwner, 1

loc_C7E9:				; CODE XREF: DoGame+56Bj
		imul	di, CurOwner, 58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_C831
		xor	ax, ax
		mov	j, ax
		jmp	short loc_C800
; ---------------------------------------------------------------------------

loc_C7FC:				; CODE XREF: DoGame+5B9j
		inc	j

loc_C800:				; CODE XREF: DoGame+584j
		mov	di, j
		mov	al, [di-0AC0h]
		xor	ah, ah
		cmp	ax, CurOwner
		jnz	short loc_C82A
		mov	n__0, 7
		mov	j, 3
		mov	k__0, 1
		mov	word_44D78, 0
		jmp	short loc_C831
; ---------------------------------------------------------------------------

loc_C82A:				; CODE XREF: DoGame+598j
		cmp	j, 3
		jnz	short loc_C7FC

loc_C831:				; CODE XREF: DoGame+57Dj DoGame+5B2j
		cmp	n__0, 7
		jnz	short loc_C7CB
		mov	ax, k__0
		or	ax, word_44D78
		jnz	short loc_C846
		xor	ax, ax
		mov	CurOwner, ax

loc_C846:				; CODE XREF: DoGame+5C9j
		jmp	short loc_C84E
; ---------------------------------------------------------------------------

loc_C848:				; CODE XREF: DoGame+54Bj
		mov	ax, MyNetN
		mov	CurOwner, ax

loc_C84E:				; CODE XREF: DoGame:loc_C846j
		cmp	NETMonitor, 0
		jz	short loc_C86B
		imul	di, CurOwner, 58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_C868
		cmp	CurOwner, 0
		jnz	short loc_C86B

loc_C868:				; CODE XREF: DoGame+5E9j
		jmp	loc_CE3E
; ---------------------------------------------------------------------------

loc_C86B:				; CODE XREF: DoGame+5DDj DoGame+5F0j
		cmp	NETMonitor, 0
		jnz	short loc_C875
		jmp	loc_C9C9
; ---------------------------------------------------------------------------

loc_C875:				; CODE XREF: DoGame+5FAj
		imul	di, CurOwner, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, es:[di+38h]
		cwd
		mov	cx, 8
		idiv	cx
		mov	ica, ax
		mov	ax, es:[di+3Ah]
		cwd
		mov	cx, 8
		idiv	cx
		mov	isa, ax
		mov	ax, ica
		cwd
		mov	cx, 2
		idiv	cx
		mov	ica2, ax
		mov	ax, isa
		cwd
		mov	cx, 2
		idiv	cx
		mov	isa2, ax
		mov	ax, ica
		cwd
		mov	cx, 8
		idiv	cx
		mov	ica4, ax
		mov	ax, isa
		cwd
		mov	cx, 8
		idiv	cx
		mov	isa4, ax
		call	ReInitViewConst
		les	di, [bp+var_4]
		assume es:nothing
		mov	ax, es:[di+1Eh]
		mov	EHFi, ax
		mov	ax, es:[di+0Ah]
		mov	ehx, ax
		mov	ax, es:[di+0Ch]
		mov	ehy, ax
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		push	ax
		push	30h ; '0'
		call	Min
		push	ax
		push	4
		call	Max
		mov	n__0, ax
		les	di, [bp+var_4]
		mov	ax, es:[di+3Ch]
		mov	ehz, ax
		cmp	Paused,	0
		jnz	short loc_C986
		mov	ax, n__0
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, n__0
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, Time
		mov	dx, word_44D6C
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 84h	; '„'
		xor	si, si
		mov	di, 4000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		pop	cx
		pop	si
		pop	di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 84h	; '„'
		xor	si, si
		mov	di, 4000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		add	ehz, ax

loc_C986:				; CODE XREF: DoGame+6B2j
		imul	di, CurOwner, 58h
		cmp	word ptr [di-0FAEh], 0
		jnz	short loc_C9C6
		mov	ehz, 940h
		mov	di, offset CurOwner
		push	ds
		push	di
		mov	di, offset ehx
		push	ds
		push	di
		mov	di, offset ehy
		push	ds
		push	di
		push	ehz
		mov	ax, isa
		cwd
		mov	cx, 7
		idiv	cx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, 7
		idiv	cx
		push	ax
		push	0
		call	MoveOn

loc_C9C6:				; CODE XREF: DoGame+71Aj
		jmp	loc_CC40
; ---------------------------------------------------------------------------

loc_C9C9:				; CODE XREF: DoGame+5FCj
		mov	ax, HFi
		mov	EHFi, ax
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, ca
		mov	bx, word_448E2
		mov	dx, word_448E4
		mov	cx, 89h	; '‰'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 84h	; '„'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	ica, ax
		mov	ax, sa
		mov	bx, word_448E8
		mov	dx, word_448EA
		mov	cx, 89h	; '‰'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 84h	; '„'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	isa, ax
		mov	ax, ica
		cwd
		mov	cx, 2
		idiv	cx
		mov	ica2, ax
		mov	ax, isa
		cwd
		mov	cx, 2
		idiv	cx
		mov	isa2, ax
		mov	ax, ica
		cwd
		mov	cx, 8
		idiv	cx
		mov	ica4, ax
		mov	ax, isa
		cwd
		mov	cx, 8
		idiv	cx
		mov	isa4, ax
		cmp	EndOfTheGame, 0
		jz	short loc_CAD0
		mov	ax, EndCamera
		mov	ehx, ax
		mov	ax, word_406E6
		mov	ehy, ax
		mov	ax, word_406E8
		shl	ax, 5
		mov	ehz, ax
		mov	ax, word_406EA
		mov	HFi, ax
		mov	ax, word_406EC
		mov	LookVz,	ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 86h	; '†'
		xor	si, si
		mov	di, 2000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 85h	; '…'
		xor	si, si
		mov	di, 2000h
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		add	ehz, ax
		push	0
		call	CalcDir
		call	ReInitViewConst
		xor	ax, ax
		mov	ShakeLevel, ax
		jmp	loc_CC40
; ---------------------------------------------------------------------------

loc_CAD0:				; CODE XREF: DoGame+7EFj
		cmp	ExMode,	0
		jnz	short loc_CAE6
		imul	di, MyNetN, 58h
		cmp	word ptr [di-0FAEh], 0
		jz	short loc_CAE6
		jmp	loc_CB7B
; ---------------------------------------------------------------------------

loc_CAE6:				; CODE XREF: DoGame+85Fj DoGame+86Bj
		mov	ax, Hx
		mov	ehx, ax
		mov	ax, Hy
		mov	ehy, ax
		mov	ehz, 800h
		xor	ax, ax
		mov	ShakeLevel, ax
		cmp	ExMode,	0
		jz	short loc_CB33
		mov	di, offset MyNetN
		push	ds
		push	di
		mov	di, offset ehx
		push	ds
		push	di
		mov	di, offset ehy
		push	ds
		push	di
		push	280h
		mov	ax, isa
		cwd
		mov	cx, 7
		idiv	cx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, 7
		idiv	cx
		push	ax
		push	0
		call	MoveOn
		jmp	short loc_CB78
; ---------------------------------------------------------------------------

loc_CB33:				; CODE XREF: DoGame+88Cj
		push	Hx
		push	Hy
		push	78h ; 'x'
		mov	di, offset ehx
		push	ds
		push	di
		mov	di, offset ehy
		push	ds
		push	di
		call	GetMFloorZ
		cmp	ehy, 7Ch ; '|'
		jge	short loc_CB61
		mov	ax, ehy
		sub	ax, 10h
		shl	ax, 5
		mov	ehz, ax
		jmp	short loc_CB67
; ---------------------------------------------------------------------------

loc_CB61:				; CODE XREF: DoGame+8DBj
		mov	ehz, 0C00h

loc_CB67:				; CODE XREF: DoGame+8E9j
		mov	ax, Hx
		mov	ehx, ax
		mov	ax, Hy
		mov	ehy, ax
		call	ReInitViewConst

loc_CB78:				; CODE XREF: DoGame+8BBj
		jmp	loc_CC40
; ---------------------------------------------------------------------------

loc_CB7B:				; CODE XREF: DoGame+86Dj
		mov	ax, Hx
		mov	ehx, ax
		mov	ax, Hy
		mov	ehy, ax
		mov	ax, Hz
		mov	ehz, ax
		cmp	ShakeLevel, 0
		jg	short loc_CB97
		jmp	loc_CC40
; ---------------------------------------------------------------------------

loc_CB97:				; CODE XREF: DoGame+91Cj
		cmp	ShakeLevel, 64h	; 'd'
		jle	short loc_CBA6
		mov	w, 64h ; 'd'
		jmp	short loc_CBAC
; ---------------------------------------------------------------------------

loc_CBA6:				; CODE XREF: DoGame+926j
		mov	ax, ShakeLevel
		mov	w, ax

loc_CBAC:				; CODE XREF: DoGame+92Ej
		push	4
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFAh
		adc	dx, 0FFFFh
		mov	cx, ax
		mov	bx, dx
		mov	ax, w
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 40h	; '@'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ehx, ax
		push	4
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFAh
		adc	dx, 0FFFFh
		mov	cx, ax
		mov	bx, dx
		mov	ax, w
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 40h	; '@'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ehy, ax
		push	4
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFFh
		adc	dx, 0FFFFh
		mov	cx, ax
		mov	bx, dx
		mov	ax, w
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 2
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ehz, ax
		mov	ax, t1
		sub	ShakeLevel, ax
		cmp	ShakeLevel, 0
		jge	short loc_CC40
		xor	ax, ax
		mov	ShakeLevel, ax

loc_CC40:				; CODE XREF: DoGame:loc_C9C6j
					; DoGame+857j ...
		push	ehx
		push	ehy
		push	ica
		push	isa
		call	UpDatePlayerPos
		call	ProcessLights
		mov	ax, ds
		push	ax
		mov	di, 822Eh
		push	di
		mov	ax, VideoW
		add	ax, 4
		push	ax
		push	0
		call	StosW
		mov	ax, ds
		push	ax
		mov	di, 88CCh
		push	di
		mov	ax, VideoW
		add	ax, 4
		push	ax
		push	0
		call	StosW
		push	word_3F1BC
		push	0
		mov	ax, VideoW
		add	ax, 4
		push	ax
		push	PImBSeg
		call	StosW
		xor	ax, ax
		mov	FCount__0, ax
		xor	ax, ax
		mov	Nlines,	ax
		mov	ax, 1000h
		sub	ax, ehz
		mov	Hz2, ax
		mov	ax, Hz2
		shr	ax, 5
		mov	mysy, ax
		mov	ax, Hz2
		xor	dx, dx
		xor	cx, cx
		mov	bx, 8
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 800h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ax, 200h
		adc	dx, 0
		mov	EDI0, ax
		mov	word_44D58, dx
		mov	ax, BLevel0
		mov	BLevelW, ax
		mov	ax, WallH
		shr	ax, 5
		mov	bx, ehz
		mul	bx
		mov	FloorV,	ax
		mov	word_44B3E, dx
		mov	ax, WallH
		shr	ax, 5
		mov	bx, Hz2
		mul	bx
		mov	CellV, ax
		mov	word_44B3A, dx
		mov	ax, BLevelW
		mov	bx, ehz
		mul	bx
		mov	bx, 1000h
		div	bx
		mov	BLevelF, ax
		mov	ax, BLevelW
		mov	bx, Hz2
		mul	bx
		mov	bx, 1000h
		div	bx
		mov	BlevelC, ax
		mov	al, byte ptr ehx+1
		xor	ah, ah
		mov	HMx, ax
		mov	al, byte ptr ehy+1
		xor	ah, ah
		mov	HMy, ax
		push	HMx
		push	HMy
		call	MapXY
		mov	mi, 1
		xor	ax, ax
		mov	b0, ax

loc_CD51:				; CODE XREF: DoGame:loc_CE08j
		cmp	b0, 2
		jb	short loc_CD62
		cmp	mi, 4
		jl	short loc_CD62
		jmp	loc_CE0B
; ---------------------------------------------------------------------------

loc_CD62:				; CODE XREF: DoGame+AE0j DoGame+AE7j
		mov	ax, Nlines
		cmp	ax, WinW
		jnz	short loc_CD6F
		inc	b0

loc_CD6F:				; CODE XREF: DoGame+AF3j
		mov	ax, HMx
		add	ax, mi
		mov	word ptr [bp+var_4+2], ax
		mov	ax, HMx
		sub	ax, mi
		cmp	ax, word ptr [bp+var_4+2]
		jg	short loc_CDB4
		mov	x__0, ax
		jmp	short loc_CD8E
; ---------------------------------------------------------------------------

loc_CD8A:				; CODE XREF: DoGame+B3Cj
		inc	x__0

loc_CD8E:				; CODE XREF: DoGame+B12j
		push	x__0
		mov	ax, HMy
		add	ax, mi
		push	ax
		call	MapXY
		push	x__0
		mov	ax, HMy
		sub	ax, mi
		push	ax
		call	MapXY
		mov	ax, x__0
		cmp	ax, word ptr [bp+var_4+2]
		jnz	short loc_CD8A

loc_CDB4:				; CODE XREF: DoGame+B0Dj
		mov	ax, HMy
		add	ax, mi
		dec	ax
		mov	word ptr [bp+var_4+2], ax
		mov	ax, HMy
		sub	ax, mi
		inc	ax
		cmp	ax, word ptr [bp+var_4+2]
		jg	short loc_CDFB
		mov	y, ax
		jmp	short loc_CDD5
; ---------------------------------------------------------------------------

loc_CDD1:				; CODE XREF: DoGame+B83j
		inc	y

loc_CDD5:				; CODE XREF: DoGame+B59j
		mov	ax, HMx
		sub	ax, mi
		push	ax
		push	y
		call	MapXY
		mov	ax, HMx
		add	ax, mi
		push	ax
		push	y
		call	MapXY
		mov	ax, y
		cmp	ax, word ptr [bp+var_4+2]
		jnz	short loc_CDD1

loc_CDFB:				; CODE XREF: DoGame+B54j
		inc	mi
		cmp	mi, 1Eh
		jle	short loc_CE08
		jmp	short loc_CE0B
; ---------------------------------------------------------------------------

loc_CE08:				; CODE XREF: DoGame+B8Ej
		jmp	loc_CD51
; ---------------------------------------------------------------------------

loc_CE0B:				; CODE XREF: DoGame+AE9j DoGame+B90j
		mov	al, byte ptr ehx+1
		xor	ah, ah
		mov	HMx, ax
		mov	al, byte ptr ehy+1
		xor	ah, ah
		mov	HMy, ax
		mov	ax, mi
		add	ax, 3
		shl	ax, 8
		mov	MapR, ax
		mov	di, offset ObjAmb
		push	ds
		push	di
		mov	di, offset ObjAmbU
		push	ds
		push	di
		push	8
		call	@$basg$qm3Anyt14Word ; Bitcopy of any type variable
		call	CalcYMin
		call	BuildFloorCell

loc_CE3E:				; CODE XREF: DoGame:loc_C868j
		mov	ax, t1
		xor	dx, dx
		add	Time, ax
		adc	word_44D6C, dx
		mov	ax, t1
		xor	dx, dx
		add	ZTime, ax
		adc	word_44D70, dx
		mov	ax, t1
		add	MTime, ax
		mov	al, byte ptr t1
		add	SecCounter, al
		mov	ax, t1
		add	MortalTimer, ax
		cmp	SecCounter, 8Ch	; 'Œ'
		jb	short loc_CE80
		sub	SecCounter, 8Ch	; 'Œ'
		mov	NewSecond, 1
		jmp	short loc_CE85
; ---------------------------------------------------------------------------

loc_CE80:				; CODE XREF: DoGame+BFCj
		mov	NewSecond, 0

loc_CE85:				; CODE XREF: DoGame+C08j
		cmp	MortalTimer, 20h ; ' '
		jl	short loc_CE98
		sub	MortalTimer, 20h ; ' '
		mov	MortalTick, 1
		jmp	short loc_CE9D
; ---------------------------------------------------------------------------

loc_CE98:				; CODE XREF: DoGame+C14j
		mov	MortalTick, 0

loc_CE9D:				; CODE XREF: DoGame+C20j
		cmp	MTime, 0Ah
		mov	al, 0
		jbe	short loc_CEA7
		inc	ax

loc_CEA7:				; CODE XREF: DoGame+C2Ej
		mov	OAnimate, al
		cmp	OAnimate, 0
		jz	short loc_CEB6
		xor	ax, ax
		mov	MTime, ax

loc_CEB6:				; CODE XREF: DoGame+C39j
		cmp	GameActive, 0
		jnz	short loc_CEC0
		jmp	loc_D298
; ---------------------------------------------------------------------------

loc_CEC0:				; CODE XREF: DoGame+C45j
		cmp	CLIENT,	0
		jz	short loc_CECA
		jmp	loc_D298
; ---------------------------------------------------------------------------

loc_CECA:				; CODE XREF: DoGame+C4Fj
		cmp	PlayDemo, 0
		jz	short loc_CED4
		jmp	loc_D298
; ---------------------------------------------------------------------------

loc_CED4:				; CODE XREF: DoGame+C59j
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_CEDF
; ---------------------------------------------------------------------------

loc_CEDB:				; CODE XREF: DoGame+101Fj
		inc	n__0

loc_CEDF:				; CODE XREF: DoGame+C63j
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	byte ptr es:[di], 0
		jnz	short loc_CEF9
		jmp	loc_D28E
; ---------------------------------------------------------------------------

loc_CEF9:				; CODE XREF: DoGame+C7Ej
		cmp	word ptr es:[di+4Ah], 0
		jle	short loc_CF07
		mov	ax, t1
		sub	es:[di+4Ah], ax

loc_CF07:				; CODE XREF: DoGame+C88j
		les	di, [bp+var_4]
		assume es:nothing
		cmp	word ptr es:[di+4Ah], 0
		jge	short loc_CF17
		xor	ax, ax
		mov	es:[di+4Ah], ax

loc_CF17:				; CODE XREF: DoGame+C99j
		les	di, [bp+var_4]
		mov	ax, es:[di+20h]
		and	ax, 4000h
		or	ax, ax
		ja	short loc_CF28
		jmp	loc_D28E
; ---------------------------------------------------------------------------

loc_CF28:				; CODE XREF: DoGame+CADj
		cmp	word ptr es:[di+4Ah], 0
		jz	short loc_CF32
		jmp	loc_D28E
; ---------------------------------------------------------------------------

loc_CF32:				; CODE XREF: DoGame+CB7j
		cmp	word ptr es:[di+28h], 0
		jg	short loc_CF3C
		jmp	loc_D28E
; ---------------------------------------------------------------------------

loc_CF3C:				; CODE XREF: DoGame+CC1j
		mov	ax, es:[di+48h]
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		ja	short loc_CF4C
		jmp	loc_D28E
; ---------------------------------------------------------------------------

loc_CF4C:				; CODE XREF: DoGame+CD1j
		les	di, [bp+var_4]
		mov	di, es:[di+48h]
		shl	di, 5
		add	di, 0E440h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		les	di, [bp+var_4]
		assume es:nothing
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	al, es:[di+24h]
		cmp	al, 2
		jz	short loc_CF77
		cmp	al, 5
		jnz	short loc_CF81

loc_CF77:				; CODE XREF: DoGame+CFBj
		les	di, [bp+var_4]
		mov	byte ptr es:[di+24h], 5
		jmp	short loc_CF89
; ---------------------------------------------------------------------------

loc_CF81:				; CODE XREF: DoGame+CFFj
		les	di, [bp+var_4]
		mov	byte ptr es:[di+24h], 4

loc_CF89:				; CODE XREF: DoGame+D09j
		les	di, [bp+var_4]
		mov	ax, es:[di+38h]
		neg	ax
		cwd
		mov	cx, 398h
		idiv	cx
		mov	WpnShx,	ax
		mov	ax, es:[di+3Ah]
		cwd
		mov	cx, 398h
		idiv	cx
		mov	WpnShy,	ax
		cmp	word ptr es:[di+48h], 7
		jnz	short loc_CFC3
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	n__0
		call	AddMine
		jmp	loc_D1F8
; ---------------------------------------------------------------------------

loc_CFC3:				; CODE XREF: DoGame+D37j
		les	di, [bp+var_4]
		cmp	word ptr es:[di+48h], 8
		jnz	short loc_D044
		mov	ax, es:[di+0Ah]
		add	ax, WpnShx
		push	ax
		mov	ax, es:[di+0Ch]
		add	ax, WpnShy
		push	ax
		mov	ax, es:[di+10h]
		cwd
		mov	cx, 2
		idiv	cx
		add	ax, es:[di+3Eh]
		push	ax
		mov	ax, es:[di+3Ah]
		neg	ax
		push	ax
		mov	ax, es:[di+38h]
		neg	ax
		push	ax
		mov	ax, es:[di+10h]
		add	ax, 40h	; '@'
		push	ax
		les	di, [bp+var_8]
		push	word ptr es:[di]
		push	n__0
		les	di, [bp+var_4]
		push	word ptr es:[di+1Eh]
		push	0FFh
		call	AddRocket
		les	di, [bp+var_4]
		mov	word ptr es:[di+1Ah], 78h ; 'x'
		mov	ax, 4000h
		sub	ax, es:[di+1Eh]
		shr	ax, 6
		mov	es:[di+1Ch], ax
		cmp	n__0, 0
		jnz	short loc_D041
		mov	ShakeLevel, 46h	; 'F'

loc_D041:				; CODE XREF: DoGame+DC3j
		jmp	loc_D1F8
; ---------------------------------------------------------------------------

loc_D044:				; CODE XREF: DoGame+D55j
		les	di, [bp+var_8]
		imul	di, es:[di], 16h
		mov	ax, [di-326Eh]
		or	ax, [di-326Ch]
		jz	short loc_D0A7
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ah]
		add	ax, WpnShx
		push	ax
		mov	ax, es:[di+0Ch]
		add	ax, WpnShy
		push	ax
		mov	ax, es:[di+10h]
		cwd
		mov	cx, 2
		idiv	cx
		add	ax, es:[di+3Eh]
		push	ax
		mov	ax, es:[di+3Ah]
		neg	ax
		push	ax
		mov	ax, es:[di+38h]
		neg	ax
		push	ax
		push	word ptr es:[di+10h]
		les	di, [bp+var_8]
		push	word ptr es:[di]
		push	n__0
		les	di, [bp+var_4]
		push	word ptr es:[di+1Eh]
		push	0FFh
		call	AddRocket
		jmp	loc_D1F8
; ---------------------------------------------------------------------------

loc_D0A7:				; CODE XREF: DoGame+DDDj
		les	di, [bp+var_8]
		cmp	word ptr es:[di+0Ah], 1
		jnz	short loc_D0F0
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ah]
		add	ax, WpnShx
		push	ax
		mov	ax, es:[di+0Ch]
		add	ax, WpnShy
		push	ax
		push	word ptr es:[di+3Eh]
		mov	ax, es:[di+3Ah]
		neg	ax
		push	ax
		mov	ax, es:[di+38h]
		neg	ax
		push	ax
		push	word ptr es:[di+10h]
		les	di, [bp+var_8]
		push	word ptr es:[di]
		push	n__0
		push	1
		call	SendFastRocket
		jmp	loc_D1F8
; ---------------------------------------------------------------------------

loc_D0F0:				; CODE XREF: DoGame+E39j
		les	di, [bp+var_8]
		mov	ax, es:[di+0Ah]
		mov	word ptr [bp+var_C+2], ax
		mov	ax, 1
		cmp	ax, word ptr [bp+var_C+2]
		jbe	short loc_D105
		jmp	loc_D1F8
; ---------------------------------------------------------------------------

loc_D105:				; CODE XREF: DoGame+E8Aj
		mov	j, ax
		jmp	short loc_D10E
; ---------------------------------------------------------------------------

loc_D10A:				; CODE XREF: DoGame+F7Fj
		inc	j

loc_D10E:				; CODE XREF: DoGame+E92j
		push	21h ; '!'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ah]
		add	ax, WpnShx
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 10h
		sbb	dx, 0
		push	ax
		push	21h ; '!'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ch]
		add	ax, WpnShy
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 10h
		sbb	dx, 0
		push	ax
		push	11h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+3Eh]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 8
		sbb	dx, 0
		push	ax
		push	640h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+3Ah]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 320h
		sbb	dx, 0
		push	ax
		push	640h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+38h]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 320h
		sbb	dx, 0
		push	ax
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+10h]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 14h
		sbb	dx, 0
		push	ax
		les	di, [bp+var_8]
		push	word ptr es:[di]
		push	n__0
		push	2
		call	SendFastRocket
		mov	ax, j
		cmp	ax, word ptr [bp+var_C+2]
		jz	short loc_D1F8
		jmp	loc_D10A
; ---------------------------------------------------------------------------

loc_D1F8:				; CODE XREF: DoGame+D4Aj
					; DoGame:loc_D041j ...
		les	di, [bp+var_4]
		mov	di, es:[di+48h]
		shl	di, 5
		mov	ax, [di-1BB2h]
		les	di, [bp+var_4]
		mov	es:[di+4Ah], ax
		mov	ax, es:[di+48h]
		add	di, ax
		dec	byte ptr es:[di+2Dh]
		les	di, [bp+var_4]
		cmp	word ptr es:[di+48h], 1
		jnz	short loc_D22D
		cmp	byte ptr es:[di+2Eh], 1
		jnz	short loc_D22D
		mov	byte ptr es:[di+2Eh], 0C8h ; 'È'

loc_D22D:				; CODE XREF: DoGame+FA9j DoGame+FB0j
		les	di, [bp+var_4]
		cmp	word ptr es:[di+48h], 7
		jz	short loc_D268
		mov	ax, es:[di+3Ah]
		cwd
		mov	cx, 0C6h ; 'Æ'
		idiv	cx
		mov	dx, ax
		mov	ax, es:[di+0Ah]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+38h]
		cwd
		mov	cx, 0C6h ; 'Æ'
		idiv	cx
		mov	dx, ax
		mov	ax, es:[di+0Ch]
		sub	ax, dx
		push	ax
		push	6
		push	18h
		push	1Ah
		call	AddBlowLight

loc_D268:				; CODE XREF: DoGame+FBFj
		push	0
		push	0FFFFh
		push	n__0
		les	di, [bp+var_4]
		mov	ax, es:[di+48h]
		add	ax, 14h
		push	ax
		call	AddEvVoice
		mov	ax, n__0
		cmp	ax, MyNetN
		jnz	short loc_D28E
		mov	WeaponActive, 1

loc_D28E:				; CODE XREF: DoGame+C80j DoGame+CAFj ...
		cmp	n__0, 7
		jz	short loc_D298
		jmp	loc_CEDB
; ---------------------------------------------------------------------------

loc_D298:				; CODE XREF: DoGame+C47j DoGame+C51j ...
		cmp	CLIENT,	0
		jnz	short loc_D310
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_D2AA
; ---------------------------------------------------------------------------

loc_D2A6:				; CODE XREF: DoGame+1098j
		inc	n__0

loc_D2AA:				; CODE XREF: DoGame+102Ej
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	byte ptr es:[di], 0
		jz	short loc_D309
		cmp	word ptr es:[di+28h], 0
		jnz	short loc_D309
		mov	ax, t1
		add	es:[di+4Ch], ax
		cmp	word ptr es:[di+4Ch], 0F0h ; 'ð'
		jle	short loc_D2DD
		mov	word ptr es:[di+4Ch], 0F0h ; 'ð'

loc_D2DD:				; CODE XREF: DoGame+105Fj
		les	di, [bp+var_4]
		assume es:nothing
		cmp	word ptr es:[di+4Ch], 0F0h ; 'ð'
		jl	short loc_D309
		mov	ax, es:[di+20h]
		and	ax, 0C0h
		or	ax, ax
		jbe	short loc_D309
		cmp	SERVER,	0
		jz	short loc_D303
		push	n__0
		call	ReinitPlayer
		jmp	short loc_D309
; ---------------------------------------------------------------------------

loc_D303:				; CODE XREF: DoGame+1082j
		mov	MenuCode, 4

loc_D309:				; CODE XREF: DoGame+1049j DoGame+1050j ...
		cmp	n__0, 7
		jnz	short loc_D2A6

loc_D310:				; CODE XREF: DoGame+1027j
		cmp	CLIENT,	0
		jnz	short loc_D321
		cmp	PlayDemo, 0
		jnz	short loc_D321
		call	CheckFloorLinks

loc_D321:				; CODE XREF: DoGame+109Fj DoGame+10A6j
		cmp	CLIENT,	0
		jz	short loc_D32B
		jmp	loc_D926
; ---------------------------------------------------------------------------

loc_D32B:				; CODE XREF: DoGame+10B0j
		cmp	PlayDemo, 0
		jz	short loc_D335
		jmp	loc_D926
; ---------------------------------------------------------------------------

loc_D335:				; CODE XREF: DoGame+10BAj
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_D340
; ---------------------------------------------------------------------------

loc_D33C:				; CODE XREF: DoGame+16ADj
		inc	n__0

loc_D340:				; CODE XREF: DoGame+10C4j
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	word ptr es:[di+28h], 0
		jg	short loc_D35B
		jmp	loc_D91C
; ---------------------------------------------------------------------------

loc_D35B:				; CODE XREF: DoGame+10E0j
		mov	al, es:[di+0Bh]
		xor	ah, ah
		inc	ax
		inc	ax
		mov	word ptr [bp+var_8+2], ax
		mov	al, es:[di+0Bh]
		xor	ah, ah
		dec	ax
		dec	ax
		cmp	ax, word ptr [bp+var_8+2]
		jle	short loc_D376
		jmp	loc_D91C
; ---------------------------------------------------------------------------

loc_D376:				; CODE XREF: DoGame+10FBj
		mov	x__0, ax
		jmp	short loc_D37F
; ---------------------------------------------------------------------------

loc_D37B:				; CODE XREF: DoGame+16A3j
		inc	x__0

loc_D37F:				; CODE XREF: DoGame+1103j
		cmp	x__0, 0
		jge	short loc_D389
		jmp	loc_D911
; ---------------------------------------------------------------------------

loc_D389:				; CODE XREF: DoGame+110Ej
		cmp	x__0, 3Fh ; '?'
		jle	short loc_D393
		jmp	loc_D911
; ---------------------------------------------------------------------------

loc_D393:				; CODE XREF: DoGame+1118j
		les	di, [bp+var_4]
		assume es:nothing
		mov	al, es:[di+0Dh]
		xor	ah, ah
		inc	ax
		inc	ax
		mov	word ptr [bp+var_8], ax
		mov	al, es:[di+0Dh]
		xor	ah, ah
		dec	ax
		dec	ax
		cmp	ax, word ptr [bp+var_8]
		jle	short loc_D3B1
		jmp	loc_D911
; ---------------------------------------------------------------------------

loc_D3B1:				; CODE XREF: DoGame+1136j
		mov	y, ax
		jmp	short loc_D3BA
; ---------------------------------------------------------------------------

loc_D3B6:				; CODE XREF: DoGame+1698j
		inc	y

loc_D3BA:				; CODE XREF: DoGame+113Ej
		cmp	y, 0
		jge	short loc_D3C4
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D3C4:				; CODE XREF: DoGame+1149j
		cmp	y, 3Fh ; '?'
		jle	short loc_D3CE
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D3CE:				; CODE XREF: DoGame+1153j
		imul	ax, y, 0Bh
		mov	dx, ax
		imul	ax, x__0, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jnb	short loc_D3F3
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D3F3:				; CODE XREF: DoGame+1178j
		cmp	al, 0E2h ; 'â'
		jbe	short loc_D3FA
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D3FA:				; CODE XREF: DoGame+117Fj
		push	8Ch ; 'Œ'
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74AEh]
		add	ax, 5Ah	; 'Z'
		push	ax
		call	Max
		cwd
		push	dx
		push	ax
		les	di, [bp+var_C]
		mov	ax, es:[di+3]
		les	di, [bp+var_4]
		sub	ax, es:[di+0Ah]
		push	ax
		les	di, [bp+var_C]
		mov	ax, es:[di+5]
		les	di, [bp+var_4]
		sub	ax, es:[di+0Ch]
		push	ax
		call	QPifagorA32__0
		xor	dx, dx
		pop	cx
		pop	bx
		cmp	dx, bx
		jl	short loc_D44F
		jle	short loc_D448
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D448:				; CODE XREF: DoGame+11CDj
		cmp	ax, cx
		jb	short loc_D44F
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D44F:				; CODE XREF: DoGame+11CBj DoGame+11D4j
		xor	ax, ax
		mov	i, ax
		xor	ax, ax
		mov	b0, ax
		les	di, [bp+var_C]
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jb	short loc_D479
		cmp	al, 0E2h ; 'â'
		ja	short loc_D479
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74B0h]
		mov	i, ax

loc_D479:				; CODE XREF: DoGame+11EBj DoGame+11EFj
		cmp	i, 0
		jle	short loc_D4BB
		les	di, [bp+var_4]
		mov	ax, es:[di+0Eh]
		shr	ax, 5
		add	ax, 18h
		mov	dx, ax
		les	di, [bp+var_C]
		mov	al, es:[di+2]
		xor	ah, ah
		cmp	ax, dx
		jg	short loc_D4B8
		les	di, [bp+var_4]
		mov	ax, es:[di+0Eh]
		shr	ax, 5
		mov	dx, ax
		les	di, [bp+var_C]
		mov	al, es:[di+2]
		xor	ah, ah
		add	ax, 0Ah
		cmp	ax, dx
		jge	short loc_D4BB

loc_D4B8:				; CODE XREF: DoGame+1224j
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D4BB:				; CODE XREF: DoGame+1208j DoGame+1240j
		mov	b0, 28h	; '('
		cmp	i, 0
		jg	short loc_D4CB
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D4CB:				; CODE XREF: DoGame+1250j
		mov	ax, i
		cmp	ax, 1
		jge	short loc_D4D6
		jmp	loc_D599
; ---------------------------------------------------------------------------

loc_D4D6:				; CODE XREF: DoGame+125Bj
		cmp	ax, 8
		jle	short loc_D4DE
		jmp	loc_D599
; ---------------------------------------------------------------------------

loc_D4DE:				; CODE XREF: DoGame+1263j
		mov	ax, i
		dec	ax
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		les	di, [bp+var_4]
		mov	al, es:[di+25h]
		xor	ah, ah
		or	ax, dx
		mov	es:[di+25h], al
		mov	di, i
		shl	di, 5
		mov	dl, [di-1BB8h]
		mov	ax, i
		les	di, [bp+var_4]
		add	di, ax
		add	es:[di+2Dh], dl
		mov	ax, i
		les	di, [bp+var_4]
		add	di, ax
		mov	al, es:[di+2Dh]
		xor	ah, ah
		mov	di, i
		shl	di, 5
		cmp	ax, [di-1BBAh]
		jle	short loc_D545
		mov	di, i
		shl	di, 5
		mov	dl, [di-1BBAh]
		mov	ax, i
		les	di, [bp+var_4]
		add	di, ax
		mov	es:[di+2Dh], dl

loc_D545:				; CODE XREF: DoGame+12B6j
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	ax, i
		add	ax, 32h	; '2'
		push	ax
		call	AddEvVoice
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Eh ; '>'
		call	AddEvVoice
		mov	ax, n__0
		cmp	ax, MyNetN
		jnz	short loc_D591
		les	di, [bp+var_4]
		mov	ax, es:[di+48h]
		cmp	ax, i
		jge	short loc_D591
		push	i
		call	SetWeapon

loc_D591:				; CODE XREF: DoGame+1303j DoGame+1310j
		xor	ax, ax
		mov	i, ax
		jmp	loc_D852
; ---------------------------------------------------------------------------

loc_D599:				; CODE XREF: DoGame+125Dj DoGame+1265j
		cmp	ax, 0Bh
		jge	short loc_D5A1
		jmp	loc_D627
; ---------------------------------------------------------------------------

loc_D5A1:				; CODE XREF: DoGame+1326j
		cmp	ax, 63h	; 'c'
		jle	short loc_D5A9
		jmp	loc_D627
; ---------------------------------------------------------------------------

loc_D5A9:				; CODE XREF: DoGame+132Ej
		mov	ax, i
		cwd
		mov	cx, 0Ah
		idiv	cx
		mov	j, ax
		mov	ax, j
		les	di, [bp+var_4]
		add	di, ax
		mov	al, es:[di+2Dh]
		xor	ah, ah
		mov	di, j
		shl	di, 5
		cmp	ax, [di-1BBAh]
		jge	short loc_D624
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	ax, j
		add	ax, 32h	; '2'
		push	ax
		call	AddEvVoice
		push	n__0
		push	j
		imul	ax, j, 0Ah
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, i
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	di, j
		shl	di, 5
		mov	ax, [di-1BBCh]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	AddAmmoToPlayer
		xor	ax, ax
		mov	i, ax

loc_D624:				; CODE XREF: DoGame+1358j
		jmp	loc_D852
; ---------------------------------------------------------------------------

loc_D627:				; CODE XREF: DoGame+1328j DoGame+1330j
		cmp	ax, 65h	; 'e'
		jl	short loc_D671
		cmp	ax, 6Dh	; 'm'
		jg	short loc_D671
		les	di, [bp+var_4]
		cmp	word ptr es:[di+28h], 64h ; 'd'
		jge	short loc_D66E
		mov	ax, i
		sub	ax, 64h	; 'd'
		imul	ax, 0Ah
		add	es:[di+28h], ax
		xor	ax, ax
		mov	i, ax
		cmp	word ptr es:[di+28h], 64h ; 'd'
		jle	short loc_D65A
		mov	word ptr es:[di+28h], 64h ; 'd'

loc_D65A:				; CODE XREF: DoGame+13DCj
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Eh ; '>'
		call	AddEvVoice

loc_D66E:				; CODE XREF: DoGame+13C3j
		jmp	loc_D852
; ---------------------------------------------------------------------------

loc_D671:				; CODE XREF: DoGame+13B4j DoGame+13B9j
		cmp	ax, 78h	; 'x'
		jnz	short loc_D6A9
		les	di, [bp+var_4]
		cmp	word ptr es:[di+28h], 0C8h ; 'È'
		jge	short loc_D6A6
		mov	word ptr es:[di+28h], 0C8h ; 'È'
		xor	ax, ax
		mov	i, ax
		mov	b0, 78h	; 'x'
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Eh ; '>'
		call	AddEvVoice

loc_D6A6:				; CODE XREF: DoGame+1409j
		jmp	loc_D852
; ---------------------------------------------------------------------------

loc_D6A9:				; CODE XREF: DoGame+13FEj
		cmp	ax, 79h	; 'y'
		jl	short loc_D70D
		cmp	ax, 82h	; '‚'
		jg	short loc_D70D
		les	di, [bp+var_4]
		cmp	byte ptr es:[di+27h], 0C8h ; 'È'
		jnb	short loc_D70A
		mov	al, es:[di+27h]
		xor	ah, ah
		mov	w, ax
		mov	ax, i
		sub	ax, 78h	; 'x'
		imul	ax, 19h
		add	w, ax
		cmp	w, 0C8h	; 'È'
		jbe	short loc_D6E1
		mov	w, 0C8h	; 'È'

loc_D6E1:				; CODE XREF: DoGame+1463j
		mov	al, byte ptr w
		les	di, [bp+var_4]
		mov	es:[di+27h], al
		xor	ax, ax
		mov	i, ax
		mov	b0, 3Ch	; '<'
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Ch ; '<'
		call	AddEvVoice

loc_D70A:				; CODE XREF: DoGame+1445j
		jmp	loc_D852
; ---------------------------------------------------------------------------

loc_D70D:				; CODE XREF: DoGame+1436j DoGame+143Bj
		cmp	ax, 83h	; 'ƒ'
		jnz	short loc_D754
		les	di, [bp+var_4]
		cmp	word ptr es:[di+4Eh], 78h ; 'x'
		jge	short loc_D751
		add	word ptr es:[di+4Eh], 28h ; '('
		xor	ax, ax
		mov	i, ax
		mov	b0, 78h	; 'x'
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Ch ; '<'
		call	AddEvVoice
		cmp	n__0, 0
		jnz	short loc_D751
		mov	di, offset aYouGotInvisibi ; "YOU GOT INVISIBILITY"
		push	cs
		push	di
		call	PutConsMessage2

loc_D751:				; CODE XREF: DoGame+14A4j DoGame+14CFj
		jmp	loc_D852
; ---------------------------------------------------------------------------

loc_D754:				; CODE XREF: DoGame+149Aj
		cmp	ax, 84h	; '„'
		jnz	short loc_D79B
		les	di, [bp+var_4]
		cmp	word ptr es:[di+52h], 5Ah ; 'Z'
		jge	short loc_D798
		add	word ptr es:[di+52h], 28h ; '('
		xor	ax, ax
		mov	i, ax
		mov	b0, 78h	; 'x'
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Ch ; '<'
		call	AddEvVoice
		cmp	n__0, 0
		jnz	short loc_D798
		mov	di, offset aYouGotTheRefle ; "YOU GOT THE REFLECTOR"
		push	cs
		push	di
		call	PutConsMessage2

loc_D798:				; CODE XREF: DoGame+14EBj DoGame+1516j
		jmp	loc_D852
; ---------------------------------------------------------------------------

loc_D79B:				; CODE XREF: DoGame+14E1j
		cmp	ax, 85h	; '…'
		jnz	short loc_D7E1
		les	di, [bp+var_4]
		cmp	word ptr es:[di+50h], 5Ah ; 'Z'
		jge	short loc_D7DF
		add	word ptr es:[di+50h], 1Eh
		xor	ax, ax
		mov	i, ax
		mov	b0, 12Ch
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Ch ; '<'
		call	AddEvVoice
		cmp	n__0, 0
		jnz	short loc_D7DF
		mov	di, offset aYouGotTheChoji ; "YOU GOT THE CHOJIN MASK"
		push	cs
		push	di
		call	PutConsMessage2

loc_D7DF:				; CODE XREF: DoGame+1532j DoGame+155Dj
		jmp	short loc_D852
; ---------------------------------------------------------------------------

loc_D7E1:				; CODE XREF: DoGame+1528j
		cmp	ax, 8Dh	; ''
		jl	short loc_D834
		cmp	ax, 8Fh	; ''
		jg	short loc_D834
		mov	ax, i
		add	ax, 4
		sub	ax, 8Dh	; ''
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		cwd
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+2Ah]
		xor	dx, dx
		or	ax, cx
		or	dx, bx
		mov	es:[di+2Ah], ax
		xor	ax, ax
		mov	i, ax
		push	0FFFFh
		les	di, [bp+var_C]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3Fh ; '?'
		call	AddEvVoice
		mov	b0, 0Ah
		jmp	short loc_D852
; ---------------------------------------------------------------------------

loc_D834:				; CODE XREF: DoGame+156Ej DoGame+1573j
		cmp	ax, 0FFh
		jnz	short loc_D852
		mov	ax, x__0
		shl	ax, 8
		push	ax
		mov	ax, y
		shl	ax, 8
		push	ax
		push	0FFFFh
		push	0FFFFh
		push	n__0
		call	AnimateSwitches

loc_D852:				; CODE XREF: DoGame+1320j
					; DoGame:loc_D624j ...
		cmp	i, 0
		jz	short loc_D85C
		jmp	loc_D906
; ---------------------------------------------------------------------------

loc_D85C:				; CODE XREF: DoGame+15E1j
		mov	ax, n__0
		cmp	ax, MyNetN
		jnz	short loc_D86B
		mov	GShadeDir, 1

loc_D86B:				; CODE XREF: DoGame+15EDj
		mov	ax, x__0
		shl	ax, 8
		push	ax
		mov	ax, y
		shl	ax, 8
		push	ax
		push	0FFFFh
		push	0FFFFh
		push	n__0
		call	AnimateSwitches
		push	6Bh ; 'k'
		mov	al, byte ptr n__0
		push	ax
		push	0
		push	x__0
		push	y
		push	0
		call	AddEvent
		cmp	SERVER,	0
		jz	short loc_D8FF
		cmp	ReCount, 7Eh ; '~'
		jnb	short loc_D8FD
		inc	ReCount
		imul	ax, ReCount, 0Ah
		les	di, ReObjects
		add	di, ax
		add	di, 0FFF6h
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		les	di, [bp+var_C]
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_10]
		mov	es:[di+4], ax
		mov	ax, x__0
		mov	es:[di], ax
		mov	ax, y
		mov	es:[di+2], ax
		imul	ax, b0,	8Ch
		xor	dx, dx
		add	ax, Time
		adc	dx, word_44D6C
		mov	es:[di+6], ax
		mov	es:[di+8], dx
		les	di, [bp+var_C]
		mov	byte ptr es:[di], 7Ah ;	'z'

loc_D8FD:				; CODE XREF: DoGame+1631j
		jmp	short loc_D906
; ---------------------------------------------------------------------------

loc_D8FF:				; CODE XREF: DoGame+162Aj
		les	di, [bp+var_C]
		mov	byte ptr es:[di], 0

loc_D906:				; CODE XREF: DoGame+114Bj DoGame+1155j ...
		mov	ax, y
		cmp	ax, word ptr [bp+var_8]
		jz	short loc_D911
		jmp	loc_D3B6
; ---------------------------------------------------------------------------

loc_D911:				; CODE XREF: DoGame+1110j DoGame+111Aj ...
		mov	ax, x__0
		cmp	ax, word ptr [bp+var_8+2]
		jz	short loc_D91C
		jmp	loc_D37B
; ---------------------------------------------------------------------------

loc_D91C:				; CODE XREF: DoGame+10E2j DoGame+10FDj ...
		cmp	n__0, 7
		jz	short loc_D926
		jmp	loc_D33C
; ---------------------------------------------------------------------------

loc_D926:				; CODE XREF: DoGame+10B2j DoGame+10BCj ...
		cmp	GameActive, 0
		jz	short loc_D951
		call	AnimateProcesses
		cmp	Animation, 0
		jz	short loc_D94C
		cmp	CLIENT,	0
		jnz	short loc_D94C
		cmp	PlayDemo, 0
		jnz	short loc_D94C
		call	AnimateMonsters

loc_D94C:				; CODE XREF: DoGame+16C1j DoGame+16C8j ...
		call	AnimateZMovement

loc_D951:				; CODE XREF: DoGame+16B5j
		call	AnimateObjects
		call	AnimateBlows
		cmp	GameActive, 0
		jz	short loc_D978
		cmp	CLIENT,	0
		jnz	short loc_D975
		cmp	PlayDemo, 0
		jnz	short loc_D975
		call	AnimateRockets
		jmp	short loc_D978
; ---------------------------------------------------------------------------

loc_D975:				; CODE XREF: DoGame+16F1j DoGame+16F8j
		call	AddClientProcesses

loc_D978:				; CODE XREF: DoGame+16EAj DoGame+16FDj
		cmp	NETMonitor, 0
		jz	short loc_D995
		imul	di, CurOwner, 58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_D992
		cmp	CurOwner, 0
		jnz	short loc_D995

loc_D992:				; CODE XREF: DoGame+1713j
		jmp	loc_DB69
; ---------------------------------------------------------------------------

loc_D995:				; CODE XREF: DoGame+1707j DoGame+171Aj
		cmp	CLIENT,	0
		jz	short loc_D99F
		call	ReInstallFreeECB

loc_D99F:				; CODE XREF: DoGame+1724j
		call	InsertPlayers
		call	InsertMonsters
		call	StartPaint
		call	DrawHoles
		cmp	CLIENT,	0
		jz	short loc_D9B7
		call	ReInstallFreeECB

loc_D9B7:				; CODE XREF: DoGame+173Cj
		cmp	FCount__0, 0
		ja	short loc_D9C1
		jmp	loc_DB34
; ---------------------------------------------------------------------------

loc_D9C1:				; CODE XREF: DoGame+1746j
		mov	ax, FCount__0
		cmp	ax, 1
		jge	short loc_D9CC
		jmp	loc_DB34
; ---------------------------------------------------------------------------

loc_D9CC:				; CODE XREF: DoGame+1751j
		mov	i, ax
		jmp	short loc_D9D5
; ---------------------------------------------------------------------------

loc_D9D1:				; CODE XREF: DoGame+18BBj
		dec	i

loc_D9D5:				; CODE XREF: DoGame+1759j
		imul	ax, i, 0Eh
		les	di, FramesList
		add	di, ax
		add	di, 0FFF2h
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	al, es:[di+0Ah]
		cmp	al, 56h	; 'V'
		jb	short loc_DA20
		cmp	al, 78h	; 'x'
		ja	short loc_DA20
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Ch]
		xor	ah, ah
		push	ax
		call	ExpandFrame
		jmp	loc_DB2A
; ---------------------------------------------------------------------------

loc_DA20:				; CODE XREF: DoGame+177Aj DoGame+177Ej
		cmp	al, 79h	; 'y'
		jnz	short loc_DA42
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Ch]
		xor	ah, ah
		push	ax
		call	ExpandObject
		jmp	loc_DB2A
; ---------------------------------------------------------------------------

loc_DA42:				; CODE XREF: DoGame+17ACj
		cmp	al, 7Ah	; 'z'
		jnz	short loc_DA64
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Ch]
		xor	ah, ah
		push	ax
		call	Expand3dObject
		jmp	loc_DB2A
; ---------------------------------------------------------------------------

loc_DA64:				; CODE XREF: DoGame+17CEj
		cmp	al, 7Bh	; '{'
		jnz	short loc_DA87
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		call	ExpandMonster
		jmp	loc_DB2A
; ---------------------------------------------------------------------------

loc_DA87:				; CODE XREF: DoGame+17F0j
		cmp	al, 7Ch	; '|'
		jnz	short loc_DAA2
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		call	ExpandRocket
		jmp	loc_DB2A
; ---------------------------------------------------------------------------

loc_DAA2:				; CODE XREF: DoGame+1813j
		cmp	al, 7Dh	; '}'
		jnz	short loc_DABC
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		call	ExpandMine
		jmp	short loc_DB2A
; ---------------------------------------------------------------------------

loc_DABC:				; CODE XREF: DoGame+182Ej
		cmp	al, 7Fh	; ''
		jnz	short loc_DAD6
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		call	ExpandBlow
		jmp	short loc_DB2A
; ---------------------------------------------------------------------------

loc_DAD6:				; CODE XREF: DoGame+1848j
		cmp	al, 81h	; ''
		jnz	short loc_DAF8
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		call	ExpandPlayer
		jmp	short loc_DB2A
; ---------------------------------------------------------------------------

loc_DAF8:				; CODE XREF: DoGame+1862j
		cmp	al, 7Eh	; '~'
		jnz	short loc_DB12
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		call	ExpandSepPart
		jmp	short loc_DB2A
; ---------------------------------------------------------------------------

loc_DB12:				; CODE XREF: DoGame+1884j
		cmp	al, 80h	; '€'
		jnz	short loc_DB2A
		les	di, [bp+var_4]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Dh]
		xor	ah, ah
		push	ax
		call	ExpandAmmoBag

loc_DB2A:				; CODE XREF: DoGame+17A7j DoGame+17C9j ...
		cmp	i, 1
		jz	short loc_DB34
		jmp	loc_D9D1
; ---------------------------------------------------------------------------

loc_DB34:				; CODE XREF: DoGame+1748j DoGame+1753j ...
		cmp	CLIENT,	0
		jz	short loc_DB3E
		call	ReInstallFreeECB

loc_DB3E:				; CODE XREF: DoGame+18C3j
		cmp	NETMonitor, 0
		jnz	short loc_DB51
		cmp	MapMode, 0
		jz	short loc_DB51
		call	ShowMap

loc_DB51:				; CODE XREF: DoGame+18CDj DoGame+18D4j
		call	EndPaint
		cmp	GameActive, 0
		jz	short loc_DB67
		cmp	OAnimate, 0
		jz	short loc_DB67
		call	AnimateRespawnObjects

loc_DB67:				; CODE XREF: DoGame+18E3j DoGame+18EAj
		jmp	short loc_DB90
; ---------------------------------------------------------------------------

loc_DB69:				; CODE XREF: DoGame:loc_D992j
					; DoGame+18FAj
		cmp	CurTime, 4
		jnb	short loc_DB72
		jmp	short loc_DB69
; ---------------------------------------------------------------------------

loc_DB72:				; CODE XREF: DoGame+18F8j
		mov	t1, 4
		push	t1
		push	27Fh
		push	4
		call	ShowValue
		cmp	NewSecond, 0
		jz	short loc_DB90
		call	ShowVESATime

loc_DB90:				; CODE XREF: DoGame:loc_DB67j
					; DoGame+1913j
		cmp	RecordDemo, 0
		jz	short loc_DB9C
		call	Demo_RecordNext

loc_DB9C:				; CODE XREF: DoGame+191Fj
		cmp	NETMonitor, 0
		jz	short loc_DBA8
		call	ShowVesaConsole

loc_DBA8:				; CODE XREF: DoGame+192Bj
		inc	takt
		cmp	PlayDemo, 0
		jnz	short loc_DBCA
		cmp	CLIENT,	0
		jnz	short loc_DBCA
		cmp	Chojin,	0
		jz	short loc_DBC7
		mov	word_452A2, 0C8h ; 'È'

loc_DBC7:				; CODE XREF: DoGame+1949j
		call	CheckTelePorts

loc_DBCA:				; CODE XREF: DoGame+193Bj DoGame+1942j
		mov	al, byte ptr ehy+1
		xor	ah, ah
		mov	dx, ax
		mov	al, byte ptr ehx+1
		xor	ah, ah
		shl	ax, 6
		les	di, AmbMap
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	SetAmbient
		mov	ax, CurTime
		add	_Times10Sum, ax
		inc	Frames10Count
		cmp	Frames10Count, 0Ah
		jb	short loc_DC0E
		mov	ax, _Times10Sum
		mov	Times10Sum, ax
		xor	ax, ax
		mov	_Times10Sum, ax
		xor	ax, ax
		mov	Frames10Count, ax

loc_DC0E:				; CODE XREF: DoGame+1986j
		cmp	EndDelay, 0
		jle	short loc_DC29
		mov	ax, t1
		sub	EndDelay, ax
		cmp	EndDelay, 0
		jg	short loc_DC29
		mov	MenuCode, 2

loc_DC29:				; CODE XREF: DoGame+199Dj DoGame+19ABj
		cmp	MenuCode, 0
		ja	short loc_DC33
		jmp	loc_C4F8
; ---------------------------------------------------------------------------

loc_DC33:				; CODE XREF: DoGame+196j DoGame+1ABj ...
		call	RefreshMachineMode
		call	CloseIPXChannel
		call	DeInit_DemoSystem
		call	DeinitMonitor
		call	StopSound
		call	ReleaseLevel
		mov	EndOfTheGame, 0

locret_DC4E:				; CODE XREF: DoGame+17Bj
		leave
		retn
DoGame		endp

; ---------------------------------------------------------------------------
aChasm_cfg_0	db 9,'CHASM.CFG'        ; DATA XREF: CheckQuit+Bo
					; CheckQuit+15o
aNquit		db 5,'NQUIT'            ; DATA XREF: CheckQuit+23Fo

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

CheckQuit	proc near		; CODE XREF: PROGRAM+E77p
		push	bp
		mov	bp, sp
		call	DO_CD_Stop
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aChasm_cfg_0	; "CHASM.CFG"
		push	cs
		push	di
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		mov	di, offset aChasm_cfg_0	; "CHASM.CFG"
		push	cs
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset F
		push	ds
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		call	ChI
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset _FrontOn
		push	ds
		push	di
		push	13h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset RespawnTime
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset FXVolume
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset CDVolume
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset MSsens
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Bright
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Contrast
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Color
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset FloorW
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset b0
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset InfoPage
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset SelfNick
		push	ds
		push	di
		push	9
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset SelfColor
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset ShadowCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset EpisodeReset
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Cocpit
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset ReverseMouse
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset MLookOn
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset AlwaysRun
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset NGCard
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset NGPort
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset NGBaud
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset CurVideoMode
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset VPSize
		push	ds
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	@Close$qm4File	; Close(var f: File)
		call	ChI
		mov	di, offset aNquit ; "NQUIT"
		push	cs
		push	di
		call	far ptr	DoHalt
CheckQuit	endp

; ---------------------------------------------------------------------------
		db 0C9h	; É
		db 0C3h	; Ã

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowIntro1	proc near		; CODE XREF: PROGRAM+D09p
		enter	2, 0
		leave
		retn
ShowIntro1	endp

; ---------------------------------------------------------------------------
a@		db 5,'[!@#]'            ; DATA XREF: PROGRAM+48o
aRunChasm_exeTo	db 28,'Run CHASM.EXE to play CHASM.' ; DATA XREF: PROGRAM+54o
asc_DED4	db 4,'####'             ; DATA XREF: PROGRAM+85o PROGRAM+842o
aNoEnoughtMemor	db 35,'No enought memory to start CHASM.',0Dh,0Ah ; DATA XREF: PROGRAM+75o
aKMoreMemoryNee	db 21,'K more memory needed.' ; DATA XREF: PROGRAM+B9o
aUnknown	db 7,'UNKNOWN'          ; DATA XREF: PROGRAM+F1o
aChasmTheRift_V	db 23,'CHASM - The Rift. v1.04' ; DATA XREF: PROGRAM+18Do
aCMegamediaCorp	db 19,'(c) Megamedia Corp,' ; DATA XREF: PROGRAM+197o
aActionFormsLtd	db 21,'    Action Forms Ltd.' ; DATA XREF: PROGRAM+1A1o
asc_DF5D	db 0			; DATA XREF: PROGRAM+1ABo
aSafe		db 5,'-safe'            ; DATA XREF: PROGRAM+2B0o
aNomonsters	db 11,'-nomonsters'     ; DATA XREF: PROGRAM+2C6o
aChojin		db 7,'-chojin'          ; DATA XREF: PROGRAM+2DCo
aNodemo		db 7,'-nodemo'          ; DATA XREF: PROGRAM+2F2o
aMonitor	db 8,'-monitor'         ; DATA XREF: PROGRAM+308o
aAddon		db 7,'-addon:'          ; DATA XREF: PROGRAM+334o
asc_DF91	db 1,'\'                ; DATA XREF: PROGRAM+390o
aVmode		db 6,'-vmode'           ; DATA XREF: PROGRAM+3BFo
aKalirate	db 9,'-kalirate'        ; DATA XREF: PROGRAM+43Do
aSetMinNetworkP	db 27,'Set Min Network period to: ' ; DATA XREF: PROGRAM+4AEo
aSec_		db 5,' sec.'            ; DATA XREF: PROGRAM+4DFo
aWarp		db 5,'-warp'            ; DATA XREF: PROGRAM+504o
aSkill		db 6,'-skill'           ; DATA XREF: PROGRAM+57Do
aColor		db 6,'-color'           ; DATA XREF: PROGRAM+5EBo
aNojoy		db 6,'-nojoy'           ; DATA XREF: PROGRAM+6B3o
aNosound	db 8,'-nosound'         ; DATA XREF: PROGRAM+6C9o
aNomouse	db 8,'-nomouse'         ; DATA XREF: PROGRAM+6DFo
aAddLevelsFrom	db 17,'Add levels from: ' ; DATA XREF: PROGRAM+70Ao
aSpecifiedSound	db 35,'Specified sound hardware not found.' ; DATA XREF: PROGRAM+743o
asc_E029	db 44,'--------------------------------------------'
					; DATA XREF: PROGRAM+752o PROGRAM+BF5o
aMemory		db 11,'Memory   : '     ; DATA XREF: PROGRAM+768o
aK_		db 2,'K.'               ; DATA XREF: PROGRAM+78Co
aKeyboard	db 9,'Keyboard '        ; DATA XREF: PROGRAM+79Do
aJoystick	db 11,'& JoyStick '     ; DATA XREF: PROGRAM+7C6o
aMouse		db 7,'& Mouse'          ; DATA XREF: PROGRAM+7F4o
aControls	db 11,'Controls : '     ; DATA XREF: PROGRAM+816o
aK		db 2,'K,'               ; DATA XREF: PROGRAM+85Eo
aVesa		db 6,' VESA '           ; DATA XREF: PROGRAM+88Co
asc_E099	db 1,'#'                ; DATA XREF: PROGRAM+89Co PROGRAM+8CAo ...
a_		db 1,'.'                ; DATA XREF: PROGRAM+8BAo PROGRAM+B85o
aLinearFrameBuf	db 26,', LINEAR FRAME BUFFER AT: ' ; DATA XREF: PROGRAM+90Co
aVideo		db 11,'Video    : '     ; DATA XREF: PROGRAM+946o
aNo		db 2,'No'               ; DATA XREF: PROGRAM+96Do
aSb1_02_0	db 11,'SB 1.0/2.0 '     ; DATA XREF: PROGRAM+985o
aSbPro2		db 8,'SB Pro2 '         ; DATA XREF: PROGRAM+99Do
aSb16		db 5,'SB16 '            ; DATA XREF: PROGRAM+9B5o
aGravisUltrasou	db 18,'Gravis UltraSound ' ; DATA XREF: PROGRAM+9CDo
asc_E0F5	db 1,'h'                ; DATA XREF: PROGRAM+A26o
aIrq		db 4,',IRQ'             ; DATA XREF: PROGRAM+A30o
a@_0		db 2,'@#'               ; DATA XREF: PROGRAM+A40o PROGRAM+B95o ...
aDma		db 4,',DMA'             ; DATA XREF: PROGRAM+A5Eo
aDspv		db 5,',DSPv'            ; DATA XREF: PROGRAM+AA5o
a__0		db 4,'#.##'             ; DATA XREF: PROGRAM+AB5o
aSound		db 11,'Sound    : '     ; DATA XREF: PROGRAM+AF6o
aNotPresent_	db 12,'Not present.'    ; DATA XREF: PROGRAM+B16o
aVersion	db 8,'Version '         ; DATA XREF: PROGRAM+B52o
aMscdex		db 11,'MSCDEX   : '     ; DATA XREF: PROGRAM+BD0o
aSetInterruptVe	db 24,'Set interrupt vectors...' ; DATA XREF: PROGRAM+C52o
aOk_		db 3,'Ok.'              ; DATA XREF: PROGRAM+CA6o PROGRAM+CE1o
aInitSoundSyste	db 20,'Init Sound System...' ; DATA XREF: PROGRAM+CC6o
aLevel		db 5,'LEVEL'            ; DATA XREF: PROGRAM+D80o
aScript_	db 8,'\script.'         ; DATA XREF: PROGRAM+D94o
aLevel01Script_	db 17,'LEVEL01\script.01' ; DATA XREF: PROGRAM+DE8o
aIntro		db 5,'Intro'            ; DATA XREF: PROGRAM+E3Ao
aGameLoaded_	db 12,'Game Loaded.'    ; DATA XREF: PROGRAM+E66o
		assume ss:dseg12

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

		public PROGRAM
PROGRAM		proc near
		call	KERNEL_91
		call	@__SystemInit$qv ; Initialize run-time library
		call	@__CrtInit$qv	; __CrtInit(void)
		call	sub_33F55
		call	sub_317C3
		call	sub_110A0
		call	sub_2AC6D
		call	sub_27F78
		call	sub_20F2A
		call	sub_1893B
		call	sub_15656
		enter	500h, 0
		lea	di, [bp-100h]
		push	ss
		push	di
		push	1
		call	@ParamStr$qm6String4Word ; ParamStr(index): String
		mov	di, offset a@	; "[!@#]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_E201
		mov	di, offset aRunChasm_exeTo ; "Run CHASM.EXE to play CHASM."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_E201:				; CODE XREF: PROGRAM+52j
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		cmp	dx, 4Ch	; 'L'
		jl	short loc_E212
		jg	short loc_E26B
		cmp	ax, 4B40h
		jnb	short loc_E26B

loc_E212:				; CODE XREF: PROGRAM+66j
		lea	di, [bp-200h]
		push	ss
		push	di
		mov	di, offset aNoEnoughtMemor ; "No enought memory	to start CHASM.\r\n"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset asc_DED4 ; "####"
		push	cs
		push	di
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, 4B40h
		mov	dx, 4Ch	; 'L'
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aKMoreMemoryNee ; "K	more memory needed."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_E26B:				; CODE XREF: PROGRAM+68j PROGRAM+6Dj
		mov	ax, Seg0040
		push	ax
		mov	di, 17h
		pop	es
		mov	byte ptr es:[di], 0
		call	@Randomize$qv	; Randomize
		mov	ax, word ptr RandSeed
		mov	dx, word ptr RandSeed+2
		mov	StartUpRandSeed, ax
		mov	word_44D88, dx
		mov	DirectVideo, 0
		mov	byte_44A34, 0
		mov	di, offset aUnknown ; "UNKNOWN"
		push	cs
		push	di
		mov	di, offset SelfNick
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		xor	ax, ax
		mov	mem0, ax
		mov	word_44D74, ax
		mov	mps, 30h ; '0'
		xor	ax, ax
		mov	MyNetN,	ax
		mov	RespawnTime, 20D0h
		mov	BLevelDef, 140h
		mov	Cocpit,	1
		mov	SelfColor, 1
		mov	Slow, 0
		mov	Spline,	1
		mov	Monsters, 1
		mov	InfoPage, 1
		mov	Console, 0
		mov	Animation, 1
		mov	ClipMode, 0
		mov	JoyStick, 0
		mov	CLIENT,	0
		mov	SERVER,	0
		mov	Chojin,	0
		mov	LevelN,	1
		mov	NGLevel, 1
		mov	NGSkill, 1
		mov	NGMode,	0
		mov	Skill, 1
		xor	ax, ax
		mov	ConsY, ax
		xor	ax, ax
		mov	ConsDY,	ax
		mov	MenuCode, 4
		mov	di, offset aChasmTheRift_V ; "CHASM - The Rift.	v1.04"
		push	cs
		push	di
		call	PutConsMessage
		mov	di, offset aCMegamediaCorp ; "(c) Megamedia Corp,"
		push	cs
		push	di
		call	PutConsMessage
		mov	di, offset aActionFormsLtd ; "	  Action Forms Ltd."
		push	cs
		push	di
		call	PutConsMessage
		mov	di, offset asc_DF5D ; ""
		push	cs
		push	di
		call	PutConsMessage
		call	CheckNP
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_E366
; ---------------------------------------------------------------------------

loc_E362:				; CODE XREF: PROGRAM+1EFj
		inc	n__0

loc_E366:				; CODE XREF: PROGRAM+1BDj
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	byte ptr es:[di], 0
		mov	byte ptr es:[di+24h], 0
		xor	ax, ax
		mov	es:[di+22h], ax
		xor	ax, ax
		mov	es:[di+44h], ax
		mov	ax, n__0
		mov	es:[di+46h], ax
		cmp	n__0, 7
		jnz	short loc_E362
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_E39F
; ---------------------------------------------------------------------------

loc_E39B:				; CODE XREF: PROGRAM+212j
		inc	n__0

loc_E39F:				; CODE XREF: PROGRAM+1F6j
		imul	ax, n__0, 140h
		mov	di, n__0
		shl	di, 1
		mov	[di-7016h], ax
		cmp	n__0, 0C8h ; 'È'
		jnz	short loc_E39B
		xor	ax, ax
		mov	ConsMainY, ax
		xor	ax, ax
		mov	LoadSaveY, ax
		xor	ax, ax
		mov	OptionsY, ax
		mov	ax, 9E33h
		mov	dx, seg	cseg01
		mov	word ptr BuildSceneRout, ax
		mov	word ptr BuildSceneRout+2, dx
		push	1
		call	LoadConfig
		mov	di, offset SelfNick
		push	ds
		push	di
		mov	di, offset unk_4527B
		push	ds
		push	di
		push	8
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, SelfColor
		xor	ah, ah
		mov	word_452B0, ax
		call	InitMessageSystem
		mov	PlayDemo, 1
		xor	ax, ax
		mov	KbdInt,	ax
		mov	word_44BCC, ax
		xor	ax, ax
		mov	TimerInt, ax
		mov	word_44BC8, ax
		call	@ParamCount$qv	; ParamCount: Word{AX}
		mov	[bp-2],	ax
		mov	ax, 2
		cmp	ax, [bp-2]
		jle	short loc_E41E
		jmp	loc_E7F3
; ---------------------------------------------------------------------------

loc_E41E:				; CODE XREF: PROGRAM+276j
		mov	n__0, ax
		jmp	short loc_E427
; ---------------------------------------------------------------------------

loc_E423:				; CODE XREF: PROGRAM+64Dj
		inc	n__0

loc_E427:				; CODE XREF: PROGRAM+27Ej
		lea	di, [bp-202h]
		push	ss
		push	di
		lea	di, [bp-102h]
		push	ss
		push	di
		push	n__0
		call	@ParamStr$qm6String4Word ; ParamStr(index): String
		call	StLocase
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aSafe ; "-safe"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E464
		mov	SafeLoad, 1

loc_E464:				; CODE XREF: PROGRAM+2BAj
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aNomonsters ; "-nomonsters"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E47A
		mov	Monsters, 0

loc_E47A:				; CODE XREF: PROGRAM+2D0j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aChojin ; "-chojin"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E490
		mov	Chojin,	1

loc_E490:				; CODE XREF: PROGRAM+2E6j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aNodemo ; "-nodemo"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E4A6
		mov	PlayDemo, 0

loc_E4A6:				; CODE XREF: PROGRAM+2FCj
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aMonitor ; "-monitor"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E4C3
		cmp	VESAPresent, 0
		jz	short loc_E4C3
		mov	NETMonitor, 1

loc_E4C3:				; CODE XREF: PROGRAM+312j PROGRAM+319j
		lea	di, [bp-102h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	1
		push	7
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset aAddon ; "-addon:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E54E
		lea	di, [bp-302h]
		push	ss
		push	di
		lea	di, [bp-202h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	8
		push	28h ; '('
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		mov	di, offset AddonPath
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	AddonPath, 0
		jbe	short loc_E54E
		mov	al, AddonPath
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-199Ah], 5Ch ; '\'
		jz	short loc_E549
		lea	di, [bp-202h]
		push	ss
		push	di
		mov	di, offset AddonPath
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset asc_DF91 ; "\\"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset AddonPath
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_E549:				; CODE XREF: PROGRAM+37Ej
		mov	byte ptr UserMaps, 1

loc_E54E:				; CODE XREF: PROGRAM+33Ej PROGRAM+370j
		lea	di, [bp-102h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	1
		push	6
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset aVmode ; "-vmode"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E5CC
		lea	di, [bp-202h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	7
		push	2
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset j
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	i, ax
		cmp	j, 0
		jnz	short loc_E5CC
		cmp	i, 1
		jl	short loc_E5CC
		mov	ax, ModesList
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, i
		cwd
		cmp	dx, bx
		jl	short loc_E5C6
		jg	short loc_E5CC
		cmp	ax, cx
		ja	short loc_E5CC

loc_E5C6:				; CODE XREF: PROGRAM+41Bj
		mov	ax, i
		mov	CurVideoMode, ax

loc_E5CC:				; CODE XREF: PROGRAM+3C9j PROGRAM+403j ...
		lea	di, [bp-102h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	1
		push	9
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset aKalirate ; "-kalirate"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_E5EF
		jmp	loc_E693
; ---------------------------------------------------------------------------

loc_E5EF:				; CODE XREF: PROGRAM+447j
		mov	KALI, 1
		lea	di, [bp-202h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0Ah
		push	2
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset j
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	i, ax
		cmp	j, 0
		jnz	short loc_E64C
		cmp	i, 1
		jl	short loc_E64C
		cmp	i, 20h ; ' '
		jg	short loc_E64C
		mov	ax, 8Ch	; 'Œ'
		cwd
		idiv	i
		cwd
		mov	NetPeriod, ax
		mov	word_366AE, dx

loc_E64C:				; CODE XREF: PROGRAM+489j PROGRAM+490j ...
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aSetMinNetworkP ; "Set Min Network period to: "
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		mov	ax, NetPeriod
		mov	dx, word_366AE
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 88h	; 'ˆ'
		xor	si, si
		mov	di, 0C00h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		push	1
		push	2
		call	@Write$qm4Text4Real4Wordt3 ; Write(var f; v: Real; width, decimals: Word)
		mov	di, offset aSec_ ; " sec."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)

loc_E693:				; CODE XREF: PROGRAM+449j
		lea	di, [bp-102h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	1
		push	5
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset aWarp ; "-warp"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E70C
		lea	di, [bp-202h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	6
		push	2
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset j
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	i, ax
		cmp	j, 0
		jnz	short loc_E701
		cmp	i, 1
		jl	short loc_E701
		cmp	i, 40h ; '@'
		jg	short loc_E701
		mov	ax, i
		mov	LevelN,	ax

loc_E701:				; CODE XREF: PROGRAM+548j PROGRAM+54Fj ...
		mov	PlayDemo, 0
		mov	MenuCode, 4

loc_E70C:				; CODE XREF: PROGRAM+50Ej
		lea	di, [bp-102h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	1
		push	6
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset aSkill ; "-skill"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E77A
		lea	di, [bp-202h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	7
		push	1
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset j
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	i, ax
		cmp	j, 0
		jnz	short loc_E77A
		cmp	i, 0
		jl	short loc_E77A
		cmp	i, 2
		jg	short loc_E77A
		mov	ax, i
		mov	Skill, ax

loc_E77A:				; CODE XREF: PROGRAM+587j PROGRAM+5C1j ...
		lea	di, [bp-102h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	1
		push	6
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset aColor ; "-color"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E7E8
		lea	di, [bp-202h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	7
		push	1
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset j
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	i, ax
		cmp	j, 0
		jnz	short loc_E7E8
		cmp	i, 0
		jle	short loc_E7E8
		cmp	i, 8
		jg	short loc_E7E8
		mov	al, byte ptr i
		mov	SelfColor, al

loc_E7E8:				; CODE XREF: PROGRAM+5F5j PROGRAM+62Fj ...
		mov	ax, n__0
		cmp	ax, [bp-2]
		jz	short loc_E7F3
		jmp	loc_E423
; ---------------------------------------------------------------------------

loc_E7F3:				; CODE XREF: PROGRAM+278j PROGRAM+64Bj
		cmp	SafeLoad, 0
		jz	short loc_E802
		mov	CurVideoMode, 1
		jmp	short loc_E811
; ---------------------------------------------------------------------------

loc_E802:				; CODE XREF: PROGRAM+655j
		call	DetectSound
		call	CheckMouse
		call	CheckJoyStick

loc_E811:				; CODE XREF: PROGRAM+65Dj
		call	@ParamCount$qv	; ParamCount: Word{AX}
		mov	[bp-2],	ax
		mov	ax, 2
		cmp	ax, [bp-2]
		jg	short loc_E89B
		mov	n__0, ax
		jmp	short loc_E82A
; ---------------------------------------------------------------------------

loc_E826:				; CODE XREF: PROGRAM+6F6j
		inc	n__0

loc_E82A:				; CODE XREF: PROGRAM+681j
		lea	di, [bp-202h]
		push	ss
		push	di
		lea	di, [bp-102h]
		push	ss
		push	di
		push	n__0
		call	@ParamStr$qm6String4Word ; ParamStr(index): String
		call	StLocase
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aNojoy ; "-nojoy"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E867
		mov	JoyStick, 0

loc_E867:				; CODE XREF: PROGRAM+6BDj
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aNosound ; "-nosound"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E87D
		mov	sCard, 0

loc_E87D:				; CODE XREF: PROGRAM+6D3j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aNomouse ; "-nomouse"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_E893
		mov	MouseD,	0

loc_E893:				; CODE XREF: PROGRAM+6E9j
		mov	ax, n__0
		cmp	ax, [bp-2]
		jnz	short loc_E826

loc_E89B:				; CODE XREF: PROGRAM+67Cj
		cmp	byte ptr UserMaps, 0
		jz	short loc_E8CD
		mov	di, offset Output
		push	ds
		push	di
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset aAddLevelsFrom ; "Add levels	from: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset AddonPath
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)

loc_E8CD:				; CODE XREF: PROGRAM+6FDj
		mov	al, sCard
		push	ax
		push	sBase
		mov	al, sIRQ
		push	ax
		mov	al, sDMA
		push	ax
		call	RegisterCard
		or	al, al
		jnz	short loc_E8F0
		mov	di, offset aSpecifiedSound ; "Specified	sound hardware not found."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_E8F0:				; CODE XREF: PROGRAM+741j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset asc_E029 ; "---------------------------------------"...
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aMemory ; "Memory   : "
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		push	dx
		push	ax
		push	0
		call	@Write$qm4Text7Longint4Word ; Write(var	f; v: Longint; width: Word)
		mov	di, offset aK_	; "K."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		mov	di, offset aKeyboard ; "Keyboard "
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	JoyStick, 0
		jz	short loc_E980
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aJoystick ; "& JoyStick "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_E980:				; CODE XREF: PROGRAM+7B4j
		cmp	MouseD,	0
		jz	short loc_E9AE
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aMouse ; "& Mouse"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_E9AE:				; CODE XREF: PROGRAM+7E2j
		mov	di, offset Output
		push	ds
		push	di
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset aControls ; "Controls : "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset S
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		lea	di, [bp-200h]
		push	ss
		push	di
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset asc_DED4 ; "####"
		push	cs
		push	di
		mov	ax, TotalMemory
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	Trim
		mov	di, offset aK	; "K,"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	VESAVersion, 0
		jbe	short loc_EA98
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aVesa ; " VESA "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-200h]
		push	ss
		push	di
		mov	di, offset asc_E099 ; "#"
		push	cs
		push	di
		mov	al, byte ptr VESAVersion+1
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_	; "."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-300h]
		push	ss
		push	di
		mov	di, offset asc_E099 ; "#"
		push	cs
		push	di
		mov	al, byte ptr VESAVersion
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_EA98:				; CODE XREF: PROGRAM+87Aj
		cmp	FLATSelector, 0
		jbe	short loc_EADE
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aLinearFrameBuf ; ",	LINEAR FRAME BUFFER AT:	"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-200h]
		push	ss
		push	di
		push	word_45688
		push	VESA20Addr
		call	HexL
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_EADE:				; CODE XREF: PROGRAM+8FAj
		mov	di, offset Output
		push	ds
		push	di
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset aVideo ; "Video    :	"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset S
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		mov	al, sCard
		cmp	al, 0
		jnz	short loc_EB24
		mov	di, offset aNo	; "No"
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_EB82
; ---------------------------------------------------------------------------

loc_EB24:				; CODE XREF: PROGRAM+96Bj
		cmp	al, 2
		jnz	short loc_EB3C
		mov	di, offset aSb1_02_0 ; "SB 1.0/2.0 "
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_EB82
; ---------------------------------------------------------------------------

loc_EB3C:				; CODE XREF: PROGRAM+983j
		cmp	al, 3
		jnz	short loc_EB54
		mov	di, offset aSbPro2 ; "SB Pro2 "
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_EB82
; ---------------------------------------------------------------------------

loc_EB54:				; CODE XREF: PROGRAM+99Bj
		cmp	al, 4
		jnz	short loc_EB6C
		mov	di, offset aSb16 ; "SB16 "
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_EB82
; ---------------------------------------------------------------------------

loc_EB6C:				; CODE XREF: PROGRAM+9B3j
		cmp	al, 5
		jnz	short loc_EB82
		mov	di, offset aGravisUltrasou ; "Gravis UltraSound	"
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_EB82:				; CODE XREF: PROGRAM+97Fj PROGRAM+997j ...
		cmp	sCard, 1
		ja	short loc_EB8C
		jmp	loc_EC8E
; ---------------------------------------------------------------------------

loc_EB8C:				; CODE XREF: PROGRAM+9E4j
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset asc_E099 ; "#"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-300h]
		push	ss
		push	di
		lea	di, [bp-200h]
		push	ss
		push	di
		push	sBase
		call	HexW
		push	2
		push	3
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_E0F5 ; "h"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aIrq	; ",IRQ"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-400h]
		push	ss
		push	di
		mov	di, offset a@_0	; "@#"
		push	cs
		push	di
		mov	al, sIRQ
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aDma	; ",DMA"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-500h]
		push	ss
		push	di
		mov	al, sDMA
		xor	ah, ah
		add	ax, 30h	; '0'
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	sCard, 5
		jnb	short loc_EC8E
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aDspv ; ",DSPv"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-200h]
		push	ss
		push	di
		mov	di, offset a__0	; "#.##"
		push	cs
		push	di
		mov	ax, sbDSPver
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 87h	; '‡'
		xor	si, si
		mov	di, 4800h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_EC8E:				; CODE XREF: PROGRAM+9E6j PROGRAM+A93j
		mov	di, offset Output
		push	ds
		push	di
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset aSound ; "Sound    :	"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset S
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		mov	di, offset aNotPresent_	; "Not present."
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	NPinst,	0
		jnz	short loc_ECD5
		jmp	loc_ED68
; ---------------------------------------------------------------------------

loc_ECD5:				; CODE XREF: PROGRAM+B2Dj
		les	di, PInfoStruct
		assume es:nothing
		mov	[bp-4],	di
		mov	word ptr [bp-2], es
		cmp	word ptr es:[di+181h], 0
		ja	short loc_ECEA
		jmp	loc_ED68
; ---------------------------------------------------------------------------

loc_ECEA:				; CODE XREF: PROGRAM+B42j
		mov	MSCDEX,	1
		lea	di, [bp-204h]
		push	ss
		push	di
		mov	di, offset aVersion ; "Version "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp-104h]
		push	ss
		push	di
		mov	di, offset asc_E099 ; "#"
		push	cs
		push	di
		les	di, [bp-4]
		mov	al, es:[di+182h]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_	; "."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp-304h]
		push	ss
		push	di
		mov	di, offset a@_0	; "@#"
		push	cs
		push	di
		les	di, [bp-4]
		mov	al, es:[di+181h]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_ED68:				; CODE XREF: PROGRAM+B2Fj PROGRAM+B44j
		mov	di, offset Output
		push	ds
		push	di
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset aMscdex ; "MSCDEX   : "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset S
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset asc_E029 ; "---------------------------------------"...
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		mov	HeapLimit, 200h
		mov	HeapBlock, 1000h
		call	AllocMemory
		mov	ax, ds
		push	ax
		call	KERNEL_175
		mov	CurPicSeg, ax
		push	CurPicSeg
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	ax, cs
		push	ax
		call	KERNEL_175
		mov	CSCopy__0, ax
		push	CSCopy__0
		push	0
		push	0FA00h
		call	KERNEL_189
		mov	ax, CSCopy__0
		mov	gs, ax
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aSetInterruptVe ; "Set interrupt vectors..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		push	9
		mov	di, offset KbdInt
		push	ds
		push	di
		call	GetIntVec
		push	9
		mov	di, 38C9h
		mov	ax, seg	cseg01
		push	ax
		push	di
		call	SetIntVec
		push	8
		mov	di, offset TimerInt
		push	ds
		push	di
		call	GetIntVec
		push	8
		mov	di, 3934h
		mov	ax, seg	cseg01
		push	ax
		push	di
		call	SetIntVec
		push	214Ah
		call	settimer
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk_	; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		call	LoadCommonParts
		call	ScanLevels
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aInitSoundSyste ; "Init Sound System..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		call	InitSoundSystem
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk_	; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		call	LoadGraphics
		call	ReleaseLevel
		call	SetVideoMode
		call	ReDrawGround
		call	ReInitOwners
		call	ShowIntro1
		cmp	PlayDemo, 0
		jz	short loc_EEC0
		xor	ax, ax
		mov	LevelN,	ax
		call	GetNextDemoNumber

loc_EEC0:				; CODE XREF: PROGRAM+D11j
		cmp	JoyStick, 0
		jz	short loc_EECC
		call	InitJoyStick

loc_EECC:				; CODE XREF: PROGRAM+D22j
					; PROGRAM:loc_F01Dj
		mov	ax, MenuCode
		cmp	ax, 1
		jz	short loc_EEDE
		cmp	ax, 0Bh
		jz	short loc_EEDE
		cmp	ax, 16h
		jnz	short loc_EEE4

loc_EEDE:				; CODE XREF: PROGRAM+D2Fj PROGRAM+D34j
		call	DoGame
		jmp	loc_F01D
; ---------------------------------------------------------------------------

loc_EEE4:				; CODE XREF: PROGRAM+D39j
		cmp	ax, 2
		jz	short loc_EEEC
		jmp	loc_EF83
; ---------------------------------------------------------------------------

loc_EEEC:				; CODE XREF: PROGRAM+D44j
		call	FindNextLevel
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset a@_0	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	DO_CD_Stop
		lea	di, [bp-100h]
		push	ss
		push	di
		mov	di, offset aLevel ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset S
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aScript_ ; "\\script."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PlayBrifing
		call	LoadLevel
		cmp	EpisodeReset, 0
		jz	short loc_EF70
		mov	al, byte ptr LevelN
		cmp	al, 5
		jz	short loc_EF6B
		cmp	al, 9
		jz	short loc_EF6B
		cmp	al, 0Dh
		jnz	short loc_EF70

loc_EF6B:				; CODE XREF: PROGRAM+DBEj PROGRAM+DC2j
		call	FillStartInfo

loc_EF70:				; CODE XREF: PROGRAM+DB7j PROGRAM+DC6j
		mov	MenuCode, 1
		mov	RecordDemo, 0
		mov	PlayDemo, 0
		jmp	loc_F01D
; ---------------------------------------------------------------------------

loc_EF83:				; CODE XREF: PROGRAM+D46j
		cmp	ax, 3
		jnz	short loc_EFC1
		call	DO_CD_Stop
		mov	di, offset aLevel01Script_ ; "LEVEL01\\script.01"
		push	cs
		push	di
		call	PlayBrifing
		call	FillStartInfo
		mov	LevelN,	1
		mov	CLIENT,	0
		mov	SERVER,	0
		call	LoadLevel
		mov	MenuCode, 1
		mov	RecordDemo, 0
		mov	PlayDemo, 0
		jmp	short loc_F01D
; ---------------------------------------------------------------------------

loc_EFC1:				; CODE XREF: PROGRAM+DE3j
		cmp	ax, 4
		jnz	short loc_EFD8
		call	LoadLevel
		call	FillStartInfo
		mov	MenuCode, 1
		jmp	short loc_F01D
; ---------------------------------------------------------------------------

loc_EFD8:				; CODE XREF: PROGRAM+E21j
		cmp	ax, 5
		jnz	short loc_EFE9
		mov	di, offset aIntro ; "Intro"
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------
		db 0EBh	; ë
		db  34h	; 4
; ---------------------------------------------------------------------------

loc_EFE9:				; CODE XREF: PROGRAM+E38j
		cmp	ax, 100h
		jnz	short loc_F015
		mov	RecordDemo, 0
		mov	PlayDemo, 0
		mov	al, LSMenuY
		xor	ah, ah
		push	ax
		call	LoadGame
		mov	MenuCode, 1
		mov	di, offset aGameLoaded_	; "Game	Loaded."
		push	cs
		push	di
		call	PutConsMessage2
		jmp	short loc_F01D
; ---------------------------------------------------------------------------

loc_F015:				; CODE XREF: PROGRAM+E49j
		cmp	ax, 0FFFFh
		jnz	short loc_F01D
		call	CheckQuit
; ---------------------------------------------------------------------------

loc_F01D:				; CODE XREF: PROGRAM+D3Ej PROGRAM+DDDj ...
		jmp	loc_EECC
PROGRAM		endp

; ---------------------------------------------------------------------------
		db 0C9h	; É
		db  31h	; 1
		db 0C0h	; À
		db  9Ah	; š
		dd @Halt$q4Word		; Halt(exitcode: Word{AX})
		align 10h
cseg01		ends

; Segment Number    : 2
; Alloc	Size	    : 2EC9h
; Offset in the	file: 12200h  Length: 2EC9h
; Attributes  (1D10): CODE Moveable Relocations	Discardable DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg02		segment	para public 'CODE' use16
		assume cs:cseg02
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    2
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DeInitBrifing	proc near		; CODE XREF: PlayBrifing+508p

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		mov	di, offset BrText
		push	ds
		push	di
		push	1700h
		call	FreeMem16
		mov	[bp+var_2], 1
		jmp	short loc_F04D
; ---------------------------------------------------------------------------

loc_F04A:				; CODE XREF: DeInitBrifing+55j
		inc	[bp+var_2]

loc_F04D:				; CODE XREF: DeInitBrifing+16j
		mov	ax, [bp+var_2]
		add	ax, 118h
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, es:[di]
		or	ax, es:[di+2]
		jz	short loc_F083
		push	es
		push	di
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		call	FreeMem16
		les	di, [bp+var_8]
		xor	ax, ax
		mov	es:[di+4], ax

loc_F083:				; CODE XREF: DeInitBrifing+37j
		cmp	[bp+var_2], 3
		jnz	short loc_F04A
		mov	[bp+var_2], 1
		jmp	short loc_F093
; ---------------------------------------------------------------------------

loc_F090:				; CODE XREF: DeInitBrifing+124j
		inc	[bp+var_2]

loc_F093:				; CODE XREF: DeInitBrifing+5Cj
		imul	di, [bp+var_2],	70h
		add	di, 42Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, es:[di+8]
		or	ax, es:[di+0Ah]
		jnz	short loc_F0B0
		jmp	loc_F150
; ---------------------------------------------------------------------------

loc_F0B0:				; CODE XREF: DeInitBrifing+79j
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_F0BA
; ---------------------------------------------------------------------------

loc_F0B7:				; CODE XREF: DeInitBrifing+DEj
		inc	[bp+var_4]

loc_F0BA:				; CODE XREF: DeInitBrifing+83j
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	di, [bp+var_8]
		assume es:nothing
		add	di, ax
		mov	ax, es:[di+0Ch]
		or	ax, es:[di+0Eh]
		jz	short loc_F10C
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	di, [bp+var_8]
		add	di, ax
		add	di, 0Ch
		push	es
		push	di
		mov	ax, [bp+var_4]
		shl	ax, 1
		les	di, [bp+var_8]
		add	di, ax
		mov	ax, es:[di+4Ch]
		shr	ax, 3
		inc	ax
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, [bp+var_8]
		les	di, es:[di+8]
		mul	word ptr es:[di+4800h]
		push	ax
		call	FreeMem16

loc_F10C:				; CODE XREF: DeInitBrifing+9Bj
		cmp	[bp+var_4], 0Fh
		jnz	short loc_F0B7
		les	di, [bp+var_8]
		les	di, es:[di+8]
		cmp	word ptr es:[di+4804h],	0
		jbe	short loc_F13F
		les	di, [bp+var_8]
		les	di, es:[di+8]
		add	di, 4806h
		push	es
		push	di
		les	di, [bp+var_8]
		les	di, es:[di+8]
		push	word ptr es:[di+4804h]
		call	FreeMem16

loc_F13F:				; CODE XREF: DeInitBrifing+EDj
		les	di, [bp+var_8]
		add	di, 8
		push	es
		push	di
		push	480Ah
		call	FreeMem16

loc_F150:				; CODE XREF: DeInitBrifing+7Bj
		cmp	[bp+var_2], 3
		jz	short loc_F159
		jmp	loc_F090
; ---------------------------------------------------------------------------

loc_F159:				; CODE XREF: DeInitBrifing+122j
		mov	di, offset BrifBar
		push	ds
		push	di
		push	4380h
		call	FreeMem16
		leave
		retn
DeInitBrifing	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReinitBrifView	proc near		; CODE XREF: PlayBrifing+122p

var_2		= word ptr -2

		enter	2, 0
		mov	ax, VideoCY
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		shr	ax, 3
		mov	WinCY, ax
		mov	ax, WinCY
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	WinH, ax
		mov	ax, WinH
		shr	ax, 1
		mov	WinH2u,	ax
		mov	ax, WinH
		sub	ax, WinH2u
		mov	WinH2d,	ax
		mov	ax, WinCY
		sub	ax, WinH2u
		mov	WinB, ax
		mov	ax, WinCY
		add	ax, WinH2d
		mov	WinE, ax
		mov	ax, WinCY
		sub	ax, WinH2u
		mov	WinSY, ax
		mov	ax, WinCY
		add	ax, WinH2d
		dec	ax
		mov	WinEY, ax
		xor	ax, ax
		mov	WinSX, ax
		mov	ax, VideoW
		mov	dx, word_44DA4
		sub	ax, 1
		sbb	dx, 0
		mov	WinEX, ax
		leave
		retn
ReinitBrifView	endp

; ---------------------------------------------------------------------------
aSfxBrif	db 9,'SFX\BRIF\'        ; DATA XREF: LoadVoice+9Co
a_wav		db 4,'.wav'             ; DATA XREF: LoadVoice:loc_F2CEo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadVoice	proc near		; CODE XREF: ExecNextCommand+EDp

var_208		= byte ptr -208h
var_10C		= dword	ptr -10Ch
var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= word ptr  8

		enter	208h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		cmp	GoSkip,	0
		jz	short loc_F211
		jmp	locret_F3EF
; ---------------------------------------------------------------------------

loc_F211:				; CODE XREF: LoadVoice+20j
		lea	di, [bp+var_208]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_100], 0
		jnz	short loc_F23A
		jmp	locret_F3EF
; ---------------------------------------------------------------------------

loc_F23A:				; CODE XREF: LoadVoice+49j
		imul	di, [bp+arg_4],	0Eh
		mov	word ptr [di-878h], 0FFh
		mov	ax, [bp+arg_4]
		add	ax, 118h
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	word ptr [bp+var_10C], di
		mov	word ptr [bp+var_10C+2], es
		mov	ax, es:[di]
		or	ax, es:[di+2]
		jz	short loc_F27D
		push	es
		push	di
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		call	FreeMem16
		les	di, [bp+var_10C]
		xor	ax, ax
		mov	es:[di+4], ax

loc_F27D:				; CODE XREF: LoadVoice+76j
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_208]
		push	ss
		push	di
		mov	di, offset aSfxBrif ; "SFX\\BRIF\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		mov	ax, word_44C52
		mov	dx, word_44C54
		mov	[bp+var_104], ax
		mov	[bp+var_102], dx
		cmp	[bp+var_102], 0
		jg	short loc_F2C2
		jl	short loc_F2CE
		cmp	[bp+var_104], 0FBF4h
		jbe	short loc_F2CE

loc_F2C2:				; CODE XREF: LoadVoice+CAj
		mov	[bp+var_104], 0FBF4h
		mov	[bp+var_102], 0

loc_F2CE:				; CODE XREF: LoadVoice+CCj
					; LoadVoice+D4j
		mov	di, offset a_wav ; ".wav"
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_F306
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	28h ; '('
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_104]
		push	ss
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)

loc_F306:				; CODE XREF: LoadVoice+F4j
		cmp	[bp+var_102], 0
		jg	short loc_F317
		jl	short loc_F323
		cmp	[bp+var_104], 0FBF4h
		jbe	short loc_F323

loc_F317:				; CODE XREF: LoadVoice+11Fj
		mov	[bp+var_104], 0FBF4h
		mov	[bp+var_102], 0

loc_F323:				; CODE XREF: LoadVoice+121j
					; LoadVoice+129j
		mov	ax, [bp+arg_4]
		add	ax, 118h
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	word ptr [bp+var_10C], di
		mov	word ptr [bp+var_10C+2], es
		mov	ax, [bp+var_104]
		mov	dx, [bp+var_102]
		add	ax, 3FFh
		adc	dx, 0
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		les	di, [bp+var_10C]
		mov	es:[di+4], ax
		push	es
		push	di
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		call	GetMem16
		les	di, [bp+var_10C]
		les	di, es:[di]
		push	es
		push	di
		les	di, [bp+var_10C]
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_10C]
		les	di, es:[di]
		push	es
		push	di
		push	[bp+var_104]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_10C]
		les	di, es:[di]
		mov	ax, es
		mov	[bp+var_108], ax
		mov	ax, [bp+var_104]
		mov	[bp+var_106], ax
		les	di, [bp+var_10C]
		mov	word ptr es:[di+6], 78h	; 'x'
		mov	cx, [bp+var_106]
		mov	ax, [bp+var_108]
		mov	es, ax
		xor	di, di

loc_F3CB:				; CODE XREF: LoadVoice+1E4j
		sub	byte ptr es:[di], 80h ;	'€'
		inc	di
		loop	loc_F3CB
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		push	[bp+arg_4]
		push	0
		push	0
		mov	ax, [bp+arg_4]
		add	ax, 118h
		push	ax
		call	AddVoice

locret_F3EF:				; CODE XREF: LoadVoice+22j
					; LoadVoice+4Bj
		leave
		retn	6
LoadVoice	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StopSounds	proc near		; CODE XREF: PlayBrifing+170p
					; PlayBrifing+4E2p ...

var_2		= word ptr -2

		enter	2, 0
		mov	al, MaxVoice
		xor	ah, ah
		mov	[bp+var_2], ax
		xor	ax, ax
		cmp	ax, [bp+var_2]
		jg	short locret_F422
		mov	n__0, ax
		jmp	short loc_F40F
; ---------------------------------------------------------------------------

loc_F40B:				; CODE XREF: StopSounds+2Dj
		inc	n__0

loc_F40F:				; CODE XREF: StopSounds+16j
		imul	di, n__0, 0Eh
		mov	word ptr [di-878h], 0FFh
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jnz	short loc_F40B

locret_F422:				; CODE XREF: StopSounds+11j
		leave
		retn
StopSounds	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetAni		proc near		; CODE XREF: ExecNextCommand+121p
					; ExecNextCommand+161p

arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		cmp	GoSkip,	0
		jz	short loc_F431
		jmp	short locret_F44B
; ---------------------------------------------------------------------------

loc_F431:				; CODE XREF: SetAni+9j
		imul	di, [bp+arg_2],	70h
		add	di, 42Ch
		push	ds
		pop	es
		assume es:dseg11
		xor	ax, ax
		mov	es:[di+6Eh], ax
		mov	ax, [bp+arg_0]
		add	ax, 8
		mov	es:[di+6Ch], ax

locret_F44B:				; CODE XREF: SetAni+Bj
		leave
		retn	4
SetAni		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddText		proc near		; CODE XREF: ExecNextCommand+191p

var_200		= byte ptr -200h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4

		enter	200h, 0
		mov	bx, ss
		mov	es, bx
		assume es:nothing
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		dec	[bp+var_100]
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	2
		push	2Ch ; ','
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		imul	ax, CurLine, 2Eh
		les	di, BrText
		add	di, ax
		push	es
		push	di
		push	2Dh ; '-'
		call	@$basg$qm6Stringt14Byte	; Store	string
		inc	CurLine
		mov	ax, CurTop
		add	ax, 5
		cmp	ax, CurLine
		jge	short locret_F4DE
		inc	CurTop

locret_F4DE:				; CODE XREF: AddText+89j
		leave
		retn	4
AddText		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReadRealMul	proc near		; CODE XREF: ExecNextCommand+ACp
					; ExecNextCommand+219p

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= dword	ptr  0Ah

		enter	6, 0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text4Real ; Read(var f; var v:	Real{DX:BX:AX})
		mov	[bp+var_6], ax
		mov	[bp+var_4], bx
		mov	[bp+var_2], dx
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	ax, [bp+var_6]
		mov	bx, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, [bp+arg_0]
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_4]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		les	di, [bp+arg_6]
		mov	es:[di], ax
		leave
		retn	0Ah
ReadRealMul	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReadCommand	proc near		; CODE XREF: LoadCharacter+63p
					; LoadSetup+Ap	...

var_302		= byte ptr -302h
var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_1		= byte ptr -1
arg_0		= dword	ptr  4

		enter	302h, 0
		mov	[bp+var_102], 0

loc_F52D:				; CODE XREF: ReadCommand+B9j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text4Char ; Read(var f; var c:	Char{AL})
		mov	[bp+var_1], al
		call	@Write$qm4Text	; Write(var f: Text)
		cmp	[bp+var_1], 3Bh	; ';'
		jnz	short loc_F571
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	Trim
		pop	di
		pop	es
		cmp	byte ptr es:[di], 0
		jnz	short loc_F571
		mov	[bp+var_102], 0
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	[bp+var_1], 20h	; ' '

loc_F571:				; CODE XREF: ReadCommand+1Fj
					; ReadCommand+38j
		mov	al, [bp+var_1]
		push	ax
		call	LoCase
		mov	[bp+var_1], al
		lea	di, [bp+var_302]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	al, [bp+var_1]
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_1], 20h	; ' '
		jnz	short loc_F5CF
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	Trim
		pop	di
		pop	es
		cmp	byte ptr es:[di], 0
		jnz	short loc_F5E0

loc_F5CF:				; CODE XREF: ReadCommand+90j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Eoln$qm4Text	; Eoln(var f: Text): Boolean{AL}
		or	al, al
		jnz	short loc_F5E0
		jmp	loc_F52D
; ---------------------------------------------------------------------------

loc_F5E0:				; CODE XREF: ReadCommand+A9j
					; ReadCommand+B7j
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_102]
		push	ss
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		leave
		retn
ReadCommand	endp

; ---------------------------------------------------------------------------
aModel		db 5,'model'            ; DATA XREF: LoadCharacter+77o
aPosition	db 8,'position'         ; DATA XREF: LoadCharacter+B2o
aIdle		db 4,'idle'             ; DATA XREF: LoadCharacter+F8o
aBrif		db 5,'brif\'            ; DATA XREF: LoadCharacter+129o
					; LoadCharacter+1B4o
aAni		db 3,'ani'              ; DATA XREF: LoadCharacter+17Fo
aEnd		db 4,'end;'             ; DATA XREF: LoadCharacter+20Ao

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadCharacter	proc near		; CODE XREF: LoadSetup+2Ap

var_20A		= byte ptr -20Ah
var_10A		= byte ptr -10Ah
var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	20Ah, 0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		imul	di, [bp+var_2],	70h
		add	di, 42Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		xor	ax, ax
		mov	es:[di+6Ch], ax
		xor	ax, ax
		mov	es:[di+6Eh], ax
		xor	ax, ax
		mov	es:[di+6], ax
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_F679
; ---------------------------------------------------------------------------

loc_F676:				; CODE XREF: LoadCharacter+5Bj
		inc	[bp+var_4]

loc_F679:				; CODE XREF: LoadCharacter+3Dj
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	di, [bp+var_A]
		assume es:nothing
		add	di, ax
		xor	ax, ax
		mov	es:[di+0Ch], ax
		mov	es:[di+0Eh], ax
		cmp	[bp+var_4], 0Fh
		jnz	short loc_F676

loc_F694:				; CODE XREF: LoadCharacter+216j
		lea	di, [bp+var_10A]
		push	ss
		push	di
		call	ReadCommand
		mov	di, offset Command
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aModel ; "model"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F6E4
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset S
		push	ds
		push	di
		les	di, [bp+var_A]
		add	di, 8
		push	es
		push	di
		call	LoadPOH

loc_F6E4:				; CODE XREF: LoadCharacter+81j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aPosition ; "position"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F72A
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_A]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_A]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_A]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_F72A:				; CODE XREF: LoadCharacter+BCj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aIdle ; "idle"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F7B1
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_4], ax
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_20A]
		push	ss
		push	di
		mov	di, offset aBrif ; "brif\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_10A]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	Trim
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_A]
		les	di, es:[di+8]
		push	word ptr es:[di+4800h]
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	di, [bp+var_A]
		add	di, ax
		add	di, 0Ch
		push	es
		push	di
		mov	ax, [bp+var_4]
		shl	ax, 1
		les	di, [bp+var_A]
		add	di, ax
		add	di, 4Ch	; 'L'
		push	es
		push	di
		call	LoadAnimation

loc_F7B1:				; CODE XREF: LoadCharacter+102j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aAni	; "ani"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F83C
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_4], ax
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		add	[bp+var_4], 8
		lea	di, [bp+var_20A]
		push	ss
		push	di
		mov	di, offset aBrif ; "brif\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_10A]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	Trim
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_A]
		les	di, es:[di+8]
		push	word ptr es:[di+4800h]
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	di, [bp+var_A]
		add	di, ax
		add	di, 0Ch
		push	es
		push	di
		mov	ax, [bp+var_4]
		shl	ax, 1
		les	di, [bp+var_A]
		add	di, ax
		add	di, 4Ch	; 'L'
		push	es
		push	di
		call	LoadAnimation

loc_F83C:				; CODE XREF: LoadCharacter+189j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aEnd	; "end;"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_F850
		jmp	loc_F694
; ---------------------------------------------------------------------------

loc_F850:				; CODE XREF: LoadCharacter+214j
		mov	ax, [bp+var_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 89h	; '‰'
		xor	si, si
		mov	di, 3400h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 90h	; ''
		xor	si, si
		mov	di, 7FFFh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		les	di, [bp+var_A]
		mov	es:[di+6], ax
		leave
		retn
LoadCharacter	endp

; ---------------------------------------------------------------------------
aCharacter	db 9,'character'        ; DATA XREF: LoadSetup+1Eo
aAmbient	db 8,'ambient:'         ; DATA XREF: LoadSetup+32o
aRoom		db 5,'room:'            ; DATA XREF: LoadSetup+5Eo
aCamera		db 7,'camera:'          ; DATA XREF: LoadSetup+81o
aAction		db 7,'#action'          ; DATA XREF: LoadSetup+FBo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadSetup	proc near		; CODE XREF: PlayBrifing+188p

var_100		= byte ptr -100h

		enter	100h, 0

loc_F8AE:				; CODE XREF: LoadSetup+107j
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	ReadCommand
		mov	di, offset Command
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aCharacter ;	"character"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F8D7
		call	LoadCharacter

loc_F8D7:				; CODE XREF: LoadSetup+28j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aAmbient ; "ambient:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F903
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	i, ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		push	i
		call	SetAmbient

loc_F903:				; CODE XREF: LoadSetup+3Cj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aRoom ; "room:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F926
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	Room, ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_F926:				; CODE XREF: LoadSetup+68j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aCamera ; "camera:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_F9A0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	Camera,	ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_36876, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_36878, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	i, ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	ax, i
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 89h	; '‰'
		xor	si, si
		mov	di, 3400h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 90h	; ''
		xor	si, si
		mov	di, 7FFFh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	word_3687A, ax
		mov	ax, word_36878
		shl	ax, 5
		mov	word_36878, ax
		add	word_3687A, 8000h
		xor	ax, ax
		mov	word_3687C, ax

loc_F9A0:				; CODE XREF: LoadSetup+8Bj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aAction ; "#action"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short locret_F9B4
		jmp	loc_F8AE
; ---------------------------------------------------------------------------

locret_F9B4:				; CODE XREF: LoadSetup+105j
		leave
		retn
LoadSetup	endp

; ---------------------------------------------------------------------------
asc_F9B6	db 1,':'                ; DATA XREF: GotoProc+38o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GotoProc	proc near		; CODE XREF: ExecNextCommand+88p

var_400		= byte ptr -400h
var_300		= byte ptr -300h
var_200		= byte ptr -200h
var_100		= byte ptr -100h

		enter	400h, 0
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_400]
		push	ss
		push	di
		lea	di, [bp+var_300]
		push	ss
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		call	Trim
		call	StLocase
		mov	di, offset asc_F9B6 ; ":"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_200]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_FA08:				; CODE XREF: GotoProc+ADj
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_300]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	StLocase
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	ChI
		mov	di, offset Ft
		push	ds
		push	di
		call	@Eof$qm4Text	; Eof(var f: Text): Boolean{AL}
		or	al, al
		jnz	short locret_FA67
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_FA08

locret_FA67:				; CODE XREF: GotoProc+98j
		leave
		retn
GotoProc	endp

; ---------------------------------------------------------------------------
aEnd_		db 5,'#end.'            ; DATA XREF: ExecNextCommand+25o
aWait_key	db 8,'wait_key'         ; DATA XREF: ExecNextCommand+3Co
aWait_voice	db 10,'wait_voice'      ; DATA XREF: ExecNextCommand+53o
aGoto		db 4,'goto'             ; DATA XREF: ExecNextCommand+7Co
aDelay		db 5,'delay'            ; DATA XREF: ExecNextCommand+90o
aVoice		db 5,'voice'            ; DATA XREF: ExecNextCommand+BAo
aSetani		db 6,'setani'           ; DATA XREF: ExecNextCommand+F5o
aTurnani	db 7,'turnani'          ; DATA XREF: ExecNextCommand+135o
aSay		db 3,'say'              ; DATA XREF: ExecNextCommand+169o
aMovecamto	db 9,'movecamto'        ; DATA XREF: ExecNextCommand+199o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExecNextCommand	proc near		; CODE XREF: PlayBrifing+213p

var_104		= byte ptr -104h
var_4		= word ptr -4
var_2		= word ptr -2

		enter	104h, 0

loc_FAB5:				; CODE XREF: ExecNextCommand+1Ej
		lea	di, [bp+var_104]
		push	ss
		push	di
		call	ReadCommand
		mov	di, offset Command
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	Command, 0
		jz	short loc_FAB5
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aEnd_ ; "#end."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FAE8
		mov	CurState, 0FFFFh

loc_FAE8:				; CODE XREF: ExecNextCommand+2Fj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aWait_key ; "wait_key"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FAFF
		mov	CurState, 2

loc_FAFF:				; CODE XREF: ExecNextCommand+46j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aWait_voice ; "wait_voice"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FB28
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	CurVoice, ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	CurState, 4

loc_FB28:				; CODE XREF: ExecNextCommand+5Dj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aGoto ; "goto"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FB3C
		call	GotoProc

loc_FB3C:				; CODE XREF: ExecNextCommand+86j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aDelay ; "delay"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FB66
		mov	di, offset CurDelay
		push	ds
		push	di
		mov	ax, 88h	; 'ˆ'
		xor	bx, bx
		mov	dx, 0C00h
		push	dx
		push	bx
		push	ax
		call	ReadRealMul
		mov	CurState, 1

loc_FB66:				; CODE XREF: ExecNextCommand+9Aj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aVoice ; "voice"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FBA1
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		push	[bp+var_2]
		mov	di, offset S
		push	ds
		push	di
		call	LoadVoice

loc_FBA1:				; CODE XREF: ExecNextCommand+C4j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aSetani ; "setani"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FBE1
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_4], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		push	[bp+var_2]
		push	[bp+var_4]
		call	SetAni
		mov	ax, [bp+var_2]
		mov	CurCar,	ax
		mov	CurState, 3

loc_FBE1:				; CODE XREF: ExecNextCommand+FFj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aTurnani ; "turnani"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FC15
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_4], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		push	[bp+var_2]
		push	[bp+var_4]
		call	SetAni

loc_FC15:				; CODE XREF: ExecNextCommand+13Fj
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aSay	; "say"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_FC45
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset S
		push	ds
		push	di
		call	AddText

loc_FC45:				; CODE XREF: ExecNextCommand+173j
		mov	di, offset Command
		push	ds
		push	di
		mov	di, offset aMovecamto ;	"movecamto"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short locret_FCD2
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_36880, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_36882, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_36884, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@Write$qm4Text	; Write(var f: Text)
		mov	ax, word_36884
		shl	ax, 5
		mov	word_36884, ax
		mov	ax, [bp+var_2]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 89h	; '‰'
		xor	si, si
		mov	di, 3400h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 90h	; ''
		xor	si, si
		mov	di, 7FFFh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		add	ax, 8000h
		adc	dx, 0
		mov	word_36886, ax
		mov	di, offset word_3687C
		push	ds
		push	di
		mov	ax, 8Dh	; ''
		xor	bx, bx
		mov	dx, 0C00h
		push	dx
		push	bx
		push	ax
		call	ReadRealMul
		xor	ax, ax
		mov	word_3687E, ax

locret_FCD2:				; CODE XREF: ExecNextCommand+1A3j
		leave
		retn
ExecNextCommand	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PreProcessBrif	proc near		; CODE XREF: PlayBrifing+209p

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	6, 0
		mov	[bp+var_2], 1
		jmp	short loc_FCE2
; ---------------------------------------------------------------------------

loc_FCDF:				; CODE XREF: PreProcessBrif+AFj
		inc	[bp+var_2]

loc_FCE2:				; CODE XREF: PreProcessBrif+9j
		imul	di, [bp+var_2],	70h
		add	di, 42Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	ax, es:[di+8]
		or	ax, es:[di+0Ah]
		jnz	short loc_FCFF
		jmp	loc_FD7D
; ---------------------------------------------------------------------------

loc_FCFF:				; CODE XREF: PreProcessBrif+26j
		mov	ax, t1
		add	es:[di+6Eh], ax
		mov	ax, es:[di+6Ch]
		shl	ax, 1
		add	di, ax
		mov	ax, es:[di+4Ch]
		les	di, [bp+var_6]
		assume es:nothing
		cmp	ax, es:[di+6Eh]
		ja	short loc_FD7D

loc_FD1B:				; CODE XREF: PreProcessBrif+72j
		les	di, [bp+var_6]
		mov	ax, es:[di+6Ch]
		shl	ax, 1
		add	di, ax
		mov	ax, es:[di+4Ch]
		les	di, [bp+var_6]
		cmp	ax, es:[di+6Eh]
		ja	short loc_FD48
		mov	ax, es:[di+6Ch]
		shl	ax, 1
		add	di, ax
		mov	ax, es:[di+4Ch]
		les	di, [bp+var_6]
		sub	es:[di+6Eh], ax
		jmp	short loc_FD1B
; ---------------------------------------------------------------------------

loc_FD48:				; CODE XREF: PreProcessBrif+5Dj
		cmp	CurState, 3
		jnz	short loc_FD5C
		mov	ax, CurCar
		cmp	ax, [bp+var_2]
		jnz	short loc_FD5C
		xor	ax, ax
		mov	CurState, ax

loc_FD5C:				; CODE XREF: PreProcessBrif+79j
					; PreProcessBrif+81j ...
		push	8
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		les	di, [bp+var_6]
		mov	es:[di+6Ch], ax
		mov	ax, es:[di+6Ch]
		shl	ax, 2
		add	di, ax
		mov	ax, es:[di+0Ch]
		or	ax, es:[di+0Eh]
		jz	short loc_FD5C

loc_FD7D:				; CODE XREF: PreProcessBrif+28j
					; PreProcessBrif+45j
		cmp	[bp+var_2], 3
		jz	short locret_FD86
		jmp	loc_FCDF
; ---------------------------------------------------------------------------

locret_FD86:				; CODE XREF: PreProcessBrif+ADj
		leave
		retn
PreProcessBrif	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessBrif	proc near		; CODE XREF: PlayBrifing:loc_101F6p

var_4		= word ptr -4

		enter	4, 0
		cmp	word_3687C, 0
		jg	short loc_FD96
		jmp	loc_FF0E
; ---------------------------------------------------------------------------

loc_FD96:				; CODE XREF: ProcessBrif+9j
		cmp	word_3687C, 780h
		jle	short loc_FDC3
		cmp	word_3687E, 0
		jnz	short loc_FDAD
		mov	word_3687E, 1
		jmp	short loc_FDB4
; ---------------------------------------------------------------------------

loc_FDAD:				; CODE XREF: ProcessBrif+1Bj
		mov	ax, t1
		add	word_3687E, ax

loc_FDB4:				; CODE XREF: ProcessBrif+23j
		cmp	word_3687E, 20h	; ' '
		jl	short loc_FDC1
		mov	word_3687E, 20h	; ' '

loc_FDC1:				; CODE XREF: ProcessBrif+31j
		jmp	short loc_FDDF
; ---------------------------------------------------------------------------

loc_FDC3:				; CODE XREF: ProcessBrif+14j
		cmp	word_3687C, 1C0h
		jge	short loc_FDDF
		mov	ax, t1
		sub	word_3687E, ax
		cmp	word_3687E, 2
		jge	short loc_FDDF
		mov	word_3687E, 2

loc_FDDF:				; CODE XREF: ProcessBrif:loc_FDC1j
					; ProcessBrif+41j ...
		mov	ax, word_3687E
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		cmp	ax, word_3687C
		jl	short loc_FE1C
		mov	ax, word_36880
		mov	Camera,	ax
		mov	ax, word_36882
		mov	word_36876, ax
		mov	ax, word_36886
		mov	word_3687A, ax
		xor	ax, ax
		mov	word_3687C, ax
		xor	ax, ax
		mov	word_3687E, ax
		jmp	loc_FF0E
; ---------------------------------------------------------------------------

loc_FE1C:				; CODE XREF: ProcessBrif+73j
		mov	ax, word_3687C
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, word_36880
		sub	ax, Camera
		mul	[bp+var_4]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, Camera
		cwd
		add	ax, cx
		adc	dx, bx
		mov	Camera,	ax
		mov	ax, word_3687C
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, word_36882
		sub	ax, word_36876
		mul	[bp+var_4]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, word_36876
		cwd
		add	ax, cx
		adc	dx, bx
		mov	word_36876, ax
		mov	ax, word_3687C
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, word_36884
		sub	ax, word_36878
		mul	[bp+var_4]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, word_36878
		cwd
		add	ax, cx
		adc	dx, bx
		mov	word_36878, ax
		mov	ax, word_3687C
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, word_36886
		sub	ax, word_3687A
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, word_3687A
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	word_3687A, ax
		mov	ax, [bp+var_4]
		sub	word_3687C, ax

loc_FF0E:				; CODE XREF: ProcessBrif+Bj
					; ProcessBrif+91j
		cmp	CurState, 2
		jnz	short loc_FF54
		cmp	GoSkip,	0
		jz	short loc_FF28
		mov	GoSkip,	0
		xor	ax, ax
		mov	CurState, ax
		jmp	short loc_FF54
; ---------------------------------------------------------------------------

loc_FF28:				; CODE XREF: ProcessBrif+192j
		cmp	key, 0
		jbe	short loc_FF54
		mov	al, key
		cmp	al, 1
		jnz	short loc_FF3E
		mov	CurState, 0FFFFh
		jmp	short loc_FF4F
; ---------------------------------------------------------------------------

loc_FF3E:				; CODE XREF: ProcessBrif+1ACj
		cmp	al, 0Eh
		jnz	short loc_FF4A
		mov	CurState, 0FFFEh
		jmp	short loc_FF4F
; ---------------------------------------------------------------------------

loc_FF4A:				; CODE XREF: ProcessBrif+1B8j
		xor	ax, ax
		mov	CurState, ax

loc_FF4F:				; CODE XREF: ProcessBrif+1B4j
					; ProcessBrif+1C0j
		mov	key, 0

loc_FF54:				; CODE XREF: ProcessBrif+18Bj
					; ProcessBrif+19Ej ...
		cmp	CurState, 1
		jnz	short loc_FF7C
		cmp	GoSkip,	0
		jz	short loc_FF69
		xor	ax, ax
		mov	CurState, ax
		jmp	short loc_FF7C
; ---------------------------------------------------------------------------

loc_FF69:				; CODE XREF: ProcessBrif+1D8j
		mov	ax, t1
		sub	CurDelay, ax
		cmp	CurDelay, 0
		jg	short loc_FF7C
		xor	ax, ax
		mov	CurState, ax

loc_FF7C:				; CODE XREF: ProcessBrif+1D1j
					; ProcessBrif+1DFj ...
		cmp	CurState, 3
		jnz	short loc_FFA2
		cmp	GoSkip,	0
		jz	short loc_FF91
		xor	ax, ax
		mov	CurState, ax
		jmp	short loc_FFA2
; ---------------------------------------------------------------------------

loc_FF91:				; CODE XREF: ProcessBrif+200j
		imul	di, CurCar, 70h
		cmp	word ptr [di+498h], 8
		jnb	short loc_FFA2
		xor	ax, ax
		mov	CurState, ax

loc_FFA2:				; CODE XREF: ProcessBrif+1F9j
					; ProcessBrif+207j ...
		cmp	CurState, 4
		jnz	short locret_FFC9
		cmp	GoSkip,	0
		jz	short loc_FFB7
		xor	ax, ax
		mov	CurState, ax
		jmp	short locret_FFC9
; ---------------------------------------------------------------------------

loc_FFB7:				; CODE XREF: ProcessBrif+226j
		imul	di, CurVoice, 0Eh
		cmp	word ptr [di-878h], 0FFh
		jnz	short locret_FFC9
		xor	ax, ax
		mov	CurState, ax

locret_FFC9:				; CODE XREF: ProcessBrif+21Fj
					; ProcessBrif+22Dj ...
		leave
		retn
ProcessBrif	endp

; ---------------------------------------------------------------------------
aCommonBrifbar_	db 18,'COMMON\brifbar.cel' ; DATA XREF: PlayBrifing+ACo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PlayBrifing	proc far		; CODE XREF: PROGRAM+DA8P PROGRAM+DEDP

var_106		= dword	ptr -106h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6

		enter	106h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		cmp	CLIENT,	0
		jnz	short loc_10007
		cmp	SERVER,	0
		jz	short loc_1000A

loc_10007:				; CODE XREF: PlayBrifing+20j
		jmp	locret_1052A
; ---------------------------------------------------------------------------

loc_1000A:				; CODE XREF: PlayBrifing+27j
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FExistFile
		or	al, al
		jnz	short loc_1001C
		jmp	locret_1052A
; ---------------------------------------------------------------------------

loc_1001C:				; CODE XREF: PlayBrifing+39j
		push	28h ; '('
		call	FadeOut
		mov	di, offset Palette
		push	ds
		push	di
		mov	di, offset Pal
		push	ds
		push	di
		push	300h
		call	@$basg$qm3Anyt14Word ; Bitcopy of any type variable
		xor	ax, ax
		mov	Room, ax
		xor	ax, ax
		mov	LoadPos, ax
		mov	ax, LevelN
		mov	[bp+var_102], ax
		mov	LevelN,	63h ; 'c'
		call	LoadLevel

loc_10051:				; CODE XREF: PlayBrifing+517j
		mov	ax, ds
		push	ax
		mov	di, 822Eh
		push	di
		push	282h
		push	1
		call	StosW
		mov	ax, ds
		push	ax
		mov	di, 88CCh
		push	di
		push	282h
		push	1
		call	StosW
		mov	InBrifing, 1
		mov	di, offset BrifBar
		push	ds
		push	di
		push	4380h
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonBrifbar_ ; "COMMON\\brifbar.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, BrifBar
		push	es
		push	di
		push	4380h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		mov	di, offset BrText
		push	ds
		push	di
		push	1700h
		call	GetMem16
		les	di, BrText
		push	es
		push	di
		push	1700h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		xor	ax, ax
		mov	CurLine, ax
		xor	ax, ax
		mov	CurTop,	ax
		xor	ax, ax
		mov	XFi, ax
		mov	ax, 1AC6h
		mov	cm_ofs,	ax
		xor	ax, ax
		mov	CurState, ax
		call	ReinitBrifView
		call	ReDrawGround
		xor	ax, ax
		mov	t1, ax
		mov	ax, VideoCY
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		xor	dx, dx
		mov	cx, 0Eh
		div	cx
		mov	WinCY, ax
		mov	ax, ds
		push	ax
		mov	di, 822Eh
		push	di
		push	282h
		push	1
		call	StosW
		mov	ax, ds
		push	ax
		mov	di, 88CCh
		push	di
		push	282h
		push	1
		call	StosW
		xor	ax, ax
		mov	takt, ax
		mov	GoSkip,	0
		call	StopSounds
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	TOpen
		call	ChI
		call	LoadSetup
		mov	di, Room
		shl	di, 1
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, 0E580h
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di]
		mov	Hx, ax
		mov	ax, es:[di+2]
		mov	Hy, ax

loc_10188:				; CODE XREF: PlayBrifing+1B8j
					; PlayBrifing+4F1j
		call	KeyPressed
		or	al, al
		jz	short loc_10198
		call	ReadKey
		jmp	short loc_10188
; ---------------------------------------------------------------------------

loc_10198:				; CODE XREF: PlayBrifing+1B1j
		cmp	KBDBufCnt, 0
		jbe	short loc_101BE
		cli
		mov	al, KBDBuf
		mov	key, al
		dec	KBDBufCnt
		mov	di, offset unk_44EDF
		push	ds
		push	di
		mov	di, offset KBDBuf
		push	ds
		push	di
		push	0Fh
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		sti
		jmp	short loc_101C3
; ---------------------------------------------------------------------------

loc_101BE:				; CODE XREF: PlayBrifing+1BFj
		mov	key, 0

loc_101C3:				; CODE XREF: PlayBrifing+1DEj
		xor	ax, ax
		mov	CurTime, ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	Time, ax
		mov	word_44D6C, dx
		push	VgaSeg
		push	0
		push	7D00h
		push	101h
		call	StosW
		call	PreProcessBrif

loc_101EA:				; CODE XREF: PlayBrifing+216j
		cmp	CurState, 0
		jnz	short loc_101F6
		call	ExecNextCommand
		jmp	short loc_101EA
; ---------------------------------------------------------------------------

loc_101F6:				; CODE XREF: PlayBrifing+211j
		call	ProcessBrif
		push	0
		push	0
		push	4000h
		push	0
		call	UpDatePlayerPos
		mov	ax, Time
		mov	dx, word_44D6C
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 86h	; '†'
		xor	si, si
		mov	di, 2000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 85h	; '…'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, word_36878
		cwd
		add	ax, cx
		adc	dx, bx
		mov	ehz, ax
		mov	ax, 1000h
		sub	ax, ehz
		mov	Hz2, ax
		mov	ax, Hx
		sub	ax, Camera
		mov	ehx, ax
		mov	ax, Hy
		sub	ax, word_36876
		mov	ehy, ax
		mov	ax, word_3687A
		sub	ax, 8000h
		mov	HFi, ax
		mov	ax, HFi
		mov	EHFi, ax
		push	0
		call	CalcDir
		mov	ax, ca
		mov	bx, word_448E2
		mov	dx, word_448E4
		mov	cx, 89h	; '‰'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 84h	; '„'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	ica, ax
		mov	ax, sa
		mov	bx, word_448E8
		mov	dx, word_448EA
		mov	cx, 89h	; '‰'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 84h	; '„'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	isa, ax
		mov	ax, ica
		cwd
		mov	cx, 2
		idiv	cx
		mov	ica2, ax
		mov	ax, isa
		cwd
		mov	cx, 2
		idiv	cx
		mov	isa2, ax
		mov	ax, ica
		cwd
		mov	cx, 8
		idiv	cx
		mov	ica4, ax
		mov	ax, isa
		cwd
		mov	cx, 8
		idiv	cx
		mov	isa4, ax
		mov	ax, word ptr BuildSceneRout
		or	ax, word ptr BuildSceneRout+2
		jz	short loc_1030C
		call	BuildSceneRout

loc_1030C:				; CODE XREF: PlayBrifing+328j
		mov	n__0, 1
		jmp	short loc_10318
; ---------------------------------------------------------------------------

loc_10314:				; CODE XREF: PlayBrifing+3BFj
		inc	n__0

loc_10318:				; CODE XREF: PlayBrifing+334j
		imul	di, n__0, 70h
		add	di, 42Ch
		push	ds
		pop	es
		mov	word ptr [bp+var_106], di
		mov	word ptr [bp+var_106+2], es
		mov	ax, es:[di+8]
		or	ax, es:[di+0Ah]
		jz	short loc_10396
		mov	Curdark, 7
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+8]
		mov	ax, es:[di+6Ch]
		shl	ax, 2
		add	di, ax
		push	word ptr es:[di+0Eh]
		push	word ptr es:[di+0Ch]
		les	di, [bp+var_106]
		assume es:nothing
		mov	ax, es:[di+6Eh]
		shr	ax, 2
		push	ax
		call	Morph3d
		les	di, [bp+var_106]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+8]
		mov	ax, es:[di]
		sub	ax, Camera
		push	ax
		mov	ax, es:[di+2]
		sub	ax, word_36876
		push	ax
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		mov	ax, word_3687A
		sub	ax, 8000h
		push	ax
		call	DrawHi3D

loc_10396:				; CODE XREF: PlayBrifing+355j
		cmp	n__0, 3
		jz	short loc_103A0
		jmp	loc_10314
; ---------------------------------------------------------------------------

loc_103A0:				; CODE XREF: PlayBrifing+3BDj
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_103AB
; ---------------------------------------------------------------------------

loc_103A7:				; CODE XREF: PlayBrifing+424j
		inc	n__0

loc_103AB:				; CODE XREF: PlayBrifing+3C7j
		les	di, BrifBar
		push	es
		imul	ax, n__0, 140h
		cwd
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 36h	; '6'
		sbb	dx, 0
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		shl	di, 2
		mov	cx, [di-6E84h]
		mov	bx, [di-6E82h]
		mov	ax, VideoCX
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		sub	ax, 0A0h ; ' '
		sbb	dx, 0
		push	dx
		push	ax
		push	0
		push	50h ; 'P'
		call	MovsED
		cmp	n__0, 35h ; '5'
		jnz	short loc_103A7
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1040F
; ---------------------------------------------------------------------------

loc_1040B:				; CODE XREF: PlayBrifing+489j
		inc	n__0

loc_1040F:				; CODE XREF: PlayBrifing+42Bj
		mov	ax, n__0
		add	ax, CurTop
		imul	ax, 2Eh
		les	di, BrText
		add	di, ax
		cmp	byte ptr es:[di], 0
		jz	short loc_10462
		mov	ax, VideoCX
		add	ax, 8
		sub	ax, 0A0h ; ' '
		push	ax
		imul	ax, n__0, 0Ah
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 32h	; '2'
		sbb	dx, 0
		add	ax, cx
		adc	dx, bx
		push	ax
		mov	ax, n__0
		add	ax, CurTop
		imul	ax, 2Eh
		les	di, BrText
		add	di, ax
		push	es
		push	di
		call	PutStr

loc_10462:				; CODE XREF: PlayBrifing+445j
		cmp	n__0, 4
		jnz	short loc_1040B
		call	ShowVideoBuffer
		cmp	takt, 0
		jnz	short loc_1047C
		push	28h ; '('
		call	FadeIn

loc_1047C:				; CODE XREF: PlayBrifing+495j
		mov	ax, CurTime
		mov	t1, ax
		inc	takt
		cmp	t1, 10h
		jbe	short loc_10493
		mov	t1, 10h

loc_10493:				; CODE XREF: PlayBrifing+4ADj
		cmp	CurState, 2
		jz	short loc_104C8
		mov	al, key
		cmp	al, 1
		jnz	short loc_104A9
		mov	CurState, 0FFFFh
		jmp	short loc_104C8
; ---------------------------------------------------------------------------

loc_104A9:				; CODE XREF: PlayBrifing+4C1j
		cmp	al, 0Eh
		jnz	short loc_104B5
		mov	CurState, 0FFFEh
		jmp	short loc_104C8
; ---------------------------------------------------------------------------

loc_104B5:				; CODE XREF: PlayBrifing+4CDj
		cmp	al, 1Ch
		jnz	short loc_104C8
		cmp	word_3687C, 0
		jnz	short loc_104C8
		call	StopSounds
		mov	GoSkip,	1

loc_104C8:				; CODE XREF: PlayBrifing+4BAj
					; PlayBrifing+4C9j ...
		cmp	CurState, 0FFF0h
		ja	short loc_104D2
		jmp	loc_10188
; ---------------------------------------------------------------------------

loc_104D2:				; CODE XREF: PlayBrifing+4EFj
		mov	di, offset Ft
		push	ds
		push	di
		call	@Close$qm4Text	; Close(var f: Text)
		push	0FFFFh
		call	SetAmbient
		call	StopSounds
		call	DeInitBrifing
		mov	InBrifing, 0
		cmp	CurState, 0FFFFh
		jz	short loc_104F8
		jmp	loc_10051
; ---------------------------------------------------------------------------

loc_104F8:				; CODE XREF: PlayBrifing+515j
		call	ReleaseLevel
		mov	ax, [bp+var_102]
		mov	LevelN,	ax
		push	28h ; '('
		call	FadeOut
		call	ReDrawGround
		call	ShowVideoBuffer
		push	SegA000
		push	0
		push	7D00h
		push	0
		call	StosW
		call	SetPalette

locret_1052A:				; CODE XREF: PlayBrifing:loc_10007j
					; PlayBrifing+3Bj
		leave
		retf	4
PlayBrifing	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

QPifagorP16	proc near		; CODE XREF: sub_110A0+27p

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	cx, si
		add	cx, di
		push	cx
		mov	ax, si
		imul	di
		jz	short loc_1055A
		mov	dx, ax
		shl	ax, 3
		sub	ax, dx
		mov	bx, cx
		shl	bx, 2
		add	bx, cx
		add	bx, cx
		xor	dx, dx
		div	bx
		pop	bx
		sub	bx, ax
		push	bx

loc_1055A:				; CODE XREF: QPifagorP16+12j
		pop	ax
		leave
		retn	4
QPifagorP16	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

QPifagorA32	proc near		; CODE XREF: BackRender+C4p
					; BackRender+288p

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		xor	ecx, ecx
		mov	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	si, ax
		mov	ax, [bp+arg_0]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	di, ax
		mov	cx, si
		add	cx, di
		push	cx
		xor	eax, eax
		mov	ax, si
		xor	ebx, ebx
		mov	bx, di
		imul	ebx
		cmp	eax, 0
		jz	short loc_105AF
		mov	bx, 7
		imul	ebx
		mov	bx, cx
		shl	ebx, 3
		sub	ebx, ecx
		sub	ebx, ecx
		xor	edx, edx
		div	ebx
		pop	bx
		sub	bx, ax
		push	bx

loc_105AF:				; CODE XREF: QPifagorA32+32j
		pop	ax
		leave
		retn	4
QPifagorA32	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MulVectors__2	proc near		; CODE XREF: BackRender+225p

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	2, 0
		mov	cx, 0FFFFh
		mov	ax, [bp+arg_6]
		imul	[bp+arg_0]
		mov	bx, dx
		shl	ebx, 10h
		mov	bx, ax
		mov	ax, [bp+arg_4]
		imul	[bp+arg_2]
		shl	edx, 10h
		mov	dx, ax
		sub	ebx, edx
		js	short loc_105DD
		mov	cx, 1

loc_105DD:				; CODE XREF: MulVectors__2+24j
		mov	[bp+var_2], cx
		mov	ax, [bp+var_2]
		leave
		retn	8
MulVectors__2	endp

; ---------------------------------------------------------------------------
a@_2		db 2,'@#'               ; DATA XREF: RestoreLights+14Co
aClear		db 7,'CLEAR: '          ; DATA XREF: RestoreLights+13Co

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RestoreLights	proc near		; CODE XREF: ProcessLights+4p

var_20C		= byte ptr -20Ch
var_10C		= byte ptr -10Ch
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	20Ch, 0
		cmp	LCount,	0
		jnz	short loc_10600
		jmp	locret_107AA
; ---------------------------------------------------------------------------

loc_10600:				; CODE XREF: RestoreLights+9j
		mov	[bp+var_2], 1
		mov	[bp+var_4], 100h
		xor	ax, ax
		mov	[bp+var_6], ax

loc_1060F:				; CODE XREF: RestoreLights+DAj
		mov	ax, LCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		cmp	dx, bx
		jl	short loc_1062C
		jle	short loc_10625
		jmp	loc_106CF
; ---------------------------------------------------------------------------

loc_10625:				; CODE XREF: RestoreLights+2Ej
		cmp	ax, cx
		jbe	short loc_1062C
		jmp	loc_106CF
; ---------------------------------------------------------------------------

loc_1062C:				; CODE XREF: RestoreLights+2Cj
					; RestoreLights+35j
		imul	di, [bp+var_2],	12h
		add	di, 0BCA4h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		mov	ax, es:[di+2]
		sub	ax, es:[di+4]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_4]
		jge	short loc_10658
		mov	ax, es:[di+2]
		sub	ax, es:[di+4]
		dec	ax
		dec	ax
		mov	[bp+var_4], ax

loc_10658:				; CODE XREF: RestoreLights+57j
		les	di, [bp+var_10]
		assume es:nothing
		mov	ax, es:[di+2]
		add	ax, es:[di+4]
		inc	ax
		inc	ax
		cmp	ax, [bp+var_6]
		jle	short loc_10677
		mov	ax, es:[di+2]
		add	ax, es:[di+4]
		inc	ax
		inc	ax
		mov	[bp+var_6], ax

loc_10677:				; CODE XREF: RestoreLights+76j
		les	di, [bp+var_10]
		mov	ax, es:[di+0Eh]
		cmp	ax, es:[di+0Ch]
		jbe	short loc_106C9
		mov	ax, [bp+var_2]
		inc	ax
		imul	di, ax,	12h
		add	di, 0BCA4h
		push	ds
		push	di
		imul	di, [bp+var_2],	12h
		add	di, 0BCA4h
		push	ds
		push	di
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, LCount
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		add	ax, 1
		adc	dx, 0
		mov	cx, 12h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	[bp+var_2]
		dec	LCount

loc_106C9:				; CODE XREF: RestoreLights+90j
		inc	[bp+var_2]
		jmp	loc_1060F
; ---------------------------------------------------------------------------

loc_106CF:				; CODE XREF: RestoreLights+30j
					; RestoreLights+37j
		cmp	[bp+var_4], 0
		jge	short loc_106DA
		xor	ax, ax
		mov	[bp+var_4], ax

loc_106DA:				; CODE XREF: RestoreLights+E1j
		cmp	[bp+var_6], 0FEh ; 'þ'
		jle	short loc_106E6
		mov	[bp+var_6], 0FEh ; 'þ'

loc_106E6:				; CODE XREF: RestoreLights+EDj
		mov	ax, [bp+var_4]
		shr	ax, 2
		dec	ax
		dec	ax
		mov	[bp+var_8], ax
		mov	ax, [bp+var_6]
		shr	ax, 2
		add	ax, 3
		mov	[bp+var_A], ax
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		inc	ax
		mov	[bp+var_C], ax
		cmp	[bp+var_8], 0
		jge	short loc_10712
		xor	ax, ax
		mov	[bp+var_8], ax

loc_10712:				; CODE XREF: RestoreLights+119j
		cmp	[bp+var_A], 3Eh	; '>'
		jle	short loc_1071D
		mov	[bp+var_A], 3Eh	; '>'

loc_1071D:				; CODE XREF: RestoreLights+124j
		mov	ax, [bp+var_C]
		shr	ax, 2
		cmp	ax, 3Ch	; '<'
		jbe	short loc_10762
		lea	di, [bp+var_20C]
		push	ss
		push	di
		mov	di, offset aClear ; "CLEAR: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_10C]
		push	ss
		push	di
		mov	di, offset a@_2	; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_C]
		shr	ax, 2
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage

loc_10762:				; CODE XREF: RestoreLights+134j
		push	ShadowSeg2
		mov	ax, [bp+var_4]
		shl	ax, 8
		push	ax
		push	ShadowSeg
		mov	ax, [bp+var_4]
		shl	ax, 8
		push	ax
		mov	ax, [bp+var_C]
		shl	ax, 6
		push	ax
		call	movsD__0
		push	WShadowSeg2
		mov	ax, [bp+var_8]
		shl	ax, 9
		push	ax
		push	WShadowSeg
		mov	ax, [bp+var_8]
		shl	ax, 9
		push	ax
		mov	ax, [bp+var_A]
		sub	ax, [bp+var_8]
		inc	ax
		shl	ax, 7
		push	ax
		call	movsD__0

locret_107AA:				; CODE XREF: RestoreLights+Bj
		leave
		retn
RestoreLights	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RenderLightOnMap proc near		; CODE XREF: ProcessLights+1FEp
					; AddLightSource+32p

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  4

		enter	8, 0
		cmp	[bp+arg_0], 0
		jz	short loc_107C4
		mov	ax, ShadowSeg2
		mov	[bp+var_2], ax
		mov	ax, WShadowSeg2
		mov	[bp+var_4], ax
		jmp	short loc_107D0
; ---------------------------------------------------------------------------

loc_107C4:				; CODE XREF: RenderLightOnMap+8j
		mov	ax, ShadowSeg
		mov	[bp+var_2], ax
		mov	ax, WShadowSeg
		mov	[bp+var_4], ax

loc_107D0:				; CODE XREF: RenderLightOnMap+16j
		mov	ax, CurR2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, LLX
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 2
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		sub	ax, 2
		sbb	dx, 0
		mov	Wx1, ax
		cmp	Wx1, 0
		jge	short loc_10800
		xor	ax, ax
		mov	Wx1, ax

loc_10800:				; CODE XREF: RenderLightOnMap+4Dj
		mov	ax, CurR2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, LLY
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 2
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		sub	ax, 2
		sbb	dx, 0
		mov	Wy1, ax
		cmp	Wy1, 0
		jge	short loc_10830
		xor	ax, ax
		mov	Wy1, ax

loc_10830:				; CODE XREF: RenderLightOnMap+7Dj
		mov	ax, CurR2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, LLX
		cwd
		add	ax, cx
		adc	dx, bx
		add	ax, 3
		adc	dx, 0
		mov	cx, 2
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		add	ax, 2
		adc	dx, 0
		mov	Wx2, ax
		cmp	Wx2, 3Fh ; '?'
		jbe	short loc_10867
		mov	Wx2, 3Fh ; '?'

loc_10867:				; CODE XREF: RenderLightOnMap+B3j
		mov	ax, CurR2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, LLY
		cwd
		add	ax, cx
		adc	dx, bx
		add	ax, 3
		adc	dx, 0
		mov	cx, 2
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		add	ax, 2
		adc	dx, 0
		mov	Wy2, ax
		cmp	Wy2, 3Fh ; '?'
		jbe	short loc_1089E
		mov	Wy2, 3Fh ; '?'

loc_1089E:				; CODE XREF: RenderLightOnMap+EAj
		mov	ax, Wy2
		mov	[bp+var_6], ax
		mov	ax, Wy1
		cmp	ax, [bp+var_6]
		jbe	short loc_108AF
		jmp	loc_109F3
; ---------------------------------------------------------------------------

loc_108AF:				; CODE XREF: RenderLightOnMap+FEj
		mov	ccy, ax
		jmp	short loc_108B8
; ---------------------------------------------------------------------------

loc_108B4:				; CODE XREF: RenderLightOnMap+244j
		inc	ccy

loc_108B8:				; CODE XREF: RenderLightOnMap+106j
		mov	ax, Wx2
		mov	[bp+var_8], ax
		mov	ax, Wx1
		cmp	ax, [bp+var_8]
		jbe	short loc_108C9
		jmp	loc_109E8
; ---------------------------------------------------------------------------

loc_108C9:				; CODE XREF: RenderLightOnMap+118j
		mov	ccx, ax
		jmp	short loc_108D2
; ---------------------------------------------------------------------------

loc_108CE:				; CODE XREF: RenderLightOnMap+239j
		inc	ccx

loc_108D2:				; CODE XREF: RenderLightOnMap+120j
		imul	ax, ccy, 0Bh
		mov	dx, ax
		imul	ax, ccx, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		mov	di, offset L
		push	ds
		push	di
		push	0Bh
		call	@$basg$qm3Anyt14Word ; Bitcopy of any type variable
		mov	al, L
		cmp	al, 1
		jnb	short loc_108FF
		jmp	loc_109DD
; ---------------------------------------------------------------------------

loc_108FF:				; CODE XREF: RenderLightOnMap+14Ej
		cmp	al, 78h	; 'x'
		jbe	short loc_10906
		jmp	loc_109DD
; ---------------------------------------------------------------------------

loc_10906:				; CODE XREF: RenderLightOnMap+155j
		mov	ax, word_44D91
		sub	ax, word_44D95
		sar	ax, 3
		mov	DWx, ax
		sar	ax, 1
		add	ax, word_44D95
		mov	Wx, ax
		mov	ax, word_44D93
		sub	ax, word_44D97
		sar	ax, 3
		mov	Dwy, ax
		sar	ax, 1
		add	ax, word_44D97
		mov	Wy, ax
		mov	ax, ccy
		shl	ax, 6
		add	ax, ccx
		shl	ax, 3
		mov	os, ax
		xor	ax, ax
		mov	k, ax
		jmp	short loc_1094D
; ---------------------------------------------------------------------------

loc_10949:				; CODE XREF: RenderLightOnMap+22Ej
		inc	k

loc_1094D:				; CODE XREF: RenderLightOnMap+19Bj
		mov	ax, Wx
		shr	ax, 6
		sub	ax, LLX
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	bx, ax
		shl	bx, 5
		mov	ax, Wy
		shr	ax, 6
		sub	ax, LLY
		cwd
		xor	ax, dx
		sub	ax, dx
		add	bx, ax
		mov	al, [bx+1480h]
		mov	R__0, ax
		mov	R__0, ax
		mov	ax, CurR
		cmp	R__0, ax
		jnb	short loc_109C1
		sub	ax, R__0
		mul	CurL
		div	CurR
		shr	al, 2
		mov	B, al
		mov	di, os
		mov	ax, WShadowSeg2
		mov	es, ax
		mov	al, es:[di]
		sub	al, B
		jns	short loc_109AB
		xor	al, al

loc_109AB:				; CODE XREF: RenderLightOnMap+1FBj
		mov	B, al
		mov	ax, [bp+var_4]
		mov	es, ax
		mov	al, es:[di]
		mov	ah, B
		cmp	al, ah
		jbe	short loc_109C1
		mov	es:[di], ah

loc_109C1:				; CODE XREF: RenderLightOnMap+1D7j
					; RenderLightOnMap+210j
		mov	ax, DWx
		add	Wx, ax
		mov	ax, Dwy
		add	Wy, ax
		inc	os
		cmp	k, 7
		jz	short loc_109DD
		jmp	loc_10949
; ---------------------------------------------------------------------------

loc_109DD:				; CODE XREF: RenderLightOnMap+150j
					; RenderLightOnMap+157j ...
		mov	ax, ccx
		cmp	ax, [bp+var_8]
		jz	short loc_109E8
		jmp	loc_108CE
; ---------------------------------------------------------------------------

loc_109E8:				; CODE XREF: RenderLightOnMap+11Aj
					; RenderLightOnMap+237j
		mov	ax, ccy
		cmp	ax, [bp+var_6]
		jz	short loc_109F3
		jmp	loc_108B4
; ---------------------------------------------------------------------------

loc_109F3:				; CODE XREF: RenderLightOnMap+100j
					; RenderLightOnMap+242j
		mov	ax, ShadowSeg2
		mov	fs, ax
		mov	ax, [bp+var_2]
		mov	es, ax
		mov	ax, CurR2
		mov	[bp+var_6], ax
		xor	ax, ax
		cmp	ax, [bp+var_6]
		jbe	short loc_10A0D
		jmp	locret_10B30
; ---------------------------------------------------------------------------

loc_10A0D:				; CODE XREF: RenderLightOnMap+25Cj
		mov	ccy, ax
		jmp	short loc_10A16
; ---------------------------------------------------------------------------

loc_10A12:				; CODE XREF: RenderLightOnMap+381j
		inc	ccy

loc_10A16:				; CODE XREF: RenderLightOnMap+264j
		mov	ax, CurR2
		mov	[bp+var_8], ax
		xor	ax, ax
		cmp	ax, [bp+var_8]
		jbe	short loc_10A26
		jmp	loc_10B25
; ---------------------------------------------------------------------------

loc_10A26:				; CODE XREF: RenderLightOnMap+275j
		mov	ccx, ax
		jmp	short loc_10A2F
; ---------------------------------------------------------------------------

loc_10A2B:				; CODE XREF: RenderLightOnMap+376j
		inc	ccx

loc_10A2F:				; CODE XREF: RenderLightOnMap+27Dj
		mov	bx, ccx
		xor	ah, ah
		shl	bx, 5
		add	bx, ccy
		mov	al, [bx+1480h]
		mov	R__0, ax
		mov	ax, CurR
		cmp	R__0, ax
		jb	short loc_10A4F
		jmp	loc_10B1A
; ---------------------------------------------------------------------------

loc_10A4F:				; CODE XREF: RenderLightOnMap+29Ej
		sub	ax, R__0
		mul	CurL
		div	CurR
		shr	al, 2
		mov	B, al
		mov	di, LLY
		add	di, ccy
		shl	di, 8
		mov	ax, LLX
		add	ax, ccx
		add	di, ax
		mov	ah, fs:[di]
		sub	ah, B
		jns	short loc_10A80
		xor	ah, ah

loc_10A80:				; CODE XREF: RenderLightOnMap+2D0j
		mov	al, es:[di]
		cmp	al, ah
		jbe	short loc_10A8A
		mov	es:[di], ah

loc_10A8A:				; CODE XREF: RenderLightOnMap+2D9j
		cmp	ccy, 0
		jz	short loc_10ABA
		mov	di, LLY
		sub	di, ccy
		shl	di, 8
		mov	ax, LLX
		add	ax, ccx
		add	di, ax
		mov	ah, fs:[di]
		sub	ah, B
		jns	short loc_10AB0
		xor	ah, ah

loc_10AB0:				; CODE XREF: RenderLightOnMap+300j
		mov	al, es:[di]
		cmp	al, ah
		jbe	short loc_10ABA
		mov	es:[di], ah

loc_10ABA:				; CODE XREF: RenderLightOnMap+2E3j
					; RenderLightOnMap+309j
		cmp	ccx, 0
		jz	short loc_10B1A
		mov	di, LLY
		add	di, ccy
		shl	di, 8
		mov	ax, LLX
		sub	ax, ccx
		add	di, ax
		mov	ah, fs:[di]
		sub	ah, B
		jns	short loc_10AE0
		xor	ah, ah

loc_10AE0:				; CODE XREF: RenderLightOnMap+330j
		mov	al, es:[di]
		cmp	al, ah
		jbe	short loc_10AEA
		mov	es:[di], ah

loc_10AEA:				; CODE XREF: RenderLightOnMap+339j
		cmp	ccy, 0
		jz	short loc_10B1A
		mov	di, LLY
		sub	di, ccy
		shl	di, 8
		mov	ax, LLX
		sub	ax, ccx
		add	di, ax
		mov	ah, fs:[di]
		sub	ah, B
		jns	short loc_10B10
		xor	ah, ah

loc_10B10:				; CODE XREF: RenderLightOnMap+360j
		mov	al, es:[di]
		cmp	al, ah
		jbe	short loc_10B1A
		mov	es:[di], ah

loc_10B1A:				; CODE XREF: RenderLightOnMap+2A0j
					; RenderLightOnMap+313j ...
		mov	ax, ccx
		cmp	ax, [bp+var_8]
		jz	short loc_10B25
		jmp	loc_10A2B
; ---------------------------------------------------------------------------

loc_10B25:				; CODE XREF: RenderLightOnMap+277j
					; RenderLightOnMap+374j
		mov	ax, ccy
		cmp	ax, [bp+var_6]
		jz	short locret_10B30
		jmp	loc_10A12
; ---------------------------------------------------------------------------

locret_10B30:				; CODE XREF: RenderLightOnMap+25Ej
					; RenderLightOnMap+37Fj
		leave
		retn	2
RenderLightOnMap endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessLights	proc far		; CODE XREF: DoGame+9DFP

var_4		= dword	ptr -4

		enter	4, 0
		call	RestoreLights
		mov	N, 1

loc_10B41:				; CODE XREF: ProcessLights+205j
		mov	ax, N
		cmp	ax, LCount
		jbe	short loc_10B4D
		jmp	locret_10D3C
; ---------------------------------------------------------------------------

loc_10B4D:				; CODE XREF: ProcessLights+14j
		imul	di, N, 12h
		add	di, 0BCA4h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	word ptr es:[di+10h], 1
		jz	short loc_10B68
		jmp	loc_10C3C
; ---------------------------------------------------------------------------

loc_10B68:				; CODE XREF: ProcessLights+2Fj
		cmp	word ptr es:[di+0Ch], 0FFh
		jnz	short loc_10B96
		mov	ax, es:[di+4]
		shl	ax, 2
		mov	CurR, ax
		mov	ax, es:[di+6]
		mov	CurL, ax
		mov	word ptr es:[di+0Eh], 0Ah
		mov	word ptr es:[di+0Ch], 8
		mov	word ptr es:[di+10h], 2
		jmp	loc_10C39
; ---------------------------------------------------------------------------

loc_10B96:				; CODE XREF: ProcessLights+3Aj
		mov	ax, t1
		add	ax, t1
		add	ax, t1
		les	di, [bp+var_4]
		assume es:nothing
		add	es:[di+0Eh], ax
		mov	ax, es:[di+0Eh]
		cmp	ax, es:[di+0Ch]
		jbe	short loc_10BBA
		mov	ax, es:[di+0Ch]
		mov	es:[di+0Eh], ax

loc_10BBA:				; CODE XREF: ProcessLights+7Cj
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ch]
		shr	ax, 2
		inc	ax
		inc	ax
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, es:[di+0Eh]
		add	ax, 0Ah
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+4]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ax, 1
		adc	dx, 0
		mov	CurR, ax
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ch]
		add	ax, 14h
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, es:[di+0Eh]
		add	ax, 14h
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+6]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	CurL, ax
		les	di, [bp+var_4]
		mov	ax, es:[di+0Eh]
		cmp	ax, es:[di+0Ch]
		jb	short loc_10C39
		mov	word ptr es:[di+10h], 2
		xor	ax, ax
		mov	es:[di+0Eh], ax

loc_10C39:				; CODE XREF: ProcessLights+5Fj
					; ProcessLights+F7j
		jmp	loc_10CCA
; ---------------------------------------------------------------------------

loc_10C3C:				; CODE XREF: ProcessLights+31j
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ch]
		shr	ax, 2
		add	ax, 20h	; ' '
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, es:[di+0Eh]
		add	ax, 8
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+4]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+4]
		shl	ax, 2
		cwd
		sub	ax, cx
		sbb	dx, bx
		add	ax, 1
		adc	dx, 0
		mov	CurR, ax
		mov	ax, es:[di+0Ch]
		add	ax, 14h
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, es:[di+0Eh]
		add	ax, 14h
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+6]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+6]
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	CurL, ax
		mov	ax, t1
		add	es:[di+0Eh], ax

loc_10CCA:				; CODE XREF: ProcessLights:loc_10C39j
		mov	ax, CurR
		les	di, [bp+var_4]
		mov	es:[di+8], ax
		mov	ax, CurL
		shr	ax, 2
		mov	es:[di+0Ah], ax
		mov	ax, es:[di]
		mov	LLX, ax
		mov	ax, es:[di+2]
		mov	LLY, ax
		mov	ax, CurR
		add	ax, 3
		shr	ax, 2
		mov	CurR2, ax
		cmp	NETMonitor, 0
		jnz	short loc_10D30
		mov	ax, LLY
		shl	ax, 6
		mov	dx, ax
		mov	ax, ehy
		sub	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jg	short loc_10D2E
		mov	ax, LLX
		shl	ax, 6
		mov	dx, ax
		mov	ax, ehx
		sub	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jle	short loc_10D30

loc_10D2E:				; CODE XREF: ProcessLights+1E0j
		jmp	short loc_10D35
; ---------------------------------------------------------------------------

loc_10D30:				; CODE XREF: ProcessLights+1C8j
					; ProcessLights+1F8j
		push	0
		call	RenderLightOnMap

loc_10D35:				; CODE XREF: ProcessLights:loc_10D2Ej
		inc	N
		jmp	loc_10B41
; ---------------------------------------------------------------------------

locret_10D3C:				; CODE XREF: ProcessLights+16j
		leave
		retf
ProcessLights	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddLightSource	proc far		; CODE XREF: ContinueProcess+31EP

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_2]
		shl	ax, 2
		mov	CurR, ax
		mov	ax, [bp+arg_0]
		shl	ax, 2
		mov	CurL, ax
		mov	ax, [bp+arg_6]
		shr	ax, 6
		mov	LLX, ax
		mov	ax, [bp+arg_4]
		shr	ax, 6
		mov	LLY, ax
		mov	ax, [bp+arg_2]
		add	ax, 3
		mov	CurR2, ax
		push	1
		call	RenderLightOnMap
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	0
		push	0FFh
		call	AddBlowLight
		leave
		retf	8
AddLightSource	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BackRender	proc far		; CODE XREF: ContinueProcess+376P
					; RemoveLight+9CP

var_24		= dword	ptr -24h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	24h, 0
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_10DA2
		xor	ax, ax
		mov	[bp+var_2], ax

loc_10DA2:				; CODE XREF: BackRender+11j
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_2]
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jge	short loc_10DB6
		xor	ax, ax
		mov	[bp+var_6], ax

loc_10DB6:				; CODE XREF: BackRender+25j
		mov	ax, [bp+arg_6]
		add	ax, [bp+arg_2]
		mov	[bp+var_4], ax
		cmp	[bp+var_4], 0FFh
		jle	short loc_10DCB
		mov	[bp+var_4], 0FFh

loc_10DCB:				; CODE XREF: BackRender+3Aj
		mov	ax, [bp+arg_4]
		add	ax, [bp+arg_2]
		mov	[bp+var_8], ax
		cmp	[bp+var_8], 0FFh
		jle	short loc_10DE0
		mov	[bp+var_8], 0FFh

loc_10DE0:				; CODE XREF: BackRender+4Fj
		mov	ax, [bp+var_4]
		sub	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_18], ax
		mov	ax, [bp+var_8]
		sub	ax, [bp+var_6]
		inc	ax
		mov	[bp+var_1A], ax
		mov	ax, [bp+var_8]
		mov	[bp+var_1E], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_1E]
		jbe	short loc_10E05
		jmp	loc_10EA7
; ---------------------------------------------------------------------------

loc_10E05:				; CODE XREF: BackRender+76j
		mov	[bp+var_16], ax
		jmp	short loc_10E0D
; ---------------------------------------------------------------------------

loc_10E0A:				; CODE XREF: BackRender+11Aj
		inc	[bp+var_16]

loc_10E0D:				; CODE XREF: BackRender+7Ej
		mov	ax, [bp+var_4]
		mov	[bp+var_20], ax
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_20]
		jbe	short loc_10E1E
		jmp	loc_10E9C
; ---------------------------------------------------------------------------

loc_10E1E:				; CODE XREF: BackRender+8Fj
		mov	[bp+var_14], ax
		jmp	short loc_10E26
; ---------------------------------------------------------------------------

loc_10E23:				; CODE XREF: BackRender+110j
		inc	[bp+var_14]

loc_10E26:				; CODE XREF: BackRender+97j
		mov	ax, [bp+var_14]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		mov	ax, [bp+var_16]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		call	QPifagorA32
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		cwd
		cmp	dx, bx
		jg	short loc_10E65
		jl	short loc_10E94
		cmp	ax, cx
		jb	short loc_10E94

loc_10E65:				; CODE XREF: BackRender+D3j
		mov	ax, [bp+var_16]
		shr	ax, 2
		mov	dx, ax
		mov	ax, [bp+var_14]
		shr	ax, 2
		shl	ax, 6
		les	di, DarkMap
		add	di, ax
		add	di, dx
		mov	dl, es:[di]
		mov	ax, ShadowSeg2
		push	ax
		mov	ax, [bp+var_16]
		shl	ax, 8
		add	ax, [bp+var_14]
		mov	di, ax
		pop	es
		mov	es:[di], dl

loc_10E94:				; CODE XREF: BackRender+D5j
					; BackRender+D9j
		mov	ax, [bp+var_14]
		cmp	ax, [bp+var_20]
		jnz	short loc_10E23

loc_10E9C:				; CODE XREF: BackRender+91j
		mov	ax, [bp+var_16]
		cmp	ax, [bp+var_1E]
		jz	short loc_10EA7
		jmp	loc_10E0A
; ---------------------------------------------------------------------------

loc_10EA7:				; CODE XREF: BackRender+78j
					; BackRender+118j
		mov	ax, [bp+var_2]
		shr	ax, 2
		dec	ax
		dec	ax
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_10EBD
		xor	ax, ax
		mov	[bp+var_2], ax

loc_10EBD:				; CODE XREF: BackRender+12Cj
		mov	ax, [bp+var_6]
		shr	ax, 2
		dec	ax
		dec	ax
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jge	short loc_10ED3
		xor	ax, ax
		mov	[bp+var_6], ax

loc_10ED3:				; CODE XREF: BackRender+142j
		mov	ax, [bp+var_4]
		shr	ax, 2
		inc	ax
		inc	ax
		mov	[bp+var_4], ax
		cmp	[bp+var_4], 3Fh	; '?'
		jle	short loc_10EE9
		mov	[bp+var_4], 3Fh	; '?'

loc_10EE9:				; CODE XREF: BackRender+158j
		mov	ax, [bp+var_8]
		shr	ax, 2
		inc	ax
		inc	ax
		mov	[bp+var_8], ax
		cmp	[bp+var_8], 3Fh	; '?'
		jle	short loc_10EFF
		mov	[bp+var_8], 3Fh	; '?'

loc_10EFF:				; CODE XREF: BackRender+16Ej
		mov	ax, [bp+arg_2]
		shl	ax, 6
		add	ax, 20h	; ' '
		mov	[bp+arg_2], ax
		mov	ax, [bp+arg_6]
		shl	ax, 6
		mov	[bp+arg_6], ax
		mov	ax, [bp+arg_4]
		shl	ax, 6
		mov	[bp+arg_4], ax
		mov	ax, [bp+var_8]
		mov	[bp+var_1E], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_1E]
		jbe	short loc_10F2E
		jmp	loc_11074
; ---------------------------------------------------------------------------

loc_10F2E:				; CODE XREF: BackRender+19Fj
		mov	[bp+var_16], ax
		jmp	short loc_10F36
; ---------------------------------------------------------------------------

loc_10F33:				; CODE XREF: BackRender+2E7j
		inc	[bp+var_16]

loc_10F36:				; CODE XREF: BackRender+1A7j
		mov	ax, [bp+var_4]
		mov	[bp+var_20], ax
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_20]
		jbe	short loc_10F47
		jmp	loc_11069
; ---------------------------------------------------------------------------

loc_10F47:				; CODE XREF: BackRender+1B8j
		mov	[bp+var_14], ax
		jmp	short loc_10F4F
; ---------------------------------------------------------------------------

loc_10F4C:				; CODE XREF: BackRender+2DCj
		inc	[bp+var_14]

loc_10F4F:				; CODE XREF: BackRender+1C0j
		imul	ax, [bp+var_16], 0Bh
		mov	dx, ax
		imul	ax, [bp+var_14], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_24], di
		mov	word ptr [bp+var_24+2],	es
		mov	al, es:[di]
		cmp	al, 1
		jnb	short loc_10F72
		jmp	loc_1105E
; ---------------------------------------------------------------------------

loc_10F72:				; CODE XREF: BackRender+1E3j
		cmp	al, 78h	; 'x'
		jbe	short loc_10F79
		jmp	loc_1105E
; ---------------------------------------------------------------------------

loc_10F79:				; CODE XREF: BackRender+1EAj
		cmp	[bp+arg_0], 0
		jz	short loc_10FBA
		mov	al, es:[di]
		cmp	al, 56h	; 'V'
		jb	short loc_10F8A
		cmp	al, 78h	; 'x'
		jbe	short loc_10FBA

loc_10F8A:				; CODE XREF: BackRender+1FAj
		les	di, [bp+var_24]
		mov	ax, es:[di+3]
		sub	ax, [bp+arg_6]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+arg_4]
		push	ax
		mov	ax, es:[di+7]
		sub	ax, es:[di+3]
		push	ax
		mov	ax, es:[di+9]
		sub	ax, es:[di+5]
		push	ax
		call	MulVectors__2
		cmp	ax, 0FFFFh
		jnz	short loc_10FBA
		jmp	loc_1105E
; ---------------------------------------------------------------------------

loc_10FBA:				; CODE XREF: BackRender+1F3j
					; BackRender+1FEj ...
		les	di, [bp+var_24]
		mov	ax, es:[di+7]
		sub	ax, es:[di+3]
		cwd
		mov	cx, 8
		idiv	cx
		mov	[bp+var_A], ax
		mov	ax, es:[di+9]
		sub	ax, es:[di+5]
		cwd
		mov	cx, 8
		idiv	cx
		mov	[bp+var_C], ax
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_12], ax
		mov	ax, es:[di+3]
		mov	[bp+var_E], ax
		mov	ax, es:[di+5]
		mov	[bp+var_10], ax
		xor	ax, ax
		mov	[bp+var_1C], ax
		jmp	short loc_11000
; ---------------------------------------------------------------------------

loc_10FFD:				; CODE XREF: BackRender+2D2j
		inc	[bp+var_1C]

loc_11000:				; CODE XREF: BackRender+271j
		mov	ax, [bp+arg_6]
		neg	ax
		add	ax, [bp+var_E]
		push	ax
		mov	ax, [bp+arg_4]
		neg	ax
		add	ax, [bp+var_10]
		push	ax
		call	QPifagorA32
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		cwd
		cmp	dx, bx
		jg	short loc_11029
		jl	short loc_1104C
		cmp	ax, cx
		jb	short loc_1104C

loc_11029:				; CODE XREF: BackRender+297j
		mov	cl, byte ptr [bp+var_12]
		mov	ax, WShadowSeg2
		push	ax
		mov	ax, [bp+var_14]
		shl	ax, 3
		mov	dx, ax
		mov	ax, [bp+var_16]
		shl	ax, 9
		add	ax, dx
		add	ax, 7
		sub	ax, [bp+var_1C]
		mov	di, ax
		pop	es
		mov	es:[di], cl

loc_1104C:				; CODE XREF: BackRender+299j
					; BackRender+29Dj
		mov	ax, [bp+var_A]
		add	[bp+var_E], ax
		mov	ax, [bp+var_C]
		add	[bp+var_10], ax
		cmp	[bp+var_1C], 7
		jnz	short loc_10FFD

loc_1105E:				; CODE XREF: BackRender+1E5j
					; BackRender+1ECj ...
		mov	ax, [bp+var_14]
		cmp	ax, [bp+var_20]
		jz	short loc_11069
		jmp	loc_10F4C
; ---------------------------------------------------------------------------

loc_11069:				; CODE XREF: BackRender+1BAj
					; BackRender+2DAj
		mov	ax, [bp+var_16]
		cmp	ax, [bp+var_1E]
		jz	short loc_11074
		jmp	loc_10F33
; ---------------------------------------------------------------------------

loc_11074:				; CODE XREF: BackRender+1A1j
					; BackRender+2E5j
		push	ShadowSeg2
		push	0
		push	ShadowSeg
		push	0
		push	3FFFh
		call	movsD__0
		push	WShadowSeg2
		push	0
		push	WShadowSeg
		push	0
		push	1FFFh
		call	movsD__0
		leave
		retf	8
BackRender	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_110A0	proc far		; CODE XREF: PROGRAM+19P
		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	Wx, ax
		jmp	short loc_110AE
; ---------------------------------------------------------------------------

loc_110AA:				; CODE XREF: sub_110A0+48j
		inc	Wx

loc_110AE:				; CODE XREF: sub_110A0+8j
		xor	ax, ax
		mov	Wy, ax
		jmp	short loc_110B9
; ---------------------------------------------------------------------------

loc_110B5:				; CODE XREF: sub_110A0+41j
		inc	Wy

loc_110B9:				; CODE XREF: sub_110A0+13j
		mov	ax, Wx
		shl	ax, 2
		push	ax
		mov	ax, Wy
		shl	ax, 2
		push	ax
		call	QPifagorP16
		mov	dl, al
		mov	ax, Wy
		mov	di, Wx
		shl	di, 5
		add	di, ax
		mov	[di+1480h], dl
		cmp	Wy, 1Fh
		jnz	short loc_110B5
		cmp	Wx, 1Fh
		jnz	short loc_110AA
		leave
		retf
sub_110A0	endp

; [0000000B BYTES: COLLAPSED FUNCTION unknown_libname_1. PRESS KEYPAD "+" TO EXPAND]
		db 0C9h	; É
		db 0C3h	; Ã
; [00000030 BYTES: COLLAPSED FUNCTION __CrtInit(void). PRESS KEYPAD "+"	TO EXPAND]
; [00000074 BYTES: COLLAPSED FUNCTION unknown_libname_2. PRESS KEYPAD "+" TO EXPAND]
; [0000004D BYTES: COLLAPSED FUNCTION sub_1119D. PRESS KEYPAD "+" TO EXPAND]
; [00000048 BYTES: COLLAPSED FUNCTION sub_111EA. PRESS KEYPAD "+" TO EXPAND]
		db  26h	; &
		db  80h	; €
		db  3Eh	; >
		db  42h	; B
		db 0F9h	; ù
		db    0
		db  74h	; t
		db    6
		db  26h	; &
		db 0C6h	; Æ
		db    6
		db  54h	; T
		db 0F9h	; ù
		db    1
		db 0FCh	; ü
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  2Ah	; *
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  2Ch	; ,
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  20h
		db  26h	; &
		db  83h	; ƒ
		db  45h	; E
		db  2Eh	; .
		db    6
		db 0CFh	; Ï
; [00000029 BYTES: COLLAPSED FUNCTION sub_11256. PRESS KEYPAD "+" TO EXPAND]
; [00000015 BYTES: COLLAPSED FUNCTION TextMode.	PRESS KEYPAD "+" TO EXPAND]
; [00000040 BYTES: COLLAPSED FUNCTION Window. PRESS KEYPAD "+" TO EXPAND]
; [0000001A BYTES: COLLAPSED FUNCTION ClrScr. PRESS KEYPAD "+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION ClrEol. PRESS KEYPAD "+" TO EXPAND]
; [00000025 BYTES: COLLAPSED FUNCTION InsLine. PRESS KEYPAD "+"	TO EXPAND]
; [0000002C BYTES: COLLAPSED FUNCTION GotoXY. PRESS KEYPAD "+" TO EXPAND]
; [0000000C BYTES: COLLAPSED FUNCTION WhereX. PRESS KEYPAD "+" TO EXPAND]
; [0000000C BYTES: COLLAPSED FUNCTION WhereY. PRESS KEYPAD "+" TO EXPAND]
; [0000001A BYTES: COLLAPSED FUNCTION TextColor. PRESS KEYPAD "+" TO EXPAND]
; [00000018 BYTES: COLLAPSED FUNCTION TextBackground. PRESS KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION LowVideo.	PRESS KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION HighVideo. PRESS KEYPAD "+" TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION NormVideo. PRESS KEYPAD "+" TO EXPAND]
; [0000001E BYTES: COLLAPSED FUNCTION Delay. PRESS KEYPAD "+" TO EXPAND]
; [0000000E BYTES: COLLAPSED FUNCTION sub_113CE. PRESS KEYPAD "+" TO EXPAND]
; [0000002D BYTES: COLLAPSED FUNCTION Sound. PRESS KEYPAD "+" TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION NoSound. PRESS KEYPAD "+"	TO EXPAND]
; [00000012 BYTES: COLLAPSED FUNCTION KeyPressed. PRESS	KEYPAD "+" TO EXPAND]
; [00000022 BYTES: COLLAPSED FUNCTION ReadKey. PRESS KEYPAD "+"	TO EXPAND]
; [0000002B BYTES: COLLAPSED FUNCTION AssignCrt. PRESS KEYPAD "+" TO EXPAND]
unk_1146F	db  8Bh	; ‹		; DATA XREF: AssignCrt+1Bo
		db 0DCh	; Ü
		db  1Eh
		db  36h	; 6
		db 0C5h	; Å
		db  7Fh	; 
		db    4
		db 0B8h	; ¸
		db  77h	; w
		db  24h	; $
		db 0BBh	; »
		db  55h	; U
		db  25h	; %
		db  8Bh	; ‹
		db 0CBh	; Ë
		db  81h	; 
		db  7Dh	; }
		db    2
		db 0B1h	; ±
		db 0D7h	; ×
		db  74h	; t
		db  0Ah
		db 0C7h	; Ç
		db  45h	; E
		db    2
		db 0B2h	; ²
		db 0D7h	; ×
		db 0B8h	; ¸
		db  24h	; $
		db  25h	; %
		db  8Bh	; ‹
		db 0D8h	; Ø
		db  89h	; ‰
		db  45h	; E
		db  14h
		db  8Ch	; Œ
		db  4Dh	; M
		db  16h
		db  89h	; ‰
		db  5Dh	; ]
		db  18h
		db  8Ch	; Œ
		db  4Dh	; M
		db  1Ah
		db  89h	; ‰
		db  4Dh	; M
		db  1Ch
		db  8Ch	; Œ
		db  4Dh	; M
		db  1Eh
		db  33h	; 3
		db 0C0h	; À
		db  1Fh
		db 0CAh	; Ê
		db    4
		db    0
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		les	di, [bp+6]
		mov	dx, es:[di+4]
		dec	dx
		dec	dx
		mov	si, es:[di+8]
		les	di, es:[di+0Ch]
		xor	bx, bx

loc_114BD:				; CODE XREF: cseg02:24BCj cseg02:24C0j ...
		mov	byte_45BA3, 0
		push	cs
		call	near ptr ReadKey
		mov	cx, 1
		cmp	al, 8
		jz	short loc_11501
		cmp	al, 13h
		jz	short loc_11501
		cmp	al, 4
		jz	short loc_11519
		dec	cx
		cmp	al, 1Bh
		jz	short loc_11501
		cmp	al, 1
		jz	short loc_11501
		cmp	al, 6
		jz	short loc_11519
		cmp	al, 1Ah
		jz	short loc_1152C
		cmp	al, 0Dh
		jz	short loc_11539
		cmp	al, 20h	; ' '
		jb	short loc_114BD
		cmp	bx, dx
		jz	short loc_114BD
		mov	es:[bx+di], al
		inc	bx
		call	sub_11591
		cmp	bx, si
		jbe	short loc_114BD
		mov	si, bx
		jmp	short loc_114BD
; ---------------------------------------------------------------------------

loc_11501:				; CODE XREF: cseg02:249Bj cseg02:249Fj ...
		or	bx, bx
		jz	short loc_114BD
		mov	al, 8
		call	sub_11591
		mov	al, 20h	; ' '
		call	sub_11591
		mov	al, 8
		call	sub_11591
		dec	bx
		loop	loc_11501
		jmp	short loc_114BD
; ---------------------------------------------------------------------------

loc_11519:				; CODE XREF: cseg02:24A3j cseg02:24B0j ...
		cmp	bx, si
		jz	short loc_114BD
		mov	al, es:[bx+di]
		cmp	al, 20h	; ' '
		jb	short loc_114BD
		call	sub_11591
		inc	bx
		loop	loc_11519
		jmp	short loc_114BD
; ---------------------------------------------------------------------------

loc_1152C:				; CODE XREF: cseg02:24B4j
		cmp	CheckEOF, 0
		jz	short loc_114BD
		mov	es:[bx+di], al
		inc	bx
		jmp	short loc_11543
; ---------------------------------------------------------------------------

loc_11539:				; CODE XREF: cseg02:24B8j
		call	sub_1158A
		mov	word ptr es:[bx+di], 0A0Dh
		inc	bx
		inc	bx

loc_11543:				; CODE XREF: cseg02:2507j
		les	di, [bp+6]
		xor	ax, ax
		mov	es:[di+8], ax
		mov	es:[di+0Ah], bx
		pop	bp
		retf	4
; ---------------------------------------------------------------------------
		db  8Bh	; ‹
		db 0DCh	; Ü
		db  36h	; 6
		db 0C4h	; Ä
		db  7Fh	; 
		db    4
		db  26h	; &
		db  8Bh	; ‹
		db  4Dh	; M
		db    8
		db  26h	; &
		db  29h	; )
		db  4Dh	; M
		db    8
		db 0E3h	; ã
		db  19h
		db  26h	; &
		db 0C4h	; Ä
		db  7Dh	; }
		db  0Ch
		db  80h	; €
		db  3Eh	; >
		db  44h	; D
		db 0F9h	; ù
		db    0
		db  75h	; u
		db  0Bh
		db  26h	; &
		db  8Ah	; Š
		db    5
		db 0E8h	; è
		db  1Ch
		db    0
		db  47h	; G
		db 0E2h	; â
		db 0F7h	; ÷
		db 0EBh	; ë
		db    3
		db 0E8h	; è
		db  9Ch	; œ
		db    0
		db 0E8h	; è
		db 0D6h	; Ö
		db 0FCh	; ü
		db  33h	; 3
		db 0C0h	; À
		db 0CAh	; Ê
		db    4
		db    0
		db  33h	; 3
		db 0C0h	; À
		db 0CAh	; Ê
		db    4
		db    0
; [00000007 BYTES: COLLAPSED FUNCTION sub_1158A. PRESS KEYPAD "+" TO EXPAND]
; [00000059 BYTES: COLLAPSED FUNCTION sub_11591. PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION sub_115EA. PRESS KEYPAD "+" TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION sub_1160B. PRESS KEYPAD "+" TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION sub_11612. PRESS KEYPAD "+" TO EXPAND]
		db  1Eh
		db  8Eh	; Ž
		db  1Eh
		db 0D0h	; Ð
		db    3
		db  8Bh	; ‹
		db  16h
		db  50h	; P
		db    0
		db  1Fh
		db  8Bh	; ‹
		db 0DAh	; Ú
		db  8Bh	; ‹
		db 0F7h	; ÷
		db  26h	; &
		db  8Ah	; Š
		db    5
		db  3Ch	; <
		db    7
		db  74h	; t
		db  21h	; !
		db  3Ch	; <
		db    8
		db  74h	; t
		db  2Ch	; ,
		db  3Ch	; <
		db  0Ah
		db  74h	; t
		db  35h	; 5
		db  3Ch	; <
		db  0Dh
		db  74h	; t
		db  39h	; 9
		db  47h	; G
		db 0FEh	; þ
		db 0C2h	; Â
		db  3Ah	; :
		db  16h
		db  4Ch	; L
		db 0F9h	; ù
		db  76h	; v
		db  3Ch	; <
		db 0E8h	; è
		db  6Eh	; n
		db    0
		db 0E8h	; è
		db 0A1h	; ¡
		db 0FFh
		db  8Ah	; Š
		db  16h
		db  4Ah	; J
		db 0F9h	; ù
		db 0EBh	; ë
		db  2Ch	; ,
		db 0E8h	; è
		db  62h	; b
		db    0
		db  51h	; Q
		db  52h	; R
		db 0B8h	; ¸
		db    7
		db  0Eh
		db 0E8h	; è
		db 0C2h	; Â
		db    0
		db  5Ah	; Z
		db  59h	; Y
		db 0EBh	; ë
		db  1Ch
		db 0E8h	; è
		db  53h	; S
		db    0
		db  3Ah	; :
		db  16h
		db  4Ah	; J
		db 0F9h	; ù
		db  74h	; t
		db  13h
		db 0FEh	; þ
		db 0CAh	; Ê
		db 0EBh	; ë
		db  0Fh
		db 0E8h	; è
		db  46h	; F
		db    0
		db 0E8h	; è
		db  79h	; y
		db 0FFh
		db 0EBh	; ë
		db    7
		db 0E8h	; è
		db  3Eh	; >
		db    0
		db  8Ah	; Š
		db  16h
		db  4Ah	; J
		db 0F9h	; ù
		db  47h	; G
		db  8Bh	; ‹
		db 0F7h	; ÷
		db  8Bh	; ‹
		db 0DAh	; Ú
		db 0E2h	; â
		db 0A6h	; ¦
		db 0E8h	; è
		db  30h	; 0
		db    0
		db  1Eh
		db  8Eh	; Ž
		db  1Eh
		db 0D0h	; Ð
		db    3
		db  89h	; ‰
		db  16h
		db  50h	; P
		db    0
		db  8Ah	; Š
		db 0C6h	; Æ
		db 0F6h	; ö
		db  26h	; &
		db  4Ah	; J
		db    0
		db  32h	; 2
		db 0F6h	; ö
		db    3
		db 0C2h	; Â
		db  8Bh	; ‹
		db 0C8h	; È
		db  8Bh	; ‹
		db  16h
		db  63h	; c
		db    0
		db 0B0h	; °
		db  0Eh
		db 0EEh	; î
		db 0EBh	; ë
		db    0
		db  8Ah	; Š
		db 0C5h	; Å
		db  42h	; B
		db 0EEh	; î
		db 0EBh	; ë
		db    0
		db  4Ah	; J
		db 0B0h	; °
		db  0Fh
		db 0EEh	; î
		db 0EBh	; ë
		db    0
		db  8Ah	; Š
		db 0C1h	; Á
		db  42h	; B
		db 0EEh	; î
		db  1Fh
		db 0C3h	; Ã
		db  3Bh	; ;
		db 0F7h	; ÷
		db  74h	; t
		db  63h	; c
		db  51h	; Q
		db  52h	; R
		db  57h	; W
		db  1Eh
		db    6
		db  8Bh	; ‹
		db 0CFh	; Ï
		db  2Bh	; +
		db 0CEh	; Î
		db  1Eh
		db  8Eh	; Ž
		db  1Eh
		db 0D0h	; Ð
		db    3
		db  8Ah	; Š
		db 0C7h	; Ç
		db 0F6h	; ö
		db  26h	; &
		db  4Ah	; J
		db    0
		db  32h	; 2
		db 0FFh
		db    3
		db 0C3h	; Ã
		db 0D1h	; Ñ
		db 0E0h	; à
		db  8Bh	; ‹
		db 0F8h	; ø
		db  8Bh	; ‹
		db  16h
		db  63h	; c
		db    0
		db  83h	; ƒ
		db 0C2h	; Â
		db    6
		db  80h	; €
		db  3Eh	; >
		db  49h	; I
		db    0
		db    7
		db  1Fh
		db 0A1h	; ¡
		db 0D6h	; Ö
		db    3
		db  75h	; u
		db    3
		db 0A1h	; ¡
		db 0D4h	; Ô
		db    3
		db  8Ah	; Š
		db  1Eh
		db  45h	; E
		db 0F9h	; ù
		db  8Ah	; Š
		db  3Eh	; >
		db  48h	; H
		db 0F9h	; ù
		db    6
		db  1Fh
		db  8Eh	; Ž
		db 0C0h	; À
		db 0FCh	; ü
		db  0Ah
		db 0DBh	; Û
		db  74h	; t
		db  16h
		db 0ACh	; ¬
		db  8Ah	; Š
		db 0D8h	; Ø
		db 0ECh	; ì
		db 0A8h	; ¨
		db    1
		db  75h	; u
		db 0FBh	; û
		db 0FAh	; ú
		db 0ECh	; ì
		db 0A8h	; ¨
		db    1
		db  74h	; t
		db 0FBh	; û
		db  8Bh	; ‹
		db 0C3h	; Ã
		db 0ABh	; «
		db 0FBh	; û
		db 0E2h	; â
		db 0ECh	; ì
		db 0EBh	; ë
		db    6
		db  8Ah	; Š
		db 0E7h	; ç
		db 0ACh	; ¬
		db 0ABh	; «
		db 0E2h	; â
		db 0FCh	; ü
		db    7
		db  1Fh
		db  5Fh	; _
		db  5Ah	; Z
		db  59h	; Y
		db 0C3h	; Ã
; [0000000B BYTES: COLLAPSED FUNCTION sub_1171C. PRESS KEYPAD "+" TO EXPAND]
; [00000018 BYTES: COLLAPSED FUNCTION GetIntVec. PRESS KEYPAD "+" TO EXPAND]
; [00000013 BYTES: COLLAPSED FUNCTION SetIntVec. PRESS KEYPAD "+" TO EXPAND]
; [0000006E BYTES: COLLAPSED FUNCTION GetEnv. PRESS KEYPAD "+" TO EXPAND]
; [0000007B BYTES: COLLAPSED FUNCTION MsDos. PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

HexW		proc far		; CODE XREF: PROGRAM+A13P HexL+DP ...

arg_0		= byte ptr  6
arg_1		= byte ptr  7
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		les	di, [bp+arg_2]
		mov	byte ptr es:[di], 4
		mov	al, [bp+arg_1]
		xor	ah, ah
		shr	ax, 4
		mov	di, ax
		mov	al, [di+36Ch]
		les	di, [bp+arg_2]
		mov	es:[di+1], al
		mov	al, [bp+arg_1]
		and	al, 0Fh
		xor	ah, ah
		mov	di, ax
		mov	al, [di+36Ch]
		les	di, [bp+arg_2]
		mov	es:[di+2], al
		mov	al, [bp+arg_0]
		xor	ah, ah
		shr	ax, 4
		mov	di, ax
		mov	al, [di+36Ch]
		les	di, [bp+arg_2]
		mov	es:[di+3], al
		mov	al, [bp+arg_0]
		and	al, 0Fh
		xor	ah, ah
		mov	di, ax
		mov	al, [di+36Ch]
		les	di, [bp+arg_2]
		mov	es:[di+4], al
		leave
		retf	2
HexW		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

HexL		proc far		; CODE XREF: PROGRAM+924P

var_200		= byte ptr -200h
var_100		= byte ptr -100h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah

		enter	200h, 0
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	[bp+arg_2]
		call	HexW
		lea	di, [bp+var_200]
		push	ss
		push	di
		push	[bp+arg_0]
		call	HexW
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+arg_4]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		leave
		retf	4
HexL		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Form		proc far		; CODE XREF: SyncroTime+AAP
					; EndPaint+332P ...

var_314		= byte ptr -314h
var_216		= word ptr -216h
var_214		= word ptr -214h
var_211		= byte ptr -211h
var_210		= byte ptr -210h
var_20F		= byte ptr -20Fh
var_20E		= byte ptr -20Eh
var_20D		= byte ptr -20Dh
var_20C		= byte ptr -20Ch
var_20B		= byte ptr -20Bh
var_20A		= word ptr -20Ah
var_208		= word ptr -208h
var_205		= byte ptr -205h
var_204		= byte ptr -204h
var_203		= byte ptr -203h
var_202		= byte ptr -202h
var_201		= byte ptr -201h
var_200		= byte ptr -200h
var_1FF		= byte ptr -1FFh
var_100		= byte ptr -100h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch
arg_A		= dword	ptr  10h

		enter	314h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_6]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		cmp	[bp+var_100], 0
		jnz	short loc_118F6
		jmp	loc_11D18
; ---------------------------------------------------------------------------

loc_118F6:				; CODE XREF: Form+20j
		mov	[bp+var_201], 0
		mov	[bp+var_20B], 0
		mov	[bp+var_20D], 0
		mov	[bp+var_20C], 0
		mov	[bp+var_204], 0
		mov	[bp+var_203], 1
		mov	[bp+var_208], 1
		mov	ax, [bp+arg_0]
		mov	bx, [bp+arg_2]
		mov	dx, [bp+arg_4]
		xor	cx, cx
		xor	si, si
		xor	di, di
		call	@__Cmp$q4Realt1	; Compare two reals
		mov	al, 0
		jnb	short loc_11933
		inc	ax

loc_11933:				; CODE XREF: Form+5Fj
		mov	[bp+var_205], al
		mov	ax, [bp+arg_0]
		mov	bx, [bp+arg_2]
		mov	dx, [bp+arg_4]
		and	dh, 7Fh
		mov	[bp+arg_0], ax
		mov	[bp+arg_2], bx
		mov	[bp+arg_4], dx

loc_1194C:				; CODE XREF: Form+ADj
		mov	al, [bp+var_100]
		xor	ah, ah
		cmp	ax, [bp+var_208]
		jb	short loc_11980
		lea	di, [bp+var_314]
		push	ss
		push	di
		mov	di, [bp+var_208]
		mov	al, [bp+di+var_100]
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		mov	di, offset FormChars ; "#@*$-+,."
		push	ds
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jnz	short loc_11980
		inc	[bp+var_208]
		jmp	short loc_1194C
; ---------------------------------------------------------------------------

loc_11980:				; CODE XREF: Form+85j Form+A7j
		mov	al, [bp+var_100]
		xor	ah, ah
		cmp	ax, [bp+var_208]
		jnb	short loc_1198F
		jmp	loc_11D18
; ---------------------------------------------------------------------------

loc_1198F:				; CODE XREF: Form+B9j
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_216], ax
		mov	ax, [bp+var_208]
		cmp	ax, [bp+var_216]
		jbe	short loc_119A6
		jmp	loc_11A39
; ---------------------------------------------------------------------------

loc_119A6:				; CODE XREF: Form+D0j
		mov	[bp+var_20A], ax
		jmp	short loc_119B0
; ---------------------------------------------------------------------------

loc_119AC:				; CODE XREF: Form+165j
		inc	[bp+var_20A]

loc_119B0:				; CODE XREF: Form+D9j
		mov	di, [bp+var_20A]
		mov	al, [bp+di+var_100]
		cmp	al, 2Ah	; '*'
		jnz	short loc_119C3
		mov	[bp+var_201], 1
		jmp	short loc_11A2C
; ---------------------------------------------------------------------------

loc_119C3:				; CODE XREF: Form+E9j
		cmp	al, 40h	; '@'
		jnz	short loc_119CE
		mov	[bp+var_201], 2
		jmp	short loc_11A2C
; ---------------------------------------------------------------------------

loc_119CE:				; CODE XREF: Form+F4j
		cmp	al, 24h	; '$'
		jnz	short loc_119D9
		mov	[bp+var_204], 1
		jmp	short loc_11A2C
; ---------------------------------------------------------------------------

loc_119D9:				; CODE XREF: Form+FFj
		cmp	al, 2Dh	; '-'
		jz	short loc_119E1
		cmp	al, 2Bh	; '+'
		jnz	short loc_119E8

loc_119E1:				; CODE XREF: Form+10Aj
		mov	[bp+var_203], 0
		jmp	short loc_11A2C
; ---------------------------------------------------------------------------

loc_119E8:				; CODE XREF: Form+10Ej
		cmp	al, 23h	; '#'
		jnz	short loc_119EE
		jmp	short loc_11A2C
; ---------------------------------------------------------------------------

loc_119EE:				; CODE XREF: Form+119j
		cmp	al, 2Ch	; ','
		jnz	short loc_11A0C
		mov	al, byte ptr [bp+var_20A]
		mov	[bp+var_20B], al
		cmp	CommaForPeriod,	0
		jz	short loc_11A0A
		mov	di, [bp+var_20A]
		mov	[bp+di+var_100], 2Eh ; '.'

loc_11A0A:				; CODE XREF: Form+12Ej
		jmp	short loc_11A2C
; ---------------------------------------------------------------------------

loc_11A0C:				; CODE XREF: Form+11Fj
		cmp	al, 2Eh	; '.'
		jnz	short loc_11A2A
		mov	al, byte ptr [bp+var_20A]
		mov	[bp+var_20B], al
		cmp	CommaForPeriod,	0
		jz	short loc_11A28
		mov	di, [bp+var_20A]
		mov	[bp+di+var_100], 2Ch ; ','

loc_11A28:				; CODE XREF: Form+14Cj
		jmp	short loc_11A2C
; ---------------------------------------------------------------------------

loc_11A2A:				; CODE XREF: Form+13Dj
		jmp	short loc_11A3D
; ---------------------------------------------------------------------------

loc_11A2C:				; CODE XREF: Form+F0j Form+FBj ...
		mov	ax, [bp+var_20A]
		cmp	ax, [bp+var_216]
		jz	short loc_11A39
		jmp	loc_119AC
; ---------------------------------------------------------------------------

loc_11A39:				; CODE XREF: Form+D2j Form+163j
		inc	[bp+var_20A]

loc_11A3D:				; CODE XREF: Form:loc_11A2Aj
		dec	[bp+var_20A]
		cmp	[bp+var_201], 2
		jnz	short loc_11A4D
		mov	[bp+var_204], 0

loc_11A4D:				; CODE XREF: Form+175j
		mov	al, [bp+var_204]
		mov	[bp+var_210], al
		mov	ax, [bp+var_20A]
		mov	[bp+var_216], ax
		mov	ax, [bp+var_208]
		cmp	ax, [bp+var_216]
		ja	short loc_11AAE
		mov	[bp+var_214], ax
		jmp	short loc_11A71
; ---------------------------------------------------------------------------

loc_11A6D:				; CODE XREF: Form+1DBj
		inc	[bp+var_214]

loc_11A71:				; CODE XREF: Form+19Aj
		mov	di, [bp+var_214]
		mov	al, [bp+di+var_100]
		cmp	al, 23h	; '#'
		jz	short loc_11A89
		cmp	al, 40h	; '@'
		jz	short loc_11A89
		cmp	al, 2Ah	; '*'
		jz	short loc_11A89
		cmp	al, 24h	; '$'
		jnz	short loc_11AA4

loc_11A89:				; CODE XREF: Form+1AAj	Form+1AEj ...
		inc	[bp+var_20C]
		mov	al, [bp+var_20B]
		xor	ah, ah
		cmp	ax, [bp+var_214]
		jnb	short loc_11AA4
		cmp	[bp+var_20B], 0
		jz	short loc_11AA4
		inc	[bp+var_20D]

loc_11AA4:				; CODE XREF: Form+1B6j	Form+1C6j ...
		mov	ax, [bp+var_214]
		cmp	ax, [bp+var_216]
		jnz	short loc_11A6D

loc_11AAE:				; CODE XREF: Form+194j
		cmp	[bp+var_20D], 0
		mov	al, 0
		jbe	short loc_11AB8
		inc	ax

loc_11AB8:				; CODE XREF: Form+1E4j
		add	[bp+var_20C], al
		cmp	[bp+var_205], 0
		jz	short loc_11AD7
		cmp	[bp+var_203], 0
		jz	short loc_11AD7
		cmp	[bp+var_201], 0
		jnz	short loc_11AD7
		inc	[bp+var_210]
		jmp	short loc_11ADC
; ---------------------------------------------------------------------------

loc_11AD7:				; CODE XREF: Form+1F0j	Form+1F7j ...
		mov	[bp+var_203], 0

loc_11ADC:				; CODE XREF: Form+204j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		mov	al, [bp+var_20C]
		xor	ah, ah
		push	ax
		mov	al, [bp+var_20D]
		xor	ah, ah
		push	ax
		lea	di, [bp+var_200]
		push	ss
		push	di
		push	0FFh
		call	@Str$q4Real4Wordt2m6String4Word	; Str(x:width:decimals;	var s: string {; strlen: Word})
		mov	[bp+var_20E], 1

loc_11B06:				; CODE XREF: Form+248j
		mov	al, [bp+var_20E]
		xor	ah, ah
		mov	di, ax
		cmp	[bp+di+var_200], 20h ; ' '
		jnz	short loc_11B1B
		inc	[bp+var_20E]
		jmp	short loc_11B06
; ---------------------------------------------------------------------------

loc_11B1B:				; CODE XREF: Form+242j
		mov	al, [bp+var_20E]
		mov	[bp+var_20F], al
		dec	[bp+var_20E]
		mov	al, [bp+var_200]
		cmp	al, [bp+var_20C]
		ja	short loc_11B3F
		mov	al, [bp+var_20E]
		cmp	al, [bp+var_210]
		jb	short loc_11B3F
		mov	al, 0
		jmp	short loc_11B41
; ---------------------------------------------------------------------------

loc_11B3F:				; CODE XREF: Form+25Ej	Form+268j
		mov	al, 1

loc_11B41:				; CODE XREF: Form+26Cj
		mov	[bp+var_202], al
		cmp	[bp+var_202], 0
		jz	short loc_11BC8
		mov	ax, [bp+var_20A]
		mov	[bp+var_216], ax
		mov	ax, [bp+var_208]
		cmp	ax, [bp+var_216]
		ja	short loc_11BC5
		mov	[bp+var_214], ax
		jmp	short loc_11B68
; ---------------------------------------------------------------------------

loc_11B64:				; CODE XREF: Form+2F2j
		inc	[bp+var_214]

loc_11B68:				; CODE XREF: Form+291j
		mov	di, [bp+var_214]
		mov	al, [bp+di+var_100]
		cmp	al, 23h	; '#'
		jz	short loc_11B80
		cmp	al, 40h	; '@'
		jz	short loc_11B80
		cmp	al, 2Ah	; '*'
		jz	short loc_11B80
		cmp	al, 24h	; '$'
		jnz	short loc_11B8B

loc_11B80:				; CODE XREF: Form+2A1j	Form+2A5j ...
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], 2Ah ; '*'
		jmp	short loc_11BBB
; ---------------------------------------------------------------------------

loc_11B8B:				; CODE XREF: Form+2ADj
		cmp	al, 2Bh	; '+'
		jnz	short loc_11BA4
		mov	al, [bp+var_205]
		cbw
		mov	di, ax
		mov	al, [di+3A6h]
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], al
		jmp	short loc_11BBB
; ---------------------------------------------------------------------------

loc_11BA4:				; CODE XREF: Form+2BCj
		cmp	al, 2Dh	; '-'
		jnz	short loc_11BBB
		mov	al, [bp+var_205]
		cbw
		mov	di, ax
		mov	al, [di+3A8h]
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], al

loc_11BBB:				; CODE XREF: Form+2B8j	Form+2D1j ...
		mov	ax, [bp+var_214]
		cmp	ax, [bp+var_216]
		jnz	short loc_11B64

loc_11BC5:				; CODE XREF: Form+28Bj
		jmp	loc_11D18
; ---------------------------------------------------------------------------

loc_11BC8:				; CODE XREF: Form+279j
		cmp	[bp+var_20E], 0
		jbe	short loc_11C20
		lea	di, [bp+var_1FF]
		push	ss
		push	di
		mov	al, [bp+var_20E]
		xor	ah, ah
		push	ax
		mov	al, [bp+var_201]
		cbw
		mov	di, ax
		mov	al, [di+3AAh]
		push	ax
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		cmp	[bp+var_204], 0
		jz	short loc_11C0C
		mov	dl, MoneySign
		mov	al, [bp+var_20E]
		xor	ah, ah
		mov	di, ax
		mov	[bp+di+var_200], dl
		dec	[bp+var_210]
		dec	[bp+var_20E]

loc_11C0C:				; CODE XREF: Form+321j
		cmp	[bp+var_203], 0
		jz	short loc_11C20
		mov	al, [bp+var_20E]
		xor	ah, ah
		mov	di, ax
		mov	[bp+di+var_200], 2Dh ; '-'

loc_11C20:				; CODE XREF: Form+2FCj	Form+340j
		mov	al, [bp+var_200]
		mov	[bp+var_211], al
		mov	ax, [bp+var_208]
		mov	[bp+var_216], ax
		mov	ax, [bp+var_20A]
		cmp	ax, [bp+var_216]
		jnb	short loc_11C3D
		jmp	loc_11D18
; ---------------------------------------------------------------------------

loc_11C3D:				; CODE XREF: Form+367j
		mov	[bp+var_214], ax
		jmp	short loc_11C47
; ---------------------------------------------------------------------------

loc_11C43:				; CODE XREF: Form+444j
		dec	[bp+var_214]

loc_11C47:				; CODE XREF: Form+370j	Form+405j
		mov	di, [bp+var_214]
		mov	al, [bp+di+var_100]
		cmp	al, 23h	; '#'
		jz	short loc_11C5F
		cmp	al, 40h	; '@'
		jz	short loc_11C5F
		cmp	al, 2Ah	; '*'
		jz	short loc_11C5F
		cmp	al, 24h	; '$'
		jnz	short loc_11CAF

loc_11C5F:				; CODE XREF: Form+380j	Form+384j ...
		cmp	[bp+var_211], 0
		jz	short loc_11C9A
		mov	al, [bp+var_211]
		xor	ah, ah
		mov	di, ax
		mov	al, [bp+di+var_200]
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], al
		dec	[bp+var_211]
		mov	al, [bp+var_211]
		xor	ah, ah
		mov	di, ax
		cmp	[bp+di+var_200], 2Eh ; '.'
		jnz	short loc_11C98
		cmp	[bp+var_211], 0
		jz	short loc_11C98
		dec	[bp+var_211]

loc_11C98:				; CODE XREF: Form+3BAj	Form+3C1j
		jmp	short loc_11CAD
; ---------------------------------------------------------------------------

loc_11C9A:				; CODE XREF: Form+393j
		mov	al, [bp+var_201]
		cbw
		mov	di, ax
		mov	al, [di+3AAh]
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], al

loc_11CAD:				; CODE XREF: Form:loc_11C98j
		jmp	short loc_11D0B
; ---------------------------------------------------------------------------

loc_11CAF:				; CODE XREF: Form+38Cj
		cmp	al, 2Ch	; ','
		jz	short loc_11CB7
		cmp	al, 2Eh	; '.'
		jnz	short loc_11CDB

loc_11CB7:				; CODE XREF: Form+3E0j
		mov	al, [bp+var_20B]
		xor	ah, ah
		cmp	ax, [bp+var_214]
		jbe	short loc_11CD9
		mov	al, [bp+var_211]
		cmp	al, [bp+var_20F]
		jnb	short loc_11CD9
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], 23h ; '#'
		jmp	loc_11C47
; ---------------------------------------------------------------------------

loc_11CD9:				; CODE XREF: Form+3F0j	Form+3FAj
		jmp	short loc_11D0B
; ---------------------------------------------------------------------------

loc_11CDB:				; CODE XREF: Form+3E4j
		cmp	al, 2Bh	; '+'
		jnz	short loc_11CF4
		mov	al, [bp+var_205]
		cbw
		mov	di, ax
		mov	al, [di+3A6h]
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], al
		jmp	short loc_11D0B
; ---------------------------------------------------------------------------

loc_11CF4:				; CODE XREF: Form+40Cj
		cmp	al, 2Dh	; '-'
		jnz	short loc_11D0B
		mov	al, [bp+var_205]
		cbw
		mov	di, ax
		mov	al, [di+3A8h]
		mov	di, [bp+var_214]
		mov	[bp+di+var_100], al

loc_11D0B:				; CODE XREF: Form:loc_11CADj
					; Form:loc_11CD9j ...
		mov	ax, [bp+var_214]
		cmp	ax, [bp+var_216]
		jz	short loc_11D18
		jmp	loc_11C43
; ---------------------------------------------------------------------------

loc_11D18:				; CODE XREF: Form+22j Form+BBj ...
		lea	di, [bp+var_100]
		push	ss
		push	di
		les	di, [bp+arg_A]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		leave
		retf	0Ah
Form		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Trim		proc far		; CODE XREF: ExecConsole+43P
					; ExecConsole+12DP ...

var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	102h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx

loc_11D4A:				; CODE XREF: Trim+35j
		cmp	[bp+var_100], 0
		jbe	short loc_11D66
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	di, ax
		cmp	[bp+di+var_100], 20h ; ' '
		ja	short loc_11D66
		dec	[bp+var_100]
		jmp	short loc_11D4A
; ---------------------------------------------------------------------------

loc_11D66:				; CODE XREF: Trim+20j Trim+2Fj
		mov	[bp+var_102], 1

loc_11D6C:				; CODE XREF: Trim+58j
		mov	al, [bp+var_100]
		xor	ah, ah
		cmp	ax, [bp+var_102]
		jb	short loc_11D89
		mov	di, [bp+var_102]
		cmp	[bp+di+var_100], 20h ; ' '
		ja	short loc_11D89
		inc	[bp+var_102]
		jmp	short loc_11D6C
; ---------------------------------------------------------------------------

loc_11D89:				; CODE XREF: Trim+47j Trim+52j
		dec	[bp+var_102]
		cmp	[bp+var_102], 0
		jbe	short loc_11DA5
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	1
		push	[bp+var_102]
		call	@Delete$qm6String7Integert2 ; Delete(var s: String; index: Integer; count: Integer)

loc_11DA5:				; CODE XREF: Trim+63j
		lea	di, [bp+var_100]
		push	ss
		push	di
		les	di, [bp+arg_4]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		leave
		retf	4
Trim		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

JustFilename	proc far		; CODE XREF: FOpen+137P TOpen+112P ...

var_202		= byte ptr -202h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	202h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	al, [bp+var_100]
		xor	ah, ah
		inc	ax
		mov	[bp+var_102], ax

loc_11DE2:				; CODE XREF: JustFilename+49j
		dec	[bp+var_102]
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		mov	ah, 1
		mov	dx, 20h	; ' '
		call	@Set@GetElemOffset$q4Wordt1 ; Compute Set offset and bitmask
					; AL - Element number
					; AH - mask
					; DX - Set params
		mov	di, dx
		test	[di+37Ch], al
		jnz	short loc_11E07
		cmp	[bp+var_102], 0
		jnz	short loc_11DE2

loc_11E07:				; CODE XREF: JustFilename+42j
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	ax, [bp+var_102]
		inc	ax
		push	ax
		push	40h ; '@'
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		les	di, [bp+arg_4]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		leave
		retf	4
JustFilename	endp

; ---------------------------------------------------------------------------
		db  9Ah	; š
		db  90h	; 
		db  41h	; A
		db  8Eh	; Ž
		db  41h	; A
		db  8Fh	; 
		db  80h	; €
		db  45h	; E
		db  45h	; E
		db  45h	; E
		db  49h	; I
		db  49h	; I
		db  49h	; I
		db  8Eh	; Ž
		db  8Fh	; 
		db  90h	; 
		db  92h	; ’
		db  92h	; ’
		db  4Fh	; O
		db  99h	; ™
		db  4Fh	; O
		db  55h	; U
		db  55h	; U
		db  59h	; Y
		db  99h	; ™
		db  9Ah	; š
		db  9Bh	; ›
		db  9Ch	; œ
		db  9Dh	; 
		db  9Eh	; ž
		db  9Fh	; Ÿ
		db  41h	; A
		db  49h	; I
		db  4Fh	; O
		db  55h	; U
		db 0A5h	; ¥
		db 0A5h	; ¥
		db  41h	; A
		db  4Fh	; O

; =============== S U B	R O U T	I N E =======================================


UpCasePrim	proc far		; CODE XREF: StUpcase-9p
					; DATA XREF: cseg02:2E4Ao
		cmp	al, 61h	; 'a'
		jb	short locret_11E66
		cmp	al, 0A7h ; '§'
		ja	short locret_11E66
		cmp	al, 7Ah	; 'z'
		ja	short loc_11E67
		sub	al, 20h	; ' '

locret_11E66:				; CODE XREF: UpCasePrim+2j
					; UpCasePrim+6j ...
		retf
; ---------------------------------------------------------------------------

loc_11E67:				; CODE XREF: UpCasePrim+Aj
		cmp	al, 81h	; ''
		jb	short locret_11E66
		sub	al, 81h	; ''
		mov	bx, 2E01h
		xlat	byte ptr cs:[bx]
		retf
UpCasePrim	endp

; ---------------------------------------------------------------------------
Upcase		db  8Bh	; ‹
		db 0DCh	; Ü
		db  36h	; 6
		db  8Ah	; Š
		db  47h	; G
		db    4
		db  9Ah	; š
		dd UpCasePrim
		db 0CAh	; Ê
		db    2
		db    0
		db  87h	; ‡
		db  81h	; 
		db  82h	; ‚
		db  83h	; ƒ
		db  84h	; „
		db  85h	; …
		db  86h	; †
		db  87h	; ‡
		db  88h	; ˆ
		db  89h	; ‰
		db  8Ah	; Š
		db  8Bh	; ‹
		db  8Ch	; Œ
		db  8Dh	; 
		db  84h	; „
		db  86h	; †
		db  82h	; ‚
		db  91h	; ‘
		db  91h	; ‘
		db  93h	; “
		db  94h	; ”
		db  95h	; •
		db  96h	; –
		db  97h	; —
		db  98h	; ˜
		db  94h	; ”
		db  81h	; 
		db  9Bh	; ›
		db  9Ch	; œ
		db  9Dh	; 
		db  9Eh	; ž
		db  9Fh	; Ÿ
		db 0A0h	;  
		db 0A1h	; ¡
		db 0A2h	; ¢
		db 0A3h	; £
		db 0A4h	; ¤
		db 0A4h	; ¤

; =============== S U B	R O U T	I N E =======================================


LoCasePrim	proc far		; CODE XREF: LoCase+6P
		cmp	al, 41h	; 'A'
		jb	short locret_11EB5
		cmp	al, 0A5h ; '¥'
		ja	short locret_11EB5
		cmp	al, 5Ah	; 'Z'
		ja	short loc_11EB6
		add	al, 20h	; ' '

locret_11EB5:				; CODE XREF: LoCasePrim+2j
					; LoCasePrim+6j ...
		retf
; ---------------------------------------------------------------------------

loc_11EB6:				; CODE XREF: LoCasePrim+Aj
		cmp	al, 80h	; '€'
		jb	short locret_11EB5
		sub	al, 80h	; '€'
		mov	bx, 2E51h
		xlat	byte ptr cs:[bx]
		retf
LoCasePrim	endp


; =============== S U B	R O U T	I N E =======================================


LoCase		proc far		; CODE XREF: ReadCommand+51P
					; ReadCommand__0+1FP
		mov	bx, sp
		mov	al, ss:[bx+4]
		call	LoCasePrim
		retf	2
LoCase		endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR StUpcase

loc_11ED0:				; CODE XREF: StUpcase+3j StLocase+3j
		mov	bx, sp
		push	ds
		cld
		lds	si, ss:[bx+4]
		les	di, ss:[bx+8]
		lodsb
		stosb
		xor	ch, ch
		mov	cl, al
		jcxz	short loc_11EEB

loc_11EE4:				; CODE XREF: StUpcase-6j
		lodsb
		push	cs
		call	dx ; UpCasePrim
		stosb
		loop	loc_11EE4

loc_11EEB:				; CODE XREF: StUpcase-Dj
		pop	ds
		retf	4
; END OF FUNCTION CHUNK	FOR StUpcase

; =============== S U B	R O U T	I N E =======================================


StUpcase	proc far		; CODE XREF: ExecConsole+48P
					; FOpen+13CP ...

; FUNCTION CHUNK AT 2EA0 SIZE 0000001F BYTES

		mov	dx, 2E28h
		jmp	short loc_11ED0
StUpcase	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


StLocase	proc far		; CODE XREF: PROGRAM+299P PROGRAM+69CP ...
		mov	dx, 2E77h
		jmp	short loc_11ED0
StLocase	endp

; ---------------------------------------------------------------------------
		align 8
cseg02		ends

; Segment Number    : 3
; Alloc	Size	    : 376Ah
; Offset in the	file: 15900h  Length: 376Ah
; Attributes  (1D10): CODE Moveable Relocations	Discardable DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg03		segment	para public 'CODE' use16
		assume cs:cseg03
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    3
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExecuteEvent	proc far		; CODE XREF: LoadServerPatch+776P
					; Demo_ReadNextQuant+35DP

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= byte ptr  0Eh
arg_A		= byte ptr  10h

		enter	4, 0
		mov	al, [bp+arg_A]
		cmp	al, 54h	; 'T'
		jnz	short loc_11F1E
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		push	[bp+arg_6]
		call	MakeTeleEffect
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11F1E:				; CODE XREF: ExecuteEvent+9j
		cmp	al, 41h	; 'A'
		jnz	short loc_11F35
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	0FFFFh
		call	AddAmmoBag
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11F35:				; CODE XREF: ExecuteEvent+1Ej
		cmp	al, 45h	; 'E'
		jnz	short loc_11F47
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		call	ExplodeMine
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11F47:				; CODE XREF: ExecuteEvent+35j
		cmp	al, 4Dh	; 'M'
		jnz	short loc_11F5B
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	0
		call	AddMine
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11F5B:				; CODE XREF: ExecuteEvent+47j
		cmp	al, 44h	; 'D'
		jnz	short loc_11F6D
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	RemoveAmmoBag
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11F6D:				; CODE XREF: ExecuteEvent+5Bj
		cmp	al, 21h	; '!'
		jnz	short loc_11F7F
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	Blow3dObjAt
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11F7F:				; CODE XREF: ExecuteEvent+6Dj
		cmp	al, 6Ch	; 'l'
		jnz	short loc_11F9D
		push	[bp+arg_4]
		push	[bp+arg_2]
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_0]
		call	_AddBlowLight
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11F9D:				; CODE XREF: ExecuteEvent+7Fj
		cmp	al, 61h	; 'a'
		jnz	short loc_11FB2
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		push	[bp+arg_6]
		call	StartProcess
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11FB2:				; CODE XREF: ExecuteEvent+9Dj
		cmp	al, 62h	; 'b'
		jnz	short loc_11FCF
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		push	5
		call	BlowSpark
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11FCF:				; CODE XREF: ExecuteEvent+B2j
		cmp	al, 73h	; 's'
		jnz	short loc_11FEC
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		push	1
		call	BlowSpark
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_11FEC:				; CODE XREF: ExecuteEvent+CFj
		cmp	al, 70h	; 'p'
		jnz	short loc_12026
		push	[bp+arg_4]
		push	[bp+arg_2]
		mov	al, byte ptr [bp+arg_0]
		xor	ah, ah
		push	ax
		mov	al, [bp+arg_8]
		xor	ah, ah
		cwd
		mov	cx, 3
		idiv	cx
		push	ax
		mov	al, [bp+arg_8]
		xor	ah, ah
		cwd
		mov	cx, 3
		idiv	cx
		xchg	ax, dx
		push	ax
		push	[bp+arg_6]
		mov	al, byte ptr [bp+arg_0+1]
		xor	ah, ah
		push	ax
		call	AddSepPart
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_12026:				; CODE XREF: ExecuteEvent+ECj
		cmp	al, 67h	; 'g'
		jnz	short loc_1203B
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	AddGreatBlow
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_1203B:				; CODE XREF: ExecuteEvent+126j
		cmp	al, 47h	; 'G'
		jnz	short loc_12050
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	AddSuperGreatBlow
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_12050:				; CODE XREF: ExecuteEvent+13Bj
		cmp	al, 58h	; 'X'
		jnz	short loc_1206E
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	ExplodeMonster
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_1206E:				; CODE XREF: ExecuteEvent+150j
		cmp	al, 78h	; 'x'
		jnz	short loc_120C2
		cmp	[bp+arg_4], 0FFFFh
		jz	short loc_1208A
		push	0FFFFh
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_6]
		call	AddVoice
		jmp	short loc_120BF
; ---------------------------------------------------------------------------

loc_1208A:				; CODE XREF: ExecuteEvent+174j
		mov	ax, [bp+arg_2]
		cmp	ax, MyNetN
		jnz	short loc_120A3
		push	0FFFFh
		push	0
		push	0
		push	[bp+arg_6]
		call	AddVoice
		jmp	short loc_120BF
; ---------------------------------------------------------------------------

loc_120A3:				; CODE XREF: ExecuteEvent+18Fj
		imul	di, [bp+arg_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		push	0FFFFh
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	[bp+arg_6]
		call	AddVoice

loc_120BF:				; CODE XREF: ExecuteEvent+186j
					; ExecuteEvent+19Fj
		jmp	locret_12175
; ---------------------------------------------------------------------------

loc_120C2:				; CODE XREF: ExecuteEvent+16Ej
		cmp	al, 6Bh	; 'k'
		jnz	short loc_12110
		cmp	PlayDemo, 0
		jz	short loc_120E6
		imul	ax, [bp+arg_2],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_4],	2C0h
		les	di, Map
		assume es:nothing
		add	di, ax
		add	di, dx
		mov	byte ptr es:[di], 0
		jmp	short loc_120FD
; ---------------------------------------------------------------------------

loc_120E6:				; CODE XREF: ExecuteEvent+1C9j
		imul	ax, [bp+arg_2],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_4],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	byte ptr es:[di], 7Ah ;	'z'

loc_120FD:				; CODE XREF: ExecuteEvent+1E2j
		mov	al, [bp+arg_8]
		xor	ah, ah
		cmp	ax, MyNetN
		jnz	short loc_1210E
		mov	GShadeDir, 1

loc_1210E:				; CODE XREF: ExecuteEvent+204j
		jmp	short locret_12175
; ---------------------------------------------------------------------------

loc_12110:				; CODE XREF: ExecuteEvent+1C2j
		cmp	al, 4Bh	; 'K'
		jnz	short loc_1212F
		mov	cl, [bp+arg_8]
		imul	ax, [bp+arg_2],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_4],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		jmp	short locret_12175
; ---------------------------------------------------------------------------

loc_1212F:				; CODE XREF: ExecuteEvent+210j
		cmp	al, 53h	; 'S'
		jnz	short loc_12163
		cmp	[bp+arg_8], 0
		jnz	short loc_12149
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	BlowSmoke
		jmp	short loc_12161
; ---------------------------------------------------------------------------

loc_12149:				; CODE XREF: ExecuteEvent+235j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		cmp	[bp+arg_6], 1
		mov	al, 0
		jnz	short loc_1215B
		inc	ax

loc_1215B:				; CODE XREF: ExecuteEvent+256j
		push	ax
		call	BlowShootSmoke

loc_12161:				; CODE XREF: ExecuteEvent+245j
		jmp	short locret_12175
; ---------------------------------------------------------------------------

loc_12163:				; CODE XREF: ExecuteEvent+22Fj
		cmp	al, 6Dh	; 'm'
		jnz	short locret_12175
		mov	al, [bp+arg_8]
		xor	ah, ah
		push	ax
		push	[bp+arg_6]
		call	SetProcMessage

locret_12175:				; CODE XREF: ExecuteEvent+19j
					; ExecuteEvent+30j ...
		leave
		retf	0Ch
ExecuteEvent	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Init_DemoSystem	proc near		; CODE XREF: StartDemo+4p
		push	bp
		mov	bp, sp
		cmp	MemoActive, 0
		jnz	short loc_12199
		mov	di, offset DemoPtr
		push	ds
		push	di
		push	0F000h
		call	GetMem16
		les	di, DemoPtr
		mov	ax, es
		mov	DmSeg, ax

loc_12199:				; CODE XREF: Init_DemoSystem+8j
		mov	MemoActive, 1
		leave
		retn
Init_DemoSystem	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DeInit_DemoSystem proc far		; CODE XREF: DoGame+19C3P
		push	bp
		mov	bp, sp
		cmp	MemoActive, 0
		jz	short loc_121B7
		mov	di, offset DemoPtr
		push	ds
		push	di
		push	0F000h
		call	FreeMem16

loc_121B7:				; CODE XREF: DeInit_DemoSystem+8j
		xor	ax, ax
		mov	DemoOfs, ax
		mov	MemoActive, 0
		mov	di, offset F
		push	ds
		push	di
		call	@Close$qm4File	; Close(var f: File)
		call	@IOResult$qv	; IOResult: Word{AX}
		or	ax, ax
		jz	short $+2
		leave
		retf
DeInit_DemoSystem endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

EndDemo		proc far		; CODE XREF: ExecConsole:loc_8EBAP
		push	bp
		mov	bp, sp
		mov	ax, takt
		dec	ax
		mov	DemoTakts, ax
		cmp	RecordDemo, 0
		jz	short locret_12241
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset DemoOfs
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, DemoPtr
		push	es
		push	di
		push	DemoOfs
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	0
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset DemoTakts
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose

locret_12241:				; CODE XREF: EndDemo+Fj
		leave
		retf
EndDemo		endp

; ---------------------------------------------------------------------------
a@_3		db 2,'@#'               ; DATA XREF: StartDemo+3Ao
					; StartDemo+A0o
aChasmdatChasm_	db 16,'CHASMDAT\CHASM.R' ; DATA XREF: StartDemo+2Ao
aChasm_r	db 7,'chasm.r'          ; DATA XREF: StartDemo+90o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StartDemo	proc far		; CODE XREF: DoGame:loc_C456P

var_200		= byte ptr -200h
var_100		= byte ptr -100h

		enter	200h, 0
		call	Init_DemoSystem
		mov	word ptr RandSeed, 5456h
		mov	word ptr RandSeed+2, 34h ; '4'
		xor	ax, ax
		mov	DTakt, ax
		cmp	RecordDemo, 0
		jz	short loc_122DA
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aChasmdatChasm_ ; "CHASMDAT\\CHASM.R"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset a@_3	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		mov	di, offset F
		push	ds
		push	di
		push	1
		call	@Rewrite$qm4File4Word ;	Rewrite(var f: File; recsize: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset w
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)

loc_122DA:				; CODE XREF: StartDemo+1Dj
		cmp	PlayDemo, 0
		jnz	short loc_122E4
		jmp	locret_12366
; ---------------------------------------------------------------------------

loc_122E4:				; CODE XREF: StartDemo+80j
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aChasm_r ; "chasm.r"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset a@_3	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset DemoTakts
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset DBlockSize
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, DemoPtr
		push	es
		push	di
		push	DBlockSize
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		xor	ax, ax
		mov	DemoOfs, ax

locret_12366:				; CODE XREF: StartDemo+82j
		leave
		retf
StartDemo	endp

; ---------------------------------------------------------------------------
a@_4		db 2,'@#'               ; DATA XREF: GetNextDemoNumber+33o
					; GetNextDemoNumber+73o
aChasm_r_0	db 7,'chasm.r'          ; DATA XREF: GetNextDemoNumber+23o
					; GetNextDemoNumber+63o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetNextDemoNumber proc far		; CODE XREF: ExecConsole+B88P
					; PROGRAM+D18P	...

var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_2		= word ptr -2

		enter	202h, 0
		xor	ax, ax
		mov	[bp+var_2], ax

loc_1237C:				; CODE XREF: GetNextDemoNumber+5Bj
		inc	LevelN
		cmp	LevelN,	40h ; '@'
		jle	short loc_1238D
		mov	LevelN,	1

loc_1238D:				; CODE XREF: GetNextDemoNumber+12j
		inc	[bp+var_2]
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset aChasm_r_0 ;	"chasm.r"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset a@_4	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FExistFile
		or	al, al
		jnz	short loc_123D0
		cmp	[bp+var_2], 40h	; '@'
		jle	short loc_1237C

loc_123D0:				; CODE XREF: GetNextDemoNumber+55j
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset aChasm_r_0 ;	"chasm.r"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset a@_4	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FExistFile
		or	al, al
		jnz	short locret_12415
		mov	PlayDemo, 0
		mov	LevelN,	1

locret_12415:				; CODE XREF: GetNextDemoNumber+95j
		leave
		retf
GetNextDemoNumber endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Demo_RecordNext	proc far		; CODE XREF: DoGame+1921P

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ch, 0
		mov	dx, demotime
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	es:[di], dx
		add	DemoOfs, 2
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	ax, di
		mov	dx, es
		mov	word ptr PPS, ax
		mov	word ptr PPS+2,	dx
		les	di, PPS
		mov	word ptr [bp+var_8+2], di
		mov	[bp+var_4], es
		mov	ax, word_45284
		mov	es:[di], ax
		mov	ax, word_45286
		mov	es:[di+2], ax
		mov	ax, word_45298
		mov	es:[di+8], ax
		mov	ax, ehz
		mov	es:[di+0Ch], ax
		mov	ax, LookVz
		mov	es:[di+0Eh], ax
		mov	ax, word_452A4
		and	ax, 0FFh
		mov	es:[di+0Ah], ax
		mov	al, byte ptr word_452C2
		mov	es:[di+4], al
		mov	di, word_452C2
		mov	al, [di-0FA9h]
		les	di, [bp+var_8+2]
		mov	es:[di+5], al
		mov	al, byte_452A1
		mov	es:[di+7], al
		mov	al, byte ptr word_452A2
		mov	es:[di+6], al
		add	DemoOfs, 10h
		mov	dl, byte ptr RCount
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	es:[di], dl
		inc	DemoOfs
		mov	ax, RCount
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jle	short loc_124C8
		jmp	loc_12578
; ---------------------------------------------------------------------------

loc_124C8:				; CODE XREF: Demo_RecordNext+ACj
		mov	n__0, ax
		jmp	short loc_124D1
; ---------------------------------------------------------------------------

loc_124CD:				; CODE XREF: Demo_RecordNext+15Ej
		inc	n__0

loc_124D1:				; CODE XREF: Demo_RecordNext+B4j
		imul	di, n__0, 18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	dx, es:[di+2]
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 0
		mov	di, ax
		pop	es
		assume es:nothing
		mov	es:[di], dx
		les	di, [bp+var_8]
		mov	dx, es:[di+6]
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		inc	ax
		inc	ax
		mov	di, ax
		pop	es
		mov	es:[di], dx
		les	di, [bp+var_8]
		mov	dx, es:[di+8]
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 4
		mov	di, ax
		pop	es
		mov	es:[di], dx
		les	di, [bp+var_8]
		mov	dx, es:[di+0Ah]
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 6
		mov	di, ax
		pop	es
		mov	es:[di], dx
		les	di, [bp+var_8]
		mov	dl, es:[di+0Ch]
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 8
		mov	di, ax
		pop	es
		mov	es:[di], dl
		les	di, [bp+var_8]
		mov	dl, es:[di+0Dh]
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 9
		mov	di, ax
		pop	es
		mov	es:[di], dl
		add	DemoOfs, 0Ah
		mov	ax, n__0
		cmp	ax, [bp+var_4]
		jz	short loc_12578
		jmp	loc_124CD
; ---------------------------------------------------------------------------

loc_12578:				; CODE XREF: Demo_RecordNext+AEj
					; Demo_RecordNext+15Cj
		mov	ax, DemoOfs
		mov	[bp+var_2], ax
		mov	ax, DmSeg
		push	ax
		mov	di, [bp+var_2]
		pop	es
		mov	byte ptr es:[di], 0
		inc	DemoOfs
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_12599
; ---------------------------------------------------------------------------

loc_12595:				; CODE XREF: Demo_RecordNext+1CAj
		inc	n__0

loc_12599:				; CODE XREF: Demo_RecordNext+17Cj
		imul	di, n__0, 0Ah
		cmp	byte ptr [di-5B62h], 0
		jz	short loc_125DC
		imul	di, n__0, 0Ah
		add	di, 0A49Eh
		push	ds
		push	di
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		push	es
		push	di
		push	0Ah
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		add	DemoOfs, 0Ah
		imul	di, n__0, 0Ah
		mov	byte ptr [di-5B62h], 0
		mov	ax, DmSeg
		push	ax
		mov	di, [bp+var_2]
		pop	es
		inc	byte ptr es:[di]

loc_125DC:				; CODE XREF: Demo_RecordNext+18Cj
		cmp	n__0, 0Fh
		jnz	short loc_12595
		mov	ax, DemoOfs
		mov	[bp+var_2], ax
		mov	ax, DmSeg
		push	ax
		mov	di, [bp+var_2]
		pop	es
		mov	byte ptr es:[di], 0
		inc	DemoOfs
		mov	ax, MCount
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jle	short loc_1260A
		jmp	loc_126BE
; ---------------------------------------------------------------------------

loc_1260A:				; CODE XREF: Demo_RecordNext+1EEj
		mov	n__0, ax
		jmp	short loc_12613
; ---------------------------------------------------------------------------

loc_1260F:				; CODE XREF: Demo_RecordNext+2A4j
		inc	n__0

loc_12613:				; CODE XREF: Demo_RecordNext+1F6j
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		les	di, [bp+var_8]
		assume es:nothing
		cmp	byte ptr es:[di+26h], 0
		jz	short loc_126B3
		cmp	byte ptr es:[di+26h], 5
		jnz	short loc_12672
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_C]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_8]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jl	short loc_12672
		jg	short loc_126B3
		cmp	ax, cx
		jnb	short loc_126B3

loc_12672:				; CODE XREF: Demo_RecordNext+232j
					; Demo_RecordNext+253j
		mov	ax, DmSeg
		push	ax
		mov	di, [bp+var_2]
		pop	es
		inc	byte ptr es:[di]
		mov	dl, byte ptr n__0
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	es:[di], dl
		inc	DemoOfs
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		push	di
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		push	es
		push	di
		push	0Ch
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		add	DemoOfs, 0Ch

loc_126B3:				; CODE XREF: Demo_RecordNext+22Bj
					; Demo_RecordNext+255j	...
		mov	ax, n__0
		cmp	ax, [bp+var_4]
		jz	short loc_126BE
		jmp	loc_1260F
; ---------------------------------------------------------------------------

loc_126BE:				; CODE XREF: Demo_RecordNext+1F0j
					; Demo_RecordNext+2A2j
		cmp	DemoOfs, 3E80h
		jbe	short locret_126F8
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset DemoOfs
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, DemoPtr
		push	es
		push	di
		push	DemoOfs
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		xor	ax, ax
		mov	DemoOfs, ax

locret_126F8:				; CODE XREF: Demo_RecordNext+2ADj
		leave
		retf
Demo_RecordNext	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Demo_ReadNextQuant proc	near		; CODE XREF: Demo_ReadNext:loc_12EDDp

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		mov	ax, DTakt
		add	ax, 8
		cmp	ax, DemoTakts
		jb	short loc_12718
		mov	MenuCode, 4
		call	GetNextDemoNumber
		jmp	locret_12C07
; ---------------------------------------------------------------------------

loc_12718:				; CODE XREF: Demo_ReadNextQuant+Ej
		cmp	takt, 0
		jnz	short loc_12732
		mov	ax, DmSeg
		push	ax
		xor	di, di
		pop	es
		mov	ax, es:[di]
		xor	dx, dx
		mov	RealTime, ax
		mov	word_44D7C, dx

loc_12732:				; CODE XREF: Demo_ReadNextQuant+23j
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	ax, es:[di]
		xor	dx, dx
		mov	demotime, ax
		mov	word_3688A, dx

loc_12747:				; CODE XREF: Demo_ReadNextQuant:loc_1275Cj
		mov	ax, RealTime
		mov	dx, word_44D7C
		cmp	dx, word_3688A
		jl	short loc_1275C
		jg	short loc_1275E
		cmp	ax, demotime
		jnb	short loc_1275E

loc_1275C:				; CODE XREF: Demo_ReadNextQuant+58j
		jmp	short loc_12747
; ---------------------------------------------------------------------------

loc_1275E:				; CODE XREF: Demo_ReadNextQuant+5Aj
					; Demo_ReadNextQuant+60j
		add	DemoOfs, 2
		inc	DTakt
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	ax, di
		mov	dx, es
		mov	word ptr PPS, ax
		mov	word ptr PPS+2,	dx
		les	di, PPS
		mov	word ptr [bp+var_8+2], di
		mov	[bp+var_4], es
		mov	ax, es:[di]
		mov	word_45284, ax
		mov	ax, es:[di+2]
		mov	word_45286, ax
		mov	ax, es:[di+8]
		mov	word_45298, ax
		mov	ax, es:[di+0Ch]
		mov	word_452B6, ax
		mov	ax, word_452B6
		sub	ax, 600h
		mov	word_45288, ax
		mov	ax, es:[di+0Eh]
		mov	LookVz,	ax
		mov	ax, word_452A4
		cmp	ax, es:[di+0Ah]
		jz	short loc_127C6
		mov	GShadeDir, 1
		mov	ax, es:[di+0Ah]
		mov	word_452A4, ax

loc_127C6:				; CODE XREF: Demo_ReadNextQuant+BDj
		les	di, [bp+var_8+2]
		mov	al, es:[di+4]
		xor	ah, ah
		cmp	ax, word_452C2
		jz	short loc_127E7
		xor	ax, ax
		mov	WeaponFTime, ax
		xor	ax, ax
		mov	WeaponPhase, ax
		mov	GunShift, 1
		jmp	short loc_12816
; ---------------------------------------------------------------------------

loc_127E7:				; CODE XREF: Demo_ReadNextQuant+D9j
		mov	di, word_452C2
		mov	al, [di-0FA9h]
		les	di, [bp+var_8+2]
		cmp	al, es:[di+5]
		jnb	short loc_12800
		mov	GShadeDir, 1
		jmp	short loc_12816
; ---------------------------------------------------------------------------

loc_12800:				; CODE XREF: Demo_ReadNextQuant+FCj
		mov	di, word_452C2
		mov	al, [di-0FA9h]
		les	di, [bp+var_8+2]
		cmp	al, es:[di+5]
		jbe	short loc_12816
		mov	WeaponActive, 1

loc_12816:				; CODE XREF: Demo_ReadNextQuant+EBj
					; Demo_ReadNextQuant+104j ...
		les	di, [bp+var_8+2]
		mov	al, es:[di+6]
		xor	ah, ah
		cmp	ax, word_452A2
		jge	short loc_12833
		mov	al, es:[di+6]
		xor	ah, ah
		push	ax
		call	SetMePain
		jmp	short loc_12848
; ---------------------------------------------------------------------------

loc_12833:				; CODE XREF: Demo_ReadNextQuant+129j
		les	di, [bp+var_8+2]
		mov	al, es:[di+6]
		xor	ah, ah
		cmp	ax, word_452A2
		jle	short loc_12848
		mov	GShadeDir, 1

loc_12848:				; CODE XREF: Demo_ReadNextQuant+137j
					; Demo_ReadNextQuant+146j
		les	di, [bp+var_8+2]
		mov	al, es:[di+7]
		cmp	al, byte_452A1
		jbe	short loc_1285B
		mov	GShadeDir, 1

loc_1285B:				; CODE XREF: Demo_ReadNextQuant+159j
		les	di, [bp+var_8+2]
		mov	al, es:[di+4]
		xor	ah, ah
		mov	word_452C2, ax
		mov	al, es:[di+5]
		mov	di, word_452C2
		mov	[di-0FA9h], al
		les	di, [bp+var_8+2]
		mov	al, es:[di+6]
		xor	ah, ah
		mov	word_452A2, ax
		mov	al, es:[di+7]
		mov	byte_452A1, al
		add	DemoOfs, 10h
		mov	ax, word_45298
		mov	HFi, ax
		mov	ax, word_45284
		mov	Hx, ax
		mov	ax, word_45286
		mov	Hy, ax
		push	0
		call	CalcDir
		call	ReInitViewConst
		mov	ax, _LookVz
		cwd
		mov	cx, 4
		idiv	cx
		mov	dx, ax
		mov	ax, word_452B6
		sub	ax, dx
		mov	Hz, ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	cx, 0C8h ; 'È'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 88h	; 'ˆ'
		xor	si, si
		mov	di, 4800h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 86h	; '†'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, Hz
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	Hz, ax
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	al, es:[di]
		xor	ah, ah
		mov	RCount,	ax
		inc	DemoOfs
		mov	ax, RCount
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jle	short loc_12949
		jmp	loc_129FC
; ---------------------------------------------------------------------------

loc_12949:				; CODE XREF: Demo_ReadNextQuant+24Aj
		mov	n__0, ax
		jmp	short loc_12952
; ---------------------------------------------------------------------------

loc_1294E:				; CODE XREF: Demo_ReadNextQuant+2FFj
		inc	n__0

loc_12952:				; CODE XREF: Demo_ReadNextQuant+252j
		imul	di, n__0, 18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 0
		mov	di, ax
		pop	es
		assume es:nothing
		mov	ax, es:[di]
		les	di, [bp+var_8]
		mov	es:[di+2], ax
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		inc	ax
		inc	ax
		mov	di, ax
		pop	es
		mov	ax, es:[di]
		les	di, [bp+var_8]
		mov	es:[di+6], ax
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 4
		mov	di, ax
		pop	es
		mov	ax, es:[di]
		les	di, [bp+var_8]
		mov	es:[di+8], ax
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 6
		mov	di, ax
		pop	es
		mov	ax, es:[di]
		les	di, [bp+var_8]
		mov	es:[di+0Ah], ax
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 8
		mov	di, ax
		pop	es
		mov	al, es:[di]
		les	di, [bp+var_8]
		mov	es:[di+0Ch], al
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		add	ax, 9
		mov	di, ax
		pop	es
		mov	al, es:[di]
		les	di, [bp+var_8]
		mov	es:[di+0Dh], al
		add	DemoOfs, 0Ah
		mov	ax, n__0
		cmp	ax, [bp+var_4]
		jz	short loc_129FC
		jmp	loc_1294E
; ---------------------------------------------------------------------------

loc_129FC:				; CODE XREF: Demo_ReadNextQuant+24Cj
					; Demo_ReadNextQuant+2FDj
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_2], ax
		inc	DemoOfs
		mov	ax, [bp+var_2]
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jg	short loc_12A69
		mov	n__0, ax
		jmp	short loc_12A28
; ---------------------------------------------------------------------------

loc_12A24:				; CODE XREF: Demo_ReadNextQuant+36Dj
		inc	n__0

loc_12A28:				; CODE XREF: Demo_ReadNextQuant+328j
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		push	es
		push	di
		mov	di, offset DEvent
		push	ds
		push	di
		push	0Ah
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	al, DEvent
		push	ax
		mov	al, byte_368A1
		push	ax
		push	word_368A2
		push	word_368A4
		push	word_368A6
		push	word_368A8
		call	ExecuteEvent
		add	DemoOfs, 0Ah
		mov	ax, n__0
		cmp	ax, [bp+var_4]
		jnz	short loc_12A24

loc_12A69:				; CODE XREF: Demo_ReadNextQuant+323j
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_2], ax
		inc	DemoOfs
		mov	ax, [bp+var_2]
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jle	short loc_12A8F
		jmp	loc_12BCC
; ---------------------------------------------------------------------------

loc_12A8F:				; CODE XREF: Demo_ReadNextQuant+390j
		mov	n__0, ax
		jmp	short loc_12A98
; ---------------------------------------------------------------------------

loc_12A94:				; CODE XREF: Demo_ReadNextQuant+4CFj
		inc	n__0

loc_12A98:				; CODE XREF: Demo_ReadNextQuant+398j
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	al, es:[di]
		xor	ah, ah
		mov	j, ax
		inc	DemoOfs
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		push	es
		push	di
		mov	di, offset M
		push	ds
		push	di
		push	0Ch
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		cmp	byte_368B5, 0FFh
		jnz	short loc_12ACE
		jmp	loc_12B89
; ---------------------------------------------------------------------------

loc_12ACE:				; CODE XREF: Demo_ReadNextQuant+3CFj
		cmp	word_368B2, 0Ah
		jnz	short loc_12AFF
		imul	di, j, 28h
		cmp	word ptr [di-5ADAh], 0Ah
		jz	short loc_12AFF
		push	0FFFFh
		push	M
		push	word_368AC
		mov	al, byte_368B4
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0BCh ; '¼'
		push	ax
		call	AddVoice
		jmp	loc_12B89
; ---------------------------------------------------------------------------

loc_12AFF:				; CODE XREF: Demo_ReadNextQuant+3D9j
					; Demo_ReadNextQuant+3E5j
		cmp	word_368B2, 10h
		jl	short loc_12B2F
		imul	di, j, 28h
		cmp	word ptr [di-5ADAh], 10h
		jge	short loc_12B2F
		push	0FFFFh
		push	M
		push	word_368AC
		mov	al, byte_368B4
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0E8h ; 'è'
		push	ax
		call	AddVoice
		jmp	short loc_12B89
; ---------------------------------------------------------------------------

loc_12B2F:				; CODE XREF: Demo_ReadNextQuant+40Aj
					; Demo_ReadNextQuant+416j
		imul	di, j, 28h
		mov	al, [di-5AD7h]
		and	al, 7
		mov	dl, al
		mov	al, byte_368B5
		and	al, 7
		cmp	al, dl
		jz	short loc_12B62
		push	0FFFFh
		push	M
		push	word_368AC
		mov	al, byte_368B4
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0D2h ; 'Ò'
		push	ax
		call	AddVoice
		jmp	short loc_12B89
; ---------------------------------------------------------------------------

loc_12B62:				; CODE XREF: Demo_ReadNextQuant+449j
		imul	di, j, 28h
		cmp	byte ptr [di-5ABCh], 0
		jnz	short loc_12B89
		push	0FFFFh
		push	M
		push	word_368AC
		mov	al, byte_368B4
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 64h	; 'd'
		push	ax
		call	AddVoice

loc_12B89:				; CODE XREF: Demo_ReadNextQuant+3D1j
					; Demo_ReadNextQuant+402j ...
		mov	di, offset M
		push	ds
		push	di
		imul	di, j, 28h
		add	di, 0A51Eh
		push	ds
		push	di
		push	0Ch
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		cmp	word_368B2, 10h
		jl	short loc_12BB2
		imul	di, j, 28h
		xor	ax, ax
		mov	[di-5AD0h], ax

loc_12BB2:				; CODE XREF: Demo_ReadNextQuant+4ABj
		imul	di, j, 28h
		mov	byte ptr [di-5ABCh], 1
		add	DemoOfs, 0Ch
		mov	ax, n__0
		cmp	ax, [bp+var_4]
		jz	short loc_12BCC
		jmp	loc_12A94
; ---------------------------------------------------------------------------

loc_12BCC:				; CODE XREF: Demo_ReadNextQuant+392j
					; Demo_ReadNextQuant+4CDj
		mov	ax, DemoOfs
		cmp	ax, DBlockSize
		jb	short locret_12C07
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset DBlockSize
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, DemoPtr
		push	es
		push	di
		push	DBlockSize
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		xor	ax, ax
		mov	DemoOfs, ax

locret_12C07:				; CODE XREF: Demo_ReadNextQuant+1Bj
					; Demo_ReadNextQuant+4D9j
		leave
		retn
Demo_ReadNextQuant endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CorrectPlayerPos proc near		; CODE XREF: Demo_ReadNext+30p

var_E		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Eh, 0
		mov	[bp+var_2], 1

loc_12C12:				; CODE XREF: CorrectPlayerPos+40j
					; CorrectPlayerPos+62j
		mov	ax, MnCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		cmp	dx, bx
		jl	short loc_12C29
		jg	short loc_12C6D
		cmp	ax, cx
		ja	short loc_12C6D

loc_12C29:				; CODE XREF: CorrectPlayerPos+18j
		imul	di, [bp+var_2],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E+2], di
		mov	[bp+var_A], es
		cmp	word ptr es:[di+4], 418h
		jle	short loc_12C4B
		push	[bp+var_2]
		call	ExplodeMine
		jmp	short loc_12C12
; ---------------------------------------------------------------------------

loc_12C4B:				; CODE XREF: CorrectPlayerPos+36j
		les	di, [bp+var_E+2]
		assume es:nothing
		cmp	word ptr es:[di+4], 118h
		jl	short loc_12C5E
		cmp	word ptr es:[di+4], 400h
		jl	short loc_12C68

loc_12C5E:				; CODE XREF: CorrectPlayerPos+4Bj
		mov	ax, t1
		les	di, [bp+var_E+2]
		add	es:[di+4], ax

loc_12C68:				; CODE XREF: CorrectPlayerPos+53j
		inc	[bp+var_2]
		jmp	short loc_12C12
; ---------------------------------------------------------------------------

loc_12C6D:				; CODE XREF: CorrectPlayerPos+1Aj
					; CorrectPlayerPos+1Ej
		cmp	Spline,	0
		jnz	short loc_12C77
		jmp	locret_12ED8
; ---------------------------------------------------------------------------

loc_12C77:				; CODE XREF: CorrectPlayerPos+69j
		mov	ax, MCount
		mov	[bp+var_A], ax
		mov	ax, 1
		cmp	ax, [bp+var_A]
		jle	short loc_12C88
		jmp	loc_12D4E
; ---------------------------------------------------------------------------

loc_12C88:				; CODE XREF: CorrectPlayerPos+7Aj
		mov	[bp+var_2], ax
		jmp	short loc_12C90
; ---------------------------------------------------------------------------

loc_12C8D:				; CODE XREF: CorrectPlayerPos+142j
		inc	[bp+var_2]

loc_12C90:				; CODE XREF: CorrectPlayerPos+82j
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		cmp	word ptr es:[di+8], 10h
		jz	short loc_12CB1
		cmp	word ptr es:[di+8], 11h
		jz	short loc_12CB1
		jmp	loc_12D43
; ---------------------------------------------------------------------------

loc_12CB1:				; CODE XREF: CorrectPlayerPos+9Cj
					; CorrectPlayerPos+A3j
		les	di, [bp+var_E]
		assume es:nothing
		mov	ax, es:[di+8]
		shl	ax, 1
		mov	dx, ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, dx
		mov	ax, [di-7FD8h]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_E]
		mov	ax, es:[di+6]
		add	ax, 8
		cwd
		cmp	dx, bx
		jg	short loc_12CE7
		jl	short loc_12D43
		cmp	ax, cx
		jbe	short loc_12D43

loc_12CE7:				; CODE XREF: CorrectPlayerPos+D6j
		mov	ax, t1
		les	di, [bp+var_E]
		add	es:[di+6], ax
		mov	ax, es:[di+8]
		shl	ax, 1
		mov	dx, ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, dx
		mov	ax, [di-7FD8h]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_E]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_12D21
		jl	short loc_12D43
		cmp	ax, cx
		jbe	short loc_12D43

loc_12D21:				; CODE XREF: CorrectPlayerPos+110j
		les	di, [bp+var_E]
		mov	ax, es:[di+8]
		shl	ax, 1
		mov	dx, ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, dx
		mov	ax, [di-7FD8h]
		les	di, [bp+var_E]
		mov	es:[di+6], ax

loc_12D43:				; CODE XREF: CorrectPlayerPos+A5j
					; CorrectPlayerPos+D8j	...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jz	short loc_12D4E
		jmp	loc_12C8D
; ---------------------------------------------------------------------------

loc_12D4E:				; CODE XREF: CorrectPlayerPos+7Cj
					; CorrectPlayerPos+140j
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	ax, es:[di]
		xor	dx, dx
		sub	ax, demotime
		sbb	dx, word_3688A
		mov	[bp+var_8], ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		sub	ax, demotime
		sbb	dx, word_3688A
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jg	short loc_12D82
		jmp	locret_12ED8
; ---------------------------------------------------------------------------

loc_12D82:				; CODE XREF: CorrectPlayerPos+174j
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_8]
		jle	short loc_12D90
		mov	ax, [bp+var_8]
		mov	[bp+var_6], ax

loc_12D90:				; CODE XREF: CorrectPlayerPos+17Fj
		mov	ax, DmSeg
		push	ax
		mov	ax, DemoOfs
		inc	ax
		inc	ax
		mov	di, ax
		pop	es
		mov	ax, di
		mov	dx, es
		mov	word ptr PPS, ax
		mov	word ptr PPS+2,	dx
		les	di, PPS
		mov	word ptr [bp+var_E+2], di
		mov	[bp+var_A], es
		mov	ax, es:[di]
		sub	ax, word_45284
		mul	[bp+var_6]
		cwd
		idiv	[bp+var_8]
		add	word_45284, ax
		mov	ax, es:[di+2]
		sub	ax, word_45286
		mul	[bp+var_6]
		cwd
		idiv	[bp+var_8]
		add	word_45286, ax
		mov	ax, es:[di+8]
		mov	[bp+var_4], ax
		mov	ax, word_45298
		sub	[bp+var_4], ax
		mov	ax, [bp+var_4]
		mul	[bp+var_6]
		cwd
		idiv	[bp+var_8]
		add	word_45298, ax
		mov	ax, [bp+var_8]
		cwd
		push	dx
		push	ax
		mov	ax, word_452B6
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+0Ch]
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	word_452B6, ax
		mov	ax, word_452B6
		sub	ax, 600h
		mov	word_45288, ax
		les	di, [bp+var_E+2]
		mov	ax, es:[di+0Eh]
		sub	ax, LookVz
		mul	[bp+var_6]
		cwd
		idiv	[bp+var_8]
		add	LookVz,	ax
		mov	ax, word_45298
		mov	HFi, ax
		mov	ax, word_45284
		mov	Hx, ax
		mov	ax, word_45286
		mov	Hy, ax
		push	0
		call	CalcDir
		call	ReInitViewConst
		mov	ax, _LookVz
		cwd
		mov	cx, 4
		idiv	cx
		mov	dx, ax
		mov	ax, word_452B6
		sub	ax, dx
		mov	Hz, ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	cx, 0C8h ; 'È'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 88h	; 'ˆ'
		xor	si, si
		mov	di, 4800h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 86h	; '†'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, Hz
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	Hz, ax

locret_12ED8:				; CODE XREF: CorrectPlayerPos+6Bj
					; CorrectPlayerPos+176j
		leave
		retn
CorrectPlayerPos endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Demo_ReadNext	proc far		; CODE XREF: DoGame+3D5P
		push	bp
		mov	bp, sp

loc_12EDD:				; CODE XREF: Demo_ReadNext+27j
		call	Demo_ReadNextQuant
		mov	ax, DmSeg
		push	ax
		mov	di, DemoOfs
		pop	es
		mov	ax, es:[di]
		xor	dx, dx
		cmp	dx, word_44D7C
		jg	short loc_12F03
		jl	short loc_12EFC
		cmp	ax, RealTime
		ja	short loc_12F03

loc_12EFC:				; CODE XREF: Demo_ReadNext+1Aj
		cmp	MenuCode, 0
		jbe	short loc_12EDD

loc_12F03:				; CODE XREF: Demo_ReadNext+18j
					; Demo_ReadNext+20j
		cmp	MenuCode, 0
		jnz	short locret_12F0D
		call	CorrectPlayerPos

locret_12F0D:				; CODE XREF: Demo_ReadNext+2Ej
		leave
		retf
Demo_ReadNext	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo		proc near		; CODE XREF: Rocket_WallCheck+112p
					; Rocket_WallCheck+15Cp

var_12		= byte ptr -12h
var_C		= word ptr -0Ch
var_9		= word ptr -9
var_7		= word ptr -7
var_5		= word ptr -5
var_3		= word ptr -3
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		enter	0Ch, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_C]
		lds	si, [bp+arg_4]
		mov	cx, 0Bh
		rep movsb
		mov	ds, bx
		mov	ax, [bp+var_5]
		sub	ax, [bp+var_9]
		mov	LWx, ax
		mov	ax, [bp+var_3]
		sub	ax, [bp+var_7]
		mov	LWy, ax
		mov	ax, LWx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLwx, ax
		mov	ax, LWy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLWy, ax
		mov	ax, aLwx
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_9]
		add	ax, [bp+var_5]
		shr	ax, 1
		mov	dx, ax
		mov	ax, rrx
		neg	ax
		add	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_12F78
		mov	Ry, 400h
		jmp	short loc_12FA7
; ---------------------------------------------------------------------------

loc_12F78:				; CODE XREF: TryToGo+5Fj
		cmp	LWy, 0
		jnz	short loc_12F8B
		mov	ax, [bp+var_7]
		sub	ax, rry
		mov	Ry, ax
		jmp	short loc_12FA7
; ---------------------------------------------------------------------------

loc_12F8B:				; CODE XREF: TryToGo+6Ej
		mov	ax, rrx
		sub	ax, [bp+var_9]
		mov	bx, LWy
		imul	bx
		mov	bx, LWx
		idiv	bx
		add	ax, [bp+var_7]
		sub	ax, rry
		mov	Ry, ax

loc_12FA7:				; CODE XREF: TryToGo+67j TryToGo+7Aj
		mov	ax, aLWy
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_7]
		add	ax, [bp+var_3]
		shr	ax, 1
		mov	dx, ax
		mov	ax, rry
		neg	ax
		add	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_12FD0
		mov	Rx, 400h
		jmp	short loc_12FFF
; ---------------------------------------------------------------------------

loc_12FD0:				; CODE XREF: TryToGo+B7j
		cmp	LWx, 0
		jnz	short loc_12FE3
		mov	ax, [bp+var_9]
		sub	ax, rrx
		mov	Rx, ax
		jmp	short loc_12FFF
; ---------------------------------------------------------------------------

loc_12FE3:				; CODE XREF: TryToGo+C6j
		mov	ax, rry
		sub	ax, [bp+var_7]
		mov	bx, LWx
		imul	bx
		mov	bx, LWy
		idiv	bx
		add	ax, [bp+var_9]
		sub	ax, rrx
		mov	Rx, ax

loc_12FFF:				; CODE XREF: TryToGo+BFj TryToGo+D2j
		mov	ax, Rx
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, Ry
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Min
		mov	R__1, ax
		mov	ax, R__1
		cmp	ax, [bp+arg_2]
		jge	short locret_13038
		mov	di, [bp+arg_0]
		mov	ss:[di+var_12],	1
		push	word ptr ss:[di-0Ah]
		push	ss:[di+var_C]
		push	0
		call	CheckSwitchShoot

locret_13038:				; CODE XREF: TryToGo+110j
		leave
		retn	8
TryToGo		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo2B	proc near		; CODE XREF: Rocket_WallCheck+128p
					; Rocket_WallCheck+16Ep ...

var_12		= byte ptr -12h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		cmp	[bp+arg_2], 0Ah
		jg	short loc_13048
		jmp	short locret_1308B
; ---------------------------------------------------------------------------

loc_13048:				; CODE XREF: TryToGo2B+8j
		mov	ax, rrx
		sub	ax, [bp+arg_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_2], ax
		mov	ax, rry
		sub	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_4], ax
		push	[bp+var_4]
		push	[bp+var_2]
		call	Max
		cmp	ax, [bp+arg_2]
		jge	short locret_1308B
		mov	di, [bp+arg_0]
		mov	ss:[di+var_12],	1
		push	ss:[di+var_A]
		push	ss:[di+var_C]
		push	0
		call	CheckSwitchShoot

locret_1308B:				; CODE XREF: TryToGo2B+Aj
					; TryToGo2B+36j
		leave
		retn	8
TryToGo2B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Rocket_WallCheck proc far		; CODE XREF: MoveRocket+EAP

var_1E		= dword	ptr -1Eh
var_1A		= dword	ptr -1Ah
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= byte ptr -12h
var_11		= byte ptr -11h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	1Eh, 0
		mov	[bp+var_12], 0
		mov	ax, [bp+arg_A]
		mov	rrx, ax
		mov	ax, [bp+arg_8]
		mov	rry, ax
		mov	al, byte ptr rrx+1
		xor	ah, ah
		mov	[bp+var_E], ax
		mov	al, byte ptr rry+1
		xor	ah, ah
		mov	[bp+var_10], ax
		mov	ax, [bp+var_E]
		inc	ax
		inc	ax
		mov	[bp+var_14], ax
		mov	ax, [bp+var_E]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_14]
		jle	short loc_130C8
		jmp	loc_1329F
; ---------------------------------------------------------------------------

loc_130C8:				; CODE XREF: Rocket_WallCheck+34j
		mov	[bp+var_A], ax
		jmp	short loc_130D0
; ---------------------------------------------------------------------------

loc_130CD:				; CODE XREF: Rocket_WallCheck+20Dj
		inc	[bp+var_A]

loc_130D0:				; CODE XREF: Rocket_WallCheck+3Cj
		cmp	[bp+var_A], 0
		jge	short loc_130D9
		jmp	loc_13294
; ---------------------------------------------------------------------------

loc_130D9:				; CODE XREF: Rocket_WallCheck+45j
		cmp	[bp+var_A], 40h	; '@'
		jl	short loc_130E2
		jmp	loc_13294
; ---------------------------------------------------------------------------

loc_130E2:				; CODE XREF: Rocket_WallCheck+4Ej
		mov	ax, [bp+var_10]
		inc	ax
		inc	ax
		mov	[bp+var_16], ax
		mov	ax, [bp+var_10]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_16]
		jle	short loc_130F7
		jmp	loc_13294
; ---------------------------------------------------------------------------

loc_130F7:				; CODE XREF: Rocket_WallCheck+63j
		mov	[bp+var_C], ax
		jmp	short loc_130FF
; ---------------------------------------------------------------------------

loc_130FC:				; CODE XREF: Rocket_WallCheck+202j
		inc	[bp+var_C]

loc_130FF:				; CODE XREF: Rocket_WallCheck+6Bj
		cmp	[bp+var_C], 0
		jge	short loc_13108
		jmp	loc_13289
; ---------------------------------------------------------------------------

loc_13108:				; CODE XREF: Rocket_WallCheck+74j
		cmp	[bp+var_C], 40h	; '@'
		jl	short loc_13111
		jmp	loc_13289
; ---------------------------------------------------------------------------

loc_13111:				; CODE XREF: Rocket_WallCheck+7Dj
		imul	ax, [bp+var_C],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_A],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		mov	al, es:[di]
		cmp	al, 56h	; 'V'
		jnb	short loc_13134
		jmp	loc_131BD
; ---------------------------------------------------------------------------

loc_13134:				; CODE XREF: Rocket_WallCheck+A0j
		cmp	al, 77h	; 'w'
		jbe	short loc_1313B
		jmp	loc_131BD
; ---------------------------------------------------------------------------

loc_1313B:				; CODE XREF: Rocket_WallCheck+A7j
		cmp	[bp+arg_0], 0
		jnz	short loc_13152
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 2
		or	al, al
		jz	short loc_131BA

loc_13152:				; CODE XREF: Rocket_WallCheck+B0j
		cmp	[bp+arg_6], 1040h
		jge	short loc_131BA
		les	di, [bp+var_1A]
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 1
		or	al, al
		jz	short loc_131BA
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_A]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 50h ;	'P'
		jnb	short loc_131BA
		imul	ax, [bp+var_C],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_A],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		mov	ax, [bp+arg_2]
		add	ax, 18h
		push	ax
		push	bp
		call	TryToGo
		les	di, [bp+var_1A]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	ax, [bp+arg_2]
		add	ax, 18h
		push	ax
		push	bp
		call	TryToGo2B

loc_131BA:				; CODE XREF: Rocket_WallCheck+C1j
					; Rocket_WallCheck+C8j	...
		jmp	loc_1327D
; ---------------------------------------------------------------------------

loc_131BD:				; CODE XREF: Rocket_WallCheck+A2j
					; Rocket_WallCheck+A9j
		cmp	al, 1
		jb	short loc_13202
		cmp	al, 78h	; 'x'
		ja	short loc_13202
		cmp	[bp+arg_6], 1040h
		jge	short loc_13200
		mov	al, [bp+var_12]
		mov	[bp+var_11], al
		imul	ax, [bp+var_C],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_A],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		push	[bp+arg_2]
		push	bp
		call	TryToGo
		les	di, [bp+var_1A]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	[bp+arg_2]
		push	bp
		call	TryToGo2B

loc_13200:				; CODE XREF: Rocket_WallCheck+13Bj
		jmp	short loc_1327D
; ---------------------------------------------------------------------------

loc_13202:				; CODE XREF: Rocket_WallCheck+130j
					; Rocket_WallCheck+134j
		cmp	al, 83h	; 'ƒ'
		jb	short loc_1327D
		cmp	al, 0E2h ; 'â'
		ja	short loc_1327D
		les	di, [bp+var_1A]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_1E], di
		mov	word ptr [bp+var_1E+2],	es
		les	di, [bp+var_1A]
		assume es:nothing
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		shl	ax, 5
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_6]
		add	ax, [bp+arg_4]
		mov	dx, ax
		les	di, [bp+var_1E]
		mov	ax, es:[di+12h]
		add	ax, [bp+var_4]
		cmp	ax, dx
		jg	short loc_1327D
		mov	ax, es:[di+14h]
		add	ax, [bp+var_4]
		cmp	ax, [bp+arg_6]
		jl	short loc_1327D
		les	di, [bp+var_1A]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74AEh]
		add	ax, 0Ah
		push	ax
		push	bp
		call	TryToGo2B

loc_1327D:				; CODE XREF: Rocket_WallCheck:loc_131BAj
					; Rocket_WallCheck:loc_13200j ...
		cmp	[bp+var_12], 0
		jz	short loc_13289
		mov	[bp+var_1], 1
		jmp	short loc_132A3
; ---------------------------------------------------------------------------

loc_13289:				; CODE XREF: Rocket_WallCheck+76j
					; Rocket_WallCheck+7Fj	...
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_16]
		jz	short loc_13294
		jmp	loc_130FC
; ---------------------------------------------------------------------------

loc_13294:				; CODE XREF: Rocket_WallCheck+47j
					; Rocket_WallCheck+50j	...
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_14]
		jz	short loc_1329F
		jmp	loc_130CD
; ---------------------------------------------------------------------------

loc_1329F:				; CODE XREF: Rocket_WallCheck+36j
					; Rocket_WallCheck+20Bj
		mov	[bp+var_1], 0

loc_132A3:				; CODE XREF: Rocket_WallCheck+1F8j
		mov	al, [bp+var_1]
		leave
		retf	0Ch
Rocket_WallCheck endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetTarget	proc near		; CODE XREF: AnimateMonsters+182p
					; AnimateMonsters+178Dp

var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_11		= byte ptr -11h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		enter	18h, 0
		mov	[bp+var_1], 0
		mov	[bp+var_8], 0FFFFh
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_132C1
; ---------------------------------------------------------------------------

loc_132BE:				; CODE XREF: GetTarget+18Aj
		inc	[bp+var_4]

loc_132C1:				; CODE XREF: GetTarget+12j
		imul	di, [bp+var_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_18+2],	di
		mov	[bp+var_14], es
		cmp	byte ptr es:[di], 0
		jnz	short loc_132DA
		jmp	loc_1342E
; ---------------------------------------------------------------------------

loc_132DA:				; CODE XREF: GetTarget+2Bj
		cmp	word ptr es:[di+28h], 0
		jg	short loc_132E4
		jmp	loc_1342E
; ---------------------------------------------------------------------------

loc_132E4:				; CODE XREF: GetTarget+35j
		mov	[bp+var_8], 1
		mov	ax, es:[di+20h]
		and	ax, 4000h
		or	ax, ax
		mov	al, 0
		jz	short loc_132F7
		inc	ax

loc_132F7:				; CODE XREF: GetTarget+4Aj
		mov	[bp+var_11], al
		cmp	[bp+arg_6], 0FFFFh
		jnz	short loc_13303
		jmp	loc_1339A
; ---------------------------------------------------------------------------

loc_13303:				; CODE XREF: GetTarget+54j
		cmp	[bp+var_11], 0
		jz	short loc_1330C
		jmp	loc_1339A
; ---------------------------------------------------------------------------

loc_1330C:				; CODE XREF: GetTarget+5Dj
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 1CCh
		jg	short loc_1332E
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 1CCh
		jle	short loc_1339A

loc_1332E:				; CODE XREF: GetTarget+71j
		mov	ax, [bp+arg_6]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_A], ax
		mov	di, [bp+arg_6]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_C], ax
		les	di, [bp+var_18+2]
		assume es:nothing
		mov	ax, es:[di+0Ah]
		mov	[bp+var_E], ax
		mov	ax, es:[di+0Ch]
		mov	[bp+var_10], ax
		mov	ax, [bp+var_E]
		sub	ax, [bp+arg_A]
		imul	[bp+var_A]
		mov	cx, dx
		mov	bx, ax
		mov	[bp+var_E], 0
		mov	ax, [bp+var_10]
		sub	ax, [bp+arg_8]
		imul	[bp+var_C]
		add	bx, ax
		adc	cx, dx
		jns	short loc_13391
		mov	[bp+var_E], 1

loc_13391:				; CODE XREF: GetTarget+E0j
		cmp	[bp+var_E], 1
		jnz	short loc_1339A
		jmp	loc_1342E
; ---------------------------------------------------------------------------

loc_1339A:				; CODE XREF: GetTarget+56j
					; GetTarget+5Fj ...
		cmp	[bp+var_11], 0
		jz	short loc_133A7
		mov	[bp+var_6], 18h
		jmp	short loc_133F0
; ---------------------------------------------------------------------------

loc_133A7:				; CODE XREF: GetTarget+F4j
		les	di, [bp+var_18+2]
		mov	ax, es:[di+2Ah]
		and	ax, 1
		or	ax, ax
		jbe	short loc_133BC
		mov	[bp+var_6], 2
		jmp	short loc_133F0
; ---------------------------------------------------------------------------

loc_133BC:				; CODE XREF: GetTarget+109j
		les	di, [bp+var_18+2]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		call	GetBrightAt
		xor	ah, ah
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 10h
		jge	short loc_133DE
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_133E7
; ---------------------------------------------------------------------------

loc_133DE:				; CODE XREF: GetTarget+12Bj
		mov	ax, [bp+var_6]
		sub	ax, 10h
		mov	[bp+var_6], ax

loc_133E7:				; CODE XREF: GetTarget+132j
		mov	ax, 16h
		sub	ax, [bp+var_6]
		mov	[bp+var_6], ax

loc_133F0:				; CODE XREF: GetTarget+FBj
					; GetTarget+110j
		push	[bp+arg_A]
		push	[bp+arg_8]
		les	di, [bp+var_18+2]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	[bp+var_6]
		call	LookToMe
		or	al, al
		jz	short loc_1342E
		mov	[bp+var_1], 1
		les	di, [bp+var_18+2]
		mov	ax, es:[di+0Ah]
		mov	plx, ax
		mov	ax, es:[di+0Ch]
		mov	ply, ax
		mov	ax, [bp+var_4]
		les	di, [bp+arg_0]
		mov	es:[di], ax
		jmp	loc_134F2
; ---------------------------------------------------------------------------

loc_1342E:				; CODE XREF: GetTarget+2Dj
					; GetTarget+37j ...
		cmp	[bp+var_4], 7
		jz	short loc_13437
		jmp	loc_132BE
; ---------------------------------------------------------------------------

loc_13437:				; CODE XREF: GetTarget+188j
		cmp	[bp+var_8], 1
		jnz	short loc_13440
		jmp	loc_134F2
; ---------------------------------------------------------------------------

loc_13440:				; CODE XREF: GetTarget+191j
		mov	[bp+var_8], 2710h
		mov	ax, MCount
		mov	[bp+var_14], ax
		mov	ax, 1
		cmp	ax, [bp+var_14]
		jle	short loc_13456
		jmp	loc_134F2
; ---------------------------------------------------------------------------

loc_13456:				; CODE XREF: GetTarget+1A7j
		mov	[bp+var_4], ax
		jmp	short loc_1345E
; ---------------------------------------------------------------------------

loc_1345B:				; CODE XREF: GetTarget+245j
		inc	[bp+var_4]

loc_1345E:				; CODE XREF: GetTarget+1AFj
		imul	di, [bp+var_4],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_18], di
		mov	word ptr [bp+var_18+2],	es
		mov	al, es:[di+0Ah]
		xor	ah, ah
		cmp	ax, [bp+arg_4]
		jz	short loc_134E7
		cmp	word ptr es:[di+12h], 0
		jle	short loc_134E7
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	6
		call	LookToMe
		or	al, al
		jz	short loc_134E7
		mov	ax, [bp+arg_8]
		les	di, [bp+var_18]
		assume es:nothing
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_A]
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_8]
		jge	short loc_134E7
		mov	ax, [bp+var_4]
		add	ax, 64h	; 'd'
		les	di, [bp+arg_0]
		mov	es:[di], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_8], ax
		mov	[bp+var_1], 1
		les	di, [bp+var_18]
		mov	ax, es:[di]
		mov	plx, ax
		mov	ax, es:[di+2]
		mov	ply, ax

loc_134E7:				; CODE XREF: GetTarget+1CDj
					; GetTarget+1D4j ...
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_14]
		jz	short loc_134F2
		jmp	loc_1345B
; ---------------------------------------------------------------------------

loc_134F2:				; CODE XREF: GetTarget+181j
					; GetTarget+193j ...
		mov	al, [bp+var_1]
		leave
		retn	0Ch
GetTarget	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MakePunch	proc near		; CODE XREF: AnimateMonsters+151Dp

var_E		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	0Eh, 0
		mov	[bp+var_1], 0
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		imul	di, ax,	28h
		mov	al, [di-5AD8h]
		xor	ah, ah
		mov	[bp+var_4], ax
		mov	ax, MCount
		mov	[bp+var_A], ax
		mov	ax, 1
		cmp	ax, [bp+var_A]
		jle	short loc_13524
		jmp	loc_135B4
; ---------------------------------------------------------------------------

loc_13524:				; CODE XREF: MakePunch+26j
		mov	[bp+var_6], ax
		jmp	short loc_1352C
; ---------------------------------------------------------------------------

loc_13529:				; CODE XREF: MakePunch+B8j
		inc	[bp+var_6]

loc_1352C:				; CODE XREF: MakePunch+2Ej
		imul	di, [bp+var_6],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		mov	al, es:[di+0Ah]
		xor	ah, ah
		cmp	ax, [bp+var_4]
		jz	short loc_135A9
		cmp	byte ptr es:[di+26h], 5
		jz	short loc_135A9
		mov	ax, es:[di]
		sub	ax, [bp+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, [bp+arg_4]
		jge	short loc_135A9
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	0
		push	0
		push	[bp+var_6]
		push	[bp+arg_2]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	ShootMonster
		les	di, [bp+var_E]
		assume es:nothing
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	640h
		push	0Ch
		push	5
		call	BlowSpark
		mov	[bp+var_1], 1

loc_135A9:				; CODE XREF: MakePunch+4Cj
					; MakePunch+53j ...
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_A]
		jz	short loc_135B4
		jmp	loc_13529
; ---------------------------------------------------------------------------

loc_135B4:				; CODE XREF: MakePunch+28j
					; MakePunch+B6j
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_135BE
; ---------------------------------------------------------------------------

loc_135BB:				; CODE XREF: MakePunch+22Aj
		inc	[bp+var_6]

loc_135BE:				; CODE XREF: MakePunch+C0j
		imul	di, [bp+var_6],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E+2], di
		mov	[bp+var_A], es
		cmp	byte ptr es:[di], 0
		jnz	short loc_135D7
		jmp	loc_1371D
; ---------------------------------------------------------------------------

loc_135D7:				; CODE XREF: MakePunch+D9j
		cmp	word ptr es:[di+28h], 0
		jg	short loc_135E1
		jmp	loc_1371D
; ---------------------------------------------------------------------------

loc_135E1:				; CODE XREF: MakePunch+E3j
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		cmp	ax, [bp+arg_4]
		jl	short loc_1360E
		jmp	loc_1371D
; ---------------------------------------------------------------------------

loc_1360E:				; CODE XREF: MakePunch+110j
		les	di, [bp+var_E+2]
		assume es:nothing
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_C]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	[bp+var_8], ax
		les	di, [bp+var_E+2]
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_E]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_C]
		push	ax
		call	FindVectorFi
		les	di, [bp+var_E+2]
		mov	es:[di+1Ch], ax
		mov	ax, [bp+arg_2]
		cwd
		mov	cx, 2
		idiv	cx
		add	ax, 10h
		mov	es:[di+1Ah], ax
		cmp	[bp+var_6], 0
		jnz	short loc_1367F
		cmp	word ptr es:[di+1Ah], 20h ; ' '
		jle	short loc_1367F
		mov	ax, es:[di+1Ah]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		shr	ax, 2
		mov	ShakeLevel, ax

loc_1367F:				; CODE XREF: MakePunch+16Dj
					; MakePunch+174j
		les	di, [bp+var_E+2]
		mov	al, es:[di+27h]
		xor	ah, ah
		cmp	ax, [bp+arg_2]
		jl	short loc_1369F
		mov	al, byte ptr [bp+arg_2]
		sub	es:[di+27h], al
		mov	ax, [bp+arg_2]
		shr	ax, 2
		mov	[bp+arg_2], ax
		jmp	short loc_136C4
; ---------------------------------------------------------------------------

loc_1369F:				; CODE XREF: MakePunch+192j
		les	di, [bp+var_E+2]
		mov	al, es:[di+27h]
		xor	ah, ah
		shr	ax, 2
		mov	cx, ax
		mov	al, es:[di+27h]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+arg_2]
		sub	ax, dx
		add	ax, cx
		mov	[bp+arg_2], ax
		mov	byte ptr es:[di+27h], 0

loc_136C4:				; CODE XREF: MakePunch+1A4j
		les	di, [bp+var_E+2]
		cmp	word ptr es:[di+50h], 0
		jnz	short loc_136D5
		mov	ax, [bp+arg_2]
		sub	es:[di+28h], ax

loc_136D5:				; CODE XREF: MakePunch+1D3j
		les	di, [bp+var_E+2]
		cmp	word ptr es:[di+28h], 0
		jg	short loc_136ED
		xor	ax, ax
		mov	es:[di+28h], ax
		push	[bp+var_6]
		call	AddDeadPlayer

loc_136ED:				; CODE XREF: MakePunch+1E4j
		les	di, [bp+var_E+2]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	500h
		push	0Ch
		push	5
		call	BlowSpark
		mov	ax, [bp+var_6]
		cmp	ax, MyNetN
		jnz	short loc_13719
		les	di, [bp+var_E+2]
		push	word ptr es:[di+28h]
		call	SetMePain

loc_13719:				; CODE XREF: MakePunch+212j
		mov	[bp+var_1], 1

loc_1371D:				; CODE XREF: MakePunch+DBj
					; MakePunch+E5j ...
		cmp	[bp+var_6], 7
		jz	short loc_13726
		jmp	loc_135BB
; ---------------------------------------------------------------------------

loc_13726:				; CODE XREF: MakePunch+228j
		mov	al, [bp+var_1]
		leave
		retn	10h
MakePunch	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetPlayerTo	proc near		; CODE XREF: AnimateMonsters+1496p

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1373C
; ---------------------------------------------------------------------------

loc_13738:				; CODE XREF: GetPlayerTo+87j
		inc	n__0

loc_1373C:				; CODE XREF: GetPlayerTo+9j
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_137AF
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_2]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_0]
		push	ax
		call	QPifagorA32__0
		cmp	ax, 600h
		jnb	short loc_137AF
		les	di, [bp+var_4]
		assume es:nothing
		mov	word ptr es:[di+1Ah], 82h ; '‚'
		mov	ax, [bp+arg_2]
		sub	ax, es:[di+0Ah]
		push	ax
		mov	ax, [bp+arg_0]
		sub	ax, es:[di+0Ch]
		push	ax
		call	FindVectorFi
		les	di, [bp+var_4]
		mov	es:[di+1Ch], ax
		mov	ShakeLevel, 82h	; '‚'
		mov	word ptr es:[di+18h], 16h
		add	word ptr es:[di+0Eh], 2
		mov	ax, es:[di+2Ah]
		or	ax, 100h
		mov	es:[di+2Ah], ax

loc_137AF:				; CODE XREF: GetPlayerTo+25j
					; GetPlayerTo+3Fj
		cmp	n__0, 7
		jnz	short loc_13738
		leave
		retn	4
GetPlayerTo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetAttack	proc near		; CODE XREF: AnimateMonsters+19D3p

var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= byte ptr  4
arg_2		= byte ptr  6

		enter	2, 0
		mov	al, [bp+arg_2]
		cmp	al, 0
		jnz	short loc_137D5
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 5
		inc	ax
		mov	[bp+var_2], al
		jmp	short loc_13846
; ---------------------------------------------------------------------------

loc_137D5:				; CODE XREF: GetAttack+9j
		cmp	al, 1
		jnz	short loc_137F0
		push	2
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		or	ax, ax
		jnz	short loc_137EA
		mov	[bp+var_2], 8
		jmp	short loc_137EE
; ---------------------------------------------------------------------------

loc_137EA:				; CODE XREF: GetAttack+28j
		mov	[bp+var_2], 7

loc_137EE:				; CODE XREF: GetAttack+2Ej
		jmp	short loc_13846
; ---------------------------------------------------------------------------

loc_137F0:				; CODE XREF: GetAttack+1Dj
		cmp	al, 2
		jnz	short loc_1380B
		push	2
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		or	ax, ax
		jnz	short loc_13805
		mov	[bp+var_2], 8
		jmp	short loc_13809
; ---------------------------------------------------------------------------

loc_13805:				; CODE XREF: GetAttack+43j
		mov	[bp+var_2], 6

loc_13809:				; CODE XREF: GetAttack+49j
		jmp	short loc_13846
; ---------------------------------------------------------------------------

loc_1380B:				; CODE XREF: GetAttack+38j
		cmp	al, 3
		jnz	short loc_13815
		mov	[bp+var_2], 8
		jmp	short loc_13846
; ---------------------------------------------------------------------------

loc_13815:				; CODE XREF: GetAttack+53j
		cmp	al, 7
		jz	short loc_1381D
		cmp	al, 4
		jnz	short loc_13834

loc_1381D:				; CODE XREF: GetAttack+5Dj
		push	2
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		or	ax, ax
		jnz	short loc_1382E
		mov	[bp+var_2], 7
		jmp	short loc_13832
; ---------------------------------------------------------------------------

loc_1382E:				; CODE XREF: GetAttack+6Cj
		mov	[bp+var_2], 6

loc_13832:				; CODE XREF: GetAttack+72j
		jmp	short loc_13846
; ---------------------------------------------------------------------------

loc_13834:				; CODE XREF: GetAttack+61j
		cmp	al, 5
		jnz	short loc_1383E
		mov	[bp+var_2], 7
		jmp	short loc_13846
; ---------------------------------------------------------------------------

loc_1383E:				; CODE XREF: GetAttack+7Cj
		cmp	al, 6
		jnz	short loc_13846
		mov	[bp+var_2], 6

loc_13846:				; CODE XREF: GetAttack+19j
					; GetAttack:loc_137EEj	...
		mov	al, [bp+var_2]
		xor	ah, ah
		shl	ax, 1
		mov	dx, ax
		mov	al, [bp+arg_0]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, dx
		cmp	word ptr [di-7FD8h], 0
		jnz	short loc_13865
		mov	[bp+var_2], 8

loc_13865:				; CODE XREF: GetAttack+A5j
		mov	al, [bp+var_2]
		xor	ah, ah
		shl	ax, 1
		mov	dx, ax
		mov	al, [bp+arg_0]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, dx
		cmp	word ptr [di-7FD8h], 0
		jnz	short loc_13884
		mov	[bp+var_2], 5

loc_13884:				; CODE XREF: GetAttack+C4j
		mov	al, [bp+var_2]
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retn	4
GetAttack	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateExternal	proc near		; CODE XREF: AnimateMonsters+4p

var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	1Ch, 0
		mov	[bp+var_2], 1
		mov	ax, MCount
		mov	[bp+var_12], ax
		mov	ax, 1
		cmp	ax, [bp+var_12]
		jle	short loc_138AB
		jmp	locret_13A25
; ---------------------------------------------------------------------------

loc_138AB:				; CODE XREF: AnimateExternal+15j
		mov	[bp+var_2], ax
		jmp	short loc_138B3
; ---------------------------------------------------------------------------

loc_138B0:				; CODE XREF: AnimateExternal+191j
		inc	[bp+var_2]

loc_138B3:				; CODE XREF: AnimateExternal+1Dj
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		cmp	word ptr es:[di+1Ch], 0
		jg	short loc_138CD
		jmp	loc_13A1A
; ---------------------------------------------------------------------------

loc_138CD:				; CODE XREF: AnimateExternal+37j
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, es:[di+1Ah]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		les	di, [bp+var_16]
		assume es:nothing
		mul	word ptr es:[di+1Ch]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_16]
		mov	es:[di+0Eh], ax
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		mov	di, es:[di+1Ah]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		les	di, [bp+var_16]
		mul	word ptr es:[di+1Ch]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_16]
		mov	es:[di+10h], ax
		mov	ax, es:[di+10h]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, es:[di+0Eh]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		shr	ax, 6
		inc	ax
		mov	[bp+var_6], ax
		mov	ax, es:[di+0Eh]
		cwd
		idiv	[bp+var_6]
		mov	[bp+var_A], ax
		mov	ax, es:[di+10h]
		cwd
		idiv	[bp+var_6]
		mov	[bp+var_C], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_18], ax
		mov	ax, 1
		cmp	ax, [bp+var_18]
		jg	short loc_13A03
		mov	[bp+var_4], ax
		jmp	short loc_13992
; ---------------------------------------------------------------------------

loc_1398F:				; CODE XREF: AnimateExternal+170j
		inc	[bp+var_4]

loc_13992:				; CODE XREF: AnimateExternal+FCj
		les	di, [bp+var_16]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_1C], di
		mov	word ptr [bp+var_1C+2],	es
		les	di, [bp+var_16]
		assume es:nothing
		mov	ax, es:[di]
		sub	ax, [bp+var_A]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+var_C]
		push	ax
		push	word ptr es:[di+20h]
		les	di, [bp+var_1C]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Ch]
		mov	ax, es:[di+8]
		add	ax, 3Ch	; '<'
		push	ax
		push	word ptr es:[di+0Ah]
		push	0
		push	1
		push	1
		call	NotFreeForMonster
		or	al, al
		jnz	short loc_139FB
		mov	ax, [bp+var_A]
		neg	ax
		les	di, [bp+var_16]
		add	es:[di], ax
		mov	ax, [bp+var_C]
		neg	ax
		add	es:[di+2], ax

loc_139FB:				; CODE XREF: AnimateExternal+154j
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_18]
		jnz	short loc_1398F

loc_13A03:				; CODE XREF: AnimateExternal+F7j
		mov	ax, t1
		les	di, [bp+var_16]
		sub	es:[di+1Ch], ax
		cmp	word ptr es:[di+1Ch], 0
		jge	short loc_13A1A
		xor	ax, ax
		mov	es:[di+1Ch], ax

loc_13A1A:				; CODE XREF: AnimateExternal+39j
					; AnimateExternal+181j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_12]
		jz	short locret_13A25
		jmp	loc_138B0
; ---------------------------------------------------------------------------

locret_13A25:				; CODE XREF: AnimateExternal+17j
					; AnimateExternal+18Fj
		leave
		retn
AnimateExternal	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitMZPosition	proc far		; CODE XREF: DoGame+20DP

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= byte ptr -4
var_2		= word ptr -2

		enter	0Ah, 0
		mov	ax, MCount
		mov	[bp+var_6], ax
		mov	ax, 1
		cmp	ax, [bp+var_6]
		jg	short locret_13AA4
		mov	n__0, ax
		jmp	short loc_13A42
; ---------------------------------------------------------------------------

loc_13A3E:				; CODE XREF: InitMZPosition+7Bj
		inc	n__0

loc_13A42:				; CODE XREF: InitMZPosition+15j
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		push	word ptr [di+7FB6h]
		lea	di, [bp+var_2]
		push	ss
		push	di
		lea	di, [bp+var_4]
		push	ss
		push	di
		call	GetMFloorZ
		mov	ax, [bp+var_2]
		shl	ax, 5
		les	di, [bp+var_A]
		assume es:nothing
		mov	es:[di+1Eh], ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FBEh]
		add	ax, [bp+var_2]
		les	di, [bp+var_A]
		mov	es:[di+20h], ax
		mov	ax, n__0
		cmp	ax, [bp+var_6]
		jnz	short loc_13A3E

locret_13AA4:				; CODE XREF: InitMZPosition+10j
		leave
		retf
InitMZPosition	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateZMovement proc far		; CODE XREF: DoGame:loc_D94CP

var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= byte ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ch, 0
		mov	[bp+var_2], 1
		mov	ax, MCount
		mov	[bp+var_8], ax
		mov	ax, 1
		cmp	ax, [bp+var_8]
		jle	short loc_13AC0
		jmp	locret_13B95
; ---------------------------------------------------------------------------

loc_13AC0:				; CODE XREF: AnimateZMovement+15j
		mov	[bp+var_2], ax
		jmp	short loc_13AC8
; ---------------------------------------------------------------------------

loc_13AC5:				; CODE XREF: AnimateZMovement+ECj
		inc	[bp+var_2]

loc_13AC8:				; CODE XREF: AnimateZMovement+1Dj
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jnz	short loc_13AE2
		jmp	loc_13B8A
; ---------------------------------------------------------------------------

loc_13AE2:				; CODE XREF: AnimateZMovement+37j
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		push	word ptr [di+7FB6h]
		lea	di, [bp+var_4]
		push	ss
		push	di
		lea	di, [bp+var_6]
		push	ss
		push	di
		call	GetMFloorZ
		mov	ax, [bp+var_4]
		shl	ax, 5
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		les	di, [bp+var_C]
		assume es:nothing
		cmp	ax, es:[di+1Eh]
		jnz	short loc_13B1D
		jmp	short loc_13B8A
; ---------------------------------------------------------------------------

loc_13B1D:				; CODE XREF: AnimateZMovement+73j
		les	di, [bp+var_C]
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+var_4]
		jge	short loc_13B43
		mov	ax, t1
		shl	ax, 6
		add	es:[di+1Eh], ax
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+var_4]
		jle	short loc_13B43
		mov	ax, [bp+var_4]
		mov	es:[di+1Eh], ax

loc_13B43:				; CODE XREF: AnimateZMovement+81j
					; AnimateZMovement+94j
		les	di, [bp+var_C]
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+var_4]
		jle	short loc_13B69
		mov	ax, t1
		shl	ax, 5
		sub	es:[di+1Eh], ax
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+var_4]
		jge	short loc_13B69
		mov	ax, [bp+var_4]
		mov	es:[di+1Eh], ax

loc_13B69:				; CODE XREF: AnimateZMovement+A7j
					; AnimateZMovement+BAj
		les	di, [bp+var_C]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	dx, [di+7FBEh]
		les	di, [bp+var_C]
		mov	ax, es:[di+1Eh]
		shr	ax, 5
		add	ax, dx
		mov	es:[di+20h], ax

loc_13B8A:				; CODE XREF: AnimateZMovement+39j
					; AnimateZMovement+75j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jz	short locret_13B95
		jmp	loc_13AC5
; ---------------------------------------------------------------------------

locret_13B95:				; CODE XREF: AnimateZMovement+17j
					; AnimateZMovement+EAj
		leave
		retf
AnimateZMovement endp

; ---------------------------------------------------------------------------
a@_5		db 2,'@#'               ; DATA XREF: AnimateMonsters+16DBo
aIncorrectPhase	db 17,'Incorrect phase: ' ; DATA XREF: AnimateMonsters+16CBo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateMonsters	proc far		; CODE XREF: DoGame+16D1P

var_230		= byte ptr -230h
var_130		= byte ptr -130h
var_32		= word ptr -32h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= byte ptr -28h
var_27		= byte ptr -27h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_E		= word ptr -0Eh

		enter	230h, 0
		call	AnimateExternal
		mov	n__0, 1
		inc	MsTakt

loc_13BBD:				; CODE XREF: AnimateMonsters+649j
					; AnimateMonsters:loc_15651j
		mov	ax, MCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, n__0
		cwd
		cmp	dx, bx
		jl	short loc_13BDA
		jle	short loc_13BD3
		jmp	locret_15654
; ---------------------------------------------------------------------------

loc_13BD3:				; CODE XREF: AnimateMonsters+22j
		cmp	ax, cx
		jbe	short loc_13BDA
		jmp	locret_15654
; ---------------------------------------------------------------------------

loc_13BDA:				; CODE XREF: AnimateMonsters+20j
					; AnimateMonsters+29j
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2C], di
		mov	word ptr [bp+var_2C+2],	es
		cmp	byte ptr es:[di+0Bh], 0FFh
		jnz	short loc_13BF9
		inc	n__0
		jmp	loc_15651
; ---------------------------------------------------------------------------

loc_13BF9:				; CODE XREF: AnimateMonsters+44j
		les	di, [bp+var_2C]
		assume es:nothing
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_30], di
		mov	word ptr [bp+var_30+2],	es
		les	di, [bp+var_2C]
		assume es:nothing
		mov	al, es:[di+26h]
		cmp	al, 0
		jz	short loc_13C20
		jmp	loc_13EFD
; ---------------------------------------------------------------------------

loc_13C20:				; CODE XREF: AnimateMonsters+6Fj
		mov	[bp+var_18], 18h
		mov	ax, t1
		add	es:[di+6], ax
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_13C59
		jge	short loc_13C52
		jmp	loc_13CEB
; ---------------------------------------------------------------------------

loc_13C52:				; CODE XREF: AnimateMonsters+A1j
		cmp	ax, cx
		jnb	short loc_13C59
		jmp	loc_13CEB
; ---------------------------------------------------------------------------

loc_13C59:				; CODE XREF: AnimateMonsters+9Fj
					; AnimateMonsters+A8j ...
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_13C83
		jl	short loc_13C9E
		cmp	ax, cx
		jb	short loc_13C9E

loc_13C83:				; CODE XREF: AnimateMonsters+CFj
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		les	di, [bp+var_2C]
		sub	es:[di+6], ax
		jmp	short loc_13C59
; ---------------------------------------------------------------------------

loc_13C9E:				; CODE XREF: AnimateMonsters+D1j
					; AnimateMonsters+D5j
		les	di, [bp+var_2C]
		mov	word ptr es:[di+8], 2
		mov	ax, takt
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, n__0
		cwd
		add	ax, cx
		adc	dx, bx
		shr	al, 1
		jnb	short loc_13CEB
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		inc	ax
		inc	ax
		les	di, [bp+var_2C]
		mov	es:[di+8], ax
		mov	ax, es:[di+8]
		shl	ax, 2
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+2Ah]
		or	ax, es:[di+2Ch]
		jnz	short loc_13CEB
		les	di, [bp+var_2C]
		mov	word ptr es:[di+8], 2

loc_13CEB:				; CODE XREF: AnimateMonsters+A3j
					; AnimateMonsters+AAj ...
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+8], 0Eh
		jnz	short loc_13CF8
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13CF8:				; CODE XREF: AnimateMonsters+147j
		mov	ax, MsTakt
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, n__0
		cwd
		add	ax, cx
		adc	dx, bx
		and	ax, 3
		and	dx, 0
		or	ax, dx
		jz	short loc_13D17
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13D17:				; CODE XREF: AnimateMonsters+166j
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+4]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		mov	di, offset i
		push	ds
		push	di
		call	GetTarget
		or	al, al
		jnz	short loc_13D38
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13D38:				; CODE XREF: AnimateMonsters+187j
		push	0FFFFh
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 64h	; 'd'
		push	ax
		call	AddVoice
		les	di, [bp+var_2C]
		mov	byte ptr es:[di+26h], 2
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 0
		mov	byte ptr es:[di+25h], 1
		mov	ax, i
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di+8], ax
		cmp	i, 8
		jl	short loc_13D8B
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13D8B:				; CODE XREF: AnimateMonsters+1DAj
		push	i
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	n__0
		call	WeakUpMonstersTo
		les	di, [bp+var_30]
		mov	ax, es:[di+2]
		mov	[bp+var_16], ax
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		les	di, [bp+var_2C]
		mov	es:[di+0Eh], ax
		mov	di, es:[di+4]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		les	di, [bp+var_2C]
		mov	es:[di+10h], ax
		cmp	Skill, 0
		jg	short loc_13DFE
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13DFE:				; CODE XREF: AnimateMonsters+24Dj
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	plx
		push	ply
		push	10h
		call	PathToMe
		or	al, al
		jnz	short loc_13E1B
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13E1B:				; CODE XREF: AnimateMonsters+26Aj
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Eh]
		shl	ax, 3
		mov	dx, ax
		mov	ax, es:[di]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+10h]
		shl	ax, 3
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		push	plx
		push	ply
		push	10h
		call	PathToMe
		or	al, al
		jnz	short loc_13E53
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13E53:				; CODE XREF: AnimateMonsters+2A2j
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		and	al, 2
		or	al, al
		jz	short loc_13E63
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13E63:				; CODE XREF: AnimateMonsters+2B2j
		les	di, [bp+var_30]
		cmp	word ptr es:[di+14h], 0FFFFh
		jnz	short loc_13E70
		jmp	loc_13EF6
; ---------------------------------------------------------------------------

loc_13E70:				; CODE XREF: AnimateMonsters+2BFj
		mov	ax, plx
		les	di, [bp+var_2C]
		sub	ax, es:[di]
		push	ax
		mov	ax, ply
		sub	ax, es:[di+2]
		push	ax
		call	FindVectorFi
		mov	b0, ax
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, b0
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		or	dx, dx
		jns	short loc_13EAA
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_13EAA:				; CODE XREF: AnimateMonsters+2F5j
		cmp	dx, 0
		jl	short loc_13EE2
		jg	short loc_13EB6
		cmp	ax, 0FCh ; 'ü'
		jb	short loc_13EE2

loc_13EB6:				; CODE XREF: AnimateMonsters+303j
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, b0
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		or	dx, dx
		jns	short loc_13ED6
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_13ED6:				; CODE XREF: AnimateMonsters+321j
		cmp	dx, 0
		jg	short loc_13EE2
		jl	short loc_13EF6
		cmp	ax, 304h
		jbe	short loc_13EF6

loc_13EE2:				; CODE XREF: AnimateMonsters+301j
					; AnimateMonsters+308j	...
		les	di, [bp+var_2C]
		mov	word ptr es:[di+8], 5
		mov	byte ptr es:[di+26h], 3
		xor	ax, ax
		mov	es:[di+6], ax

loc_13EF6:				; CODE XREF: AnimateMonsters+149j
					; AnimateMonsters+168j	...
		inc	n__0
		jmp	loc_15651
; ---------------------------------------------------------------------------

loc_13EFD:				; CODE XREF: AnimateMonsters+71j
		cmp	al, 5
		jz	short loc_13F04
		jmp	loc_141C6
; ---------------------------------------------------------------------------

loc_13F04:				; CODE XREF: AnimateMonsters+353j
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		and	al, 7
		mov	es:[di+0Bh], al
		cmp	word ptr es:[di+8], 10h
		jl	short loc_13F1B
		jmp	loc_13FA8
; ---------------------------------------------------------------------------

loc_13F1B:				; CODE XREF: AnimateMonsters+36Aj
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jnz	short loc_13F25
		jmp	loc_13FA8
; ---------------------------------------------------------------------------

loc_13F25:				; CODE XREF: AnimateMonsters+374j
		mov	ax, t1
		add	es:[di+6], ax
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_13F67
		jl	short loc_13F53
		cmp	ax, cx
		jnb	short loc_13F67

loc_13F53:				; CODE XREF: AnimateMonsters+3A1j
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		and	al, 4
		or	al, al
		ja	short loc_13F67
		cmp	word ptr es:[di+8], 0Ah
		jz	short loc_13FA5

loc_13F67:				; CODE XREF: AnimateMonsters+39Fj
					; AnimateMonsters+3A5j	...
		les	di, [bp+var_2C]
		mov	word ptr es:[di+8], 10h
		xor	ax, ax
		mov	es:[di+6], ax
		push	0FFFFh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0E8h ; 'è'
		push	ax
		call	AddEvVoice
		les	di, [bp+var_2C]
		xor	ax, ax
		mov	es:[di+22h], ax
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jbe	short loc_13FA5
		inc	TotalKills

loc_13FA5:				; CODE XREF: AnimateMonsters+3B9j
					; AnimateMonsters+3F3j
		jmp	loc_14182
; ---------------------------------------------------------------------------

loc_13FA8:				; CODE XREF: AnimateMonsters+36Cj
					; AnimateMonsters+376j
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		shr	ax, 2
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jl	short loc_13FD5
		jg	short loc_14036
		cmp	ax, cx
		ja	short loc_14036

loc_13FD5:				; CODE XREF: AnimateMonsters+421j
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		shr	ax, 2
		xor	dx, dx
		cmp	dx, bx
		jl	short loc_1400C
		jg	short loc_14036
		cmp	ax, cx
		jnb	short loc_14036

loc_1400C:				; CODE XREF: AnimateMonsters+458j
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+1Eh]
		call	iswater
		or	al, al
		jz	short loc_14036
		push	0FFFFh
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	9
		call	AddEvVoice

loc_14036:				; CODE XREF: AnimateMonsters+423j
					; AnimateMonsters+427j	...
		les	di, [bp+var_2C]
		mov	al, es:[di+3]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+1]
		xor	ah, ah
		mov	di, ax
		shl	di, 6
		add	di, dx
		mov	al, [di+4EC6h]
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-23F0h], 0
		jnz	short loc_14060
		jmp	loc_14138
; ---------------------------------------------------------------------------

loc_14060:				; CODE XREF: AnimateMonsters+4AFj
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		add	ax, 80h	; '€'
		cwd
		cmp	dx, bx
		jg	short loc_14093
		jge	short loc_1408C
		jmp	loc_14138
; ---------------------------------------------------------------------------

loc_1408C:				; CODE XREF: AnimateMonsters+4DBj
		cmp	ax, cx
		jnb	short loc_14093
		jmp	loc_14138
; ---------------------------------------------------------------------------

loc_14093:				; CODE XREF: AnimateMonsters+4D9j
					; AnimateMonsters+4E2j
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		add	ax, 10h
		cwd
		cmp	dx, bx
		jl	short loc_140C0
		jg	short loc_14138
		cmp	ax, cx
		jnb	short loc_14138

loc_140C0:				; CODE XREF: AnimateMonsters+50Cj
		mov	ax, t1
		dec	ax
		mov	[bp+var_32], ax
		xor	ax, ax
		cmp	ax, [bp+var_32]
		ja	short loc_14138
		mov	j, ax
		jmp	short loc_140D7
; ---------------------------------------------------------------------------

loc_140D3:				; CODE XREF: AnimateMonsters+58Aj
		inc	j

loc_140D7:				; CODE XREF: AnimateMonsters+525j
		push	104h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 82h	; '‚'
		sbb	dx, 0
		push	ax
		push	104h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+2]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 82h	; '‚'
		sbb	dx, 0
		push	ax
		push	0
		push	0
		push	0
		push	8
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 8
		push	ax
		push	0Ah
		call	AddBlow
		mov	ax, j
		cmp	ax, [bp+var_32]
		jnz	short loc_140D3

loc_14138:				; CODE XREF: AnimateMonsters+4B1j
					; AnimateMonsters+4DDj	...
		mov	ax, t1
		les	di, [bp+var_2C]
		add	es:[di+6], ax
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_14169
		jl	short loc_14182
		cmp	ax, cx
		jb	short loc_14182

loc_14169:				; CODE XREF: AnimateMonsters+5B5j
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		les	di, [bp+var_2C]
		mov	es:[di+6], ax

loc_14182:				; CODE XREF: AnimateMonsters:loc_13FA5j
					; AnimateMonsters+5B7j	...
		cmp	RespawnTime, 0
		jbe	short loc_141BF
		cmp	NewSecond, 0
		jz	short loc_141BF
		les	di, [bp+var_2C]
		inc	word ptr es:[di+22h]
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jbe	short loc_141BF
		mov	ax, RespawnTime
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+22h]
		cwd
		cmp	dx, bx
		jg	short loc_141B6
		jl	short loc_141BF
		cmp	ax, cx
		jb	short loc_141BF

loc_141B6:				; CODE XREF: AnimateMonsters+602j
		push	n__0
		call	RespawnMonster

loc_141BF:				; CODE XREF: AnimateMonsters+5DBj
					; AnimateMonsters+5E2j	...
		inc	n__0
		jmp	loc_15651
; ---------------------------------------------------------------------------

loc_141C6:				; CODE XREF: AnimateMonsters+355j
		mov	ax, t1
		les	di, [bp+var_2C]
		add	es:[di+22h], ax
		cmp	word ptr es:[di+22h], 1068h
		jle	short loc_141F8
		mov	word ptr es:[di+14h], 0FFFFh
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+26h], 0
		xor	ax, ax
		mov	es:[di+6], ax
		mov	word ptr es:[di+8], 2
		jmp	loc_13BBD
; ---------------------------------------------------------------------------

loc_141F8:				; CODE XREF: AnimateMonsters+62Aj
		les	di, [bp+var_30]
		mov	ax, es:[di+2]
		mov	[bp+var_16], ax
		mov	[bp+var_27], 1
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+14h], 64h ; 'd'
		jge	short loc_1425D
		imul	di, es:[di+14h], 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		cmp	word ptr es:[di+28h], 0
		jle	short loc_14257
		cmp	byte ptr es:[di], 0
		jz	short loc_14257
		mov	ax, es:[di+0Ah]
		mov	plx, ax
		mov	ax, es:[di+0Ch]
		mov	ply, ax
		mov	ax, es:[di+2Ah]
		and	ax, 1
		or	ax, ax
		jbe	short loc_1424C
		mov	ax, es:[di+20h]
		and	ax, 4000h
		or	ax, ax
		jz	short loc_14250

loc_1424C:				; CODE XREF: AnimateMonsters+693j
		mov	al, 0
		jmp	short loc_14252
; ---------------------------------------------------------------------------

loc_14250:				; CODE XREF: AnimateMonsters+69Ej
		mov	al, 1

loc_14252:				; CODE XREF: AnimateMonsters+6A2j
		mov	[bp+var_28], al
		jmp	short loc_1425B
; ---------------------------------------------------------------------------

loc_14257:				; CODE XREF: AnimateMonsters+674j
					; AnimateMonsters+67Aj
		mov	[bp+var_27], 0

loc_1425B:				; CODE XREF: AnimateMonsters+6A9j
		jmp	short loc_1428E
; ---------------------------------------------------------------------------

loc_1425D:				; CODE XREF: AnimateMonsters+662j
		les	di, [bp+var_2C]
		assume es:nothing
		mov	ax, es:[di+14h]
		sub	ax, 64h	; 'd'
		imul	di, ax,	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		cmp	word ptr es:[di+12h], 0
		jle	short loc_1428A
		mov	ax, es:[di]
		mov	plx, ax
		mov	ax, es:[di+2]
		mov	ply, ax
		mov	[bp+var_28], 0
		jmp	short loc_1428E
; ---------------------------------------------------------------------------

loc_1428A:				; CODE XREF: AnimateMonsters+6C9j
		mov	[bp+var_27], 0

loc_1428E:				; CODE XREF: AnimateMonsters:loc_1425Bj
					; AnimateMonsters+6DCj
		les	di, [bp+var_2C]
		assume es:nothing
		mov	ax, es:[di]
		sub	ax, plx
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+2]
		sub	ax, ply
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	[bp+var_24], ax
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	plx
		push	ply
		push	12h
		call	LookToMe
		or	al, al
		jz	short loc_1433A
		les	di, [bp+var_2C]
		mov	al, es:[di+0Ah]
		cmp	al, 6Ah	; 'j'
		jz	short loc_142EC
		cmp	al, 6Dh	; 'm'
		jb	short loc_1431C
		cmp	al, 6Fh	; 'o'
		jbe	short loc_142EC
		cmp	al, 72h	; 'r'
		jz	short loc_142EC
		cmp	al, 76h	; 'v'
		jnz	short loc_1431C

loc_142EC:				; CODE XREF: AnimateMonsters+72Ej
					; AnimateMonsters+736j	...
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+25h], 0
		jz	short loc_142FE
		cmp	word ptr es:[di+22h], 1A4h
		jle	short loc_1431C

loc_142FE:				; CODE XREF: AnimateMonsters+748j
		push	0FFFFh
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 64h	; 'd'
		push	ax
		call	AddEvVoice

loc_1431C:				; CODE XREF: AnimateMonsters+732j
					; AnimateMonsters+73Ej	...
		mov	ax, plx
		les	di, [bp+var_2C]
		mov	es:[di+16h], ax
		mov	ax, ply
		mov	es:[di+18h], ax
		mov	byte ptr es:[di+25h], 1
		xor	ax, ax
		mov	es:[di+22h], ax
		jmp	short loc_1436A
; ---------------------------------------------------------------------------

loc_1433A:				; CODE XREF: AnimateMonsters+723j
		les	di, [bp+var_2C]
		mov	ax, es:[di]
		sub	ax, es:[di+16h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+2]
		sub	ax, es:[di+18h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, 12Ch
		jge	short loc_1436A
		les	di, [bp+var_2C]
		mov	byte ptr es:[di+25h], 0

loc_1436A:				; CODE XREF: AnimateMonsters+78Cj
					; AnimateMonsters+7B4j
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+25h], 0
		jnz	short loc_14382
		mov	ax, plx
		mov	es:[di+16h], ax
		mov	ax, ply
		mov	es:[di+18h], ax

loc_14382:				; CODE XREF: AnimateMonsters+7C6j
		cmp	[bp+var_27], 0
		jz	short loc_143B4
		les	di, [bp+var_2C]
		mov	al, es:[di+26h]
		cmp	al, 2
		jb	short loc_143B4
		cmp	al, 4
		ja	short loc_143B4
		mov	ax, es:[di+16h]
		sub	ax, es:[di]
		push	ax
		mov	ax, es:[di+18h]
		sub	ax, es:[di+2]
		push	ax
		call	FindVectorFi
		les	di, [bp+var_2C]
		mov	es:[di+0Ch], ax

loc_143B4:				; CODE XREF: AnimateMonsters+7DAj
					; AnimateMonsters+7E5j	...
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+26h], 2
		jz	short loc_143C1
		jmp	loc_14547
; ---------------------------------------------------------------------------

loc_143C1:				; CODE XREF: AnimateMonsters+810j
		mov	al, es:[di+0Ah]
		cmp	al, 65h	; 'e'
		jnz	short loc_14419
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 1
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		and	ax, 3Fh
		and	dx, 0
		sub	ax, 20h	; ' '
		sbb	dx, 0
		or	dx, dx
		jns	short loc_143F2
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_143F2:				; CODE XREF: AnimateMonsters+83Dj
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 400h
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 10h
		sbb	dx, 0
		and	ax, 3FFh
		and	dx, 0
		mov	es:[di+0Ch], ax
		jmp	loc_14547
; ---------------------------------------------------------------------------

loc_14419:				; CODE XREF: AnimateMonsters+81Bj
		cmp	al, 66h	; 'f'
		jnz	short loc_14463
		mov	ax, Time
		mov	dx, word_44D6C
		and	ax, 7Fh
		and	dx, 0
		sub	ax, 40h	; '@'
		sbb	dx, 0
		or	dx, dx
		jns	short loc_1443C
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_1443C:				; CODE XREF: AnimateMonsters+887j
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 400h
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 20h	; ' '
		sbb	dx, 0
		and	ax, 3FFh
		and	dx, 0
		mov	es:[di+0Ch], ax
		jmp	loc_14547
; ---------------------------------------------------------------------------

loc_14463:				; CODE XREF: AnimateMonsters+86Fj
		cmp	al, 67h	; 'g'
		jnz	short loc_144AD
		mov	ax, Time
		mov	dx, word_44D6C
		and	ax, 7Fh
		and	dx, 0
		sub	ax, 40h	; '@'
		sbb	dx, 0
		or	dx, dx
		jns	short loc_14486
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_14486:				; CODE XREF: AnimateMonsters+8D1j
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 400h
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 20h	; ' '
		sbb	dx, 0
		and	ax, 3FFh
		and	dx, 0
		mov	es:[di+0Ch], ax
		jmp	loc_14547
; ---------------------------------------------------------------------------

loc_144AD:				; CODE XREF: AnimateMonsters+8B9j
		cmp	al, 6Ah	; 'j'
		jnz	short loc_144F6
		mov	ax, Time
		mov	dx, word_44D6C
		and	ax, 0FFh
		and	dx, 0
		sub	ax, 80h	; '€'
		sbb	dx, 0
		or	dx, dx
		jns	short loc_144D0
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_144D0:				; CODE XREF: AnimateMonsters+91Bj
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 400h
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 40h	; '@'
		sbb	dx, 0
		and	ax, 3FFh
		and	dx, 0
		mov	es:[di+0Ch], ax
		jmp	short loc_14547
; ---------------------------------------------------------------------------

loc_144F6:				; CODE XREF: AnimateMonsters+903j
		cmp	al, 6Bh	; 'k'
		jnz	short loc_14547
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 1
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		and	ax, 3Fh
		and	dx, 0
		sub	ax, 20h	; ' '
		sbb	dx, 0
		or	dx, dx
		jns	short loc_14523
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_14523:				; CODE XREF: AnimateMonsters+96Ej
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 400h
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 10h
		sbb	dx, 0
		and	ax, 3FFh
		and	dx, 0
		mov	es:[di+0Ch], ax

loc_14547:				; CODE XREF: AnimateMonsters+812j
					; AnimateMonsters+86Aj	...
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		mov	[bp+var_1E], ax
		les	di, [bp+var_2C]
		mov	di, es:[di+0Ch]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		mov	[bp+var_20], ax
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_16]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_1A], ax
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		les	di, [bp+var_2C]
		mov	di, es:[di+0Ch]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_16]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_1C], ax
		mov	[bp+var_E], 8
		cmp	[bp+var_16], 2
		jg	short loc_14607
		jmp	loc_14803
; ---------------------------------------------------------------------------

loc_14607:				; CODE XREF: AnimateMonsters+A56j
		les	di, [bp+var_2C]
		mov	al, es:[di+26h]
		cmp	al, 1
		jnb	short loc_14615
		jmp	loc_14803
; ---------------------------------------------------------------------------

loc_14615:				; CODE XREF: AnimateMonsters+A64j
		cmp	al, 2
		jbe	short loc_1461C
		jmp	loc_14803
; ---------------------------------------------------------------------------

loc_1461C:				; CODE XREF: AnimateMonsters+A6Bj
		xor	ax, ax
		mov	[bp+var_E], ax
		xor	ax, ax
		mov	[bp+var_14], ax
		mov	ax, es:[di+0Ch]
		mov	j, ax

loc_1462D:				; CODE XREF: AnimateMonsters+C44j
		les	di, [bp+var_2C]
		mov	ax, es:[di]
		add	ax, [bp+var_1A]
		push	ax
		mov	ax, es:[di+2]
		add	ax, [bp+var_1C]
		push	ax
		push	word ptr es:[di+20h]
		les	di, [bp+var_30]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+8]
		push	0
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		push	0
		push	0
		call	NotFreeForMonster
		or	al, al
		jnz	short loc_146B4
		mov	ax, [bp+var_1E]
		shl	ax, 7
		cwd
		idiv	[bp+var_16]
		les	di, [bp+var_2C]
		add	ax, es:[di]
		push	ax
		mov	ax, [bp+var_20]
		shl	ax, 7
		cwd
		idiv	[bp+var_16]
		add	ax, es:[di+2]
		push	ax
		push	word ptr es:[di+20h]
		les	di, [bp+var_30]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+8]
		push	0
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		push	0
		push	1
		call	NotFreeForMonster
		or	al, al
		jnz	short loc_146B4
		jmp	loc_147F3
; ---------------------------------------------------------------------------

loc_146B4:				; CODE XREF: AnimateMonsters+ABAj
					; AnimateMonsters+B03j
		cmp	[bp+var_E], 20h	; ' '
		jl	short loc_146BD
		jmp	loc_147F3
; ---------------------------------------------------------------------------

loc_146BD:				; CODE XREF: AnimateMonsters+B0Cj
		cmp	[bp+var_14], 0
		jnz	short loc_146DB
		push	2
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 1
		jnz	short loc_146D6
		mov	[bp+var_14], 20h ; ' '
		jmp	short loc_146DB
; ---------------------------------------------------------------------------

loc_146D6:				; CODE XREF: AnimateMonsters+B21j
		mov	[bp+var_14], 0FFE0h

loc_146DB:				; CODE XREF: AnimateMonsters+B15j
					; AnimateMonsters+B28j
		inc	[bp+var_E]
		mov	ax, [bp+var_14]
		les	di, [bp+var_2C]
		add	es:[di+0Ch], ax
		cmp	byte ptr es:[di+26h], 2
		jnz	short loc_14705
		cmp	[bp+var_E], 8
		jnz	short loc_14705
		mov	byte ptr es:[di+26h], 1
		mov	ax, takt
		and	ax, 3
		inc	ax
		mov	es:[di+24h], al

loc_14705:				; CODE XREF: AnimateMonsters+B41j
					; AnimateMonsters+B47j
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+0Ch], 0
		jge	short loc_14715
		add	word ptr es:[di+0Ch], 400h

loc_14715:				; CODE XREF: AnimateMonsters+B61j
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+0Ch], 3FFh
		jle	short loc_14726
		sub	word ptr es:[di+0Ch], 400h

loc_14726:				; CODE XREF: AnimateMonsters+B72j
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		mov	[bp+var_1E], ax
		les	di, [bp+var_2C]
		mov	di, es:[di+0Ch]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		mov	[bp+var_20], ax
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_16]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_1A], ax
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		les	di, [bp+var_2C]
		mov	di, es:[di+0Ch]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_16]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_1C], ax
		push	[bp+var_14]
		call	Sgn
		cbw
		shl	ax, 5
		mov	dx, ax
		mov	ax, [bp+var_14]
		neg	ax
		sub	ax, dx
		mov	[bp+var_14], ax
		jmp	loc_1462D
; ---------------------------------------------------------------------------

loc_147F3:				; CODE XREF: AnimateMonsters+B05j
					; AnimateMonsters+B0Ej
		cmp	[bp+var_E], 20h	; ' '
		jnz	short loc_14803
		mov	ax, j
		les	di, [bp+var_2C]
		mov	es:[di+0Ch], ax

loc_14803:				; CODE XREF: AnimateMonsters+A58j
					; AnimateMonsters+A66j	...
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		cmp	ax, es:[di+4]
		jnz	short loc_14813
		jmp	loc_148E0
; ---------------------------------------------------------------------------

loc_14813:				; CODE XREF: AnimateMonsters+C62j
		mov	ax, es:[di+0Ch]
		cmp	ax, es:[di+4]
		jle	short loc_14824
		mov	[bp+var_14], 1
		jmp	short loc_14829
; ---------------------------------------------------------------------------

loc_14824:				; CODE XREF: AnimateMonsters+C6Fj
		mov	[bp+var_14], 0FFFFh

loc_14829:				; CODE XREF: AnimateMonsters+C76j
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		sub	ax, es:[di+4]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 200h
		jle	short loc_14846
		mov	ax, [bp+var_14]
		neg	ax
		mov	[bp+var_14], ax

loc_14846:				; CODE XREF: AnimateMonsters+C90j
		les	di, [bp+var_30]
		mov	ax, es:[di+4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		sub	ax, es:[di+0Ch]
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		cmp	dx, bx
		jl	short loc_1487B
		jg	short loc_14888
		cmp	ax, cx
		ja	short loc_14888

loc_1487B:				; CODE XREF: AnimateMonsters+CC7j
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		mov	es:[di+4], ax
		jmp	short loc_148BF
; ---------------------------------------------------------------------------

loc_14888:				; CODE XREF: AnimateMonsters+CC9j
					; AnimateMonsters+CCDj
		les	di, [bp+var_30]
		mov	ax, es:[di+4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_14]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	es:[di+4], ax

loc_148BF:				; CODE XREF: AnimateMonsters+CDAj
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+4], 0
		jge	short loc_148CF
		add	word ptr es:[di+4], 400h

loc_148CF:				; CODE XREF: AnimateMonsters+D1Bj
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+4], 3FFh
		jle	short loc_148E0
		sub	word ptr es:[di+4], 400h

loc_148E0:				; CODE XREF: AnimateMonsters+C64j
					; AnimateMonsters+D2Cj
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		les	di, [bp+var_2C]
		mov	es:[di+0Eh], ax
		mov	di, es:[di+4]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		mul	[bp+var_16]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		les	di, [bp+var_2C]
		mov	es:[di+10h], ax
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, es:[di+4]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_16]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_1A], ax
		mov	ax, t1
		xor	dx, dx
		push	dx
		push	ax
		les	di, [bp+var_2C]
		mov	di, es:[di+4]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_16]
		cwd
		pop	cx
		pop	bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 100h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_1C], ax
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		and	al, 8
		or	al, al
		jbe	short loc_149DA
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		shr	ax, 1
		add	ax, 10h
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_149CD
		jl	short loc_149DA
		cmp	ax, cx
		jbe	short loc_149DA

loc_149CD:				; CODE XREF: AnimateMonsters+E19j
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		and	al, 7
		mov	es:[di+0Bh], al

loc_149DA:				; CODE XREF: AnimateMonsters+DF3j
					; AnimateMonsters+E1Bj	...
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+8], 5
		jnz	short loc_14A2C
		mov	al, es:[di+0Ah]
		cmp	al, 6Eh	; 'n'
		jnz	short loc_14A05
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		shr	ax, 1
		sub	ax, 38h	; '8'
		mov	[bp+var_E], ax
		jmp	short loc_14A2A
; ---------------------------------------------------------------------------

loc_14A05:				; CODE XREF: AnimateMonsters+E3Ej
		cmp	al, 71h	; 'q'
		jnz	short loc_14A10
		xor	ax, ax
		mov	[bp+var_E], ax
		jmp	short loc_14A2A
; ---------------------------------------------------------------------------

loc_14A10:				; CODE XREF: AnimateMonsters+E5Bj
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		shr	ax, 1
		add	ax, 4
		mov	[bp+var_E], ax

loc_14A2A:				; CODE XREF: AnimateMonsters+E57j
					; AnimateMonsters+E62j
		jmp	short loc_14A46
; ---------------------------------------------------------------------------

loc_14A2C:				; CODE XREF: AnimateMonsters+E36j
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		shr	ax, 1
		add	ax, 4
		mov	[bp+var_E], ax

loc_14A46:				; CODE XREF: AnimateMonsters:loc_14A2Aj
		cmp	[bp+var_27], 0
		jnz	short loc_14A4F
		jmp	loc_150EE
; ---------------------------------------------------------------------------

loc_14A4F:				; CODE XREF: AnimateMonsters+E9Ej
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+26h], 3
		jz	short loc_14A5C
		jmp	loc_150EE
; ---------------------------------------------------------------------------

loc_14A5C:				; CODE XREF: AnimateMonsters+EABj
		mov	ax, es:[di+6]
		cmp	ax, [bp+var_E]
		jle	short loc_14A68
		jmp	loc_150EE
; ---------------------------------------------------------------------------

loc_14A68:				; CODE XREF: AnimateMonsters+EB7j
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+6]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_E]
		cwd
		cmp	dx, bx
		jl	short loc_14A92
		jle	short loc_14A8B
		jmp	loc_150EE
; ---------------------------------------------------------------------------

loc_14A8B:				; CODE XREF: AnimateMonsters+EDAj
		cmp	ax, cx
		jb	short loc_14A92
		jmp	loc_150EE
; ---------------------------------------------------------------------------

loc_14A92:				; CODE XREF: AnimateMonsters+ED8j
					; AnimateMonsters+EE1j
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+8], 5
		jz	short loc_14A9F
		jmp	loc_15048
; ---------------------------------------------------------------------------

loc_14A9F:				; CODE XREF: AnimateMonsters+EEEj
		les	di, [bp+var_30]
		cmp	word ptr es:[di+14h], 0FFFFh
		jnz	short loc_14AAC
		jmp	loc_15048
; ---------------------------------------------------------------------------

loc_14AAC:				; CODE XREF: AnimateMonsters+EFBj
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		or	al, 8
		mov	es:[di+0Bh], al
		push	0FFFFh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 7Ah	; 'z'
		push	ax
		call	AddEvVoice
		les	di, [bp+var_2C]
		mov	al, es:[di+0Ah]
		cmp	al, 65h	; 'e'
		jnz	short loc_14B2D
		mov	ax, es:[di+10h]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+0Eh]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 500h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14B2D:				; CODE XREF: AnimateMonsters+F31j
		cmp	al, 67h	; 'g'
		jz	short loc_14B34
		jmp	loc_14BD3
; ---------------------------------------------------------------------------

loc_14B34:				; CODE XREF: AnimateMonsters+F83j
		les	di, [bp+var_2C]
		mov	ax, es:[di+10h]
		shl	ax, 1
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+0Eh]
		shl	ax, 1
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 0B00h
		push	ax
		mov	ax, es:[di+10h]
		shl	ax, 1
		push	ax
		mov	ax, es:[di+0Eh]
		neg	ax
		shl	ax, 1
		push	ax
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		les	di, [bp+var_2C]
		mov	ax, es:[di+10h]
		shl	ax, 1
		mov	dx, ax
		mov	ax, es:[di]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+0Eh]
		shl	ax, 1
		add	ax, es:[di+2]
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 0B00h
		push	ax
		mov	ax, es:[di+10h]
		neg	ax
		shl	ax, 1
		push	ax
		mov	ax, es:[di+0Eh]
		shl	ax, 1
		push	ax
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14BD3:				; CODE XREF: AnimateMonsters+F85j
		cmp	al, 68h	; 'h'
		jnz	short loc_14C1E
		les	di, [bp+var_2C]
		mov	ax, es:[di+10h]
		shl	ax, 3
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+0Eh]
		shl	ax, 3
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 580h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14C1E:				; CODE XREF: AnimateMonsters+1029j
		cmp	al, 69h	; 'i'
		jnz	short loc_14C65
		les	di, [bp+var_2C]
		imul	ax, es:[di+10h], 0Ah
		add	ax, es:[di]
		push	ax
		imul	ax, es:[di+0Eh], 0Ah
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 880h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14C65:				; CODE XREF: AnimateMonsters+1074j
		cmp	al, 6Ah	; 'j'
		jnz	short loc_14CD3
		les	di, [bp+var_2C]
		mov	ax, es:[di+10h]
		shl	ax, 1
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+0Eh]
		shl	ax, 1
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 480h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Eh]
		shl	ax, 2
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+10h]
		shl	ax, 2
		add	ax, es:[di+2]
		push	ax
		push	5
		push	1Ch
		push	28h ; '('
		call	AddBlowLight
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14CD3:				; CODE XREF: AnimateMonsters+10BBj
		cmp	al, 6Bh	; 'k'
		jnz	short loc_14D28
		les	di, [bp+var_2C]
		mov	ax, es:[di+10h]
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+0Eh]
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 680h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14D28:				; CODE XREF: AnimateMonsters+1129j
		cmp	al, 6Ch	; 'l'
		jnz	short loc_14D5F
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di+1Eh]
		add	ax, 160h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14D5F:				; CODE XREF: AnimateMonsters+117Ej
		cmp	al, 6Dh	; 'm'
		jnz	short loc_14DA6
		les	di, [bp+var_2C]
		imul	ax, es:[di+10h], 9
		add	ax, es:[di]
		push	ax
		imul	ax, es:[di+0Eh], 9
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 740h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14DA6:				; CODE XREF: AnimateMonsters+11B5j
		cmp	al, 6Eh	; 'n'
		jnz	short loc_14E03
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di+1Eh]
		add	ax, 640h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Eh]
		shl	ax, 2
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+10h]
		shl	ax, 2
		add	ax, es:[di+2]
		push	ax
		push	6
		push	1Ch
		push	0A0h ; ' '
		call	AddBlowLight
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14E03:				; CODE XREF: AnimateMonsters+11FCj
		cmp	al, 70h	; 'p'
		jnz	short loc_14E4E
		les	di, [bp+var_2C]
		mov	ax, es:[di+10h]
		shl	ax, 2
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+0Eh]
		shl	ax, 2
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 4C0h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14E4E:				; CODE XREF: AnimateMonsters+1259j
		cmp	al, 71h	; 'q'
		jz	short loc_14E55
		jmp	loc_14EFD
; ---------------------------------------------------------------------------

loc_14E55:				; CODE XREF: AnimateMonsters+12A4j
		les	di, [bp+var_2C]
		imul	ax, es:[di+10h], 0Ah
		add	ax, es:[di]
		push	ax
		imul	ax, es:[di+0Eh], 0Ah
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 480h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		les	di, [bp+var_2C]
		imul	ax, es:[di+10h], 0Ah
		mov	dx, ax
		mov	ax, es:[di]
		sub	ax, dx
		push	ax
		imul	ax, es:[di+0Eh], 0Ah
		add	ax, es:[di+2]
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 480h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Eh]
		shl	ax, 2
		add	ax, es:[di]
		push	ax
		mov	ax, es:[di+10h]
		shl	ax, 2
		add	ax, es:[di+2]
		push	ax
		push	5
		push	1Ch
		push	28h ; '('
		call	AddBlowLight
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14EFD:				; CODE XREF: AnimateMonsters+12A6j
		cmp	al, 75h	; 'u'
		jnz	short loc_14F4E
		les	di, [bp+var_2C]
		mov	ax, es:[di+10h]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		mov	dx, ax
		mov	ax, es:[di]
		sub	ax, dx
		push	ax
		mov	ax, es:[di+0Eh]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, es:[di+2]
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 640h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14F4E:				; CODE XREF: AnimateMonsters+1353j
		cmp	al, 76h	; 'v'
		jnz	short loc_14F85
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di+1Eh]
		add	ax, 420h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		jmp	loc_15045
; ---------------------------------------------------------------------------

loc_14F85:				; CODE XREF: AnimateMonsters+13A4j
		cmp	al, 77h	; 'w'
		jz	short loc_14F8C
		jmp	loc_15034
; ---------------------------------------------------------------------------

loc_14F8C:				; CODE XREF: AnimateMonsters+13DBj
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di+1Eh]
		add	ax, 0A00h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di+1Eh]
		add	ax, 0A00h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		imul	di, RCount, 18h
		add	word ptr [di-4CB8h], 1A00h
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di+1Eh]
		add	ax, 0A00h
		push	ax
		push	0
		push	0
		les	di, [bp+var_30]
		push	word ptr es:[di+14h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		call	SendRocketToMe
		imul	di, RCount, 18h
		sub	word ptr [di-4CB8h], 1A00h
		jmp	short loc_15045
; ---------------------------------------------------------------------------

loc_15034:				; CODE XREF: AnimateMonsters+13DDj
		cmp	al, 78h	; 'x'
		jnz	short loc_15045
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		call	GetPlayerTo

loc_15045:				; CODE XREF: AnimateMonsters+F7Ej
					; AnimateMonsters+1024j ...
		jmp	loc_150EE
; ---------------------------------------------------------------------------

loc_15048:				; CODE XREF: AnimateMonsters+EF0j
					; AnimateMonsters+EFDj
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	n__0
		call	WeakUpMonstersTo
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di+4]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 18h
		idiv	cx
		les	di, [bp+var_2C]
		add	ax, es:[di]
		push	ax
		mov	di, es:[di+4]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 18h
		idiv	cx
		les	di, [bp+var_2C]
		add	ax, es:[di+2]
		push	ax
		les	di, [bp+var_30]
		mov	ax, es:[di+0Ch]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		shr	ax, 2
		les	di, [bp+var_2C]
		add	ax, es:[di+1Eh]
		push	ax
		push	0C8h ; 'È'
		les	di, [bp+var_30]
		push	word ptr es:[di+12h]
		mov	ax, n__0
		add	ax, 64h	; 'd'
		push	ax
		call	MakePunch
		or	al, al
		jz	short loc_150EE
		push	0FFFFh
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 90h	; ''
		push	ax
		call	AddEvVoice

loc_150EE:				; CODE XREF: AnimateMonsters+EA0j
					; AnimateMonsters+EADj	...
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		les	di, [bp+var_30]
		push	word ptr es:[di+8]
		mov	di, offset LandZ
		push	ds
		push	di
		mov	di, offset CeilZ
		push	ds
		push	di
		call	GetMFloorZ
		les	di, [bp+var_2C]
		mov	ax, es:[di+1Eh]
		shr	ax, 5
		cmp	ax, LandZ
		jl	short loc_1517E
		cmp	[bp+var_16], 2
		jle	short loc_1517E
		mov	al, es:[di+26h]
		cmp	al, 1
		jb	short loc_1517E
		cmp	al, 2
		ja	short loc_1517E
		mov	ax, es:[di]
		add	ax, [bp+var_1A]
		push	ax
		mov	ax, es:[di+2]
		add	ax, [bp+var_1C]
		push	ax
		push	word ptr es:[di+20h]
		les	di, [bp+var_30]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+8]
		mov	ax, es:[di+0Ah]
		sub	ax, 28h	; '('
		push	ax
		les	di, [bp+var_2C]
		push	word ptr es:[di+14h]
		push	1
		push	0
		call	NotFreeForMonster
		or	al, al
		jnz	short loc_1517E
		mov	ax, [bp+var_1A]
		les	di, [bp+var_2C]
		add	es:[di], ax
		mov	ax, [bp+var_1C]
		add	es:[di+2], ax

loc_1517E:				; CODE XREF: AnimateMonsters+1570j
					; AnimateMonsters+1576j ...
		mov	ax, t1
		les	di, [bp+var_2C]
		add	es:[di+6], ax
		cmp	byte ptr es:[di+0Ah], 6Dh ; 'm'
		jnz	short loc_151F6
		cmp	word ptr es:[di+8], 0
		jnz	short loc_151F6
		cmp	word ptr es:[di+6], 10h
		jg	short loc_151BB
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+6]
		cwd
		add	ax, cx
		adc	dx, bx
		cmp	dx, 0
		jg	short loc_151E3
		jl	short loc_151BB
		cmp	ax, 10h
		ja	short loc_151E3

loc_151BB:				; CODE XREF: AnimateMonsters+15EFj
					; AnimateMonsters+1608j
		les	di, [bp+var_2C]
		cmp	word ptr es:[di+6], 50h	; 'P'
		jg	short loc_151F6
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+6]
		cwd
		add	ax, cx
		adc	dx, bx
		cmp	dx, 0
		jg	short loc_151E3
		jl	short loc_151F6
		cmp	ax, 50h	; 'P'
		jbe	short loc_151F6

loc_151E3:				; CODE XREF: AnimateMonsters+1606j
					; AnimateMonsters+160Dj ...
		push	0FFFFh
		les	di, [bp+var_2C]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	4Ch ; 'L'
		call	AddEvVoice

loc_151F6:				; CODE XREF: AnimateMonsters+15E1j
					; AnimateMonsters+15E8j ...
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+0Ah], 78h ; 'x'
		jnz	short loc_1522C
		cmp	word ptr es:[di+8], 0Ah
		jnz	short loc_15219
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		xor	ax, ax
		mov	[di+7FB8h], ax
		jmp	short loc_1522C
; ---------------------------------------------------------------------------

loc_15219:				; CODE XREF: AnimateMonsters+1659j
		les	di, [bp+var_2C]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	word ptr [di+7FB8h], 168h

loc_1522C:				; CODE XREF: AnimateMonsters+1652j
					; AnimateMonsters+166Bj
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		cmp	dx, bx
		jg	short loc_1525C
		jge	short loc_15255
		jmp	loc_1564D
; ---------------------------------------------------------------------------

loc_15255:				; CODE XREF: AnimateMonsters+16A4j
		cmp	ax, cx
		jnb	short loc_1525C
		jmp	loc_1564D
; ---------------------------------------------------------------------------

loc_1525C:				; CODE XREF: AnimateMonsters+16A2j
					; AnimateMonsters+16ABj
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		cmp	word ptr es:[di+7Ah], 0
		jnz	short loc_152AB
		lea	di, [bp+var_230]
		push	ss
		push	di
		mov	di, offset aIncorrectPhase ; "Incorrect	phase: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_130]
		push	ss
		push	di
		mov	di, offset a@_5	; "@#"
		push	cs
		push	di
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_152AB:				; CODE XREF: AnimateMonsters+16C3j
		les	di, [bp+var_2C]
		mov	ax, es:[di+8]
		shl	ax, 1
		les	di, [bp+var_30]
		add	di, ax
		mov	ax, es:[di+7Ah]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C]
		mov	ax, es:[di+6]
		cwd
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		les	di, [bp+var_2C]
		mov	es:[di+6], ax
		mov	al, es:[di+0Bh]
		and	al, 7
		mov	es:[di+0Bh], al
		cmp	[bp+var_27], 0
		jz	short loc_152EE
		jmp	loc_153AE
; ---------------------------------------------------------------------------

loc_152EE:				; CODE XREF: AnimateMonsters+173Dj
		cmp	word ptr es:[di+14h], 7
		jnz	short loc_15361
		mov	byte ptr es:[di+25h], 0
		xor	ax, ax
		mov	es:[di+16h], ax
		xor	ax, ax
		mov	es:[di+18h], ax
		xor	ax, ax
		mov	plx, ax
		xor	ax, ax
		mov	ply, ax
		mov	[bp+var_28], 0
		xor	ax, ax
		mov	es:[di+8], ax
		mov	byte ptr es:[di+26h], 1
		mov	byte ptr es:[di+24h], 4
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	0FFFFh
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		mov	di, offset i
		push	ds
		push	di
		call	GetTarget
		or	al, al
		jz	short loc_1535F
		les	di, [bp+var_2C]
		mov	byte ptr es:[di+26h], 2
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 0
		mov	byte ptr es:[di+25h], 1
		mov	ax, i
		mov	es:[di+14h], ax

loc_1535F:				; CODE XREF: AnimateMonsters+1792j
		jmp	short loc_153AB
; ---------------------------------------------------------------------------

loc_15361:				; CODE XREF: AnimateMonsters+1747j
		les	di, [bp+var_2C]
		mov	word ptr es:[di+14h], 7
		mov	byte ptr es:[di+26h], 2
		xor	ax, ax
		mov	es:[di+8], ax
		les	di, [bp+var_30]
		mov	ax, es:[di+66h]
		or	ax, es:[di+68h]
		jz	short loc_153AB
		les	di, [bp+var_2C]
		mov	byte ptr es:[di+26h], 4
		mov	word ptr es:[di+8], 0Fh
		push	0FFFFh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0A6h ; '¦'
		push	ax
		call	AddEvVoice

loc_153AB:				; CODE XREF: AnimateMonsters:loc_1535Fj
					; AnimateMonsters+17D4j
		jmp	loc_1564D
; ---------------------------------------------------------------------------

loc_153AE:				; CODE XREF: AnimateMonsters+173Fj
		les	di, [bp+var_2C]
		mov	al, es:[di+26h]
		cmp	al, 1
		jz	short loc_153BC
		jmp	loc_154E1
; ---------------------------------------------------------------------------

loc_153BC:				; CODE XREF: AnimateMonsters+180Bj
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	plx
		push	ply
		push	14h
		call	PathToMe
		or	al, al
		jnz	short loc_153D9
		jmp	loc_154C6
; ---------------------------------------------------------------------------

loc_153D9:				; CODE XREF: AnimateMonsters+1828j
		les	di, [bp+var_2C]
		imul	ax, es:[di+10h], 9
		add	ax, es:[di]
		push	ax
		imul	ax, es:[di+0Eh], 9
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		push	plx
		push	ply
		push	14h
		call	PathToMe
		or	al, al
		jnz	short loc_15409
		jmp	loc_154C6
; ---------------------------------------------------------------------------

loc_15409:				; CODE XREF: AnimateMonsters+1858j
		les	di, [bp+var_2C]
		mov	byte ptr es:[di+26h], 2
		mov	al, es:[di+0Bh]
		and	al, 2
		or	al, al
		jz	short loc_1541E
		jmp	loc_154C4
; ---------------------------------------------------------------------------

loc_1541E:				; CODE XREF: AnimateMonsters+186Dj
		les	di, [bp+var_30]
		cmp	word ptr es:[di+14h], 0FFFFh
		jnz	short loc_1542B
		jmp	loc_154C4
; ---------------------------------------------------------------------------

loc_1542B:				; CODE XREF: AnimateMonsters+187Aj
		cmp	[bp+var_28], 0
		jz	short loc_15434
		jmp	loc_154C4
; ---------------------------------------------------------------------------

loc_15434:				; CODE XREF: AnimateMonsters+1883j
		mov	ax, plx
		les	di, [bp+var_2C]
		sub	ax, es:[di]
		push	ax
		mov	ax, ply
		sub	ax, es:[di+2]
		push	ax
		call	FindVectorFi
		mov	b0, ax
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, b0
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		or	dx, dx
		jns	short loc_1546E
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_1546E:				; CODE XREF: AnimateMonsters+18B9j
		cmp	dx, 0
		jl	short loc_154B0
		jg	short loc_1547A
		cmp	ax, 80h	; '€'
		jb	short loc_154B0

loc_1547A:				; CODE XREF: AnimateMonsters+18C7j
		les	di, [bp+var_2C]
		mov	ax, es:[di+4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, b0
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		or	dx, dx
		jns	short loc_1549A
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_1549A:				; CODE XREF: AnimateMonsters+18E5j
		cmp	dx, 0
		jg	short loc_154B0
		jl	short loc_154A6
		cmp	ax, 380h
		ja	short loc_154B0

loc_154A6:				; CODE XREF: AnimateMonsters+18F3j
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+0Ah], 78h ; 'x'
		jnz	short loc_154C4

loc_154B0:				; CODE XREF: AnimateMonsters+18C5j
					; AnimateMonsters+18CCj ...
		les	di, [bp+var_2C]
		mov	word ptr es:[di+8], 5
		mov	byte ptr es:[di+26h], 3
		xor	ax, ax
		mov	es:[di+6], ax

loc_154C4:				; CODE XREF: AnimateMonsters+186Fj
					; AnimateMonsters+187Cj ...
		jmp	short loc_154DE
; ---------------------------------------------------------------------------

loc_154C6:				; CODE XREF: AnimateMonsters+182Aj
					; AnimateMonsters+185Aj
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+24h], 0
		ja	short loc_154D7
		mov	byte ptr es:[di+26h], 2
		jmp	short loc_154DE
; ---------------------------------------------------------------------------

loc_154D7:				; CODE XREF: AnimateMonsters+1922j
		les	di, [bp+var_2C]
		dec	byte ptr es:[di+24h]

loc_154DE:				; CODE XREF: AnimateMonsters:loc_154C4j
					; AnimateMonsters+1929j
		jmp	loc_1564D
; ---------------------------------------------------------------------------

loc_154E1:				; CODE XREF: AnimateMonsters+180Dj
		cmp	al, 4
		jz	short loc_154F0
		cmp	al, 3
		jz	short loc_154F0
		cmp	al, 2
		jz	short loc_154F0
		jmp	loc_1564D
; ---------------------------------------------------------------------------

loc_154F0:				; CODE XREF: AnimateMonsters+1937j
					; AnimateMonsters+193Bj ...
		cmp	[bp+var_28], 0
		jz	short loc_154FD
		mov	[bp+var_26], 8
		jmp	short loc_15563
; ---------------------------------------------------------------------------

loc_154FD:				; CODE XREF: AnimateMonsters+1948j
		les	di, [bp+var_2C]
		mov	al, es:[di+26h]
		cmp	al, 4
		jnz	short loc_1551D
		cmp	word ptr es:[di+8], 0Ah
		jnz	short loc_15516
		mov	[bp+var_26], 1
		jmp	short loc_1551B
; ---------------------------------------------------------------------------

loc_15516:				; CODE XREF: AnimateMonsters+1961j
		mov	[bp+var_26], 2

loc_1551B:				; CODE XREF: AnimateMonsters+1968j
		jmp	short loc_15563
; ---------------------------------------------------------------------------

loc_1551D:				; CODE XREF: AnimateMonsters+195Aj
		cmp	al, 3
		jnz	short loc_15555
		les	di, [bp+var_2C]
		cmp	byte ptr es:[di+0Ah], 71h ; 'q'
		jz	short loc_15532
		mov	[bp+var_26], 7
		jmp	short loc_15553
; ---------------------------------------------------------------------------

loc_15532:				; CODE XREF: AnimateMonsters+197Dj
		push	19h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 4
		jz	short loc_15545
		mov	[bp+var_26], 0FFFFh
		jmp	short loc_1554A
; ---------------------------------------------------------------------------

loc_15545:				; CODE XREF: AnimateMonsters+1990j
		mov	[bp+var_26], 7

loc_1554A:				; CODE XREF: AnimateMonsters+1997j
		les	di, [bp+var_2C]
		xor	ax, ax
		mov	es:[di+6], ax

loc_15553:				; CODE XREF: AnimateMonsters+1984j
		jmp	short loc_15563
; ---------------------------------------------------------------------------

loc_15555:				; CODE XREF: AnimateMonsters+1973j
		cmp	al, 2
		jnz	short loc_15563
		mov	ax, 4
		sub	ax, Skill
		mov	[bp+var_26], ax

loc_15563:				; CODE XREF: AnimateMonsters+194Fj
					; AnimateMonsters:loc_1551Bj ...
		les	di, [bp+var_30]
		mov	ax, es:[di+0Ah]
		add	ax, 3Ch	; '<'
		cmp	ax, [bp+var_24]
		jle	short loc_15599
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		push	ax
		mov	al, es:[di+0Ah]
		push	ax
		call	GetAttack
		xor	ah, ah
		les	di, [bp+var_2C]
		mov	es:[di+8], ax
		mov	byte ptr es:[di+26h], 3
		xor	ax, ax
		mov	es:[di+6], ax
		jmp	loc_1564D
; ---------------------------------------------------------------------------

loc_15599:				; CODE XREF: AnimateMonsters+19C4j
		push	9
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_26]
		cwd
		cmp	dx, bx
		jl	short loc_155BA
		jle	short loc_155B3
		jmp	loc_1563F
; ---------------------------------------------------------------------------

loc_155B3:				; CODE XREF: AnimateMonsters+1A02j
		cmp	ax, cx
		jbe	short loc_155BA
		jmp	loc_1563F
; ---------------------------------------------------------------------------

loc_155BA:				; CODE XREF: AnimateMonsters+1A00j
					; AnimateMonsters+1A09j
		les	di, [bp+var_2C]
		mov	al, es:[di+0Bh]
		and	al, 2
		or	al, al
		jnz	short loc_1563F
		imul	ax, es:[di+10h], 9
		add	ax, es:[di]
		push	ax
		imul	ax, es:[di+0Eh], 9
		mov	dx, ax
		mov	ax, es:[di+2]
		sub	ax, dx
		push	ax
		push	plx
		push	ply
		push	10h
		call	PathToMe
		or	al, al
		jz	short loc_1563F
		les	di, [bp+var_30]
		cmp	word ptr es:[di+14h], 0FFFFh
		jz	short loc_1563F
		les	di, [bp+var_2C]
		mov	ax, es:[di+0Ch]
		sub	ax, es:[di+4]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 24h	; '$'
		jl	short loc_15629
		mov	ax, es:[di+0Ch]
		sub	ax, es:[di+4]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 3DCh
		jg	short loc_15629
		cmp	byte ptr es:[di+0Ah], 78h ; 'x'
		jnz	short loc_1563F

loc_15629:				; CODE XREF: AnimateMonsters+1A62j
					; AnimateMonsters+1A74j
		les	di, [bp+var_2C]
		mov	word ptr es:[di+8], 5
		mov	byte ptr es:[di+26h], 3
		xor	ax, ax
		mov	es:[di+6], ax
		jmp	short loc_1564D
; ---------------------------------------------------------------------------

loc_1563F:				; CODE XREF: AnimateMonsters+1A04j
					; AnimateMonsters+1A0Bj ...
		les	di, [bp+var_2C]
		mov	byte ptr es:[di+26h], 2
		xor	ax, ax
		mov	es:[di+8], ax

loc_1564D:				; CODE XREF: AnimateMonsters+16A6j
					; AnimateMonsters+16ADj ...
		inc	n__0

loc_15651:				; CODE XREF: AnimateMonsters+4Aj
					; AnimateMonsters+34Ej	...
		jmp	loc_13BBD
; ---------------------------------------------------------------------------

locret_15654:				; CODE XREF: AnimateMonsters+24j
					; AnimateMonsters+2Bj
		leave
		retf
AnimateMonsters	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_15656	proc far		; CODE XREF: PROGRAM+32P
		push	bp
		mov	bp, sp
		mov	MemoActive, 0
		mov	RecordDemo, 0
		mov	PlayDemo, 0
		leave
		retf
sub_15656	endp

; ---------------------------------------------------------------------------
		align 8
cseg03		ends

; Segment Number    : 4
; Alloc	Size	    : 33CEh
; Offset in the	file: 19700h  Length: 33CEh
; Attributes  (1D10): CODE Moveable Relocations	Discardable DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg04		segment	para public 'CODE' use16
		assume cs:cseg04
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    4
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

movsD		proc far		; CODE XREF: Morph3d+78P

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		mov	ds, [bp+arg_8]
		mov	si, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	es, ax
		mov	di, [bp+arg_2]
		mov	cx, [bp+arg_0]
		cld
		rep movsd
		pop	ds
		leave
		retf	0Ah
movsD		endp

; ---------------------------------------------------------------------------

VLineT_Recolor:
		push	bp
		mov	bp, sp
		mov	bx, x1
		shl	bx, 1
		mov	ax, [bx-7DD2h]
		cmp	ax, CurDH
		jb	short loc_156A6
		jmp	locret_1581C
; ---------------------------------------------------------------------------

loc_156A6:				; CODE XREF: cseg04:0031j
		mov	ax, word_36C70
		cmp	word_36C78, ax
		jge	short loc_156B2
		jmp	loc_15746
; ---------------------------------------------------------------------------

loc_156B2:				; CODE XREF: cseg04:003Dj
		mov	di, word_36C70
		mov	ax, word_36C78
		sub	ax, di
		inc	ax
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_156CA
		jmp	locret_1581C
; ---------------------------------------------------------------------------

loc_156CA:				; CODE XREF: cseg04:0055j
		mov	cx, WinSY
		cmp	word_36C78, cx
		jge	short loc_156D7
		jmp	locret_1581C
; ---------------------------------------------------------------------------

loc_156D7:				; CODE XREF: cseg04:0062j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15700
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txb
		sub	ax, txa
		imul	bx
		mov	ctdx, dx
		mov	ax, tyb
		sub	ax, tya
		imul	bx
		mov	ctdy, dx

loc_15700:				; CODE XREF: cseg04:006Ej
		mov	dx, txa
		mov	si, tya
		cmp	di, cx
		jge	short loc_15726
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		mov	di, cx

loc_15726:				; CODE XREF: cseg04:009Aj
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jg	short loc_15739
		jmp	loc_157D1
; ---------------------------------------------------------------------------

loc_15739:				; CODE XREF: cseg04:00C4j
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jnz	short loc_15743
		jmp	locret_1581C
; ---------------------------------------------------------------------------

loc_15743:				; CODE XREF: cseg04:00CEj
		jmp	loc_157D1
; ---------------------------------------------------------------------------

loc_15746:				; CODE XREF: cseg04:003Fj
		mov	di, word_36C78
		mov	ax, word_36C70
		sub	ax, di
		inc	ax
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_1575E
		jmp	locret_1581C
; ---------------------------------------------------------------------------

loc_1575E:				; CODE XREF: cseg04:00E9j
		mov	cx, WinSY
		cmp	word_36C70, cx
		jge	short loc_1576B
		jmp	locret_1581C
; ---------------------------------------------------------------------------

loc_1576B:				; CODE XREF: cseg04:00F6j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15794
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txa
		sub	ax, txb
		imul	bx
		mov	ctdx, dx
		mov	ax, tya
		sub	ax, tyb
		imul	bx
		mov	ctdy, dx

loc_15794:				; CODE XREF: cseg04:0102j
		mov	dx, txb
		mov	si, tyb
		cmp	di, cx
		jge	short loc_157BA
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		mov	di, cx

loc_157BA:				; CODE XREF: cseg04:012Ej
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jle	short loc_157D1
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jz	short locret_1581C

loc_157D1:				; CODE XREF: cseg04:00C6j
					; cseg04:loc_15743j ...
		mov	bx, di
		shl	bx, 2
		xor	edi, edi
		mov	di, x1
		add	edi, [bx-6E84h]
		mov	bx, Curdark
		push	bp
		mov	bp, si
		xor	ah, ah

loc_157EB:				; CODE XREF: cseg04:01A9j
		mov	si, bp
		mov	al, dh
		shr	si, 8
		shl	si, 6
		add	si, ax
		add	si, CSprOfs
		mov	al, fs:[si]
		mov	bx, 1358h
		xlat
		mov	bx, Curdark
		xlat
		mov	gs:[edi], al
		add	edi, VideoBPL
		add	bp, ctdy
		add	dx, ctdx
		dec	cx
		jnz	short loc_157EB
		pop	bp

locret_1581C:				; CODE XREF: cseg04:0033j cseg04:0057j ...
		leave
		retf
; ---------------------------------------------------------------------------

VLineTGlass_Recolor:
		push	bp
		mov	bp, sp
		mov	bx, x1
		shl	bx, 1
		mov	ax, [bx-7DD2h]
		cmp	ax, CurDH
		jb	short loc_15834
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_15834:				; CODE XREF: cseg04:01BFj
		mov	ax, word_36C70
		cmp	word_36C78, ax
		jge	short loc_15840
		jmp	loc_158DD
; ---------------------------------------------------------------------------

loc_15840:				; CODE XREF: cseg04:01CBj
		mov	di, word_36C70
		mov	ax, word_36C78
		sub	ax, di
		jnz	short loc_1584E
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_1584E:				; CODE XREF: cseg04:01D9j
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_1585C
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_1585C:				; CODE XREF: cseg04:01E7j
		mov	cx, WinSY
		cmp	word_36C78, cx
		jge	short loc_15869
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_15869:				; CODE XREF: cseg04:01F4j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15892
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txb
		sub	ax, txa
		imul	bx
		mov	ctdx, dx
		mov	ax, tyb
		sub	ax, tya
		imul	bx
		mov	ctdy, dx

loc_15892:				; CODE XREF: cseg04:0200j
		mov	dx, txa
		mov	si, tya
		cmp	di, cx
		jge	short loc_158BD
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jnz	short loc_158BB
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_158BB:				; CODE XREF: cseg04:0246j
		mov	di, cx

loc_158BD:				; CODE XREF: cseg04:022Cj
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jg	short loc_158D0
		jmp	loc_1596E
; ---------------------------------------------------------------------------

loc_158D0:				; CODE XREF: cseg04:025Bj
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jnz	short loc_158DA
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_158DA:				; CODE XREF: cseg04:0265j
		jmp	loc_1596E
; ---------------------------------------------------------------------------

loc_158DD:				; CODE XREF: cseg04:01CDj
		mov	di, word_36C78
		mov	ax, word_36C70
		sub	ax, di
		jnz	short loc_158EB
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_158EB:				; CODE XREF: cseg04:0276j
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_158F9
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_158F9:				; CODE XREF: cseg04:0284j
		mov	cx, WinSY
		cmp	word_36C70, cx
		jge	short loc_15906
		jmp	locret_159C1
; ---------------------------------------------------------------------------

loc_15906:				; CODE XREF: cseg04:0291j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_1592F
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txa
		sub	ax, txb
		imul	bx
		mov	ctdx, dx
		mov	ax, tya
		sub	ax, tyb
		imul	bx
		mov	ctdy, dx

loc_1592F:				; CODE XREF: cseg04:029Dj
		mov	dx, txb
		mov	si, tyb
		cmp	di, cx
		jge	short loc_15957
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jz	short locret_159C1
		mov	di, cx

loc_15957:				; CODE XREF: cseg04:02C9j
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jle	short loc_1596E
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jz	short locret_159C1

loc_1596E:				; CODE XREF: cseg04:025Dj
					; cseg04:loc_158DAj ...
		mov	bx, di
		shl	bx, 2
		xor	edi, edi
		mov	di, x1
		add	edi, [bx-6E84h]
		push	es
		push	bp
		mov	ax, RGBSeg
		mov	es, ax
		mov	bp, si
		xor	ah, ah

loc_1598A:				; CODE XREF: cseg04:034Cj
		mov	si, bp
		mov	al, dh
		shr	si, 8
		shl	si, 6
		add	si, ax
		add	si, CSprOfs
		mov	bx, 1358h
		mov	al, fs:[si]
		xlat
		mov	bl, gs:[edi]
		mov	bh, al
		mov	al, es:[bx]
		mov	gs:[edi], al
		add	edi, VideoBPL
		add	bp, ctdy
		add	dx, ctdx
		dec	cx
		jnz	short loc_1598A
		pop	bp
		pop	es
		nop

locret_159C1:				; CODE XREF: cseg04:01C1j cseg04:01DBj ...
		leave
		retf
; ---------------------------------------------------------------------------

VLineT:
		push	bp
		mov	bp, sp
		mov	bx, x1
		shl	bx, 1
		mov	ax, [bx-7DD2h]
		cmp	ax, CurDH
		jb	short loc_159D9
		jmp	locret_15B4F
; ---------------------------------------------------------------------------

loc_159D9:				; CODE XREF: cseg04:0364j
		mov	ax, word_36C70
		cmp	word_36C78, ax
		jge	short loc_159E5
		jmp	loc_15A7E
; ---------------------------------------------------------------------------

loc_159E5:				; CODE XREF: cseg04:0370j
		mov	di, word_36C70
		mov	ax, word_36C78
		sub	ax, di
		inc	ax
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_159FD
		jmp	locret_15B4F
; ---------------------------------------------------------------------------

loc_159FD:				; CODE XREF: cseg04:0388j
		mov	cx, WinSY
		cmp	word_36C78, cx
		jge	short loc_15A0A
		jmp	locret_15B4F
; ---------------------------------------------------------------------------

loc_15A0A:				; CODE XREF: cseg04:0395j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15A33
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txb
		sub	ax, txa
		imul	bx
		mov	ctdx, dx
		mov	ax, tyb
		sub	ax, tya
		imul	bx
		mov	ctdy, dx

loc_15A33:				; CODE XREF: cseg04:03A1j
		mov	dx, txa
		mov	si, tya
		cmp	di, cx
		jge	short loc_15A5E
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jnz	short loc_15A5C
		jmp	locret_15B4F
; ---------------------------------------------------------------------------

loc_15A5C:				; CODE XREF: cseg04:03E7j
		mov	di, cx

loc_15A5E:				; CODE XREF: cseg04:03CDj
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jg	short loc_15A71
		jmp	loc_15B0B
; ---------------------------------------------------------------------------

loc_15A71:				; CODE XREF: cseg04:03FCj
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jnz	short loc_15A7B
		jmp	locret_15B4F
; ---------------------------------------------------------------------------

loc_15A7B:				; CODE XREF: cseg04:0406j
		jmp	loc_15B0B
; ---------------------------------------------------------------------------

loc_15A7E:				; CODE XREF: cseg04:0372j
		mov	di, word_36C78
		mov	ax, word_36C70
		sub	ax, di
		inc	ax
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_15A96
		jmp	locret_15B4F
; ---------------------------------------------------------------------------

loc_15A96:				; CODE XREF: cseg04:0421j
		mov	cx, WinSY
		cmp	word_36C70, cx
		jge	short loc_15AA3
		jmp	locret_15B4F
; ---------------------------------------------------------------------------

loc_15AA3:				; CODE XREF: cseg04:042Ej
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15ACC
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txa
		sub	ax, txb
		imul	bx
		mov	ctdx, dx
		mov	ax, tya
		sub	ax, tyb
		imul	bx
		mov	ctdy, dx

loc_15ACC:				; CODE XREF: cseg04:043Aj
		mov	dx, txb
		mov	si, tyb
		cmp	di, cx
		jge	short loc_15AF4
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jz	short locret_15B4F
		mov	di, cx

loc_15AF4:				; CODE XREF: cseg04:0466j
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jle	short loc_15B0B
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jz	short locret_15B4F

loc_15B0B:				; CODE XREF: cseg04:03FEj
					; cseg04:loc_15A7Bj ...
		mov	bx, di
		shl	bx, 2
		xor	edi, edi
		mov	di, x1
		add	edi, [bx-6E84h]
		mov	bx, Curdark
		push	bp
		mov	bp, si

loc_15B23:				; CODE XREF: cseg04:04DCj
		mov	si, bp
		mov	ax, dx
		shr	si, 8
		shr	ax, 8
		shl	si, 6
		add	si, ax
		add	si, CSprOfs
		mov	al, fs:[si]
		xlat
		mov	gs:[edi], al
		add	bp, ctdy
		add	edi, VideoBPL
		add	dx, ctdx
		dec	cx
		jnz	short loc_15B23
		pop	bp

locret_15B4F:				; CODE XREF: cseg04:0366j cseg04:038Aj ...
		leave
		retf
; ---------------------------------------------------------------------------

VLineTGlass:
		push	bp
		mov	bp, sp
		mov	bx, x1
		shl	bx, 1
		mov	ax, [bx-7DD2h]
		cmp	ax, CurDH
		jb	short loc_15B67
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15B67:				; CODE XREF: cseg04:04F2j
		mov	ax, word_36C70
		cmp	word_36C78, ax
		jge	short loc_15B73
		jmp	loc_15C10
; ---------------------------------------------------------------------------

loc_15B73:				; CODE XREF: cseg04:04FEj
		mov	di, word_36C70
		mov	ax, word_36C78
		sub	ax, di
		jnz	short loc_15B81
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15B81:				; CODE XREF: cseg04:050Cj
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_15B8F
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15B8F:				; CODE XREF: cseg04:051Aj
		mov	cx, WinSY
		cmp	word_36C78, cx
		jge	short loc_15B9C
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15B9C:				; CODE XREF: cseg04:0527j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15BC5
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txb
		sub	ax, txa
		imul	bx
		mov	ctdx, dx
		mov	ax, tyb
		sub	ax, tya
		imul	bx
		mov	ctdy, dx

loc_15BC5:				; CODE XREF: cseg04:0533j
		mov	dx, txa
		mov	si, tya
		cmp	di, cx
		jge	short loc_15BF0
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jnz	short loc_15BEE
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15BEE:				; CODE XREF: cseg04:0579j
		mov	di, cx

loc_15BF0:				; CODE XREF: cseg04:055Fj
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jg	short loc_15C03
		jmp	loc_15CA1
; ---------------------------------------------------------------------------

loc_15C03:				; CODE XREF: cseg04:058Ej
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jnz	short loc_15C0D
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15C0D:				; CODE XREF: cseg04:0598j
		jmp	loc_15CA1
; ---------------------------------------------------------------------------

loc_15C10:				; CODE XREF: cseg04:0500j
		mov	di, word_36C78
		mov	ax, word_36C70
		sub	ax, di
		jnz	short loc_15C1E
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15C1E:				; CODE XREF: cseg04:05A9j
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_15C2C
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15C2C:				; CODE XREF: cseg04:05B7j
		mov	cx, WinSY
		cmp	word_36C70, cx
		jge	short loc_15C39
		jmp	locret_15CF0
; ---------------------------------------------------------------------------

loc_15C39:				; CODE XREF: cseg04:05C4j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15C62
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txa
		sub	ax, txb
		imul	bx
		mov	ctdx, dx
		mov	ax, tya
		sub	ax, tyb
		imul	bx
		mov	ctdy, dx

loc_15C62:				; CODE XREF: cseg04:05D0j
		mov	dx, txb
		mov	si, tyb
		cmp	di, cx
		jge	short loc_15C8A
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jz	short locret_15CF0
		mov	di, cx

loc_15C8A:				; CODE XREF: cseg04:05FCj
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jle	short loc_15CA1
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jz	short locret_15CF0

loc_15CA1:				; CODE XREF: cseg04:0590j
					; cseg04:loc_15C0Dj ...
		mov	bx, di
		shl	bx, 2
		xor	edi, edi
		mov	di, x1
		add	edi, [bx-6E84h]
		push	es
		push	bp
		mov	ax, RGBSeg
		mov	es, ax
		mov	bp, si
		xor	ah, ah

loc_15CBD:				; CODE XREF: cseg04:067Cj
		mov	si, bp
		mov	ax, dx
		shr	si, 8
		shr	ax, 8
		shl	si, 6
		add	si, ax
		add	si, CSprOfs
		mov	bh, fs:[si]
		mov	bl, gs:[edi]
		mov	al, es:[bx]
		mov	gs:[edi], al
		add	edi, VideoBPL
		add	bp, ctdy
		add	dx, ctdx
		dec	cx
		jnz	short loc_15CBD
		pop	bp
		pop	es

locret_15CF0:				; CODE XREF: cseg04:04F4j cseg04:050Ej ...
		leave
		retf
; ---------------------------------------------------------------------------

VLineTGlass60:
		push	bp
		mov	bp, sp
		mov	bx, x1
		shl	bx, 1
		mov	ax, [bx-7DD2h]
		cmp	ax, CurDH
		jb	short loc_15D08
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15D08:				; CODE XREF: cseg04:0693j
		mov	ax, word_36C70
		cmp	word_36C78, ax
		jge	short loc_15D14
		jmp	loc_15DB1
; ---------------------------------------------------------------------------

loc_15D14:				; CODE XREF: cseg04:069Fj
		mov	di, word_36C70
		mov	ax, word_36C78
		sub	ax, di
		jnz	short loc_15D22
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15D22:				; CODE XREF: cseg04:06ADj
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_15D30
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15D30:				; CODE XREF: cseg04:06BBj
		mov	cx, WinSY
		cmp	word_36C78, cx
		jge	short loc_15D3D
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15D3D:				; CODE XREF: cseg04:06C8j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15D66
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txb
		sub	ax, txa
		imul	bx
		mov	ctdx, dx
		mov	ax, tyb
		sub	ax, tya
		imul	bx
		mov	ctdy, dx

loc_15D66:				; CODE XREF: cseg04:06D4j
		mov	dx, txa
		mov	si, tya
		cmp	di, cx
		jge	short loc_15D91
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jnz	short loc_15D8F
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15D8F:				; CODE XREF: cseg04:071Aj
		mov	di, cx

loc_15D91:				; CODE XREF: cseg04:0700j
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jg	short loc_15DA4
		jmp	loc_15E42
; ---------------------------------------------------------------------------

loc_15DA4:				; CODE XREF: cseg04:072Fj
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jnz	short loc_15DAE
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15DAE:				; CODE XREF: cseg04:0739j
		jmp	loc_15E42
; ---------------------------------------------------------------------------

loc_15DB1:				; CODE XREF: cseg04:06A1j
		mov	di, word_36C78
		mov	ax, word_36C70
		sub	ax, di
		jnz	short loc_15DBF
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15DBF:				; CODE XREF: cseg04:074Aj
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_15DCD
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15DCD:				; CODE XREF: cseg04:0758j
		mov	cx, WinSY
		cmp	word_36C70, cx
		jge	short loc_15DDA
		jmp	locret_15E91
; ---------------------------------------------------------------------------

loc_15DDA:				; CODE XREF: cseg04:0765j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15E03
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txa
		sub	ax, txb
		imul	bx
		mov	ctdx, dx
		mov	ax, tya
		sub	ax, tyb
		imul	bx
		mov	ctdy, dx

loc_15E03:				; CODE XREF: cseg04:0771j
		mov	dx, txb
		mov	si, tyb
		cmp	di, cx
		jge	short loc_15E2B
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jz	short locret_15E91
		mov	di, cx

loc_15E2B:				; CODE XREF: cseg04:079Dj
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jle	short loc_15E42
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jz	short locret_15E91

loc_15E42:				; CODE XREF: cseg04:0731j
					; cseg04:loc_15DAEj ...
		mov	bx, di
		shl	bx, 2
		xor	edi, edi
		mov	di, x1
		add	edi, [bx-6E84h]
		push	es
		push	bp
		mov	ax, RGBSeg60
		mov	es, ax
		mov	bp, si
		xor	ah, ah

loc_15E5E:				; CODE XREF: cseg04:081Dj
		mov	si, bp
		mov	ax, dx
		shr	si, 8
		shr	ax, 8
		shl	si, 6
		add	si, ax
		add	si, CSprOfs
		mov	bh, fs:[si]
		mov	bl, gs:[edi]
		mov	al, es:[bx]
		mov	gs:[edi], al
		add	edi, VideoBPL
		add	bp, ctdy
		add	dx, ctdx
		dec	cx
		jnz	short loc_15E5E
		pop	bp
		pop	es

locret_15E91:				; CODE XREF: cseg04:0695j cseg04:06AFj ...
		leave
		retf
; ---------------------------------------------------------------------------

VLineTFF:
		push	bp
		mov	bp, sp
		mov	bx, x1
		shl	bx, 1
		mov	ax, [bx-7DD2h]
		cmp	ax, CurDH
		jbe	short loc_15EA9
		jmp	locret_16025
; ---------------------------------------------------------------------------

loc_15EA9:				; CODE XREF: cseg04:0834j
		mov	ax, word_36C70
		cmp	word_36C78, ax
		jge	short loc_15EB5
		jmp	loc_15F4E
; ---------------------------------------------------------------------------

loc_15EB5:				; CODE XREF: cseg04:0840j
		mov	di, word_36C70
		mov	ax, word_36C78
		sub	ax, di
		inc	ax
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_15ECD
		jmp	locret_16025
; ---------------------------------------------------------------------------

loc_15ECD:				; CODE XREF: cseg04:0858j
		mov	cx, WinSY
		cmp	word_36C78, cx
		jge	short loc_15EDA
		jmp	locret_16025
; ---------------------------------------------------------------------------

loc_15EDA:				; CODE XREF: cseg04:0865j
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15F03
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txb
		sub	ax, txa
		imul	bx
		mov	ctdx, dx
		mov	ax, tyb
		sub	ax, tya
		imul	bx
		mov	ctdy, dx

loc_15F03:				; CODE XREF: cseg04:0871j
		mov	dx, txa
		mov	si, tya
		cmp	di, cx
		jge	short loc_15F2E
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jnz	short loc_15F2C
		jmp	locret_16025
; ---------------------------------------------------------------------------

loc_15F2C:				; CODE XREF: cseg04:08B7j
		mov	di, cx

loc_15F2E:				; CODE XREF: cseg04:089Dj
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jg	short loc_15F41
		jmp	loc_15FDB
; ---------------------------------------------------------------------------

loc_15F41:				; CODE XREF: cseg04:08CCj
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jnz	short loc_15F4B
		jmp	locret_16025
; ---------------------------------------------------------------------------

loc_15F4B:				; CODE XREF: cseg04:08D6j
		jmp	loc_15FDB
; ---------------------------------------------------------------------------

loc_15F4E:				; CODE XREF: cseg04:0842j
		mov	di, word_36C78
		mov	ax, word_36C70
		sub	ax, di
		inc	ax
		mov	lnH, ax
		mov	cx, WinEY
		cmp	di, cx
		jle	short loc_15F66
		jmp	locret_16025
; ---------------------------------------------------------------------------

loc_15F66:				; CODE XREF: cseg04:08F1j
		mov	cx, WinSY
		cmp	word_36C70, cx
		jge	short loc_15F73
		jmp	locret_16025
; ---------------------------------------------------------------------------

loc_15F73:				; CODE XREF: cseg04:08FEj
		mov	bx, lnH
		cmp	bx, 1
		jle	short loc_15F9C
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, txa
		sub	ax, txb
		imul	bx
		mov	ctdx, dx
		mov	ax, tya
		sub	ax, tyb
		imul	bx
		mov	ctdy, dx

loc_15F9C:				; CODE XREF: cseg04:090Aj
		mov	dx, txb
		mov	si, tyb
		cmp	di, cx
		jge	short loc_15FC4
		mov	bx, cx
		sub	bx, di
		push	dx
		mov	ax, ctdy
		mul	bx
		add	si, ax
		mov	ax, ctdx
		mul	bx
		pop	dx
		add	dx, ax
		sub	lnH, bx
		jz	short locret_16025
		mov	di, cx

loc_15FC4:				; CODE XREF: cseg04:0936j
		mov	cx, lnH
		mov	bx, WinEY
		mov	ax, cx
		add	ax, di
		cmp	ax, bx
		jle	short loc_15FDB
		inc	bx
		sub	ax, bx
		sub	cx, ax
		jz	short locret_16025

loc_15FDB:				; CODE XREF: cseg04:08CEj
					; cseg04:loc_15F4Bj ...
		mov	bx, di
		shl	bx, 2
		xor	edi, edi
		mov	di, x1
		add	edi, [bx-6E84h]
		mov	bx, Curdark
		push	bp
		mov	bp, si
		xor	ah, ah

loc_15FF5:				; CODE XREF: cseg04:09B2j
		mov	si, bp
		mov	ax, dx
		shr	si, 8
		shr	ax, 8
		shl	si, 6
		add	si, ax
		add	si, CSprOfs
		mov	al, fs:[si]
		cmp	al, 0
		jz	short loc_16014
		xlat
		mov	gs:[edi], al

loc_16014:				; CODE XREF: cseg04:099Dj
		add	edi, VideoBPL
		add	bp, ctdy
		add	dx, ctdx
		dec	cx
		jnz	short loc_15FF5
		pop	bp

locret_16025:				; CODE XREF: cseg04:0836j cseg04:085Aj ...
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

VLineD		proc far		; CODE XREF: DrawTriFaceSh+194P
					; DrawTriFaceSh+1DCP ...
		push	bp
		mov	bp, sp
		mov	bx, x1
		shl	bx, 1
		mov	ax, [bx-7DD2h]
		cmp	ax, CurDH
		jb	short loc_1603D
		jmp	locret_160C0
; ---------------------------------------------------------------------------

loc_1603D:				; CODE XREF: VLineD+11j
		mov	ax, word_36C70
		cmp	word_36C78, ax
		jl	short loc_1606D
		mov	di, word_36C70
		mov	si, word_36C78
		mov	cx, WinEY
		cmp	di, cx
		jg	short locret_160C0
		inc	cx
		cmp	si, cx
		jle	short loc_1605D
		mov	si, cx

loc_1605D:				; CODE XREF: VLineD+32j
		mov	cx, WinSY
		cmp	si, cx
		jl	short locret_160C0
		cmp	di, cx
		jge	short loc_1606B
		mov	di, cx

loc_1606B:				; CODE XREF: VLineD+40j
		jmp	short loc_16094
; ---------------------------------------------------------------------------

loc_1606D:				; CODE XREF: VLineD+1Dj
		mov	di, word_36C78
		mov	si, word_36C70
		mov	cx, WinEY
		cmp	di, cx
		jg	short locret_160C0
		inc	cx
		cmp	si, cx
		jle	short loc_16084
		mov	si, cx

loc_16084:				; CODE XREF: VLineD+59j
		mov	cx, WinSY
		cmp	si, cx
		jl	short locret_160C0
		cmp	di, cx
		jge	short loc_16092
		mov	di, cx

loc_16092:				; CODE XREF: VLineD+67j
		jmp	short $+2

loc_16094:				; CODE XREF: VLineD:loc_1606Bj
		mov	cx, si
		sub	cx, di
		jz	short locret_160C0
		mov	bx, di
		shl	bx, 2
		xor	edi, edi
		mov	di, x1
		add	edi, [bx-6E84h]
		mov	bx, ShLevel

loc_160AF:				; CODE XREF: VLineD+97j
		mov	al, gs:[edi]
		xlat
		mov	gs:[edi], al
		add	edi, VideoBPL
		dec	cx
		jnz	short loc_160AF

locret_160C0:				; CODE XREF: VLineD+13j VLineD+2Dj ...
		leave
		retf
VLineD		endp


; =============== S U B	R O U T	I N E =======================================


DrawTriFace	proc far		; CODE XREF: DrawFaces+7AP
					; DrawFacesNoCheck+48P
		mov	di, es:[si]
		shl	di, 2
		mov	bx, es:[di+4400h]
		mov	di, es:[si+2]
		shl	di, 2
		mov	cx, es:[di+4400h]
		mov	di, es:[si+4]
		shl	di, 2
		mov	dx, es:[di+4400h]
		cmp	bx, cx
		jge	short loc_1610F
		cmp	bx, dx
		jge	short loc_160F5
		mov	v1, 0
		jmp	short loc_160FB
; ---------------------------------------------------------------------------

loc_160F5:				; CODE XREF: DrawTriFace+29j
		mov	v1, 2

loc_160FB:				; CODE XREF: DrawTriFace+31j
		cmp	cx, dx
		jl	short loc_16107
		mov	v3, 1
		jmp	short loc_1610D
; ---------------------------------------------------------------------------

loc_16107:				; CODE XREF: DrawTriFace+3Bj
		mov	v3, 2

loc_1610D:				; CODE XREF: DrawTriFace+43j
		jmp	short loc_16133
; ---------------------------------------------------------------------------

loc_1610F:				; CODE XREF: DrawTriFace+25j
		cmp	cx, dx
		jge	short loc_1611B
		mov	v1, 1
		jmp	short loc_16121
; ---------------------------------------------------------------------------

loc_1611B:				; CODE XREF: DrawTriFace+4Fj
		mov	v1, 2

loc_16121:				; CODE XREF: DrawTriFace+57j
		cmp	bx, dx
		jl	short loc_1612D
		mov	v3, 0
		jmp	short loc_16133
; ---------------------------------------------------------------------------

loc_1612D:				; CODE XREF: DrawTriFace+61j
		mov	v3, 2

loc_16133:				; CODE XREF: DrawTriFace:loc_1610Dj
					; DrawTriFace+69j
		mov	ax, 0
		cmp	ax, v1
		jz	short loc_16144
		cmp	ax, v3
		jz	short loc_16144
		jmp	short loc_16154
; ---------------------------------------------------------------------------

loc_16144:				; CODE XREF: DrawTriFace+78j
					; DrawTriFace+7Ej
		inc	ax
		cmp	ax, v1
		jz	short loc_16153
		cmp	ax, v3
		jz	short loc_16153
		jmp	short loc_16154
; ---------------------------------------------------------------------------

loc_16153:				; CODE XREF: DrawTriFace+87j
					; DrawTriFace+8Dj
		inc	ax

loc_16154:				; CODE XREF: DrawTriFace+80j
					; DrawTriFace+8Fj
		mov	v2, ax
		mov	bx, v1
		shl	bx, 2
		mov	ax, es:[bx+si+8]
		mov	tx1, ax
		mov	ax, es:[bx+si+0Ah]
		mov	ty1, ax
		shr	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x1, ax
		mov	ax, es:[di+2]
		mov	y1, ax
		mov	bx, v2
		shl	bx, 2
		mov	ax, es:[bx+si+8]
		mov	tx2, ax
		mov	ax, es:[bx+si+0Ah]
		mov	ty2, ax
		shr	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x2, ax
		mov	ax, es:[di+2]
		mov	y2, ax
		mov	bx, v3
		shl	bx, 2
		mov	ax, es:[bx+si+8]
		mov	tx3, ax
		mov	ax, es:[bx+si+0Ah]
		mov	ty3, ax
		shr	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x3, ax
		mov	ax, es:[di+2]
		mov	y3, ax
		mov	ax, x2
		sub	ax, x1
		mov	L1, ax
		mov	ax, x3
		sub	ax, x2
		mov	L2, ax
		mov	ax, x3
		sub	ax, x1
		mov	L3, ax
		mov	ax, tx1
		mov	txa, ax
		mov	txb, ax
		mov	ax, ty1
		mov	tya, ax
		mov	tyb, ax
		mov	ax, y1
		mov	word_36C70, ax
		mov	Ya, 8000h
		mov	word_36C78, ax
		mov	Yb, 8000h
		mov	bx, L1
		cmp	bx, 0
		jz	short loc_16260
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx2
		sub	ax, tx1
		imul	bx
		mov	dtx1, dx
		mov	ax, ty2
		sub	ax, ty1
		imul	bx
		mov	dty1, dx
		mov	ax, y2
		sub	ax, y1
		imul	bx
		mov	word_36C80, dx
		nop
		mov	dy1, ax

loc_16260:				; CODE XREF: DrawTriFace+16Bj
		mov	bx, L2
		cmp	bx, 0
		jz	short loc_1629A
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx3
		sub	ax, tx2
		imul	bx
		mov	dtx2, dx
		mov	ax, ty3
		sub	ax, ty2
		imul	bx
		mov	dty2, dx
		mov	ax, y3
		sub	ax, y2
		imul	bx
		mov	word_36C84, dx
		nop
		mov	dy2, ax

loc_1629A:				; CODE XREF: DrawTriFace+1A5j
		mov	bx, L3
		cmp	bx, 0
		jz	short loc_162D4
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx3
		sub	ax, tx1
		imul	bx
		mov	dtx3, dx
		mov	ax, ty3
		sub	ax, ty1
		imul	bx
		mov	dty3, dx
		mov	ax, y3
		sub	ax, y1
		imul	bx
		mov	word_36C88, dx
		nop
		mov	dy3, ax

loc_162D4:				; CODE XREF: DrawTriFace+1DFj
					; DrawTriFace+26Aj
		mov	ax, x1
		cmp	ax, x2
		jge	short loc_1632E
		cmp	ax, WinSX
		jl	short loc_162F0
		cmp	ax, WinEX
		jle	short loc_162EC
		jmp	locret_1639D
; ---------------------------------------------------------------------------

loc_162EC:				; CODE XREF: DrawTriFace+225j
		call	DrawRout

loc_162F0:				; CODE XREF: DrawTriFace+21Fj
		mov	ax, dtx3
		add	txa, ax
		mov	ax, dty3
		add	tya, ax
		mov	ax, dy3
		add	Ya, ax
		mov	ax, word_36C88
		adc	word_36C70, ax
		mov	ax, dtx1
		add	txb, ax
		mov	ax, dty1
		add	tyb, ax
		mov	ax, dy1
		add	Yb, ax
		mov	ax, word_36C80
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_162D4
; ---------------------------------------------------------------------------

loc_1632E:				; CODE XREF: DrawTriFace+219j
		mov	ax, tx2
		mov	txb, ax
		mov	ax, ty2
		mov	tyb, ax
		mov	ax, y2
		mov	word_36C78, ax
		mov	Yb, 8000h

loc_16346:				; CODE XREF: DrawTriFace+2D9j
		mov	ax, x1
		cmp	ax, x3
		jge	short locret_1639D
		cmp	ax, WinSX
		jl	short loc_1635F
		cmp	ax, WinEX
		jg	short locret_1639D
		call	DrawRout

loc_1635F:				; CODE XREF: DrawTriFace+291j
		mov	ax, dtx3
		add	txa, ax
		mov	ax, dty3
		add	tya, ax
		mov	ax, dy3
		add	Ya, ax
		mov	ax, word_36C88
		adc	word_36C70, ax
		mov	ax, dtx2
		add	txb, ax
		mov	ax, dty2
		add	tyb, ax
		mov	ax, dy2
		add	Yb, ax
		mov	ax, word_36C84
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_16346
; ---------------------------------------------------------------------------

locret_1639D:				; CODE XREF: DrawTriFace+227j
					; DrawTriFace+28Bj ...
		retf
DrawTriFace	endp


; =============== S U B	R O U T	I N E =======================================


DrawFourFace1234 proc far		; CODE XREF: DrawFourFace:loc_169ECP
		mov	ax, x2
		sub	ax, x1
		mov	L1, ax
		mov	ax, x4
		sub	ax, x2
		mov	L2, ax
		mov	ax, x3
		sub	ax, x1
		mov	L3, ax
		mov	ax, x4
		sub	ax, x3
		mov	l4, ax
		mov	ax, tx1
		mov	txa, ax
		mov	txb, ax
		mov	ax, ty1
		mov	tya, ax
		mov	tyb, ax
		mov	ax, y1
		mov	word_36C70, ax
		mov	Ya, 8000h
		mov	word_36C78, ax
		mov	Yb, 8000h
		mov	bx, L1
		cmp	bx, 0
		jz	short loc_16427
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx2
		sub	ax, tx1
		imul	bx
		mov	dtx1, dx
		mov	ax, ty2
		sub	ax, ty1
		imul	bx
		mov	dty1, dx
		mov	ax, y2
		sub	ax, y1
		imul	bx
		mov	word_36C80, dx
		nop
		mov	dy1, ax

loc_16427:				; CODE XREF: DrawFourFace1234+56j
		mov	bx, L2
		cmp	bx, 0
		jz	short loc_16461
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx4
		sub	ax, tx2
		imul	bx
		mov	dtx2, dx
		mov	ax, ty4
		sub	ax, ty2
		imul	bx
		mov	dty2, dx
		mov	ax, y4
		sub	ax, y2
		imul	bx
		mov	word_36C84, dx
		nop
		mov	dy2, ax

loc_16461:				; CODE XREF: DrawFourFace1234+90j
		mov	bx, L3
		cmp	bx, 0
		jz	short loc_1649B
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx3
		sub	ax, tx1
		imul	bx
		mov	dtx3, dx
		mov	ax, ty3
		sub	ax, ty1
		imul	bx
		mov	dty3, dx
		mov	ax, y3
		sub	ax, y1
		imul	bx
		mov	word_36C88, dx
		nop
		mov	dy3, ax

loc_1649B:				; CODE XREF: DrawFourFace1234+CAj
		mov	bx, l4
		cmp	bx, 0
		jz	short loc_164D5
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx4
		sub	ax, tx3
		imul	bx
		mov	dtx4, dx
		mov	ax, ty4
		sub	ax, ty3
		imul	bx
		mov	dty4, dx
		mov	ax, y4
		sub	ax, y3
		imul	bx
		mov	word_36C8C, dx
		nop
		mov	dy4, ax

loc_164D5:				; CODE XREF: DrawFourFace1234+104j
					; DrawFourFace1234+18Fj
		mov	ax, x1
		cmp	ax, x2
		jge	short loc_1652F
		cmp	ax, WinSX
		jl	short loc_164F1
		cmp	ax, WinEX
		jle	short loc_164ED
		jmp	locret_16610
; ---------------------------------------------------------------------------

loc_164ED:				; CODE XREF: DrawFourFace1234+14Aj
		call	DrawRout

loc_164F1:				; CODE XREF: DrawFourFace1234+144j
		mov	ax, dtx1
		add	txa, ax
		mov	ax, dty1
		add	tya, ax
		mov	ax, dy1
		add	Ya, ax
		mov	ax, word_36C80
		adc	word_36C70, ax
		mov	ax, dtx3
		add	txb, ax
		mov	ax, dty3
		add	tyb, ax
		mov	ax, dy3
		add	Yb, ax
		mov	ax, word_36C88
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_164D5
; ---------------------------------------------------------------------------

loc_1652F:				; CODE XREF: DrawFourFace1234+13Ej
		mov	ax, tx2
		mov	txa, ax
		mov	ax, ty2
		mov	tya, ax
		mov	ax, y2
		mov	word_36C70, ax
		mov	Ya, 8000h

loc_16547:				; CODE XREF: DrawFourFace1234+201j
		mov	ax, x1
		cmp	ax, x3
		jge	short loc_165A1
		cmp	ax, WinSX
		jl	short loc_16563
		cmp	ax, WinEX
		jle	short loc_1655F
		jmp	locret_16610
; ---------------------------------------------------------------------------

loc_1655F:				; CODE XREF: DrawFourFace1234+1BCj
		call	DrawRout

loc_16563:				; CODE XREF: DrawFourFace1234+1B6j
		mov	ax, dtx2
		add	txa, ax
		mov	ax, dty2
		add	tya, ax
		mov	ax, dy2
		add	Ya, ax
		mov	ax, word_36C84
		adc	word_36C70, ax
		mov	ax, dtx3
		add	txb, ax
		mov	ax, dty3
		add	tyb, ax
		mov	ax, dy3
		add	Yb, ax
		mov	ax, word_36C88
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_16547
; ---------------------------------------------------------------------------

loc_165A1:				; CODE XREF: DrawFourFace1234+1B0j
		mov	ax, tx3
		mov	txb, ax
		mov	ax, ty3
		mov	tyb, ax
		mov	ax, y3
		mov	word_36C78, ax
		mov	Yb, 8000h

loc_165B9:				; CODE XREF: DrawFourFace1234+270j
		mov	ax, x1
		cmp	ax, x4
		jge	short locret_16610
		cmp	ax, WinSX
		jl	short loc_165D2
		cmp	ax, WinEX
		jg	short locret_16610
		call	DrawRout

loc_165D2:				; CODE XREF: DrawFourFace1234+228j
		mov	ax, dtx2
		add	txa, ax
		mov	ax, dty2
		add	tya, ax
		mov	ax, dy2
		add	Ya, ax
		mov	ax, word_36C84
		adc	word_36C70, ax
		mov	ax, dtx4
		add	txb, ax
		mov	ax, dty4
		add	tyb, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_165B9
; ---------------------------------------------------------------------------

locret_16610:				; CODE XREF: DrawFourFace1234+14Cj
					; DrawFourFace1234+1BEj ...
		retf
DrawFourFace1234 endp


; =============== S U B	R O U T	I N E =======================================


DrawFourFace1243 proc far		; CODE XREF: DrawFourFace:loc_169F3P
		mov	ax, x2
		sub	ax, x1
		mov	L1, ax
		mov	ax, x3
		sub	ax, x2
		mov	L2, ax
		mov	ax, x4
		sub	ax, x3
		mov	L3, ax
		mov	ax, x4
		sub	ax, x1
		mov	l4, ax
		mov	ax, tx1
		mov	txa, ax
		mov	txb, ax
		mov	ax, ty1
		mov	tya, ax
		mov	tyb, ax
		mov	ax, y1
		mov	word_36C70, ax
		mov	Ya, 8000h
		mov	word_36C78, ax
		mov	Yb, 8000h
		mov	bx, L1
		cmp	bx, 0
		jz	short loc_1669A
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx2
		sub	ax, tx1
		imul	bx
		mov	dtx1, dx
		mov	ax, ty2
		sub	ax, ty1
		imul	bx
		mov	dty1, dx
		mov	ax, y2
		sub	ax, y1
		imul	bx
		mov	word_36C80, dx
		nop
		mov	dy1, ax

loc_1669A:				; CODE XREF: DrawFourFace1243+56j
		mov	bx, L2
		cmp	bx, 0
		jz	short loc_166D4
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx3
		sub	ax, tx2
		imul	bx
		mov	dtx2, dx
		mov	ax, ty3
		sub	ax, ty2
		imul	bx
		mov	dty2, dx
		mov	ax, y3
		sub	ax, y2
		imul	bx
		mov	word_36C84, dx
		nop
		mov	dy2, ax

loc_166D4:				; CODE XREF: DrawFourFace1243+90j
		mov	bx, L3
		cmp	bx, 0
		jz	short loc_1670E
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx4
		sub	ax, tx3
		imul	bx
		mov	dtx3, dx
		mov	ax, ty4
		sub	ax, ty3
		imul	bx
		mov	dty3, dx
		mov	ax, y4
		sub	ax, y3
		imul	bx
		mov	word_36C88, dx
		nop
		mov	dy3, ax

loc_1670E:				; CODE XREF: DrawFourFace1243+CAj
		mov	bx, l4
		cmp	bx, 0
		jz	short loc_16748
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		mov	ax, tx4
		sub	ax, tx1
		imul	bx
		mov	dtx4, dx
		mov	ax, ty4
		sub	ax, ty1
		imul	bx
		mov	dty4, dx
		mov	ax, y4
		sub	ax, y1
		imul	bx
		mov	word_36C8C, dx
		nop
		mov	dy4, ax

loc_16748:				; CODE XREF: DrawFourFace1243+104j
					; DrawFourFace1243+18Fj
		mov	ax, x1
		cmp	ax, x2
		jge	short loc_167A2
		cmp	ax, WinSX
		jl	short loc_16764
		cmp	ax, WinEX
		jle	short loc_16760
		jmp	locret_16883
; ---------------------------------------------------------------------------

loc_16760:				; CODE XREF: DrawFourFace1243+14Aj
		call	DrawRout

loc_16764:				; CODE XREF: DrawFourFace1243+144j
		mov	ax, dtx1
		add	txa, ax
		mov	ax, dty1
		add	tya, ax
		mov	ax, dy1
		add	Ya, ax
		mov	ax, word_36C80
		adc	word_36C70, ax
		mov	ax, dtx4
		add	txb, ax
		mov	ax, dty4
		add	tyb, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_16748
; ---------------------------------------------------------------------------

loc_167A2:				; CODE XREF: DrawFourFace1243+13Ej
		mov	ax, tx2
		mov	txa, ax
		mov	ax, ty2
		mov	tya, ax
		mov	ax, y2
		mov	word_36C70, ax
		mov	Ya, 8000h

loc_167BA:				; CODE XREF: DrawFourFace1243+201j
		mov	ax, x1
		cmp	ax, x3
		jge	short loc_16814
		cmp	ax, WinSX
		jl	short loc_167D6
		cmp	ax, WinEX
		jle	short loc_167D2
		jmp	locret_16883
; ---------------------------------------------------------------------------

loc_167D2:				; CODE XREF: DrawFourFace1243+1BCj
		call	DrawRout

loc_167D6:				; CODE XREF: DrawFourFace1243+1B6j
		mov	ax, dtx2
		add	txa, ax
		mov	ax, dty2
		add	tya, ax
		mov	ax, dy2
		add	Ya, ax
		mov	ax, word_36C84
		adc	word_36C70, ax
		mov	ax, dtx4
		add	txb, ax
		mov	ax, dty4
		add	tyb, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_167BA
; ---------------------------------------------------------------------------

loc_16814:				; CODE XREF: DrawFourFace1243+1B0j
		mov	ax, tx3
		mov	txa, ax
		mov	ax, ty3
		mov	tya, ax
		mov	ax, y3
		mov	word_36C70, ax
		mov	Ya, 8000h

loc_1682C:				; CODE XREF: DrawFourFace1243+270j
		mov	ax, x1
		cmp	ax, x4
		jge	short locret_16883
		cmp	ax, WinSX
		jl	short loc_16845
		cmp	ax, WinEX
		jg	short locret_16883
		call	DrawRout

loc_16845:				; CODE XREF: DrawFourFace1243+228j
		mov	ax, dtx3
		add	txa, ax
		mov	ax, dty3
		add	tya, ax
		mov	ax, dy3
		add	Ya, ax
		mov	ax, word_36C88
		adc	word_36C70, ax
		mov	ax, dtx4
		add	txb, ax
		mov	ax, dty4
		add	tyb, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_1682C
; ---------------------------------------------------------------------------

locret_16883:				; CODE XREF: DrawFourFace1243+14Cj
					; DrawFourFace1243+1BEj ...
		retf
DrawFourFace1243 endp


; =============== S U B	R O U T	I N E =======================================


DrawFourFace	proc far		; CODE XREF: DrawFaces:loc_16A7AP
					; DrawFacesNoCheck:loc_16AD7P
		mov	Lx1, 3E8h
		mov	Lx2, 0FC18h
		mov	cx, 4
		mov	adx, 0

loc_16899:				; CODE XREF: DrawFourFace+42j
		mov	di, es:[si]
		shl	di, 2
		mov	ax, es:[di+4400h]
		cmp	ax, Lx1
		jg	short loc_168B1
		mov	Lx1, ax
		mov	bx, adx

loc_168B1:				; CODE XREF: DrawFourFace+24j
		cmp	ax, Lx2
		jl	short loc_168BE
		mov	Lx2, ax
		mov	dx, adx

loc_168BE:				; CODE XREF: DrawFourFace+31j
		add	si, 2
		inc	adx
		dec	cx
		jnz	short loc_16899
		sub	si, 8
		mov	v1, bx
		mov	v4, dx
		shl	bx, 2
		add	bx, dx
		nop
		shl	bx, 2
		mov	ax, [bx+12B0h]
		mov	bx, [bx+12B2h]
		mov	v2, ax
		mov	v3, bx
		mov	bx, v2
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		mov	cx, es:[di+4400h]
		mov	bx, v3
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		mov	dx, es:[di+4400h]
		cmp	cx, dx
		jle	short loc_16921
		push	v2
		push	v3
		pop	v2
		pop	v3

loc_16921:				; CODE XREF: DrawFourFace+8Bj
		mov	bx, v1
		shl	bx, 2
		mov	ax, es:[bx+si+8]
		mov	tx1, ax
		mov	ax, es:[bx+si+0Ah]
		mov	ty1, ax
		shr	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x1, ax
		mov	ax, es:[di+2]
		mov	y1, ax
		mov	bx, v2
		shl	bx, 2
		mov	ax, es:[bx+si+8]
		mov	tx2, ax
		mov	ax, es:[bx+si+0Ah]
		mov	ty2, ax
		shr	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x2, ax
		mov	ax, es:[di+2]
		mov	y2, ax
		mov	bx, v3
		shl	bx, 2
		mov	ax, es:[bx+si+8]
		mov	tx3, ax
		mov	ax, es:[bx+si+0Ah]
		mov	ty3, ax
		shr	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x3, ax
		mov	ax, es:[di+2]
		mov	y3, ax
		mov	bx, v4
		shl	bx, 2
		mov	ax, es:[bx+si+8]
		mov	tx4, ax
		mov	ax, es:[bx+si+0Ah]
		mov	ty4, ax
		shr	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x4, ax
		mov	ax, es:[di+2]
		mov	y4, ax
		mov	ax, v4
		sub	ax, v1
		cmp	ax, 2
		jz	short loc_169EC
		cmp	ax, 0FFFEh
		jz	short loc_169EC
		jmp	short loc_169F3
; ---------------------------------------------------------------------------

loc_169EC:				; CODE XREF: DrawFourFace+15Fj
					; DrawFourFace+164j
		call	DrawFourFace1234
		jmp	short locret_169F8
; ---------------------------------------------------------------------------

loc_169F3:				; CODE XREF: DrawFourFace+166j
		call	DrawFourFace1243

locret_169F8:				; CODE XREF: DrawFourFace+16Dj
		retf
DrawFourFace	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawFaces	proc far		; CODE XREF: Draw3DObject:loc_1842DP
					; DrawHi3D+254P

var_2		= word ptr -2

		enter	2, 0
		mov	ax, VgaSeg
		mov	gs, ax
		mov	ax, OHSeg
		mov	es, ax
		mov	ax, Current
		mov	[bp+var_2], ax

loc_16A0D:				; CODE XREF: DrawFaces:loc_16A7Fj
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_16A81
		mov	si, [bp+var_2]
		shl	si, 1
		cmp	XTabUpdated, 1
		jnz	short loc_16A27
		mov	bx, [si+6AAh]
		mov	Curdark, bx

loc_16A27:				; CODE XREF: DrawFaces+24j
		shl	si, 4
		mov	ax, es:[si+18h]
		mov	[bp+var_2], ax
		xor	bx, bx
		mov	bl, es:[si+1Dh]
		and	bx, 0Eh
		mov	ax, [bx+0A9Ch]
		mov	word ptr DrawRout, ax
		mov	ax, es:[si+1Eh]
		mov	CSprOfs, ax
		mov	bx, es:[si+1Ah]
		shr	bx, 2
		sub	bx, HPrior
		cmp	bx, 3Ch	; '<'
		jg	short loc_16A5C
		mov	bx, 3Ch	; '<'

loc_16A5C:				; CODE XREF: DrawFaces+5Ej
		mov	ax, Hz2
		sar	ax, 1
		imul	WallH
		div	bx
		mov	CurDH, ax
		mov	ax, es:[si+6]
		cmp	ax, 0FFh
		jnz	short loc_16A7A
		call	DrawTriFace
		jmp	short loc_16A7F
; ---------------------------------------------------------------------------

loc_16A7A:				; CODE XREF: DrawFaces+78j
		call	DrawFourFace

loc_16A7F:				; CODE XREF: DrawFaces+7Fj
		jmp	short loc_16A0D
; ---------------------------------------------------------------------------

loc_16A81:				; CODE XREF: DrawFaces+18j
		mov	ax, CSCopy__0
		mov	gs, ax
		leave
		retf
DrawFaces	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawFacesNoCheck proc far		; CODE XREF: Show3DObject+F0P

var_2		= word ptr -2

		enter	2, 0
		mov	ax, VgaSeg
		mov	gs, ax
		mov	ax, OHSeg
		mov	es, ax
		mov	ax, Current
		mov	[bp+var_2], ax

loc_16A9C:				; CODE XREF: DrawFacesNoCheck:loc_16ADCj
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_16ADE
		mov	si, [bp+var_2]
		shl	si, 5
		mov	ax, es:[si+18h]
		mov	[bp+var_2], ax
		xor	bx, bx
		mov	bl, es:[si+1Dh]
		and	bx, 0Eh
		mov	ax, [bx+0A9Ch]
		mov	word ptr DrawRout, ax
		mov	ax, es:[si+1Eh]
		mov	CSprOfs, ax
		mov	ax, es:[si+6]
		cmp	ax, 0FFh
		jnz	short loc_16AD7
		call	DrawTriFace
		jmp	short loc_16ADC
; ---------------------------------------------------------------------------

loc_16AD7:				; CODE XREF: DrawFacesNoCheck+46j
		call	DrawFourFace

loc_16ADC:				; CODE XREF: DrawFacesNoCheck+4Dj
		jmp	short loc_16A9C
; ---------------------------------------------------------------------------

loc_16ADE:				; CODE XREF: DrawFacesNoCheck+18j
		mov	ax, CSCopy__0
		mov	gs, ax
		leave
		retf
DrawFacesNoCheck endp


; =============== S U B	R O U T	I N E =======================================


RotateModelCopy	proc far		; CODE XREF: Show3DObject+C8P
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3200h
		mov	si, 3800h
		mov	cx, VCount

loc_16AF4:				; CODE XREF: RotateModelCopy+37j
		mov	ax, es:[di]
		add	ax, OBJx
		mov	es:[si], ax
		mov	ax, es:[di+2]
		add	ax, OBJy
		mov	es:[si+2], ax
		mov	ax, es:[di+4]
		shl	ax, 2
		mov	es:[si+4], ax
		add	si, 6
		add	di, 6
		dec	cx
		jnz	short loc_16AF4
		mov	CurDH, 3E80h
		retf
RotateModelCopy	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RotateModelASM	proc far		; CODE XREF: Draw3DObject:loc_17F0CP
					; DrawHi3D+228P

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ah, 0
		mov	ax, CurFI
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	[bp+var_A], ax
		mov	[bp+var_8], bx
		mov	[bp+var_6], dx
		mov	ax, [bp+var_A]
		mov	bx, [bp+var_8]
		mov	dx, [bp+var_6]
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_2], ax
		mov	ax, [bp+var_A]
		mov	bx, [bp+var_8]
		mov	dx, [bp+var_6]
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_4], ax
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3200h
		mov	si, 3800h
		mov	cx, VCount

loc_16BB5:				; CODE XREF: RotateModelASM+E4j
		mov	ax, es:[di]
		imul	[bp+var_2]
		mov	ax, es:[di+2]
		mov	bx, dx
		imul	[bp+var_4]
		add	bx, OBJx
		sub	bx, dx
		mov	es:[si], bx
		mov	ax, es:[di+2]
		imul	[bp+var_2]
		mov	ax, es:[di]
		mov	bx, dx
		imul	[bp+var_4]
		add	bx, OBJy
		add	bx, dx
		cmp	YWrap, 1
		jnz	short loc_16BF6
		cmp	bx, 0FFC0h
		jl	short loc_16BF6
		cmp	bx, 50h	; 'P'
		jg	short loc_16BF6
		mov	bx, 50h	; 'P'

loc_16BF6:				; CODE XREF: RotateModelASM+C2j
					; RotateModelASM+C7j ...
		mov	es:[si+2], bx
		mov	ax, es:[di+4]
		add	di, 6
		mov	es:[si+4], ax
		add	si, 6
		dec	cx
		jnz	short loc_16BB5
		leave
		retf
RotateModelASM	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RotateModelASM_HiDet proc far		; CODE XREF: Draw3DObject+EFP

var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	16h, 0
		mov	ax, LocalFi
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	[bp+var_14], ax
		mov	[bp+var_12], bx
		mov	[bp+var_10], dx
		mov	ax, [bp+var_14]
		mov	bx, [bp+var_12]
		mov	dx, [bp+var_10]
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_8], ax
		mov	ax, [bp+var_14]
		mov	bx, [bp+var_12]
		mov	dx, [bp+var_10]
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_A], ax
		mov	ax, EHFi
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	[bp+var_14], ax
		mov	[bp+var_12], bx
		mov	[bp+var_10], dx
		mov	ax, [bp+var_14]
		mov	bx, [bp+var_12]
		mov	dx, [bp+var_10]
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	cx, 8Fh	; ''
		xor	si, si
		mov	di, 7FFEh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_C], ax
		mov	ax, [bp+var_14]
		mov	bx, [bp+var_12]
		mov	dx, [bp+var_10]
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 8Fh	; ''
		xor	si, si
		mov	di, 7FFEh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_E], ax
		mov	ax, ehx
		sub	ax, GlobX
		shl	ax, 2
		mov	[bp+var_4], ax
		mov	ax, ehy
		sub	ax, GlobY
		shl	ax, 2
		mov	[bp+var_6], ax
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3200h
		mov	si, 3800h
		mov	cx, VCount

loc_16D36:				; CODE XREF: RotateModelASM_HiDet+16Dj
		mov	ax, es:[di]
		shl	ax, 2
		imul	[bp+var_8]
		mov	bx, dx
		mov	ax, es:[di+2]
		shl	ax, 2
		imul	[bp+var_A]
		sub	bx, dx
		mov	es:[si], bx
		mov	ax, es:[di+2]
		shl	ax, 2
		imul	[bp+var_8]
		mov	bx, dx
		mov	ax, es:[di]
		shl	ax, 2
		imul	[bp+var_A]
		add	bx, dx
		mov	es:[si+2], bx
		mov	ax, es:[di+4]
		add	di, 6
		mov	es:[si+4], ax
		add	si, 6
		dec	cx
		jnz	short loc_16D36
		mov	cx, FCount
		xor	si, si
		mov	bx, 6AAh
		mov	[bp+var_16], bx
		mov	XTabUpdated, 1
		mov	ax, DepthD
		shl	ax, 8
		add	ax, 1AC6h
		mov	DepthD,	ax

loc_16D99:				; CODE XREF: RotateModelASM_HiDet+20Dj
		mov	ax, es:[si]
		mov	di, ax
		shl	di, 2
		add	di, ax
		add	di, ax
		mov	ax, es:[di+3800h]
		neg	ax
		mov	[bp+var_2], ax
		mov	ax, es:[di+3802h]
		neg	ax
		mov	y, ax
		mov	ax, es:[si+4]
		mov	di, ax
		shl	di, 2
		add	di, ax
		add	di, ax
		mov	ax, es:[di+3800h]
		sub	[bp+var_2], ax
		mov	ax, es:[di+3802h]
		sub	y, ax
		mov	ax, [bp+var_2]
		sar	ax, 4
		add	ax, GlobX
		shr	ax, 6
		mov	bx, y
		sar	bx, 4
		add	bx, GlobY
		shr	bx, 6
		shl	bx, 8
		add	bx, ax
		mov	ax, ShadowSeg
		mov	es, ax
		mov	dx, es:[bx]
		shl	dx, 8
		add	dx, DepthD
		mov	ax, OHSeg
		mov	es, ax
		mov	bx, [bp+var_16]
		mov	[bx], dx
		add	[bp+var_16], 2
		add	si, 20h	; ' '
		dec	cx
		jz	short loc_16E1D
		jmp	loc_16D99
; ---------------------------------------------------------------------------

loc_16E1D:				; CODE XREF: RotateModelASM_HiDet+20Bj
		mov	cx, VCount
		mov	si, 3800h

loc_16E24:				; CODE XREF: RotateModelASM_HiDet+275j
		mov	ax, es:[si]
		sar	ax, 1
		add	ax, [bp+var_4]
		imul	[bp+var_C]
		mov	bx, dx
		mov	ax, es:[si+2]
		sar	ax, 1
		add	ax, [bp+var_6]
		imul	[bp+var_E]
		sub	bx, dx
		mov	[bp+var_2], bx
		mov	ax, es:[si+2]
		sar	ax, 1
		add	ax, [bp+var_6]
		imul	[bp+var_C]
		mov	bx, dx
		mov	ax, es:[si]
		sar	ax, 1
		add	ax, [bp+var_4]
		imul	[bp+var_E]
		add	bx, dx
		add	bx, 20h	; ' '
		cmp	YWrap, 1
		jnz	short loc_16E74
		cmp	bx, 0FFC0h
		jl	short loc_16E74
		cmp	bx, 50h	; 'P'
		jg	short loc_16E74
		mov	bx, 50h	; 'P'

loc_16E74:				; CODE XREF: RotateModelASM_HiDet+258j
					; RotateModelASM_HiDet+25Dj ...
		mov	es:[si+2], bx
		mov	bx, [bp+var_2]
		mov	es:[si], bx
		add	si, 6
		dec	cx
		jnz	short loc_16E24
		leave
		retf
RotateModelASM_HiDet endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RotateModelASM_XZ proc far		; CODE XREF: Draw3DObject+C0P

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Eh, 0
		mov	ax, XFi
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 8Ch	; 'Œ'
		xor	si, si
		mov	di, 4000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_C], ax
		mov	ax, XFi
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 8Ch	; 'Œ'
		xor	si, si
		mov	di, 4000h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_E], ax
		mov	ax, CurFI
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_8], ax
		mov	ax, CurFI
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 8Fh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_A], ax
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3200h
		mov	si, 3800h
		mov	cx, VCount

loc_16FBD:				; CODE XREF: RotateModelASM_XZ+1BFj
		mov	ax, es:[di]
		mov	[bp+var_2], ax
		mov	ax, es:[di+2]
		mov	[bp+var_4], ax
		mov	ax, es:[di+4]
		mov	[bp+var_6], ax
		mov	[bp+var_6], ax
		mov	ax, [bp+var_4]
		imul	[bp+var_C]
		mov	bx, dx
		mov	ax, [bp+var_6]
		imul	[bp+var_E]
		sub	bx, dx
		shl	bx, 2
		mov	[bp+var_4], bx
		mov	ax, [bp+var_6]
		imul	[bp+var_C]
		mov	bx, dx
		mov	ax, [bp+var_4]
		imul	[bp+var_E]
		add	bx, dx
		shl	bx, 2
		mov	[bp+var_6], bx
		mov	ax, Xfiz0
		add	[bp+var_6], ax
		mov	ax, [bp+var_2]
		imul	[bp+var_8]
		mov	bx, dx
		mov	ax, [bp+var_4]
		imul	[bp+var_A]
		sub	bx, dx
		add	bx, OBJx
		mov	es:[si], bx
		mov	ax, [bp+var_4]
		imul	[bp+var_8]
		mov	bx, dx
		mov	ax, [bp+var_2]
		imul	[bp+var_A]
		add	bx, dx
		add	bx, OBJy
		mov	es:[si+2], bx
		mov	ax, [bp+var_6]
		add	di, 6
		mov	es:[si+4], ax
		add	si, 6
		dec	cx
		jz	short locret_17048
		jmp	loc_16FBD
; ---------------------------------------------------------------------------

locret_17048:				; CODE XREF: RotateModelASM_XZ+1BDj
		leave
		retf
RotateModelASM_XZ endp


; =============== S U B	R O U T	I N E =======================================


ProcToScrASM_Far proc far		; CODE XREF: Draw3DObject+59DP
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3800h
		mov	si, 4400h
		mov	cx, VCount

loc_17059:				; CODE XREF: ProcToScrASM_Far+48j
		mov	bx, es:[di+2]
		cmp	bx, 28h	; '('
		jg	short loc_17065
		mov	bx, 28h	; '('

loc_17065:				; CODE XREF: ProcToScrASM_Far+16j
		mov	ax, es:[di]
		imul	WallW
		idiv	bx
		add	ax, VideoCX
		mov	es:[si], ax
		mov	ax, es:[di+4]
		add	ax, OBJz
		imul	WallH4
		idiv	bx
		add	ax, WinCY
		mov	es:[si+2], ax
		add	si, 4
		add	di, 6
		dec	cx
		jnz	short loc_17059
		retf
ProcToScrASM_Far endp


; =============== S U B	R O U T	I N E =======================================


ProcToScrMinMax	proc far		; CODE XREF: Draw3DObject:loc_17F11P
		mov	ax, OHSeg
		mov	es, ax
		mov	Lx1, 7D0h
		mov	Lx2, 0F830h
		mov	di, 3800h
		mov	si, 4400h
		mov	cx, VCount

loc_170B0:				; CODE XREF: ProcToScrMinMax+55j
		mov	bx, es:[di+2]
		cmp	bx, 28h	; '('
		jl	short loc_170E3
		mov	ax, es:[di]
		cwd
		xor	ax, dx
		shr	ax, 1
		cmp	bx, ax
		jl	short loc_170E3
		mov	ax, es:[di]
		imul	WallW
		idiv	bx
		mov	es:[si], ax
		cmp	Lx1, ax
		jle	short loc_170DA
		mov	Lx1, ax

loc_170DA:				; CODE XREF: ProcToScrMinMax+40j
		cmp	Lx2, ax
		jge	short loc_170E3
		mov	Lx2, ax

loc_170E3:				; CODE XREF: ProcToScrMinMax+22j
					; ProcToScrMinMax+2Ej ...
		add	si, 4
		add	di, 6
		dec	cx
		jnz	short loc_170B0
		mov	ax, VideoCX
		add	Lx1, ax
		add	Lx2, ax
		mov	bx, OBJy
		sar	bx, 1
		sub	bx, 100h
		cmp	bx, 40h	; '@'
		jg	short loc_17109
		mov	bx, 40h	; '@'

loc_17109:				; CODE XREF: ProcToScrMinMax+6Fj
		mov	ax, Hz2
		sar	ax, 1
		imul	WallH
		div	bx
		mov	CurDH, ax
		retf
ProcToScrMinMax	endp


; =============== S U B	R O U T	I N E =======================================


ProcToScrASM_Clip proc far		; CODE XREF: Draw3DObject:loc_183DDP
					; Show3DObject+D3P
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3800h
		mov	si, 4400h
		mov	cx, VCount

loc_17127:				; CODE XREF: ProcToScrASM_Clip+93j
		mov	bx, es:[di+2]
		cmp	bx, 28h	; '('
		jl	short loc_1713D
		mov	ax, es:[di]
		cwd
		xor	ax, dx
		shr	ax, 2
		cmp	bx, ax
		jg	short loc_1714C

loc_1713D:				; CODE XREF: ProcToScrASM_Clip+16j
		mov	ax, 7FFFh
		mov	es:[si], ax
		mov	ax, 0F830h
		mov	es:[di+2], ax
		jmp	short loc_171A2
; ---------------------------------------------------------------------------

loc_1714C:				; CODE XREF: ProcToScrASM_Clip+23j
		mov	ax, es:[di]
		imul	WallW
		idiv	bx
		cmp	ax, 258h
		jle	short loc_17165
		sub	ax, 258h
		shr	ax, 4
		add	bx, ax
		mov	ax, 258h

loc_17165:				; CODE XREF: ProcToScrASM_Clip+40j
		cmp	ax, 0FDA8h
		jge	short loc_17175
		add	ax, 258h
		sar	ax, 4
		sub	bx, ax
		mov	ax, 0FDA8h

loc_17175:				; CODE XREF: ProcToScrASM_Clip+50j
		add	ax, VideoCX
		mov	es:[si], ax
		mov	ax, es:[di+4]
		add	ax, OBJz
		imul	WallH4
		idiv	bx
		add	ax, WinCY
		cmp	ax, 258h
		jle	short loc_17196
		mov	ax, 258h

loc_17196:				; CODE XREF: ProcToScrASM_Clip+79j
		cmp	ax, 0FF4Ch
		jge	short loc_1719E
		mov	ax, 0FF4Ch

loc_1719E:				; CODE XREF: ProcToScrASM_Clip+81j
		mov	es:[si+2], ax

loc_171A2:				; CODE XREF: ProcToScrASM_Clip+32j
		add	si, 4
		add	di, 6
		dec	cx
		jz	short locret_171AE
		jmp	loc_17127
; ---------------------------------------------------------------------------

locret_171AE:				; CODE XREF: ProcToScrASM_Clip+91j
		retf
ProcToScrASM_Clip endp


; =============== S U B	R O U T	I N E =======================================


ProcToScrASM_Clip_hi proc far		; CODE XREF: DrawHi3D+24AP
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3800h
		mov	si, 4400h
		mov	cx, VCount

loc_171BE:				; CODE XREF: ProcToScrASM_Clip_hi+62j
		mov	bx, es:[di+2]
		cmp	bx, 0B4h ; '´'
		jl	short loc_171D5
		mov	ax, es:[di]
		cwd
		xor	ax, dx
		shr	ax, 0
		cmp	bx, ax
		jg	short loc_171E4

loc_171D5:				; CODE XREF: ProcToScrASM_Clip_hi+17j
		mov	ax, 7FFFh
		mov	es:[si], ax
		mov	ax, 0F830h
		mov	es:[di+2], ax
		jmp	short loc_1720A
; ---------------------------------------------------------------------------

loc_171E4:				; CODE XREF: ProcToScrASM_Clip_hi+24j
		mov	ax, es:[di]
		imul	WallWhi
		idiv	bx
		add	ax, VideoCX
		mov	es:[si], ax
		mov	ax, es:[di+4]
		add	ax, OBJz
		imul	WallHhi
		idiv	bx
		add	ax, WinCY
		mov	es:[si+2], ax

loc_1720A:				; CODE XREF: ProcToScrASM_Clip_hi+33j
		add	si, 4
		add	di, 6
		dec	cx
		jnz	short loc_171BE
		retf
ProcToScrASM_Clip_hi endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BuildTreeAsm_Far proc far		; CODE XREF: Draw3DObject:loc_183D6P
		push	bp
		mov	bp, sp
		mov	ax, OHSeg
		mov	es, ax
		mov	Current, 0FFFFh
		mov	n, 0
		mov	cx, FCount

loc_1722C:				; CODE XREF: BuildTreeAsm_Far+12Dj
		mov	di, n
		push	cx
		shl	di, 5
		mov	ax, es:[di]
		mov	si, ax
		shl	si, 2
		add	si, ax
		add	si, ax
		mov	dx, es:[si+3802h]
		mov	ax, es:[di+4]
		mov	si, ax
		shl	si, 2
		add	si, ax
		add	si, ax
		add	dx, es:[si+3802h]
		mov	al, es:[di+1Ch]
		and	al, DrawMask
		jz	short loc_17264
		jmp	loc_17339
; ---------------------------------------------------------------------------

loc_17264:				; CODE XREF: BuildTreeAsm_Far+4Bj
		mov	es:[di+1Ah], dx
		mov	al, es:[di+1Dh]
		test	al, 1
		jnz	short loc_172C1
		mov	si, es:[di]
		shl	si, 2
		add	si, 4400h
		mov	cx, es:[si]
		mov	bx, es:[si+2]
		mov	si, es:[di+2]
		shl	si, 2
		add	si, 4400h
		mov	ax, es:[si]
		sub	ax, cx
		mov	ux, ax
		mov	ax, es:[si+2]
		sub	ax, bx
		mov	uy, ax
		mov	si, es:[di+4]
		shl	si, 2
		add	si, 4400h
		mov	ax, es:[si]
		sub	ax, cx
		imul	uy
		mov	cx, ax
		mov	ax, es:[si+2]
		sub	ax, bx
		imul	ux
		sub	ax, cx
		js	short loc_17339

loc_172C1:				; CODE XREF: BuildTreeAsm_Far+5Aj
		mov	word ptr es:[di+18h], 0FFFFh
		cmp	Current, 0FFFFh
		jnz	short loc_172D6
		mov	ax, n
		mov	Current, ax
		jmp	short loc_17339
; ---------------------------------------------------------------------------

loc_172D6:				; CODE XREF: BuildTreeAsm_Far+B8j
		mov	si, Current
		shl	si, 5
		mov	ax, es:[si+1Ah]
		mov	dx, es:[di+1Ah]
		cmp	dx, ax
		jb	short loc_172F8
		mov	ax, Current
		mov	es:[di+18h], ax
		mov	ax, n
		mov	Current, ax
		jmp	short loc_17339
; ---------------------------------------------------------------------------

loc_172F8:				; CODE XREF: BuildTreeAsm_Far+D3j
		mov	ax, Current
		mov	np, ax
		mov	si, np
		shl	si, 5

loc_17305:				; CODE XREF: BuildTreeAsm_Far+112j
		mov	cx, si
		mov	ax, es:[si+18h]
		cmp	ax, 0FFFFh
		jz	short loc_17328
		mov	npp, ax
		shl	ax, 5
		mov	si, ax
		mov	ax, es:[si+1Ah]
		cmp	dx, ax
		ja	short loc_17328
		mov	ax, npp
		mov	np, ax
		jmp	short loc_17305
; ---------------------------------------------------------------------------

loc_17328:				; CODE XREF: BuildTreeAsm_Far+FAj
					; BuildTreeAsm_Far+10Aj
		mov	si, cx
		mov	ax, es:[si+18h]
		mov	es:[di+18h], ax
		mov	ax, n
		mov	es:[si+18h], ax

loc_17339:				; CODE XREF: BuildTreeAsm_Far+4Dj
					; BuildTreeAsm_Far+ABj	...
		inc	n
		pop	cx
		dec	cx
		jz	short locret_17344
		jmp	loc_1722C
; ---------------------------------------------------------------------------

locret_17344:				; CODE XREF: BuildTreeAsm_Far+12Bj
		leave
		retf
BuildTreeAsm_Far endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BuildTreeAsm_NoSort proc far		; CODE XREF: Draw3DObject+5B9P
		push	bp
		mov	bp, sp
		mov	ax, OHSeg
		mov	es, ax
		mov	Current, 0FFFFh
		mov	n, 0
		mov	cx, FCount

loc_1735E:				; CODE XREF: BuildTreeAsm_NoSort+D9j
		mov	di, n
		push	cx
		shl	di, 5
		mov	ax, es:[di]
		mov	si, ax
		shl	si, 2
		add	si, ax
		add	si, ax
		mov	dx, es:[si+3802h]
		mov	ax, es:[di+4]
		mov	si, ax
		shl	si, 2
		add	si, ax
		add	si, ax
		add	dx, es:[si+3802h]
		mov	al, es:[di+1Ch]
		and	al, DrawMask
		jz	short loc_17396
		jmp	loc_17417
; ---------------------------------------------------------------------------

loc_17396:				; CODE XREF: BuildTreeAsm_NoSort+4Bj
		mov	es:[di+1Ah], dx
		mov	al, es:[di+1Dh]
		test	al, 1
		jnz	short loc_173F3
		mov	si, es:[di]
		shl	si, 2
		add	si, 4400h
		mov	cx, es:[si]
		mov	bx, es:[si+2]
		mov	si, es:[di+2]
		shl	si, 2
		add	si, 4400h
		mov	ax, es:[si]
		sub	ax, cx
		mov	ux, ax
		mov	ax, es:[si+2]
		sub	ax, bx
		mov	uy, ax
		mov	si, es:[di+4]
		shl	si, 2
		add	si, 4400h
		mov	ax, es:[si]
		sub	ax, cx
		imul	uy
		mov	cx, ax
		mov	ax, es:[si+2]
		sub	ax, bx
		imul	ux
		sub	ax, cx
		js	short loc_17417

loc_173F3:				; CODE XREF: BuildTreeAsm_NoSort+5Aj
		mov	word ptr es:[di+18h], 0FFFFh
		cmp	Current, 0FFFFh
		jnz	short loc_17408
		mov	ax, n
		mov	Current, ax
		jmp	short loc_17417
; ---------------------------------------------------------------------------

loc_17408:				; CODE XREF: BuildTreeAsm_NoSort+B8j
		mov	ax, Current
		mov	es:[di+18h], ax
		mov	ax, n
		mov	Current, ax
		jmp	short $+2

loc_17417:				; CODE XREF: BuildTreeAsm_NoSort+4Dj
					; BuildTreeAsm_NoSort+ABj ...
		inc	n
		pop	cx
		dec	cx
		jz	short locret_17422
		jmp	loc_1735E
; ---------------------------------------------------------------------------

locret_17422:				; CODE XREF: BuildTreeAsm_NoSort+D7j
		leave
		retf
BuildTreeAsm_NoSort endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BuildTreeAsm_Clip proc far		; CODE XREF: Draw3DObject+5CCP
					; Show3DObject:loc_1856CP ...
		push	bp
		mov	bp, sp
		mov	ax, OHSeg
		mov	es, ax
		mov	Current, 0FFFFh
		mov	n, 0
		mov	cx, FCount

loc_1743C:				; CODE XREF: BuildTreeAsm_Clip+1DEj
		mov	di, n
		push	cx
		shl	di, 5
		mov	bl, 6
		mov	ax, es:[di+2]
		mul	bl
		add	ax, 3802h
		mov	si, ax
		mov	dx, es:[si]
		mov	ax, es:[di+6]
		mul	bl
		add	ax, 3802h
		mov	si, ax
		add	dx, es:[si]
		mov	es:[di+1Ah], dx
		cmp	dx, 50h	; 'P'
		jge	short loc_1746E
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_1746E:				; CODE XREF: BuildTreeAsm_Clip+45j
		mov	ax, es:[di]
		mov	si, ax
		shl	si, 2
		add	si, ax
		add	si, ax
		mov	dx, es:[si+3802h]
		mov	ax, es:[di+4]
		mov	si, ax
		shl	si, 2
		add	si, ax
		add	si, ax
		add	dx, es:[si+3802h]
		mov	al, es:[di+1Ch]
		and	al, DrawMask
		jz	short loc_1749E
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_1749E:				; CODE XREF: BuildTreeAsm_Clip+75j
		mov	es:[di+1Ah], dx
		mov	al, es:[di+1Dh]
		test	al, 1
		jz	short loc_174FC
		mov	si, es:[di]
		shl	si, 2
		mov	ax, es:[si+4400h]
		cmp	ax, 7FFFh
		jnz	short loc_174BD
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_174BD:				; CODE XREF: BuildTreeAsm_Clip+94j
		mov	si, es:[di+2]
		shl	si, 2
		mov	ax, es:[si+4400h]
		cmp	ax, 7FFFh
		jnz	short loc_174D1
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_174D1:				; CODE XREF: BuildTreeAsm_Clip+A8j
		mov	si, es:[di+4]
		shl	si, 2
		mov	ax, es:[si+4400h]
		cmp	ax, 7FFFh
		jnz	short loc_174E5
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_174E5:				; CODE XREF: BuildTreeAsm_Clip+BCj
		mov	si, es:[di+6]
		shl	si, 2
		mov	ax, es:[si+4400h]
		cmp	ax, 7FFFh
		jnz	short loc_174F9
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_174F9:				; CODE XREF: BuildTreeAsm_Clip+D0j
		jmp	loc_17582
; ---------------------------------------------------------------------------

loc_174FC:				; CODE XREF: BuildTreeAsm_Clip+84j
		mov	si, es:[di]
		shl	si, 2
		add	si, 4400h
		mov	cx, es:[si]
		mov	bx, es:[si+2]
		cmp	cx, 7FFFh
		jnz	short loc_17516
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_17516:				; CODE XREF: BuildTreeAsm_Clip+EDj
		mov	si, es:[di+2]
		shl	si, 2
		add	si, 4400h
		mov	ax, es:[si]
		cmp	ax, 7FFFh
		jnz	short loc_1752C
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_1752C:				; CODE XREF: BuildTreeAsm_Clip+103j
		sub	ax, cx
		mov	ux, ax
		mov	ax, es:[si+2]
		sub	ax, bx
		mov	uy, ax
		mov	si, es:[di+4]
		shl	si, 2
		add	si, 4400h
		mov	ax, es:[si]
		cmp	ax, 7FFFh
		jnz	short loc_17550
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_17550:				; CODE XREF: BuildTreeAsm_Clip+127j
		sub	ax, cx
		imul	uy
		mov	cx, ax
		mov	_dx, dx
		mov	ax, es:[si+2]
		sub	ax, bx
		imul	ux
		sub	ax, cx
		sbb	dx, _dx
		jns	short loc_17571
		jmp	loc_175FA
; ---------------------------------------------------------------------------

loc_17571:				; CODE XREF: BuildTreeAsm_Clip+148j
		mov	si, es:[di+6]
		shl	si, 2
		mov	ax, es:[si+4400h]
		cmp	ax, 7FFFh
		jz	short loc_175FA

loc_17582:				; CODE XREF: BuildTreeAsm_Clip:loc_174F9j
		mov	word ptr es:[di+18h], 0FFFFh
		cmp	Current, 0FFFFh
		jnz	short loc_17597
		mov	ax, n
		mov	Current, ax
		jmp	short loc_175FA
; ---------------------------------------------------------------------------

loc_17597:				; CODE XREF: BuildTreeAsm_Clip+169j
		mov	si, Current
		shl	si, 5
		mov	ax, es:[si+1Ah]
		mov	dx, es:[di+1Ah]
		cmp	dx, ax
		jb	short loc_175B9
		mov	ax, Current
		mov	es:[di+18h], ax
		mov	ax, n
		mov	Current, ax
		jmp	short loc_175FA
; ---------------------------------------------------------------------------

loc_175B9:				; CODE XREF: BuildTreeAsm_Clip+184j
		mov	ax, Current
		mov	np, ax
		mov	si, np
		shl	si, 5

loc_175C6:				; CODE XREF: BuildTreeAsm_Clip+1C3j
		mov	cx, si
		mov	ax, es:[si+18h]
		cmp	ax, 0FFFFh
		jz	short loc_175E9
		mov	npp, ax
		shl	ax, 5
		mov	si, ax
		mov	ax, es:[si+1Ah]
		cmp	dx, ax
		ja	short loc_175E9
		mov	ax, npp
		mov	np, ax
		jmp	short loc_175C6
; ---------------------------------------------------------------------------

loc_175E9:				; CODE XREF: BuildTreeAsm_Clip+1ABj
					; BuildTreeAsm_Clip+1BBj
		mov	si, cx
		mov	ax, es:[si+18h]
		mov	es:[di+18h], ax
		mov	ax, n
		mov	es:[si+18h], ax

loc_175FA:				; CODE XREF: BuildTreeAsm_Clip+47j
					; BuildTreeAsm_Clip+77j ...
		inc	n
		pop	cx
		dec	cx
		jz	short locret_17605
		jmp	loc_1743C
; ---------------------------------------------------------------------------

locret_17605:				; CODE XREF: BuildTreeAsm_Clip+1DCj
		leave
		retf
BuildTreeAsm_Clip endp


; =============== S U B	R O U T	I N E =======================================


DrawTriFaceSh	proc far		; CODE XREF: DrawShadowFaces+9CP
		mov	di, es:[si]
		shl	di, 2
		mov	bx, es:[di+4400h]
		mov	di, es:[si+2]
		shl	di, 2
		mov	cx, es:[di+4400h]
		mov	di, es:[si+4]
		shl	di, 2
		mov	dx, es:[di+4400h]
		cmp	bx, cx
		jge	short loc_17654
		cmp	bx, dx
		jge	short loc_1763A
		mov	v1, 0
		jmp	short loc_17640
; ---------------------------------------------------------------------------

loc_1763A:				; CODE XREF: DrawTriFaceSh+29j
		mov	v1, 2

loc_17640:				; CODE XREF: DrawTriFaceSh+31j
		cmp	cx, dx
		jl	short loc_1764C
		mov	v3, 1
		jmp	short loc_17652
; ---------------------------------------------------------------------------

loc_1764C:				; CODE XREF: DrawTriFaceSh+3Bj
		mov	v3, 2

loc_17652:				; CODE XREF: DrawTriFaceSh+43j
		jmp	short loc_17678
; ---------------------------------------------------------------------------

loc_17654:				; CODE XREF: DrawTriFaceSh+25j
		cmp	cx, dx
		jge	short loc_17660
		mov	v1, 1
		jmp	short loc_17666
; ---------------------------------------------------------------------------

loc_17660:				; CODE XREF: DrawTriFaceSh+4Fj
		mov	v1, 2

loc_17666:				; CODE XREF: DrawTriFaceSh+57j
		cmp	bx, dx
		jl	short loc_17672
		mov	v3, 0
		jmp	short loc_17678
; ---------------------------------------------------------------------------

loc_17672:				; CODE XREF: DrawTriFaceSh+61j
		mov	v3, 2

loc_17678:				; CODE XREF: DrawTriFaceSh:loc_17652j
					; DrawTriFaceSh+69j
		mov	ax, 0
		cmp	ax, v1
		jz	short loc_17689
		cmp	ax, v3
		jz	short loc_17689
		jmp	short loc_17699
; ---------------------------------------------------------------------------

loc_17689:				; CODE XREF: DrawTriFaceSh+78j
					; DrawTriFaceSh+7Ej
		inc	ax
		cmp	ax, v1
		jz	short loc_17698
		cmp	ax, v3
		jz	short loc_17698
		jmp	short loc_17699
; ---------------------------------------------------------------------------

loc_17698:				; CODE XREF: DrawTriFaceSh+87j
					; DrawTriFaceSh+8Dj
		inc	ax

loc_17699:				; CODE XREF: DrawTriFaceSh+80j
					; DrawTriFaceSh+8Fj
		mov	v2, ax
		mov	bx, v1
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x1, ax
		mov	ax, es:[di+2]
		mov	y1, ax
		mov	bx, v2
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x2, ax
		mov	ax, es:[di+2]
		mov	y2, ax
		mov	bx, v3
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x3, ax
		mov	ax, es:[di+2]
		mov	y3, ax
		mov	ax, x2
		sub	ax, x1
		mov	L1, ax
		mov	ax, x3
		sub	ax, x2
		mov	L2, ax
		mov	ax, x3
		sub	ax, x1
		mov	L3, ax
		mov	ax, y1
		mov	word_36C70, ax
		mov	Ya, 8000h
		mov	word_36C78, ax
		mov	Yb, 8000h
		mov	bx, L1
		cmp	bx, 0
		jz	short loc_17746
		mov	ax, y2
		sub	ax, y1
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C80, dx
		nop
		mov	dy1, ax

loc_17746:				; CODE XREF: DrawTriFaceSh+126j
		mov	bx, L2
		cmp	bx, 0
		jz	short loc_17766
		mov	ax, y3
		sub	ax, y2
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C84, dx
		nop
		mov	dy2, ax

loc_17766:				; CODE XREF: DrawTriFaceSh+146j
		mov	bx, L3
		cmp	bx, 0
		jz	short loc_17786
		mov	ax, y3
		sub	ax, y1
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C88, dx
		nop
		mov	dy3, ax

loc_17786:				; CODE XREF: DrawTriFaceSh+166j
					; DrawTriFaceSh+1B9j
		mov	ax, x1
		cmp	ax, x2
		jge	short loc_177C2
		cmp	ax, WinSX
		jl	short loc_177A0
		cmp	ax, WinEX
		jg	short loc_177A0
		call	VLineD

loc_177A0:				; CODE XREF: DrawTriFaceSh+18Cj
					; DrawTriFaceSh+192j
		mov	ax, dy3
		add	Ya, ax
		mov	ax, word_36C88
		adc	word_36C70, ax
		mov	ax, dy1
		add	Yb, ax
		mov	ax, word_36C80
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_17786
; ---------------------------------------------------------------------------

loc_177C2:				; CODE XREF: DrawTriFaceSh+186j
		mov	ax, y2
		mov	word_36C78, ax
		mov	Yb, 8000h

loc_177CE:				; CODE XREF: DrawTriFaceSh+201j
		mov	ax, x1
		cmp	ax, x3
		jge	short locret_1780A
		cmp	ax, WinSX
		jl	short loc_177E8
		cmp	ax, WinEX
		jg	short loc_177E8
		call	VLineD

loc_177E8:				; CODE XREF: DrawTriFaceSh+1D4j
					; DrawTriFaceSh+1DAj
		mov	ax, dy3
		add	Ya, ax
		mov	ax, word_36C88
		adc	word_36C70, ax
		mov	ax, dy2
		add	Yb, ax
		mov	ax, word_36C84
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_177CE
; ---------------------------------------------------------------------------

locret_1780A:				; CODE XREF: DrawTriFaceSh+1CEj
		retf
DrawTriFaceSh	endp


; =============== S U B	R O U T	I N E =======================================


DrawFourFaceSh1234 proc	far		; CODE XREF: DrawFourFaceSh:loc_17C43P
		mov	ax, x2
		sub	ax, x1
		mov	L1, ax
		mov	ax, x4
		sub	ax, x2
		mov	L2, ax
		mov	ax, x3
		sub	ax, x1
		mov	L3, ax
		mov	ax, x4
		sub	ax, x3
		mov	l4, ax
		mov	ax, y1
		mov	word_36C70, ax
		mov	Ya, 8000h
		mov	word_36C78, ax
		mov	Yb, 8000h
		mov	bx, L1
		cmp	bx, 0
		jz	short loc_17868
		mov	ax, y2
		sub	ax, y1
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C80, dx
		nop
		mov	dy1, ax

loc_17868:				; CODE XREF: DrawFourFaceSh1234+44j
		mov	bx, L2
		cmp	bx, 0
		jz	short loc_17888
		mov	ax, y4
		sub	ax, y2
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C84, dx
		nop
		mov	dy2, ax

loc_17888:				; CODE XREF: DrawFourFaceSh1234+64j
		mov	bx, L3
		cmp	bx, 0
		jz	short loc_178A8
		mov	ax, y3
		sub	ax, y1
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C88, dx
		nop
		mov	dy3, ax

loc_178A8:				; CODE XREF: DrawFourFaceSh1234+84j
		mov	bx, l4
		cmp	bx, 0
		jz	short loc_178C8
		mov	ax, y4
		sub	ax, y3
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C8C, dx
		nop
		mov	dy4, ax

loc_178C8:				; CODE XREF: DrawFourFaceSh1234+A4j
					; DrawFourFaceSh1234+F7j
		mov	ax, x1
		cmp	ax, x2
		jge	short loc_17904
		cmp	ax, WinSX
		jl	short loc_178E2
		cmp	ax, WinEX
		jg	short loc_178E2
		call	VLineD

loc_178E2:				; CODE XREF: DrawFourFaceSh1234+CAj
					; DrawFourFaceSh1234+D0j
		mov	ax, dy1
		add	Ya, ax
		mov	ax, word_36C80
		adc	word_36C70, ax
		mov	ax, dy3
		add	Yb, ax
		mov	ax, word_36C88
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_178C8
; ---------------------------------------------------------------------------

loc_17904:				; CODE XREF: DrawFourFaceSh1234+C4j
		mov	ax, y2
		mov	word_36C70, ax
		mov	Ya, 8000h

loc_17910:				; CODE XREF: DrawFourFaceSh1234+13Fj
		mov	ax, x1
		cmp	ax, x3
		jge	short loc_1794C
		cmp	ax, WinSX
		jl	short loc_1792A
		cmp	ax, WinEX
		jg	short loc_1792A
		call	VLineD

loc_1792A:				; CODE XREF: DrawFourFaceSh1234+112j
					; DrawFourFaceSh1234+118j
		mov	ax, dy2
		add	Ya, ax
		mov	ax, word_36C84
		adc	word_36C70, ax
		mov	ax, dy3
		add	Yb, ax
		mov	ax, word_36C88
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_17910
; ---------------------------------------------------------------------------

loc_1794C:				; CODE XREF: DrawFourFaceSh1234+10Cj
		mov	ax, y3
		mov	word_36C78, ax
		mov	Yb, 8000h

loc_17958:				; CODE XREF: DrawFourFaceSh1234+187j
		mov	ax, x1
		cmp	ax, x4
		jge	short locret_17994
		cmp	ax, WinSX
		jl	short loc_17972
		cmp	ax, WinEX
		jg	short loc_17972
		call	VLineD

loc_17972:				; CODE XREF: DrawFourFaceSh1234+15Aj
					; DrawFourFaceSh1234+160j
		mov	ax, dy2
		add	Ya, ax
		mov	ax, word_36C84
		adc	word_36C70, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_17958
; ---------------------------------------------------------------------------

locret_17994:				; CODE XREF: DrawFourFaceSh1234+154j
		retf
DrawFourFaceSh1234 endp


; =============== S U B	R O U T	I N E =======================================


DrawFourFaceSh1243 proc	far		; CODE XREF: DrawFourFaceSh:loc_17C4AP
		mov	ax, x2
		sub	ax, x1
		mov	L1, ax
		mov	ax, x3
		sub	ax, x2
		mov	L2, ax
		mov	ax, x4
		sub	ax, x3
		mov	L3, ax
		mov	ax, x4
		sub	ax, x1
		mov	l4, ax
		mov	ax, y1
		mov	word_36C70, ax
		mov	Ya, 8000h
		mov	word_36C78, ax
		mov	Yb, 8000h
		mov	bx, L1
		cmp	bx, 0
		jz	short loc_179F2
		mov	ax, y2
		sub	ax, y1
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C80, dx
		nop
		mov	dy1, ax

loc_179F2:				; CODE XREF: DrawFourFaceSh1243+44j
		mov	bx, L2
		cmp	bx, 0
		jz	short loc_17A12
		mov	ax, y3
		sub	ax, y2
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C84, dx
		nop
		mov	dy2, ax

loc_17A12:				; CODE XREF: DrawFourFaceSh1243+64j
		mov	bx, L3
		cmp	bx, 0
		jz	short loc_17A32
		mov	ax, y4
		sub	ax, y3
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C88, dx
		nop
		mov	dy3, ax

loc_17A32:				; CODE XREF: DrawFourFaceSh1243+84j
		mov	bx, l4
		cmp	bx, 0
		jz	short loc_17A52
		mov	ax, y4
		sub	ax, y1
		shl	bx, 1
		mov	bx, [bx+0AB0h]
		imul	bx
		mov	word_36C8C, dx
		nop
		mov	dy4, ax

loc_17A52:				; CODE XREF: DrawFourFaceSh1243+A4j
					; DrawFourFaceSh1243+F7j
		mov	ax, x1
		cmp	ax, x2
		jge	short loc_17A8E
		cmp	ax, WinSX
		jl	short loc_17A6C
		cmp	ax, WinEX
		jg	short loc_17A6C
		call	VLineD

loc_17A6C:				; CODE XREF: DrawFourFaceSh1243+CAj
					; DrawFourFaceSh1243+D0j
		mov	ax, dy1
		add	Ya, ax
		mov	ax, word_36C80
		adc	word_36C70, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_17A52
; ---------------------------------------------------------------------------

loc_17A8E:				; CODE XREF: DrawFourFaceSh1243+C4j
		mov	ax, y2
		mov	word_36C70, ax
		mov	Ya, 8000h

loc_17A9A:				; CODE XREF: DrawFourFaceSh1243+13Fj
		mov	ax, x1
		cmp	ax, x3
		jge	short loc_17AD6
		cmp	ax, WinSX
		jl	short loc_17AB4
		cmp	ax, WinEX
		jg	short loc_17AB4
		call	VLineD

loc_17AB4:				; CODE XREF: DrawFourFaceSh1243+112j
					; DrawFourFaceSh1243+118j
		mov	ax, dy2
		add	Ya, ax
		mov	ax, word_36C84
		adc	word_36C70, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_17A9A
; ---------------------------------------------------------------------------

loc_17AD6:				; CODE XREF: DrawFourFaceSh1243+10Cj
		mov	ax, y3
		mov	word_36C70, ax
		mov	Ya, 8000h

loc_17AE2:				; CODE XREF: DrawFourFaceSh1243+187j
		mov	ax, x1
		cmp	ax, x4
		jge	short locret_17B1E
		cmp	ax, WinSX
		jl	short loc_17AFC
		cmp	ax, WinEX
		jg	short loc_17AFC
		call	VLineD

loc_17AFC:				; CODE XREF: DrawFourFaceSh1243+15Aj
					; DrawFourFaceSh1243+160j
		mov	ax, dy3
		add	Ya, ax
		mov	ax, word_36C88
		adc	word_36C70, ax
		mov	ax, dy4
		add	Yb, ax
		mov	ax, word_36C8C
		adc	word_36C78, ax
		inc	x1
		jmp	short loc_17AE2
; ---------------------------------------------------------------------------

locret_17B1E:				; CODE XREF: DrawFourFaceSh1243+154j
		retf
DrawFourFaceSh1243 endp


; =============== S U B	R O U T	I N E =======================================


DrawFourFaceSh	proc far		; CODE XREF: DrawShadowFaces+B6P
		mov	Lx1, 3E8h
		mov	Lx2, 0FC18h
		mov	cx, 4
		mov	adx, 0

loc_17B34:				; CODE XREF: DrawFourFaceSh+42j
		mov	di, es:[si]
		shl	di, 2
		mov	ax, es:[di+4400h]
		cmp	ax, Lx1
		jg	short loc_17B4C
		mov	Lx1, ax
		mov	bx, adx

loc_17B4C:				; CODE XREF: DrawFourFaceSh+24j
		cmp	ax, Lx2
		jl	short loc_17B59
		mov	Lx2, ax
		mov	dx, adx

loc_17B59:				; CODE XREF: DrawFourFaceSh+31j
		add	si, 2
		inc	adx
		dec	cx
		jnz	short loc_17B34
		sub	si, 8
		mov	v1, bx
		mov	v4, dx
		shl	bx, 2
		add	bx, dx
		nop
		shl	bx, 2
		mov	ax, [bx+12B0h]
		mov	bx, [bx+12B2h]
		mov	v2, ax
		mov	v3, bx
		mov	bx, v2
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		mov	cx, es:[di+4400h]
		mov	bx, v3
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		mov	dx, es:[di+4400h]
		cmp	cx, dx
		jle	short loc_17BBC
		push	v2
		push	v3
		pop	v2
		pop	v3

loc_17BBC:				; CODE XREF: DrawFourFaceSh+8Bj
		mov	bx, v1
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x1, ax
		mov	ax, es:[di+2]
		mov	y1, ax
		mov	bx, v2
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x2, ax
		mov	ax, es:[di+2]
		mov	y2, ax
		mov	bx, v3
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x3, ax
		mov	ax, es:[di+2]
		mov	y3, ax
		mov	bx, v4
		shl	bx, 1
		mov	di, es:[bx+si]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		mov	x4, ax
		mov	ax, es:[di+2]
		mov	y4, ax
		mov	ax, v4
		sub	ax, v1
		cmp	ax, 2
		jz	short loc_17C43
		cmp	ax, 0FFFEh
		jz	short loc_17C43
		jmp	short loc_17C4A
; ---------------------------------------------------------------------------

loc_17C43:				; CODE XREF: DrawFourFaceSh+11Bj
					; DrawFourFaceSh+120j
		call	DrawFourFaceSh1234
		jmp	short locret_17C4F
; ---------------------------------------------------------------------------

loc_17C4A:				; CODE XREF: DrawFourFaceSh+122j
		call	DrawFourFaceSh1243

locret_17C4F:				; CODE XREF: DrawFourFaceSh+129j
		retf
DrawFourFaceSh	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CreateShadow	proc far		; CODE XREF: Draw3DObject+242P
					; Draw3DObject+3CFP ...
		push	bp
		mov	bp, sp
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3800h
		mov	si, 3E00h
		mov	cx, VCount

loc_17C62:				; CODE XREF: CreateShadow+57j
		mov	ax, es:[di]
		sub	ax, LtX
		imul	word ptr es:[di+4]
		mov	bx, 2000h
		sub	bx, es:[di+4]
		idiv	bx
		add	ax, es:[di]
		mov	es:[si], ax
		mov	ax, es:[di+2]
		sub	ax, LtY
		imul	word ptr es:[di+4]
		mov	bx, 2000h
		sub	bx, es:[di+4]
		idiv	bx
		add	ax, es:[di+2]
		mov	es:[si+2], ax
		mov	ax, ShadowZ0
		mov	es:[si+4], ax
		add	si, 6
		add	di, 6
		dec	cx
		jnz	short loc_17C62
		mov	bx, OBJy
		sar	bx, 1
		sub	bx, 38h	; '8'
		cmp	bx, 40h	; '@'
		jg	short loc_17CBA
		mov	bx, 40h	; '@'

loc_17CBA:				; CODE XREF: CreateShadow+65j
		mov	ax, Hz2
		sar	ax, 1
		imul	WallH
		div	bx
		mov	CurDH, ax
		leave
		retf
CreateShadow	endp


; =============== S U B	R O U T	I N E =======================================


ProcToScrShadow_Clip proc far		; CODE XREF: Draw3DObject+247P
					; Draw3DObject+3D4P ...
		mov	ax, OHSeg
		mov	es, ax
		mov	di, 3E00h
		mov	si, 4400h
		mov	cx, VCount

loc_17CD9:				; CODE XREF: ProcToScrShadow_Clip+81j
		mov	bx, es:[di+2]
		cmp	bx, 28h	; '('
		jl	short loc_17CEF
		mov	ax, es:[di]
		cwd
		xor	ax, dx
		shr	ax, 2
		cmp	bx, ax
		jg	short loc_17CFE

loc_17CEF:				; CODE XREF: ProcToScrShadow_Clip+16j
		mov	ax, 7FFFh
		mov	es:[si], ax
		mov	ax, 0F830h
		mov	es:[di+2], ax
		jmp	short loc_17D44
; ---------------------------------------------------------------------------

loc_17CFE:				; CODE XREF: ProcToScrShadow_Clip+23j
		mov	ax, es:[di]
		imul	WallW
		idiv	bx
		cmp	ax, 258h
		jle	short loc_17D17
		sub	ax, 258h
		shr	ax, 4
		add	bx, ax
		mov	ax, 258h

loc_17D17:				; CODE XREF: ProcToScrShadow_Clip+40j
		cmp	ax, 0FDA8h
		jge	short loc_17D27
		add	ax, 258h
		sar	ax, 4
		sub	bx, ax
		mov	ax, 0FDA8h

loc_17D27:				; CODE XREF: ProcToScrShadow_Clip+50j
		add	ax, VideoCX
		mov	es:[si], ax
		mov	ax, es:[di+4]
		sub	ax, ehz
		imul	WallH4
		idiv	bx
		add	ax, WinCY
		mov	es:[si+2], ax

loc_17D44:				; CODE XREF: ProcToScrShadow_Clip+32j
		add	si, 4
		add	di, 6
		dec	cx
		jnz	short loc_17CD9
		retf
ProcToScrShadow_Clip endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawShadowFaces	proc far		; CODE XREF: Draw3DObject+24CP
					; Draw3DObject+3D9P ...

var_2		= word ptr -2

		enter	2, 0
		mov	ax, VgaSeg
		mov	gs, ax
		mov	ax, OHSeg
		mov	es, ax
		xor	ax, ax
		mov	[bp+var_2], ax

loc_17D61:				; CODE XREF: DrawShadowFaces+BEj
		mov	ax, [bp+var_2]
		cmp	ax, FCount
		jl	short loc_17D6D
		jmp	loc_17E0F
; ---------------------------------------------------------------------------

loc_17D6D:				; CODE XREF: DrawShadowFaces+1Aj
		mov	si, [bp+var_2]
		shl	si, 5
		mov	al, es:[si+1Ch]
		and	al, DrawMask
		jz	short loc_17D80
		jmp	loc_17E09
; ---------------------------------------------------------------------------

loc_17D80:				; CODE XREF: DrawShadowFaces+2Dj
		mov	di, es:[si]
		shl	di, 2
		add	di, 4400h
		mov	cx, es:[di]
		cmp	cx, 7FFFh
		jz	short loc_17E09
		mov	bx, es:[di+2]
		mov	di, es:[si+2]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		cmp	ax, 7FFFh
		jz	short loc_17E09
		sub	ax, cx
		mov	ux, ax
		mov	ax, es:[di+2]
		sub	ax, bx
		mov	uy, ax
		mov	di, es:[si+4]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		cmp	ax, 7FFFh
		jz	short loc_17E09
		sub	ax, cx
		imul	uy
		mov	cx, ax
		mov	ax, es:[di+2]
		sub	ax, bx
		imul	ux
		sub	ax, cx
		js	short loc_17E09
		mov	ax, es:[si+6]
		cmp	ax, 0FFh
		jnz	short loc_17DF1
		call	DrawTriFaceSh
		jmp	short loc_17E09
; ---------------------------------------------------------------------------

loc_17DF1:				; CODE XREF: DrawShadowFaces+9Aj
		mov	di, es:[si+6]
		shl	di, 2
		add	di, 4400h
		mov	ax, es:[di]
		cmp	ax, 7FFFh
		jz	short loc_17E09
		call	DrawFourFaceSh

loc_17E09:				; CODE XREF: DrawShadowFaces+2Fj
					; DrawShadowFaces+43j ...
		inc	[bp+var_2]
		jmp	loc_17D61
; ---------------------------------------------------------------------------

loc_17E0F:				; CODE XREF: DrawShadowFaces+1Cj
		mov	ax, CSCopy__0
		mov	gs, ax
		leave
		retf
DrawShadowFaces	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Draw3DObject	proc far		; CODE XREF: DrawHoles+19EP
					; Expand3dObject+279P ...

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= dword	ptr  10h

		enter	6, 0
		cmp	Invisibility, 0
		jz	short loc_17E25
		mov	[bp+arg_0], 0

loc_17E25:				; CODE XREF: Draw3DObject+9j
		mov	ax, [bp+arg_8]
		mov	OBJx, ax
		mov	ax, [bp+arg_6]
		add	ax, 60h	; '`'
		mov	OBJy, ax
		mov	ax, [bp+arg_4]
		sub	ax, ehz
		mov	OBJz, ax
		mov	ax, [bp+arg_2]
		mov	CurFI, ax
		mov	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		shr	ax, 1
		mov	dx, ax
		mov	ax, [bp+arg_6]
		add	ax, 320h
		cmp	ax, dx
		jge	short loc_17E5D
		jmp	loc_1844A
; ---------------------------------------------------------------------------

loc_17E5D:				; CODE XREF: Draw3DObject+42j
		mov	ax, word ptr [bp+arg_A]
		or	ax, word ptr [bp+arg_A+2]
		jz	short loc_17E6B
		cmp	word ptr [bp+arg_A], 0FFFFh
		jnz	short loc_17E6E

loc_17E6B:				; CODE XREF: Draw3DObject+4Dj
		jmp	loc_1844A
; ---------------------------------------------------------------------------

loc_17E6E:				; CODE XREF: Draw3DObject+53j
		mov	ax, word ptr [bp+arg_A]
		mov	dx, word ptr [bp+arg_A+2]
		mov	POH, ax
		mov	word_36C6C, dx
		les	di, [bp+arg_A]
		mov	ax, es:[di+4802h]
		mov	FCount,	ax
		les	di, [bp+arg_A]
		mov	ax, es:[di+4800h]
		mov	VCount,	ax
		cmp	FCount,	1
		jl	short loc_17EA0
		mov	ax, word ptr [bp+arg_A]
		or	ax, word ptr [bp+arg_A+2]
		jnz	short loc_17EA3

loc_17EA0:				; CODE XREF: Draw3DObject+80j
		jmp	loc_1844A
; ---------------------------------------------------------------------------

loc_17EA3:				; CODE XREF: Draw3DObject+88j
		les	di, [bp+arg_A]
		mov	ax, es
		mov	OHSeg, ax
		les	di, [bp+arg_A]
		les	di, es:[di+4806h]
		mov	ax, es
		mov	TSeg, ax
		mov	ax, WallH
		shr	ax, 4
		xor	dx, dx
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		mov	WallH4,	ax
		mov	ax, TSeg
		mov	fs, ax
		cmp	XFi, 0
		jz	short loc_17EDD
		call	RotateModelASM_XZ
		jmp	short loc_17F11
; ---------------------------------------------------------------------------

loc_17EDD:				; CODE XREF: Draw3DObject+BEj
		cmp	HiRot, 0
		jz	short loc_17F0C
		mov	ax, ehy
		sub	ax, GlobY
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, ehx
		sub	ax, GlobX
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, 1388h
		jge	short loc_17F0C
		call	RotateModelASM_HiDet
		jmp	short loc_17F11
; ---------------------------------------------------------------------------

loc_17F0C:				; CODE XREF: Draw3DObject+CCj
					; Draw3DObject+EDj
		call	RotateModelASM

loc_17F11:				; CODE XREF: Draw3DObject+C5j
					; Draw3DObject+F4j
		call	ProcToScrMinMax
		mov	ax, WinSX
		cmp	Lx2, ax
		jge	short loc_17F22
		jmp	loc_1844A
; ---------------------------------------------------------------------------

loc_17F22:				; CODE XREF: Draw3DObject+107j
		mov	bx, WinEX
		cmp	Lx1, bx
		jle	short loc_17F2F
		jmp	loc_1844A
; ---------------------------------------------------------------------------

loc_17F2F:				; CODE XREF: Draw3DObject+114j
		cmp	Lx1, ax
		jge	short loc_17F38
		mov	Lx1, ax

loc_17F38:				; CODE XREF: Draw3DObject+11Dj
		cmp	Lx2, bx
		jle	short loc_17F42
		mov	Lx2, bx

loc_17F42:				; CODE XREF: Draw3DObject+126j
		mov	bx, Lx1
		shl	bx, 1
		add	bx, 822Eh
		mov	cx, Lx2
		sub	cx, Lx1
		inc	cx
		mov	ax, CurDH

loc_17F58:				; CODE XREF: Draw3DObject+14Aj
		cmp	[bx], ax
		jl	short loc_17F65
		add	bx, 2
		dec	cx
		jnz	short loc_17F58
		jmp	loc_1844A
; ---------------------------------------------------------------------------

loc_17F65:				; CODE XREF: Draw3DObject+144j
		cmp	[bp+arg_0], 0
		jnz	short loc_17F6E
		jmp	loc_18388
; ---------------------------------------------------------------------------

loc_17F6E:				; CODE XREF: Draw3DObject+153j
		cmp	Curdark, 1Ah
		jl	short loc_17F78
		jmp	loc_18388
; ---------------------------------------------------------------------------

loc_17F78:				; CODE XREF: Draw3DObject+15Dj
		cmp	[bp+arg_6], 1000h
		jl	short loc_17F82
		jmp	loc_18388
; ---------------------------------------------------------------------------

loc_17F82:				; CODE XREF: Draw3DObject+167j
		xor	ax, ax
		mov	LCnt, ax
		mov	ax, ShadowCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, LCnt
		cwd
		cmp	dx, bx
		jl	short loc_17FA4
		jle	short loc_17F9D
		jmp	loc_1806B
; ---------------------------------------------------------------------------

loc_17F9D:				; CODE XREF: Draw3DObject+182j
		cmp	ax, cx
		jb	short loc_17FA4
		jmp	loc_1806B
; ---------------------------------------------------------------------------

loc_17FA4:				; CODE XREF: Draw3DObject+180j
					; Draw3DObject+189j
		mov	al, byte ptr GlobY+1
		xor	ah, ah
		mov	dx, ax
		mov	al, byte ptr GlobX+1
		xor	ah, ah
		shl	ax, 6
		les	di, DarkMap
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 14h
		jb	short loc_17FC4
		jmp	loc_1806B
; ---------------------------------------------------------------------------

loc_17FC4:				; CODE XREF: Draw3DObject+1A9j
		mov	ax, ehx
		sub	ax, GlobX
		add	ax, 9Ch	; 'œ'
		mov	llx, ax
		mov	ax, ehy
		sub	ax, GlobY
		add	ax, 9Ch	; 'œ'
		mov	lly, ax
		mov	ax, isa
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, lly
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, llx
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 400h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	LtX, ax
		mov	ax, isa
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, llx
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, lly
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		mov	cx, 400h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ax, 20h	; ' '
		adc	dx, 0
		mov	LtY, ax
		mov	ax, 32C6h
		mov	ShLevel, ax
		call	CreateShadow
		call	ProcToScrShadow_Clip
		call	DrawShadowFaces
		inc	LCnt

loc_1806B:				; CODE XREF: Draw3DObject+184j
					; Draw3DObject+18Bj ...
		xor	ax, ax
		mov	[bp+var_2], ax

loc_18070:				; CODE XREF: Draw3DObject+3E1j
		mov	ax, LtCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		cmp	dx, bx
		jl	short loc_1808D
		jle	short loc_18086
		jmp	loc_181FA
; ---------------------------------------------------------------------------

loc_18086:				; CODE XREF: Draw3DObject+26Bj
		cmp	ax, cx
		jb	short loc_1808D
		jmp	loc_181FA
; ---------------------------------------------------------------------------

loc_1808D:				; CODE XREF: Draw3DObject+269j
					; Draw3DObject+272j
		mov	ax, ShadowCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, LCnt
		cwd
		cmp	dx, bx
		jl	short loc_180AA
		jle	short loc_180A3
		jmp	loc_181FA
; ---------------------------------------------------------------------------

loc_180A3:				; CODE XREF: Draw3DObject+288j
		cmp	ax, cx
		jb	short loc_180AA
		jmp	loc_181FA
; ---------------------------------------------------------------------------

loc_180AA:				; CODE XREF: Draw3DObject+286j
					; Draw3DObject+28Fj
		imul	ax, [bp+var_2],	0Ch
		les	di, Lights
		add	di, ax
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	ax, GlobX
		sub	ax, es:[di]
		push	ax
		mov	ax, GlobY
		sub	ax, es:[di+2]
		push	ax
		call	QPifagorA32__0
		mov	R, ax
		mov	ax, R
		les	di, [bp+var_6]
		cmp	ax, es:[di+8]
		jl	short loc_180E0
		jmp	loc_181F4
; ---------------------------------------------------------------------------

loc_180E0:				; CODE XREF: Draw3DObject+2C5j
		mov	ax, es:[di+8]
		cmp	ax, es:[di+6]
		jz	short loc_1810D
		push	GlobX
		push	GlobY
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, R
		shr	ax, 7
		inc	ax
		push	ax
		call	LookToMe
		or	al, al
		jnz	short loc_1810D
		jmp	loc_181F4
; ---------------------------------------------------------------------------

loc_1810D:				; CODE XREF: Draw3DObject+2D2j
					; Draw3DObject+2F2j
		inc	LCnt
		mov	ax, ehx
		les	di, [bp+var_6]
		sub	ax, es:[di]
		mov	llx, ax
		mov	ax, ehy
		sub	ax, es:[di+2]
		mov	lly, ax
		mov	ax, isa
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, lly
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, llx
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 400h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	LtX, ax
		mov	ax, isa
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, llx
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, lly
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		mov	cx, 400h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ax, 20h	; ' '
		adc	dx, 0
		mov	LtY, ax
		les	di, [bp+var_6]
		mov	ax, es:[di+8]
		cwd
		push	dx
		push	ax
		mov	ax, es:[di+8]
		sub	ax, R
		cwd
		mov	cx, 24h	; '$'
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ax, 7
		adc	dx, 0
		mov	ShLevel, ax
		cmp	ShLevel, 18h
		jbe	short loc_181D5
		mov	ShLevel, 18h

loc_181D5:				; CODE XREF: Draw3DObject+3B7j
		mov	ax, 1AC6h
		mov	dx, ax
		mov	ax, ShLevel
		shl	ax, 8
		add	ax, dx
		mov	ShLevel, ax
		call	CreateShadow
		call	ProcToScrShadow_Clip
		call	DrawShadowFaces

loc_181F4:				; CODE XREF: Draw3DObject+2C7j
					; Draw3DObject+2F4j
		inc	[bp+var_2]
		jmp	loc_18070
; ---------------------------------------------------------------------------

loc_181FA:				; CODE XREF: Draw3DObject+26Dj
					; Draw3DObject+274j ...
		mov	[bp+var_2], 1

loc_181FF:				; CODE XREF: Draw3DObject+56Fj
		mov	ax, LCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		cmp	dx, bx
		jl	short loc_1821C
		jle	short loc_18215
		jmp	loc_18388
; ---------------------------------------------------------------------------

loc_18215:				; CODE XREF: Draw3DObject+3FAj
		cmp	ax, cx
		jbe	short loc_1821C
		jmp	loc_18388
; ---------------------------------------------------------------------------

loc_1821C:				; CODE XREF: Draw3DObject+3F8j
					; Draw3DObject+401j
		mov	ax, ShadowCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, LCnt
		cwd
		cmp	dx, bx
		jl	short loc_18239
		jle	short loc_18232
		jmp	loc_18388
; ---------------------------------------------------------------------------

loc_18232:				; CODE XREF: Draw3DObject+417j
		cmp	ax, cx
		jb	short loc_18239
		jmp	loc_18388
; ---------------------------------------------------------------------------

loc_18239:				; CODE XREF: Draw3DObject+415j
					; Draw3DObject+41Ej
		imul	di, [bp+var_2],	12h
		add	di, 0BCA4h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	ax, es:[di]
		shl	ax, 6
		mov	dx, ax
		mov	ax, GlobX
		sub	ax, dx
		add	ax, 20h	; ' '
		push	ax
		mov	ax, es:[di+2]
		shl	ax, 6
		mov	dx, ax
		mov	ax, GlobY
		sub	ax, dx
		add	ax, 20h	; ' '
		push	ax
		call	QPifagorA32__0
		shr	ax, 4
		mov	R, ax
		mov	ax, R
		les	di, [bp+var_6]
		assume es:nothing
		cmp	ax, es:[di+8]
		jl	short loc_18286
		jmp	loc_18382
; ---------------------------------------------------------------------------

loc_18286:				; CODE XREF: Draw3DObject+46Bj
		inc	LCnt
		mov	ax, es:[di]
		shl	ax, 6
		mov	dx, ax
		mov	ax, ehx
		sub	ax, dx
		sub	ax, 20h	; ' '
		mov	llx, ax
		mov	ax, es:[di+2]
		shl	ax, 6
		mov	dx, ax
		mov	ax, ehy
		sub	ax, dx
		sub	ax, 20h	; ' '
		mov	lly, ax
		mov	ax, isa
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, lly
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, llx
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 400h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	LtX, ax
		mov	ax, isa
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, llx
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		mov	ax, ica
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, lly
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		mov	cx, 400h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ax, 20h	; ' '
		adc	dx, 0
		mov	LtY, ax
		les	di, [bp+var_6]
		mov	ax, es:[di+8]
		cwd
		push	dx
		push	ax
		mov	ax, es:[di+8]
		sub	ax, R
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+0Ah]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	ax, 7
		adc	dx, 0
		mov	ShLevel, ax
		cmp	ShLevel, 12h
		jbe	short loc_18363
		mov	ShLevel, 12h

loc_18363:				; CODE XREF: Draw3DObject+545j
		mov	ax, 1AC6h
		mov	dx, ax
		mov	ax, ShLevel
		shl	ax, 8
		add	ax, dx
		mov	ShLevel, ax
		call	CreateShadow
		call	ProcToScrShadow_Clip
		call	DrawShadowFaces

loc_18382:				; CODE XREF: Draw3DObject+46Dj
		inc	[bp+var_2]
		jmp	loc_181FF
; ---------------------------------------------------------------------------

loc_18388:				; CODE XREF: Draw3DObject+155j
					; Draw3DObject+15Fj ...
		mov	ax, cm_ofs
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Curdark
		shl	ax, 8
		cwd
		add	ax, cx
		adc	dx, bx
		mov	Curdark, ax
		cmp	[bp+arg_6], 7D0h
		jle	short loc_183DD
		mov	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+arg_6]
		jge	short loc_183DD
		call	ProcToScrASM_Far
		cmp	FCount,	3Ch ; '<'
		jle	short loc_183D6
		mov	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, [bp+arg_6]
		cmp	ax, 0C00h
		jle	short loc_183D6
		call	BuildTreeAsm_NoSort
		jmp	short loc_183DB
; ---------------------------------------------------------------------------

loc_183D6:				; CODE XREF: Draw3DObject+5A7j
					; Draw3DObject+5B7j
		call	BuildTreeAsm_Far

loc_183DB:				; CODE XREF: Draw3DObject+5BEj
		jmp	short loc_183E7
; ---------------------------------------------------------------------------

loc_183DD:				; CODE XREF: Draw3DObject+58Ej
					; Draw3DObject+59Bj
		call	ProcToScrASM_Clip
		call	BuildTreeAsm_Clip

loc_183E7:				; CODE XREF: Draw3DObject:loc_183DBj
		cmp	ReColor, 0
		jbe	short loc_1841A
		cmp	Invisibility, 0
		jz	short loc_183FD
		mov	ax, 1AEh
		mov	DrawRoutOfsTab,	ax
		jmp	short loc_18403
; ---------------------------------------------------------------------------

loc_183FD:				; CODE XREF: Draw3DObject+5DDj
		mov	ax, 20h	; ' '
		mov	DrawRoutOfsTab,	ax

loc_18403:				; CODE XREF: Draw3DObject+5E5j
		mov	ax, 1AEh
		mov	word_36CF0, ax
		mov	ax, 1AEh
		mov	word_36CF2, ax
		push	ReColor
		call	CreateRecolorMap
		jmp	short loc_1842D
; ---------------------------------------------------------------------------

loc_1841A:				; CODE XREF: Draw3DObject+5D6j
		cmp	Invisibility, 0
		jz	short loc_1842D
		mov	ax, 4E1h
		mov	DrawRoutOfsTab,	ax
		mov	ax, 4E1h
		mov	word_36CEE, ax

loc_1842D:				; CODE XREF: Draw3DObject+602j
					; Draw3DObject+609j
		call	DrawFaces
		mov	ax, 353h
		mov	DrawRoutOfsTab,	ax
		mov	ax, 823h
		mov	word_36CEE, ax
		mov	ax, 4E1h
		mov	word_36CF0, ax
		mov	ax, 4E1h
		mov	word_36CF2, ax

loc_1844A:				; CODE XREF: Draw3DObject+44j
					; Draw3DObject:loc_17E6Bj ...
		mov	al, 0AAh ; 'ª'
		mov	DrawMask, al
		xor	ax, ax
		mov	XFi, ax
		xor	ax, ax
		mov	Xfiz0, ax
		mov	Invisibility, 0
		mov	HiRot, 0
		mov	HPrior,	20h ; ' '
		xor	ax, ax
		mov	ReColor, ax
		mov	YWrap, 0
		mov	XTabUpdated, 0
		xor	ax, ax
		mov	ShadowZ0, ax
		leave
		retf	0Eh
Draw3DObject	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Show3DObject	proc far		; CODE XREF: DrawItems+8CP
					; DrawItems+F3P ...

var_4		= word ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	4, 0
		mov	ax, [bp+arg_4]
		mov	OBJx, ax
		mov	ax, [bp+arg_2]
		add	ax, 60h	; '`'
		mov	OBJy, ax
		mov	ax, [bp+arg_0]
		mov	OBJz, ax
		mov	ax, word ptr [bp+arg_6]
		mov	dx, word ptr [bp+arg_6+2]
		mov	POH, ax
		mov	word_36C6C, dx
		les	di, [bp+arg_6]
		mov	ax, es:[di+4802h]
		mov	FCount,	ax
		les	di, [bp+arg_6]
		mov	ax, es:[di+4800h]
		mov	VCount,	ax
		les	di, [bp+arg_6]
		mov	ax, es
		mov	OHSeg, ax
		les	di, [bp+arg_6]
		les	di, es:[di+4806h]
		mov	ax, es
		mov	TSeg, ax
		mov	ax, WallH
		shr	ax, 4
		xor	dx, dx
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		mov	WallH4,	ax
		mov	ax, WinCY
		mov	[bp+var_4], ax
		cmp	InfoPage, 0
		jnz	short loc_184F8
		cmp	NETMonitor, 0
		jz	short loc_18509

loc_184F8:				; CODE XREF: Show3DObject+6Ej
		cmp	[bp+arg_0], 0
		jge	short loc_18509
		mov	ax, VideoCY
		sub	ax, 12h
		mov	WinCY, ax
		jmp	short loc_1850F
; ---------------------------------------------------------------------------

loc_18509:				; CODE XREF: Show3DObject+75j
					; Show3DObject+7Bj
		mov	ax, VideoCY
		mov	WinCY, ax

loc_1850F:				; CODE XREF: Show3DObject+86j
		mov	ax, TSeg
		mov	fs, ax
		mov	al, 0AAh ; 'ª'
		mov	DrawMask, al
		cmp	Curdark, 0
		jge	short loc_18525
		xor	ax, ax
		mov	Curdark, ax

loc_18525:				; CODE XREF: Show3DObject+9Dj
		cmp	Curdark, 32h ; '2'
		jle	short loc_18532
		mov	Curdark, 32h ; '2'

loc_18532:				; CODE XREF: Show3DObject+A9j
		mov	ax, cm_ofs
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Curdark
		shl	ax, 8
		cwd
		add	ax, cx
		adc	dx, bx
		mov	Curdark, ax
		call	RotateModelCopy
		mov	CurDH, 0EA60h
		call	ProcToScrASM_Clip
		cmp	Invisibility, 0
		jz	short loc_1856C
		mov	ax, 4E1h
		mov	DrawRoutOfsTab,	ax
		mov	ax, 4E1h
		mov	word_36CEE, ax

loc_1856C:				; CODE XREF: Show3DObject+DDj
		call	BuildTreeAsm_Clip
		call	DrawFacesNoCheck
		cmp	Invisibility, 0
		jz	short loc_18589
		mov	ax, 353h
		mov	DrawRoutOfsTab,	ax
		mov	ax, 823h
		mov	word_36CEE, ax

loc_18589:				; CODE XREF: Show3DObject+FAj
		mov	ax, [bp+var_4]
		mov	WinCY, ax
		mov	Invisibility, 0
		leave
		retf	0Ah
Show3DObject	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawHi3D	proc far		; CODE XREF: PlayBrifing+3B3P

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= dword	ptr  10h

		enter	2, 0
		mov	ax, [bp+arg_0]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	cx, 84h	; '„'
		xor	si, si
		mov	di, 2000h
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	ca, ax
		mov	word_448E2, bx
		mov	word_448E4, dx
		mov	ax, [bp+arg_0]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 84h	; '„'
		xor	si, si
		mov	di, 2000h
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	sa, ax
		mov	word_448E8, bx
		mov	word_448EA, dx
		mov	ax, [bp+arg_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, sa
		mov	si, word_448E8
		mov	di, word_448EA
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+arg_8]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, ca
		mov	si, word_448E2
		mov	di, word_448E4
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		mov	cx, 81h	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	OBJx, ax
		mov	ax, [bp+arg_8]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, sa
		mov	si, word_448E8
		mov	di, word_448EA
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+arg_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, ca
		mov	si, word_448E2
		mov	di, word_448E4
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		add	ax, 60h	; '`'
		adc	dx, 0
		mov	OBJy, ax
		mov	ax, [bp+arg_4]
		sub	ax, ehz
		mov	OBJz, ax
		mov	ax, [bp+arg_2]
		add	ax, [bp+arg_0]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 81h	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	CurFI, ax
		mov	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		shr	ax, 1
		mov	dx, ax
		mov	ax, [bp+arg_6]
		add	ax, 190h
		cmp	ax, dx
		jge	short loc_18719
		jmp	locret_187F1
; ---------------------------------------------------------------------------

loc_18719:				; CODE XREF: DrawHi3D+17Cj
		mov	ax, word ptr [bp+arg_A]
		or	ax, word ptr [bp+arg_A+2]
		jz	short loc_1872B
		les	di, [bp+arg_A]
		mov	ax, es
		cmp	ax, 0FFFFh
		jnz	short loc_1872E

loc_1872B:				; CODE XREF: DrawHi3D+187j
		jmp	locret_187F1
; ---------------------------------------------------------------------------

loc_1872E:				; CODE XREF: DrawHi3D+191j
		mov	ax, word ptr [bp+arg_A]
		mov	dx, word ptr [bp+arg_A+2]
		mov	POH, ax
		mov	word_36C6C, dx
		les	di, [bp+arg_A]
		mov	ax, es:[di+4802h]
		mov	FCount,	ax
		les	di, [bp+arg_A]
		mov	ax, es:[di+4800h]
		mov	VCount,	ax
		les	di, [bp+arg_A]
		mov	ax, es
		mov	OHSeg, ax
		les	di, [bp+arg_A]
		les	di, es:[di+4806h]
		mov	ax, es
		mov	TSeg, ax
		mov	ax, WallH
		shr	ax, 4
		xor	dx, dx
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		mov	WallH4,	ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		mov	cx, 3Ch	; '<'
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 0F0h ; 'ð'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		mov	WallHhi, ax
		mov	ax, VideoW
		mov	dx, word_44DA4
		mov	cx, 118h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 168h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	WallWhi, ax
		mov	ax, TSeg
		mov	fs, ax
		call	RotateModelASM
		mov	ax, cm_ofs
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, Curdark
		shl	ax, 8
		cwd
		add	ax, cx
		adc	dx, bx
		mov	Curdark, ax
		mov	CurDH, 4E20h
		call	ProcToScrASM_Clip_hi
		call	BuildTreeAsm_Clip
		call	DrawFaces

locret_187F1:				; CODE XREF: DrawHi3D+17Ej
					; DrawHi3D:loc_1872Bj
		leave
		retf	0Eh
DrawHi3D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Morph3d		proc far		; CODE XREF: DrawItems+78P
					; DrawItems+DFP ...

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= dword	ptr  0Ch

		enter	8, 0
		mov	ax, word ptr [bp+arg_6]
		or	ax, word ptr [bp+arg_6+2]
		jz	short loc_18815
		mov	ax, word ptr [bp+arg_2]
		or	ax, word ptr [bp+arg_2+2]
		jz	short loc_18815
		cmp	word ptr [bp+arg_6], 0FFFFh
		jz	short loc_18815
		cmp	word ptr [bp+arg_2], 0FFFFh
		jnz	short loc_18818

loc_18815:				; CODE XREF: Morph3d+Aj Morph3d+12j ...
		jmp	locret_188C9
; ---------------------------------------------------------------------------

loc_18818:				; CODE XREF: Morph3d+1Ej
		les	di, [bp+arg_2]
		mov	ax, es
		mov	[bp+var_2], ax
		les	di, [bp+arg_6]
		mov	ax, es
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		shr	ax, 1
		mov	[bp+var_6], ax
		les	di, [bp+arg_6]
		mov	ax, es:[di+4800h]
		mov	[bp+var_8], ax
		push	[bp+var_2]
		mov	ax, [bp+var_6]
		les	di, [bp+arg_6]
		mul	word ptr es:[di+4800h]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		push	ax
		push	[bp+var_4]
		push	3200h
		les	di, [bp+arg_6]
		mov	ax, es:[di+4800h]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		shr	ax, 2
		inc	ax
		push	ax
		call	movsD
		mov	al, byte ptr [bp+arg_0]
		shr	al, 1
		jnb	short locret_188C9
		mov	cx, [bp+var_8]
		mov	ax, [bp+var_4]
		mov	es, ax
		mov	si, 3200h
		mov	ax, [bp+var_2]
		mov	fs, ax
		mov	ax, [bp+var_6]
		inc	ax
		mul	cx
		mov	bx, 6
		mul	bx
		mov	di, ax

loc_18896:				; CODE XREF: Morph3d+D2j
		mov	ax, fs:[di]
		add	ax, es:[si]
		sar	ax, 1
		mov	es:[si], ax
		add	di, 2
		mov	ax, fs:[di]
		add	ax, es:[si+2]
		sar	ax, 1
		mov	es:[si+2], ax
		add	di, 2
		mov	ax, fs:[di]
		add	ax, es:[si+4]
		sar	ax, 1
		mov	es:[si+4], ax
		add	di, 2
		add	si, 6
		loop	loc_18896

locret_188C9:				; CODE XREF: Morph3d:loc_18815j
					; Morph3d+82j
		leave
		retf	0Ah
Morph3d		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetFreeVert	proc far		; CODE XREF: sub_1893B+E9P

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	4, 0
		xor	ax, ax
		mov	[bp+var_2], ax

loc_188D6:				; CODE XREF: SetFreeVert+1Cj
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_2]
		jz	short loc_188E6
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_0]
		jnz	short loc_188EB

loc_188E6:				; CODE XREF: SetFreeVert+Fj
		inc	[bp+var_2]
		jmp	short loc_188D6
; ---------------------------------------------------------------------------

loc_188EB:				; CODE XREF: SetFreeVert+17j
		xor	ax, ax
		mov	[bp+var_4], ax

loc_188F0:				; CODE XREF: SetFreeVert+3Ej
		mov	ax, [bp+var_4]
		cmp	ax, [bp+arg_2]
		jz	short loc_18908
		mov	ax, [bp+var_4]
		cmp	ax, [bp+arg_0]
		jz	short loc_18908
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_2]
		jnz	short loc_1890D

loc_18908:				; CODE XREF: SetFreeVert+29j
					; SetFreeVert+31j
		inc	[bp+var_4]
		jmp	short loc_188F0
; ---------------------------------------------------------------------------

loc_1890D:				; CODE XREF: SetFreeVert+39j
		mov	dx, [bp+var_2]
		mov	ax, [bp+arg_0]
		shl	ax, 2
		mov	di, [bp+arg_2]
		shl	di, 4
		add	di, ax
		mov	[di+12B0h], dx
		mov	dx, [bp+var_4]
		mov	ax, [bp+arg_0]
		shl	ax, 2
		mov	di, [bp+arg_2]
		shl	di, 4
		add	di, ax
		mov	[di+12B2h], dx
		leave
		retf	4
SetFreeVert	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1893B	proc far		; CODE XREF: PROGRAM+2DP
		push	bp
		mov	bp, sp
		mov	ax, 353h
		mov	dx, seg	cseg04
		mov	word ptr DrawRout, ax
		mov	word ptr DrawRout+2, dx
		xor	ax, ax
		mov	n, ax
		jmp	short loc_18956
; ---------------------------------------------------------------------------

loc_18952:				; CODE XREF: sub_1893B+2Dj
		inc	n

loc_18956:				; CODE XREF: sub_1893B+15j
		mov	ax, 353h
		mov	di, n
		shl	di, 1
		mov	[di+0A9Ch], ax
		cmp	n, 7
		jnz	short loc_18952
		mov	ax, 823h
		mov	word_36CEE, ax
		mov	ax, 4E1h
		mov	word_36CF0, ax
		mov	ax, 4E1h
		mov	word_36CF2, ax
		mov	ax, 682h
		mov	word_36CF4, ax
		xor	ax, ax
		mov	n, ax
		jmp	short loc_1898D
; ---------------------------------------------------------------------------

loc_18989:				; CODE XREF: sub_1893B+63j
		inc	n

loc_1898D:				; CODE XREF: sub_1893B+4Cj
		mov	al, byte ptr n
		mov	di, n
		mov	[di+1358h], al
		cmp	n, 0FFh
		jnz	short loc_18989
		mov	ax, cs
		push	ax
		call	KERNEL_175
		mov	CSCopy,	ax
		push	CSCopy
		push	0
		push	0FA00h
		call	KERNEL_189
		mov	ShadowCount, 7
		xor	ax, ax
		mov	ReColor, ax
		mov	Div_tab, 7FFFh
		mov	word_36D02, 7FFFh
		mov	word_36D04, 7FFFh
		mov	n, 3
		jmp	short loc_189E2
; ---------------------------------------------------------------------------

loc_189DE:				; CODE XREF: sub_1893B+C9j
		inc	n

loc_189E2:				; CODE XREF: sub_1893B+A1j
		mov	ax, n
		cwd
		mov	cx, ax
		mov	bx, dx
		xor	ax, ax
		mov	dx, 1
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	di, n
		shl	di, 1
		mov	[di+0AB0h], ax
		cmp	n, 3FFh
		jnz	short loc_189DE
		xor	ax, ax
		mov	n, ax
		jmp	short loc_18A11
; ---------------------------------------------------------------------------

loc_18A0D:				; CODE XREF: sub_1893B+FAj
		inc	n

loc_18A11:				; CODE XREF: sub_1893B+D0j
		xor	ax, ax
		mov	i__0, ax
		jmp	short loc_18A1C
; ---------------------------------------------------------------------------

loc_18A18:				; CODE XREF: sub_1893B+F3j
		inc	i__0

loc_18A1C:				; CODE XREF: sub_1893B+DBj
		push	n
		push	i__0
		call	SetFreeVert
		cmp	i__0, 3
		jnz	short loc_18A18
		cmp	n, 3
		jnz	short loc_18A0D
		mov	YWrap, 0
		leave
		retf
sub_1893B	endp

; ---------------------------------------------------------------------------
		align 4
cseg04		ends

; Segment Number    : 5
; Alloc	Size	    : 853Dh
; Offset in the	file: 1D100h  Length: 853Dh
; Attributes  (1D10): CODE Moveable Relocations	Discardable DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg05		segment	para public 'CODE' use16
		assume cs:cseg05
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    5
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MulVectors__0	proc near		; CODE XREF: TryToGo__0+15Fp

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		mov	cx, 0FFFFh
		mov	ax, [bp+arg_6]
		imul	[bp+arg_0]
		mov	bx, dx
		shl	ebx, 10h
		mov	bx, ax
		mov	ax, [bp+arg_4]
		imul	[bp+arg_2]
		shl	edx, 10h
		mov	dx, ax
		sub	ebx, edx
		js	short loc_18A6A
		mov	cx, 1

loc_18A6A:				; CODE XREF: MulVectors__0+23j
		mov	ax, cx
		leave
		retn	8
MulVectors__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo__0	proc near		; CODE XREF: DoCheck+194p DoCheck+1BAp

var_E		= word ptr -0Eh
var_C		= byte ptr -0Ch
var_9		= word ptr -9
var_7		= word ptr -7
var_5		= word ptr -5
var_3		= word ptr -3
arg_2		= dword	ptr  6

		enter	0Eh, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_C]
		lds	si, [bp+arg_2]
		mov	cx, 0Bh
		rep movsb
		mov	ds, bx
		mov	ax, [bp+var_5]
		sub	ax, [bp+var_9]
		mov	LWx, ax
		mov	ax, [bp+var_3]
		sub	ax, [bp+var_7]
		mov	LWy, ax
		mov	ax, LWx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLwx, ax
		mov	ax, LWy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLWy, ax
		mov	ax, aLwx
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_9]
		add	ax, [bp+var_5]
		shr	ax, 1
		sub	ax, nhxi
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_18AD4
		mov	Ry, 400h
		jmp	short loc_18B03
; ---------------------------------------------------------------------------

loc_18AD4:				; CODE XREF: TryToGo__0+5Aj
		cmp	LWy, 0
		jnz	short loc_18AE7
		mov	ax, [bp+var_7]
		sub	ax, nhyi
		mov	Ry, ax
		jmp	short loc_18B03
; ---------------------------------------------------------------------------

loc_18AE7:				; CODE XREF: TryToGo__0+69j
		mov	ax, nhxi
		sub	ax, [bp+var_9]
		mov	bx, LWy
		imul	bx
		mov	bx, LWx
		idiv	bx
		add	ax, [bp+var_7]
		sub	ax, nhyi
		mov	Ry, ax

loc_18B03:				; CODE XREF: TryToGo__0+62j
					; TryToGo__0+75j
		mov	ax, aLWy
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_7]
		add	ax, [bp+var_3]
		shr	ax, 1
		sub	ax, nhyi
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_18B27
		mov	Rx, 400h
		jmp	short loc_18B56
; ---------------------------------------------------------------------------

loc_18B27:				; CODE XREF: TryToGo__0+ADj
		cmp	LWx, 0
		jnz	short loc_18B3A
		mov	ax, [bp+var_9]
		sub	ax, nhxi
		mov	Rx, ax
		jmp	short loc_18B56
; ---------------------------------------------------------------------------

loc_18B3A:				; CODE XREF: TryToGo__0+BCj
		mov	ax, nhyi
		sub	ax, [bp+var_7]
		mov	bx, LWx
		imul	bx
		mov	bx, LWy
		idiv	bx
		add	ax, [bp+var_9]
		sub	ax, nhxi
		mov	Rx, ax

loc_18B56:				; CODE XREF: TryToGo__0+B5j
					; TryToGo__0+C8j
		mov	ax, Rx
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, Ry
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Min
		mov	R__1, ax
		cmp	aLwx, 0
		jle	short loc_18B92
		cmp	aLWy, 0
		jle	short loc_18B92
		mov	ax, R__1
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		cwd
		mov	cx, 8
		idiv	cx
		mov	R__1, ax

loc_18B92:				; CODE XREF: TryToGo__0+105j
					; TryToGo__0+10Cj
		mov	ax, R__1
		cmp	ax, Fr
		jl	short loc_18B9E
		jmp	locret_18C4D
; ---------------------------------------------------------------------------

loc_18B9E:				; CODE XREF: TryToGo__0+129j
		mov	Corrected, 1
		xor	ax, ax
		mov	[bp+var_E], ax
		mov	al, [bp+var_C]
		cmp	al, 56h	; 'V'
		jb	short loc_18BDC
		cmp	al, 78h	; 'x'
		ja	short loc_18BDC
		mov	ax, [bp+var_5]
		sub	ax, [bp+var_9]
		push	ax
		mov	ax, [bp+var_3]
		sub	ax, [bp+var_7]
		push	ax
		mov	ax, nhxi
		sub	ax, [bp+var_9]
		push	ax
		mov	ax, nhyi
		sub	ax, [bp+var_7]
		push	ax
		call	MulVectors__0
		cmp	ax, 0FFFFh
		jnz	short loc_18BDC
		mov	[bp+var_E], 1

loc_18BDC:				; CODE XREF: TryToGo__0+13Dj
					; TryToGo__0+141j ...
		mov	ax, Fr
		sub	ax, R__1
		mov	R__1, ax
		mov	ax, aLWy
		shr	ax, 2
		imul	ax
		mov	cx, ax
		mov	ax, aLwx
		shr	ax, 2
		imul	ax
		add	ax, cx
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		call	@Sqrt$q4Real	; Sqrt(x: Real): Real
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, 2
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	RSize, ax
		mov	cx, RSize
		mov	ax, R__1
		mov	bx, LWy
		imul	bx
		idiv	RSize
		cmp	[bp+var_E], 0
		jz	short loc_18C30
		neg	ax

loc_18C30:				; CODE XREF: TryToGo__0+1BCj
		sub	nhxi, ax
		mov	ax, R__1
		mov	bx, LWx
		imul	bx
		idiv	RSize
		cmp	[bp+var_E], 0
		jz	short loc_18C49
		neg	ax

loc_18C49:				; CODE XREF: TryToGo__0+1D5j
		add	nhyi, ax

locret_18C4D:				; CODE XREF: TryToGo__0+12Bj
		leave
		retn	6
TryToGo__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo2P	proc near		; CODE XREF: DoCheck+35Ep

var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	10h, 0
		cmp	[bp+arg_2], 50h	; 'P'
		jg	short loc_18C5E
		jmp	locret_18D89
; ---------------------------------------------------------------------------

loc_18C5E:				; CODE XREF: TryToGo2P+8j
		mov	ax, nhxi
		sub	ax, [bp+arg_6]
		mov	[bp+var_2], ax
		mov	ax, nhyi
		sub	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	al, byte ptr [bp+arg_2]
		shr	al, 1
		jnb	short loc_18CEF
		mov	ax, [bp+var_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_A], ax
		push	[bp+var_A]
		push	[bp+var_8]
		call	Max
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+arg_2]
		jge	short loc_18CEC
		mov	Corrected, 1
		mov	ax, [bp+arg_4]
		sub	ax, nhyi
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_6]
		sub	ax, nhxi
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jle	short loc_18CDA
		push	[bp+var_2]
		call	Sgn
		cbw
		mul	[bp+arg_2]
		add	ax, [bp+arg_6]
		mov	nhxi, ax
		jmp	short loc_18CEC
; ---------------------------------------------------------------------------

loc_18CDA:				; CODE XREF: TryToGo2P+73j
		push	[bp+var_4]
		call	Sgn
		cbw
		mul	[bp+arg_2]
		add	ax, [bp+arg_4]
		mov	nhyi, ax

loc_18CEC:				; CODE XREF: TryToGo2P+50j
					; TryToGo2P+87j
		jmp	locret_18D89
; ---------------------------------------------------------------------------

loc_18CEF:				; CODE XREF: TryToGo2P+24j
		push	[bp+var_2]
		push	[bp+var_4]
		call	QPifagorA32__0
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+arg_2]
		jl	short loc_18D08
		jmp	locret_18D89
; ---------------------------------------------------------------------------

loc_18D08:				; CODE XREF: TryToGo2P+B2j
		mov	Corrected, 1
		mov	ax, [bp+var_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+arg_2]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_10], ax
		mov	[bp+var_E], bx
		mov	[bp+var_C], dx
		mov	ax, [bp+var_2]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	nhxi, ax
		mov	ax, [bp+var_4]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	nhyi, ax

locret_18D89:				; CODE XREF: TryToGo2P+Aj
					; TryToGo2P:loc_18CECj	...
		leave
		retn	8
TryToGo2P	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo2R	proc near		; CODE XREF: DoCheck+296p DoCheck+2B3p ...

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	0Eh, 0
		mov	ax, nhxi
		sub	ax, [bp+arg_4]
		mov	[bp+var_C], ax
		mov	ax, nhyi
		sub	ax, [bp+arg_2]
		mov	[bp+var_E], ax
		push	[bp+var_C]
		push	[bp+var_E]
		call	QPifagorA32__0
		mov	[bp+var_A], ax
		mov	ax, [bp+var_A]
		cmp	ax, Fr
		jge	short loc_18E36
		mov	ax, [bp+var_A]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		mov	ax, Fr
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_8], ax
		mov	[bp+var_6], bx
		mov	[bp+var_4], dx
		mov	ax, [bp+var_C]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_8]
		mov	si, [bp+var_6]
		mov	di, [bp+var_4]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	nhxi, ax
		mov	ax, [bp+var_E]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_8]
		mov	si, [bp+var_6]
		mov	di, [bp+var_4]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	nhyi, ax

loc_18E36:				; CODE XREF: TryToGo2R+2Bj
		mov	al, [bp+var_1]
		leave
		retn	6
TryToGo2R	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGoM	proc near		; CODE XREF: DoCheck+7Ap DoCheck+C4p

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_A		= dword	ptr  0Eh
arg_E		= dword	ptr  12h

		enter	0Ah, 0
		cmp	[bp+arg_2], 94h	; '”'
		jge	short loc_18E4B
		jmp	locret_18EDE
; ---------------------------------------------------------------------------

loc_18E4B:				; CODE XREF: TryToGoM+9j
		mov	ax, nhxi
		sub	ax, [bp+arg_6]
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_8], ax
		mov	ax, nhyi
		sub	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_A], ax
		push	[bp+var_A]
		push	[bp+var_8]
		call	Max
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+arg_2]
		jge	short locret_18EDE
		mov	Corrected, 1
		mov	ax, [bp+arg_4]
		mov	di, [bp+arg_0]
		les	di, ss:[di+arg_A]
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_6]
		mov	di, [bp+arg_0]
		les	di, ss:[di+arg_E]
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jle	short loc_18ECC
		push	[bp+var_2]
		call	Sgn
		cbw
		mul	[bp+arg_2]
		add	ax, [bp+arg_6]
		mov	nhxi, ax
		jmp	short locret_18EDE
; ---------------------------------------------------------------------------

loc_18ECC:				; CODE XREF: TryToGoM+79j
		push	[bp+var_4]
		call	Sgn
		cbw
		mul	[bp+arg_2]
		add	ax, [bp+arg_4]
		mov	nhyi, ax

locret_18EDE:				; CODE XREF: TryToGoM+Bj TryToGoM+4Aj	...
		leave
		retn	8
TryToGoM	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DoCheck		proc near		; CODE XREF: MoveOn+C5p MoveOn+EDp ...

var_42		= dword	ptr -42h
var_3E		= dword	ptr -3Eh
var_3A		= word ptr -3Ah
var_38		= word ptr -38h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= byte ptr  6
arg_8		= word ptr  0Ch
arg_12		= dword	ptr  16h

		enter	42h, 0
		mov	Corrected, 0
		cmp	ClipMode, 0
		jz	short loc_18EF5
		jmp	locret_19259
; ---------------------------------------------------------------------------

loc_18EF5:				; CODE XREF: DoCheck+Ej
		mov	di, [bp+arg_0]
		cmp	ss:[di+arg_2], 0
		jnz	short loc_18F02
		jmp	loc_18FAF
; ---------------------------------------------------------------------------

loc_18F02:				; CODE XREF: DoCheck+1Bj
		mov	ax, MCount
		mov	[bp+var_38], ax
		mov	ax, 1
		cmp	ax, [bp+var_38]
		jg	short loc_18F67
		mov	[bp+var_2], ax
		jmp	short loc_18F18
; ---------------------------------------------------------------------------

loc_18F15:				; CODE XREF: DoCheck+83j
		inc	[bp+var_2]

loc_18F18:				; CODE XREF: DoCheck+31j
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_3E+2],	di
		mov	[bp+var_3A], es
		cmp	word ptr es:[di+12h], 0
		jle	short loc_18F5F
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		cmp	word ptr [di+7FBEh], 30h ; '0'
		jge	short loc_18F5F
		les	di, [bp+var_3E+2]
		assume es:nothing
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		push	word ptr [di+7FB8h]
		mov	di, [bp+arg_0]
		push	di
		call	TryToGoM

loc_18F5F:				; CODE XREF: DoCheck+4Bj DoCheck+5Cj
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_38]
		jnz	short loc_18F15

loc_18F67:				; CODE XREF: DoCheck+2Cj
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_18F71
; ---------------------------------------------------------------------------

loc_18F6E:				; CODE XREF: DoCheck+CBj
		inc	[bp+var_2]

loc_18F71:				; CODE XREF: DoCheck+8Aj
		mov	ax, [bp+var_2]
		mov	di, [bp+arg_0]
		les	di, ss:[di+arg_12]
		cmp	ax, es:[di]
		jz	short loc_18FA9
		imul	di, [bp+var_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		cmp	byte ptr es:[di], 0
		jz	short loc_18FA9
		cmp	word ptr es:[di+28h], 0
		jle	short loc_18FA9
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	0B4h ; '´'
		mov	di, [bp+arg_0]
		push	di
		call	TryToGoM

loc_18FA9:				; CODE XREF: DoCheck+9Cj DoCheck+ACj ...
		cmp	[bp+var_2], 7
		jnz	short loc_18F6E

loc_18FAF:				; CODE XREF: DoCheck+1Dj
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+var_2]
		inc	ax
		inc	ax
		mov	[bp+var_38], ax
		mov	ax, ss:[di+var_2]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_38]
		jle	short loc_18FC9
		jmp	loc_190B5
; ---------------------------------------------------------------------------

loc_18FC9:				; CODE XREF: DoCheck+E2j
		mov	[bp+var_2], ax
		jmp	short loc_18FD1
; ---------------------------------------------------------------------------

loc_18FCE:				; CODE XREF: DoCheck+1D0j
		inc	[bp+var_2]

loc_18FD1:				; CODE XREF: DoCheck+EAj
		cmp	[bp+var_2], 0
		jge	short loc_18FDA
		jmp	loc_190AA
; ---------------------------------------------------------------------------

loc_18FDA:				; CODE XREF: DoCheck+F3j
		cmp	[bp+var_2], 40h	; '@'
		jl	short loc_18FE3
		jmp	loc_190AA
; ---------------------------------------------------------------------------

loc_18FE3:				; CODE XREF: DoCheck+FCj
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+var_4]
		inc	ax
		inc	ax
		mov	[bp+var_3A], ax
		mov	ax, ss:[di+var_4]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_3A]
		jle	short loc_18FFD
		jmp	loc_190AA
; ---------------------------------------------------------------------------

loc_18FFD:				; CODE XREF: DoCheck+116j
		mov	[bp+var_4], ax
		jmp	short loc_19005
; ---------------------------------------------------------------------------

loc_19002:				; CODE XREF: DoCheck+1C5j
		inc	[bp+var_4]

loc_19005:				; CODE XREF: DoCheck+11Ej
		cmp	[bp+var_4], 0
		jge	short loc_1900E
		jmp	loc_1909F
; ---------------------------------------------------------------------------

loc_1900E:				; CODE XREF: DoCheck+127j
		cmp	[bp+var_4], 40h	; '@'
		jl	short loc_19017
		jmp	loc_1909F
; ---------------------------------------------------------------------------

loc_19017:				; CODE XREF: DoCheck+130j
		imul	ax, [bp+var_4],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_2],	2C0h
		les	di, Map
		assume es:nothing
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		cmp	al, 56h	; 'V'
		jb	short loc_1907B
		cmp	al, 78h	; 'x'
		ja	short loc_1907B
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 1
		or	al, al
		jz	short loc_19079
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_2]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 46h ;	'F'
		jnb	short loc_19079
		imul	ax, [bp+var_4],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		mov	di, [bp+arg_0]
		push	di
		call	TryToGo__0

loc_19079:				; CODE XREF: DoCheck+162j DoCheck+179j
		jmp	short loc_1909F
; ---------------------------------------------------------------------------

loc_1907B:				; CODE XREF: DoCheck+14Dj DoCheck+151j
		cmp	al, 1
		jb	short loc_1909F
		cmp	al, 6Eh	; 'n'
		ja	short loc_1909F
		imul	ax, [bp+var_4],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		mov	di, [bp+arg_0]
		push	di
		call	TryToGo__0

loc_1909F:				; CODE XREF: DoCheck+129j DoCheck+132j ...
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_3A]
		jz	short loc_190AA
		jmp	loc_19002
; ---------------------------------------------------------------------------

loc_190AA:				; CODE XREF: DoCheck+F5j DoCheck+FEj ...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_38]
		jz	short loc_190B5
		jmp	loc_18FCE
; ---------------------------------------------------------------------------

loc_190B5:				; CODE XREF: DoCheck+E4j DoCheck+1CEj
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+var_2]
		inc	ax
		inc	ax
		mov	[bp+var_38], ax
		mov	ax, ss:[di+var_2]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_38]
		jle	short loc_190CF
		jmp	locret_19259
; ---------------------------------------------------------------------------

loc_190CF:				; CODE XREF: DoCheck+1E8j
		mov	[bp+var_2], ax
		jmp	short loc_190D7
; ---------------------------------------------------------------------------

loc_190D4:				; CODE XREF: DoCheck+374j
		inc	[bp+var_2]

loc_190D7:				; CODE XREF: DoCheck+1F0j
		cmp	[bp+var_2], 0
		jge	short loc_190E0
		jmp	loc_1924E
; ---------------------------------------------------------------------------

loc_190E0:				; CODE XREF: DoCheck+1F9j
		cmp	[bp+var_2], 40h	; '@'
		jl	short loc_190E9
		jmp	loc_1924E
; ---------------------------------------------------------------------------

loc_190E9:				; CODE XREF: DoCheck+202j
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+var_4]
		inc	ax
		inc	ax
		mov	[bp+var_3A], ax
		mov	ax, ss:[di+var_4]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_3A]
		jle	short loc_19103
		jmp	loc_1924E
; ---------------------------------------------------------------------------

loc_19103:				; CODE XREF: DoCheck+21Cj
		mov	[bp+var_4], ax
		jmp	short loc_1910B
; ---------------------------------------------------------------------------

loc_19108:				; CODE XREF: DoCheck+369j
		inc	[bp+var_4]

loc_1910B:				; CODE XREF: DoCheck+224j
		cmp	[bp+var_4], 0
		jge	short loc_19114
		jmp	loc_19243
; ---------------------------------------------------------------------------

loc_19114:				; CODE XREF: DoCheck+22Dj
		cmp	[bp+var_4], 40h	; '@'
		jl	short loc_1911D
		jmp	loc_19243
; ---------------------------------------------------------------------------

loc_1911D:				; CODE XREF: DoCheck+236j
		imul	ax, [bp+var_4],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_3E], di
		mov	word ptr [bp+var_3E+2],	es
		mov	al, es:[di]
		cmp	al, 56h	; 'V'
		jb	short loc_1917E
		cmp	al, 78h	; 'x'
		ja	short loc_1917E
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 1
		or	al, al
		jz	short loc_1917B
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_2]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 46h ;	'F'
		jnb	short loc_1917B
		les	di, [bp+var_3E]
		push	word ptr es:[di+7]
		push	word ptr es:[di+9]
		mov	di, [bp+arg_0]
		push	di
		call	TryToGo2R

loc_1917B:				; CODE XREF: DoCheck+26Ej DoCheck+285j
		jmp	loc_19243
; ---------------------------------------------------------------------------

loc_1917E:				; CODE XREF: DoCheck+259j DoCheck+25Dj
		cmp	al, 1
		jb	short loc_191AD
		cmp	al, 6Eh	; 'n'
		ja	short loc_191AD
		les	di, [bp+var_3E]
		push	word ptr es:[di+7]
		push	word ptr es:[di+9]
		mov	di, [bp+arg_0]
		push	di
		call	TryToGo2R
		les	di, [bp+var_3E]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	di, [bp+arg_0]
		push	di
		call	TryToGo2R
		jmp	loc_19243
; ---------------------------------------------------------------------------

loc_191AD:				; CODE XREF: DoCheck+29Ej DoCheck+2A2j
		cmp	al, 83h	; 'ƒ'
		jnb	short loc_191B4
		jmp	loc_19243
; ---------------------------------------------------------------------------

loc_191B4:				; CODE XREF: DoCheck+2CDj
		cmp	al, 0E2h ; 'â'
		jbe	short loc_191BB
		jmp	loc_19243
; ---------------------------------------------------------------------------

loc_191BB:				; CODE XREF: DoCheck+2D4j
		les	di, [bp+var_3E]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_42], di
		mov	word ptr [bp+var_42+2],	es
		les	di, [bp+var_3E]
		assume es:nothing
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		shl	ax, 5
		mov	[bp+var_6], ax
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+arg_8]
		add	ax, 320h
		mov	dx, ax
		les	di, [bp+var_42]
		mov	ax, es:[di+14h]
		add	ax, [bp+var_6]
		cmp	ax, dx
		jle	short loc_19243
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+arg_8]
		add	ax, 680h
		mov	dx, ax
		les	di, [bp+var_42]
		mov	ax, es:[di+12h]
		add	ax, [bp+var_6]
		cmp	ax, dx
		jge	short loc_19243
		les	di, [bp+var_3E]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74AEh]
		add	ax, 50h	; 'P'
		push	ax
		mov	di, [bp+arg_0]
		push	di
		call	TryToGo2P

loc_19243:				; CODE XREF: DoCheck+22Fj DoCheck+238j ...
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_3A]
		jz	short loc_1924E
		jmp	loc_19108
; ---------------------------------------------------------------------------

loc_1924E:				; CODE XREF: DoCheck+1FBj DoCheck+204j ...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_38]
		jz	short locret_19259
		jmp	loc_190D4
; ---------------------------------------------------------------------------

locret_19259:				; CODE XREF: DoCheck+10j DoCheck+1EAj	...
		leave
		retn	2
DoCheck		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MoveOn		proc far		; CODE XREF: MoveServerPlayers+549P
					; CorrectPlayerPosition+50EP ...

var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_8		= dword	ptr  0Eh
arg_C		= dword	ptr  12h

		enter	10h, 0
		mov	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cwd
		mov	cx, 2Ch	; ','
		idiv	cx
		inc	ax
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_A], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jle	short loc_19296
		jmp	loc_19342
; ---------------------------------------------------------------------------

loc_19296:				; CODE XREF: MoveOn+34j
		mov	[bp+var_8], ax
		jmp	short loc_1929E
; ---------------------------------------------------------------------------

loc_1929B:				; CODE XREF: MoveOn+E2j
		inc	[bp+var_8]

loc_1929E:				; CODE XREF: MoveOn+3Cj
		mov	ax, [bp+arg_4]
		cwd
		idiv	[bp+var_A]
		mov	[bp+var_C], ax
		mov	ax, [bp+arg_2]
		cwd
		idiv	[bp+var_A]
		mov	[bp+var_E], ax
		les	di, [bp+arg_C]
		mov	ax, es:[di]
		add	ax, [bp+var_C]
		mov	nhxi, ax
		les	di, [bp+arg_8]
		mov	ax, es:[di]
		add	ax, [bp+var_E]
		mov	nhyi, ax
		mov	ax, [bp+var_C]
		sub	[bp+arg_4], ax
		mov	ax, [bp+var_E]
		sub	[bp+arg_2], ax
		dec	[bp+var_A]
		cmp	nhxi, 214h
		jge	short loc_192E7
		mov	nhxi, 214h

loc_192E7:				; CODE XREF: MoveOn+82j
		cmp	nhxi, 3DECh
		jle	short loc_192F5
		mov	nhxi, 3DECh

loc_192F5:				; CODE XREF: MoveOn+90j
		cmp	nhyi, 214h
		jge	short loc_19303
		mov	nhyi, 214h

loc_19303:				; CODE XREF: MoveOn+9Ej
		cmp	nhyi, 3DECh
		jle	short loc_19311
		mov	nhyi, 3DECh

loc_19311:				; CODE XREF: MoveOn+ACj
		mov	al, byte ptr nhxi+1
		xor	ah, ah
		mov	[bp+var_2], ax
		mov	al, byte ptr nhyi+1
		xor	ah, ah
		mov	[bp+var_4], ax
		push	bp
		call	DoCheck
		mov	ax, nhxi
		les	di, [bp+arg_C]
		mov	es:[di], ax
		mov	ax, nhyi
		les	di, [bp+arg_8]
		mov	es:[di], ax
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_10]
		jz	short loc_19342
		jmp	loc_1929B
; ---------------------------------------------------------------------------

loc_19342:				; CODE XREF: MoveOn+36j MoveOn+E0j
		cmp	Corrected, 0
		jz	short loc_1934D
		push	bp
		call	DoCheck

loc_1934D:				; CODE XREF: MoveOn+EAj
		cmp	Corrected, 0
		jz	short loc_19358
		push	bp
		call	DoCheck

loc_19358:				; CODE XREF: MoveOn+F5j
		cmp	Corrected, 0
		jz	short loc_19363
		push	bp
		call	DoCheck

loc_19363:				; CODE XREF: MoveOn+100j
		cmp	Corrected, 0
		jz	short locret_1936E
		push	bp
		call	DoCheck

locret_1936E:				; CODE XREF: MoveOn+10Bj
		leave
		retf	14h
MoveOn		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetMFloorZ	proc far		; CODE XREF: CheckTelePorts+21DP
					; DoGame+8D1P ...

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_8]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		shr	ax, 1
		mov	[bp+arg_8], ax
		mov	ax, [bp+arg_A]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		add	ax, [bp+arg_8]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		add	ax, [bp+arg_8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_8]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		add	ax, [bp+arg_8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		add	ax, [bp+arg_8]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		sub	ax, [bp+arg_8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_8]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		sub	ax, [bp+arg_8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		add	ax, [bp+arg_8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		sub	ax, [bp+arg_8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		add	ax, [bp+arg_8]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_8]
		shr	ax, 6
		mov	dx, ax
		mov	ax, [bp+arg_C]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Max
		les	di, [bp+arg_4]
		mov	es:[di], ax
		mov	ax, [bp+arg_A]
		sub	ax, 80h	; '€'
		mov	al, ah
		xor	ah, ah
		mov	dx, ax
		mov	al, byte ptr [bp+arg_C+1]
		xor	ah, ah
		shl	ax, 6
		les	di, FloorZHi
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+arg_0]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		add	ax, 56h	; 'V'
		mov	al, ah
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+arg_C]
		sub	ax, 64h	; 'd'
		mov	al, ah
		xor	ah, ah
		shl	ax, 6
		les	di, FloorZHi
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Min
		les	di, [bp+arg_0]
		mov	es:[di], ax
		push	word ptr es:[di]
		mov	ax, [bp+arg_A]
		add	ax, 56h	; 'V'
		mov	al, ah
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+arg_C]
		add	ax, 64h	; 'd'
		mov	al, ah
		xor	ah, ah
		shl	ax, 6
		les	di, FloorZHi
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		push	ax
		call	Min
		les	di, [bp+arg_0]
		mov	es:[di], ax
		les	di, [bp+arg_4]
		mov	ax, es:[di]
		mov	es:[di], ax
		les	di, [bp+arg_0]
		mov	ax, es:[di]
		sub	ax, 4
		mov	es:[di], ax
		leave
		retf	0Eh
GetMFloorZ	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo__1	proc near		; CODE XREF: MS_WallCheck+108p
					; MS_WallCheck+14Bp

var_12		= byte ptr -12h
var_C		= byte ptr -0Ch
var_9		= word ptr -9
var_7		= word ptr -7
var_5		= word ptr -5
var_3		= word ptr -3
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		enter	0Ch, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_C]
		lds	si, [bp+arg_4]
		mov	cx, 0Bh
		rep movsb
		mov	ds, bx
		mov	ax, [bp+var_5]
		sub	ax, [bp+var_9]
		mov	LWx, ax
		mov	ax, [bp+var_3]
		sub	ax, [bp+var_7]
		mov	LWy, ax
		mov	ax, LWx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLwx, ax
		mov	ax, LWy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLWy, ax
		mov	ax, aLwx
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_9]
		add	ax, [bp+var_5]
		shr	ax, 1
		mov	dx, ax
		mov	ax, rrx
		neg	ax
		add	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_19646
		mov	Ry, 400h
		jmp	short loc_19675
; ---------------------------------------------------------------------------

loc_19646:				; CODE XREF: TryToGo__1+5Fj
		cmp	LWy, 0
		jnz	short loc_19659
		mov	ax, [bp+var_7]
		sub	ax, rry
		mov	Ry, ax
		jmp	short loc_19675
; ---------------------------------------------------------------------------

loc_19659:				; CODE XREF: TryToGo__1+6Ej
		mov	ax, rrx
		sub	ax, [bp+var_9]
		mov	bx, LWy
		imul	bx
		mov	bx, LWx
		idiv	bx
		add	ax, [bp+var_7]
		sub	ax, rry
		mov	Ry, ax

loc_19675:				; CODE XREF: TryToGo__1+67j
					; TryToGo__1+7Aj
		mov	ax, aLWy
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_7]
		add	ax, [bp+var_3]
		shr	ax, 1
		mov	dx, ax
		mov	ax, rry
		neg	ax
		add	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_1969E
		mov	Rx, 400h
		jmp	short loc_196CD
; ---------------------------------------------------------------------------

loc_1969E:				; CODE XREF: TryToGo__1+B7j
		cmp	LWx, 0
		jnz	short loc_196B1
		mov	ax, [bp+var_9]
		sub	ax, rrx
		mov	Rx, ax
		jmp	short loc_196CD
; ---------------------------------------------------------------------------

loc_196B1:				; CODE XREF: TryToGo__1+C6j
		mov	ax, rry
		sub	ax, [bp+var_7]
		mov	bx, LWx
		imul	bx
		mov	bx, LWy
		idiv	bx
		add	ax, [bp+var_9]
		sub	ax, rrx
		mov	Rx, ax

loc_196CD:				; CODE XREF: TryToGo__1+BFj
					; TryToGo__1+D2j
		mov	ax, Rx
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, Ry
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Min
		mov	R__1, ax
		mov	ax, R__1
		cmp	ax, [bp+arg_2]
		jge	short locret_196F7
		mov	di, [bp+arg_0]
		mov	ss:[di+var_12],	1

locret_196F7:				; CODE XREF: TryToGo__1+110j
		leave
		retn	8
TryToGo__1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo2B__0	proc near		; CODE XREF: MS_WallCheck+11Ep
					; MS_WallCheck+15Dp

var_12		= byte ptr -12h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		mov	ax, rrx
		sub	ax, [bp+arg_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_2], ax
		mov	ax, rry
		sub	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_4], ax
		mov	di, [bp+arg_0]
		cmp	ss:[di+var_12],	0
		jnz	short loc_19739
		push	[bp+var_4]
		push	[bp+var_2]
		call	Max
		cmp	ax, [bp+arg_2]
		jl	short loc_19739
		mov	al, 0
		jmp	short loc_1973B
; ---------------------------------------------------------------------------

loc_19739:				; CODE XREF: TryToGo2B__0+28j
					; TryToGo2B__0+38j
		mov	al, 1

loc_1973B:				; CODE XREF: TryToGo2B__0+3Cj
		mov	di, [bp+arg_0]
		mov	ss:[di+var_12],	al
		leave
		retn	8
TryToGo2B__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo2P__0	proc near		; CODE XREF: MS_WallCheck+200p

var_12		= byte ptr -12h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		mov	al, byte ptr [bp+arg_2]
		shr	al, 1
		jnb	short loc_19756
		add	[bp+arg_2], 80h	; '€'

loc_19756:				; CODE XREF: TryToGo2P__0+9j
		mov	ax, rrx
		sub	ax, [bp+arg_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_2], ax
		mov	ax, rry
		sub	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_4], ax
		mov	di, [bp+arg_0]
		cmp	ss:[di+var_12],	0
		jnz	short loc_19790
		push	[bp+var_4]
		push	[bp+var_2]
		call	Max
		cmp	ax, [bp+arg_2]
		jl	short loc_19790
		mov	al, 0
		jmp	short loc_19792
; ---------------------------------------------------------------------------

loc_19790:				; CODE XREF: TryToGo2P__0+34j
					; TryToGo2P__0+44j
		mov	al, 1

loc_19792:				; CODE XREF: TryToGo2P__0+48j
		mov	di, [bp+arg_0]
		mov	ss:[di+var_12],	al
		leave
		retn	8
TryToGo2P__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MS_WallCheck	proc far		; CODE XREF: NotFreeForMonster+B9P

var_1E		= dword	ptr -1Eh
var_1A		= dword	ptr -1Ah
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= byte ptr -12h
var_11		= byte ptr -11h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	1Eh, 0
		mov	[bp+var_12], 0
		mov	ax, [bp+arg_A]
		mov	rrx, ax
		mov	ax, [bp+arg_8]
		mov	rry, ax
		mov	al, byte ptr rrx+1
		xor	ah, ah
		mov	[bp+var_E], ax
		mov	al, byte ptr rry+1
		xor	ah, ah
		mov	[bp+var_10], ax
		mov	ax, [bp+var_E]
		inc	ax
		inc	ax
		mov	[bp+var_14], ax
		mov	ax, [bp+var_E]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_14]
		jle	short loc_197D6
		jmp	loc_199C2
; ---------------------------------------------------------------------------

loc_197D6:				; CODE XREF: MS_WallCheck+34j
		mov	[bp+var_A], ax
		jmp	short loc_197DE
; ---------------------------------------------------------------------------

loc_197DB:				; CODE XREF: MS_WallCheck+222j
		inc	[bp+var_A]

loc_197DE:				; CODE XREF: MS_WallCheck+3Cj
		cmp	[bp+var_A], 0
		jge	short loc_197E7
		jmp	loc_199B7
; ---------------------------------------------------------------------------

loc_197E7:				; CODE XREF: MS_WallCheck+45j
		cmp	[bp+var_A], 40h	; '@'
		jl	short loc_197F0
		jmp	loc_199B7
; ---------------------------------------------------------------------------

loc_197F0:				; CODE XREF: MS_WallCheck+4Ej
		mov	ax, [bp+var_10]
		inc	ax
		inc	ax
		mov	[bp+var_16], ax
		mov	ax, [bp+var_10]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_16]
		jle	short loc_19805
		jmp	loc_199B7
; ---------------------------------------------------------------------------

loc_19805:				; CODE XREF: MS_WallCheck+63j
		mov	[bp+var_C], ax
		jmp	short loc_1980D
; ---------------------------------------------------------------------------

loc_1980A:				; CODE XREF: MS_WallCheck+217j
		inc	[bp+var_C]

loc_1980D:				; CODE XREF: MS_WallCheck+6Bj
		cmp	[bp+var_C], 0
		jge	short loc_19816
		jmp	loc_199AC
; ---------------------------------------------------------------------------

loc_19816:				; CODE XREF: MS_WallCheck+74j
		cmp	[bp+var_C], 40h	; '@'
		jl	short loc_1981F
		jmp	loc_199AC
; ---------------------------------------------------------------------------

loc_1981F:				; CODE XREF: MS_WallCheck+7Dj
		imul	ax, [bp+var_C],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_A],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		mov	al, es:[di]
		cmp	al, 56h	; 'V'
		jnb	short loc_19842
		jmp	loc_198C1
; ---------------------------------------------------------------------------

loc_19842:				; CODE XREF: MS_WallCheck+A0j
		cmp	al, 77h	; 'w'
		ja	short loc_198C1
		cmp	[bp+arg_0], 0
		jnz	short loc_1985D
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 2
		or	al, al
		jz	short loc_198BE

loc_1985D:				; CODE XREF: MS_WallCheck+ADj
		les	di, [bp+var_1A]
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 1
		or	al, al
		jz	short loc_198BE
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_A]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 50h ;	'P'
		jnb	short loc_198BE
		imul	ax, [bp+var_C],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_A],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		mov	ax, [bp+arg_2]
		add	ax, 18h
		push	ax
		push	bp
		call	TryToGo__1
		les	di, [bp+var_1A]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	ax, [bp+arg_2]
		add	ax, 18h
		push	ax
		push	bp
		call	TryToGo2B__0

loc_198BE:				; CODE XREF: MS_WallCheck+BEj
					; MS_WallCheck+D2j ...
		jmp	loc_199A0
; ---------------------------------------------------------------------------

loc_198C1:				; CODE XREF: MS_WallCheck+A2j
					; MS_WallCheck+A7j
		cmp	al, 1
		jb	short loc_19900
		cmp	al, 78h	; 'x'
		ja	short loc_19900
		mov	al, [bp+var_12]
		mov	[bp+var_11], al
		imul	ax, [bp+var_C],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_A],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		push	[bp+arg_2]
		push	bp
		call	TryToGo__1
		les	di, [bp+var_1A]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	[bp+arg_2]
		push	bp
		call	TryToGo2B__0
		jmp	loc_199A0
; ---------------------------------------------------------------------------

loc_19900:				; CODE XREF: MS_WallCheck+126j
					; MS_WallCheck+12Aj
		cmp	al, 83h	; 'ƒ'
		jnb	short loc_19907
		jmp	loc_199A0
; ---------------------------------------------------------------------------

loc_19907:				; CODE XREF: MS_WallCheck+165j
		cmp	al, 0E2h ; 'â'
		jbe	short loc_1990E
		jmp	loc_199A0
; ---------------------------------------------------------------------------

loc_1990E:				; CODE XREF: MS_WallCheck+16Cj
		les	di, [bp+var_1A]
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		shl	ax, 5
		mov	[bp+var_4], ax
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_1E], di
		mov	word ptr [bp+var_1E+2],	es
		cmp	word ptr es:[di+2], 0
		jz	short loc_19949
		cmp	word ptr es:[di+2], 0FEh ; 'þ'
		jnz	short loc_199A0

loc_19949:				; CODE XREF: MS_WallCheck+1A2j
		les	di, [bp+var_1E]
		assume es:nothing
		cmp	word ptr es:[di+6], 0FFFFh
		jl	short loc_199A0
		mov	ax, [bp+arg_6]
		add	ax, [bp+arg_4]
		mov	dx, ax
		mov	ax, es:[di+12h]
		add	ax, [bp+var_4]
		cmp	ax, dx
		jg	short loc_199A0
		mov	ax, es:[di+14h]
		add	ax, [bp+var_4]
		cmp	ax, [bp+arg_6]
		jl	short loc_199A0
		mov	ax, es:[di+12h]
		add	ax, [bp+var_4]
		cmp	ax, 0F00h
		jge	short loc_199A0
		les	di, [bp+var_1A]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74AEh]
		add	ax, 28h	; '('
		push	ax
		push	bp
		call	TryToGo2P__0

loc_199A0:				; CODE XREF: MS_WallCheck:loc_198BEj
					; MS_WallCheck+160j ...
		cmp	[bp+var_12], 0
		jz	short loc_199AC
		mov	[bp+var_1], 1
		jmp	short loc_199C6
; ---------------------------------------------------------------------------

loc_199AC:				; CODE XREF: MS_WallCheck+76j
					; MS_WallCheck+7Fj ...
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_16]
		jz	short loc_199B7
		jmp	loc_1980A
; ---------------------------------------------------------------------------

loc_199B7:				; CODE XREF: MS_WallCheck+47j
					; MS_WallCheck+50j ...
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_14]
		jz	short loc_199C2
		jmp	loc_197DB
; ---------------------------------------------------------------------------

loc_199C2:				; CODE XREF: MS_WallCheck+36j
					; MS_WallCheck+220j
		mov	[bp+var_1], 0

loc_199C6:				; CODE XREF: MS_WallCheck+20Dj
		mov	al, [bp+var_1]
		leave
		retf	0Ch
MS_WallCheck	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LocUsed		proc near		; CODE XREF: NotFreeForMonster+21p

var_8		= dword	ptr -8
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		enter	0Ch, 0
		mov	[bp+var_1], 0
		mov	al, byte ptr MCount
		mov	[bp+var_3], al
		mov	al, 1
		cmp	al, [bp+var_3]
		jbe	short loc_199E5
		jmp	loc_19A8C
; ---------------------------------------------------------------------------

loc_199E5:				; CODE XREF: LocUsed+13j
		mov	[bp+var_2], al
		jmp	short loc_199ED
; ---------------------------------------------------------------------------

loc_199EA:				; CODE XREF: LocUsed+BCj
		inc	[bp+var_2]

loc_199ED:				; CODE XREF: LocUsed+1Bj
		mov	al, [bp+var_2]
		xor	ah, ah
		cmp	ax, n__0
		jnz	short loc_199FB
		jmp	loc_19A81
; ---------------------------------------------------------------------------

loc_199FB:				; CODE XREF: LocUsed+29j
		mov	al, [bp+var_2]
		xor	ah, ah
		add	ax, 64h	; 'd'
		cmp	ax, [bp+arg_0]
		jz	short loc_19A81
		mov	al, [bp+var_2]
		xor	ah, ah
		imul	di, ax,	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		cmp	word ptr es:[di+12h], 0
		jle	short loc_19A81
		mov	ax, es:[di]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, 0DCh ; 'Ü'
		jge	short loc_19A81
		les	di, [bp+var_8]
		assume es:nothing
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di+0Ch]
		shr	ax, 5
		les	di, [bp+var_8]
		assume es:nothing
		add	ax, es:[di+20h]
		cmp	ax, [bp+arg_4]
		jl	short loc_19A81
		mov	ax, [bp+arg_4]
		add	ax, [bp+arg_2]
		cmp	ax, es:[di+20h]
		jl	short loc_19A81
		mov	al, es:[di+0Ah]
		mov	[bp+var_1], al
		jmp	short loc_19A8C
; ---------------------------------------------------------------------------

loc_19A81:				; CODE XREF: LocUsed+2Bj LocUsed+39j ...
		mov	al, [bp+var_2]
		cmp	al, [bp+var_3]
		jz	short loc_19A8C
		jmp	loc_199EA
; ---------------------------------------------------------------------------

loc_19A8C:				; CODE XREF: LocUsed+15j LocUsed+B2j ...
		mov	al, [bp+var_1]
		leave
		retn	0Ah
LocUsed		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LocUsedTar	proc near		; CODE XREF: NotFreeForMonster+43p

var_6		= dword	ptr -6
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		enter	0Ah, 0
		mov	[bp+var_1], 0
		cmp	[bp+arg_0], 64h	; 'd'
		jl	short loc_19B19
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		imul	di, ax,	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	word ptr es:[di+12h], 0
		jle	short loc_19B19
		mov	ax, es:[di]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, 0B4h ; '´'
		jge	short loc_19B19
		les	di, [bp+var_6]
		assume es:nothing
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di+0Ch]
		shr	ax, 5
		les	di, [bp+var_6]
		assume es:nothing
		add	ax, es:[di+20h]
		cmp	ax, [bp+arg_4]
		jl	short loc_19B19
		mov	ax, [bp+arg_4]
		add	ax, [bp+arg_2]
		cmp	ax, es:[di+20h]
		jg	short loc_19B19
		mov	al, es:[di+0Ah]
		mov	[bp+var_1], al

loc_19B19:				; CODE XREF: LocUsedTar+Cj
					; LocUsedTar+28j ...
		mov	al, [bp+var_1]
		leave
		retn	0Ah
LocUsedTar	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

NotFreeForMonster proc far		; CODE XREF: CorrectMonstersPosition+177P
					; AnimateExternal+14DP	...

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h

		enter	0Ch, 0
		mov	[bp+var_2], 0
		cmp	[bp+arg_0], 0
		jz	short loc_19B50
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_C]
		mov	ax, [bp+arg_A]
		shr	ax, 5
		push	ax
		push	[bp+arg_4]
		call	LocUsed
		or	al, al
		mov	al, 0
		jbe	short loc_19B4B
		inc	ax

loc_19B4B:				; CODE XREF: NotFreeForMonster+28j
		mov	[bp+var_2], al
		jmp	short loc_19B70
; ---------------------------------------------------------------------------

loc_19B50:				; CODE XREF: NotFreeForMonster+Cj
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_C]
		mov	ax, [bp+arg_A]
		shr	ax, 5
		push	ax
		push	[bp+arg_4]
		call	LocUsedTar
		or	al, al
		mov	al, 0
		jbe	short loc_19B6D
		inc	ax

loc_19B6D:				; CODE XREF: NotFreeForMonster+4Aj
		mov	[bp+var_2], al

loc_19B70:				; CODE XREF: NotFreeForMonster+2Ej
		cmp	[bp+var_2], 0
		jnz	short loc_19BBE
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_8]
		lea	di, [bp+var_6]
		push	ss
		push	di
		lea	di, [bp+var_8]
		push	ss
		push	di
		call	GetMFloorZ
		mov	ax, [bp+arg_E]
		add	ax, 18h
		cmp	ax, [bp+var_6]
		jge	short loc_19B9F
		mov	[bp+var_2], 1
		jmp	short loc_19BBE
; ---------------------------------------------------------------------------

loc_19B9F:				; CODE XREF: NotFreeForMonster+77j
		cmp	[bp+arg_E], 50h	; 'P'
		jge	short loc_19BBE
		mov	ax, [bp+arg_A]
		shr	ax, 5
		mov	dx, ax
		mov	ax, [bp+var_6]
		add	ax, [bp+arg_C]
		add	ax, dx
		cmp	ax, [bp+var_8]
		jle	short loc_19BBE
		mov	[bp+var_2], 1

loc_19BBE:				; CODE XREF: NotFreeForMonster+54j
					; NotFreeForMonster+7Dj ...
		cmp	[bp+var_2], 0
		jnz	short loc_19BE1
		push	[bp+arg_12]
		push	[bp+arg_10]
		mov	ax, [bp+arg_E]
		shl	ax, 5
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	1
		call	MS_WallCheck
		mov	[bp+var_2], al

loc_19BE1:				; CODE XREF: NotFreeForMonster+A2j
		cmp	[bp+var_2], 0
		jnz	short loc_19C3C
		cmp	[bp+arg_2], 0
		jz	short loc_19C3C
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_19BF7
; ---------------------------------------------------------------------------

loc_19BF4:				; CODE XREF: NotFreeForMonster+11Aj
		inc	[bp+var_4]

loc_19BF7:				; CODE XREF: NotFreeForMonster+D2j
		imul	di, [bp+var_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		cmp	byte ptr es:[di], 0
		jz	short loc_19C36
		cmp	word ptr es:[di+28h], 0
		jle	short loc_19C36
		mov	ax, [bp+arg_12]
		sub	ax, es:[di+0Ah]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, [bp+arg_10]
		sub	ax, es:[di+0Ch]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, [bp+arg_6]
		jge	short loc_19C36
		mov	[bp+var_2], 1

loc_19C36:				; CODE XREF: NotFreeForMonster+E5j
					; NotFreeForMonster+ECj ...
		cmp	[bp+var_4], 7
		jnz	short loc_19BF4

loc_19C3C:				; CODE XREF: NotFreeForMonster+C5j
					; NotFreeForMonster+CBj
		mov	al, [bp+var_2]
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retf	14h
NotFreeForMonster endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StartLoading	proc far		; CODE XREF: LoadLevel+4P LoadGame+7P

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		cmp	LevelN,	63h ; 'c'
		jnz	short loc_19C57
		jmp	locret_19D0C
; ---------------------------------------------------------------------------

loc_19C57:				; CODE XREF: StartLoading+9j
		mov	ax, VgaSeg
		mov	es, ax
		assume es:nothing
		mov	bx, VideoH
		shl	bx, 2
		mov	edi, [bx-6E84h]
		mov	bx, 28C6h
		dec	edi

loc_19C6D:				; CODE XREF: StartLoading+2Fj
		mov	al, es:[edi]
		xlat
		mov	es:[edi], al
		dec	edi
		jnz	short loc_19C6D
		mov	ax, VideoH
		shr	ax, 1
		sub	ax, 28h	; '('
		mov	[bp+var_2], ax
		mov	LoadPos, 2
		mov	ax, LoadingH
		dec	ax
		mov	[bp+var_4], ax
		xor	ax, ax
		cmp	ax, [bp+var_4]
		jg	short loc_19D07
		mov	n__0, ax
		jmp	short loc_19CA2
; ---------------------------------------------------------------------------

loc_19C9E:				; CODE XREF: StartLoading+BCj
		inc	n__0

loc_19CA2:				; CODE XREF: StartLoading+53j
		les	di, Loading
		push	es
		mov	ax, LoadingW
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, n__0
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		shl	di, 2
		mov	cx, [di-6E84h]
		mov	bx, [di-6E82h]
		mov	ax, LoadingW
		shr	ax, 1
		mov	dx, ax
		mov	ax, VideoCX
		sub	ax, dx
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		push	dx
		push	ax
		mov	ax, LoadingW
		shr	ax, 1
		xor	dx, dx
		push	dx
		push	ax
		call	MovsEW
		mov	ax, n__0
		cmp	ax, [bp+var_4]
		jnz	short loc_19C9E

loc_19D07:				; CODE XREF: StartLoading+4Ej
		call	ShowVideoBuffer

locret_19D0C:				; CODE XREF: StartLoading+Bj
		leave
		retf
StartLoading	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

NextLoading	proc far		; CODE XREF: UpLoad3dObjects:loc_1BEE2P
					; ReloadResources+199P	...

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		cmp	LoadPos, 0
		jnz	short loc_19D1C
		jmp	locret_19DBB
; ---------------------------------------------------------------------------

loc_19D1C:				; CODE XREF: NextLoading+9j
		add	LoadPos, 4
		cmp	LoadPos, 96h ; '–'
		jbe	short loc_19D2F
		mov	LoadPos, 96h ; '–'

loc_19D2F:				; CODE XREF: NextLoading+19j
		mov	ax, LoadPos
		mul	LoadingW
		xor	dx, dx
		mov	cx, 96h	; '–'
		div	cx
		mov	[bp+var_6], ax
		mov	ax, VideoH
		shr	ax, 1
		sub	ax, 28h	; '('
		mov	[bp+var_2], ax
		mov	ax, LoadingH
		dec	ax
		mov	[bp+var_8], ax
		xor	ax, ax
		cmp	ax, [bp+var_8]
		ja	short loc_19DB6
		mov	[bp+var_4], ax
		jmp	short loc_19D61
; ---------------------------------------------------------------------------

loc_19D5E:				; CODE XREF: NextLoading+A6j
		inc	[bp+var_4]

loc_19D61:				; CODE XREF: NextLoading+4Ej
		les	di, Loading
		push	es
		mov	ax, [bp+var_4]
		add	ax, LoadingH
		mul	LoadingW
		xor	dx, dx
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, [bp+var_2]
		add	ax, [bp+var_4]
		mov	di, ax
		shl	di, 2
		mov	cx, [di-6E84h]
		mov	bx, [di-6E82h]
		mov	ax, LoadingW
		shr	ax, 1
		mov	dx, ax
		mov	ax, VideoCX
		sub	ax, dx
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		push	dx
		push	ax
		mov	ax, [bp+var_6]
		shr	ax, 1
		xor	dx, dx
		push	dx
		push	ax
		call	MovsEW
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_8]
		jnz	short loc_19D5E

loc_19DB6:				; CODE XREF: NextLoading+49j
		call	ShowVideoBuffer

locret_19DBB:				; CODE XREF: NextLoading+Bj
		leave
		retf
NextLoading	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetLandHeight	proc far		; CODE XREF: ReinitPlayer+123P
					; ExpandMonster+121P ...

var_1E		= dword	ptr -1Eh
var_1A		= dword	ptr -1Ah
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_B		= byte ptr  11h
arg_D		= byte ptr  13h

		enter	1Eh, 0
		mov	[bp+var_4], 1000h
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	al, [bp+arg_D]
		xor	ah, ah
		mov	[bp+var_10], ax
		mov	al, [bp+arg_B]
		xor	ah, ah
		mov	[bp+var_12], ax
		mov	ax, [bp+var_12]
		inc	ax
		inc	ax
		mov	[bp+var_14], ax
		mov	ax, [bp+var_12]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_14]
		jle	short loc_19DF0
		jmp	loc_19F3E
; ---------------------------------------------------------------------------

loc_19DF0:				; CODE XREF: GetLandHeight+2Ej
		mov	[bp+var_E], ax
		jmp	short loc_19DF8
; ---------------------------------------------------------------------------

loc_19DF5:				; CODE XREF: GetLandHeight+17Ej
		inc	[bp+var_E]

loc_19DF8:				; CODE XREF: GetLandHeight+36j
		mov	ax, [bp+var_10]
		inc	ax
		inc	ax
		mov	[bp+var_16], ax
		mov	ax, [bp+var_10]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_16]
		jle	short loc_19E0D
		jmp	loc_19F33
; ---------------------------------------------------------------------------

loc_19E0D:				; CODE XREF: GetLandHeight+4Bj
		mov	[bp+var_C], ax
		jmp	short loc_19E15
; ---------------------------------------------------------------------------

loc_19E12:				; CODE XREF: GetLandHeight+173j
		inc	[bp+var_C]

loc_19E15:				; CODE XREF: GetLandHeight+53j
		imul	ax, [bp+var_E],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_C],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jnb	short loc_19E38
		jmp	loc_19F28
; ---------------------------------------------------------------------------

loc_19E38:				; CODE XREF: GetLandHeight+76j
		cmp	al, 0E2h ; 'â'
		jbe	short loc_19E3F
		jmp	loc_19F28
; ---------------------------------------------------------------------------

loc_19E3F:				; CODE XREF: GetLandHeight+7Dj
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_1E], di
		mov	word ptr [bp+var_1E+2],	es
		cmp	word ptr es:[di+2], 0
		jz	short loc_19E6F
		cmp	word ptr es:[di+2], 0FEh ; 'þ'
		jz	short loc_19E6F
		cmp	word ptr es:[di+6], 0FFFEh
		jz	short loc_19E6F
		jmp	loc_19F28
; ---------------------------------------------------------------------------

loc_19E6F:				; CODE XREF: GetLandHeight+9Ej
					; GetLandHeight+A6j ...
		les	di, [bp+var_1E]
		assume es:nothing
		cmp	word ptr es:[di], 0
		jg	short loc_19E7B
		jmp	loc_19F28
; ---------------------------------------------------------------------------

loc_19E7B:				; CODE XREF: GetLandHeight+B9j
		mov	al, es:[di]
		shr	al, 1
		jnb	short loc_19EA9
		les	di, [bp+var_1A]
		mov	ax, es:[di+3]
		sub	ax, [bp+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+10h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	[bp+var_2], ax
		jmp	short loc_19EC4
; ---------------------------------------------------------------------------

loc_19EA9:				; CODE XREF: GetLandHeight+C3j
		les	di, [bp+var_1A]
		mov	ax, es:[di+3]
		sub	ax, [bp+12h]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+10h]
		push	ax
		call	QPifagorA32__0
		mov	[bp+var_2], ax

loc_19EC4:				; CODE XREF: GetLandHeight+EAj
		les	di, [bp+var_1E]
		mov	ax, es:[di]
		add	ax, [bp+arg_8]
		cmp	ax, [bp+var_2]
		jle	short loc_19F28
		les	di, [bp+var_1A]
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		shl	ax, 5
		mov	[bp+var_2], ax
		les	di, [bp+var_1E]
		mov	ax, es:[di+12h]
		add	ax, [bp+var_2]
		mov	[bp+var_A], ax
		mov	ax, es:[di+14h]
		add	ax, [bp+var_2]
		mov	[bp+var_8], ax
		cmp	[bp+var_8], 800h
		jge	short loc_19F13
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_6]
		jle	short loc_19F13
		mov	ax, [bp+var_8]
		mov	[bp+var_6], ax

loc_19F13:				; CODE XREF: GetLandHeight+146j
					; GetLandHeight+14Ej
		cmp	[bp+var_A], 800h
		jle	short loc_19F28
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_4]
		jge	short loc_19F28
		mov	ax, [bp+var_A]
		mov	[bp+var_4], ax

loc_19F28:				; CODE XREF: GetLandHeight+78j
					; GetLandHeight+7Fj ...
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_16]
		jz	short loc_19F33
		jmp	loc_19E12
; ---------------------------------------------------------------------------

loc_19F33:				; CODE XREF: GetLandHeight+4Dj
					; GetLandHeight+171j
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_14]
		jz	short loc_19F3E
		jmp	loc_19DF5
; ---------------------------------------------------------------------------

loc_19F3E:				; CODE XREF: GetLandHeight+30j
					; GetLandHeight+17Cj
		mov	ax, [bp+var_6]
		les	di, [bp+arg_4]
		mov	es:[di], ax
		mov	ax, [bp+var_4]
		sub	ax, 780h
		les	di, [bp+arg_0]
		mov	es:[di], ax
		leave
		retf	0Eh
GetLandHeight	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetFloorLoHi	proc near		; CODE XREF: InitZPositions+59p

var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_9		= byte ptr  0Dh
arg_B		= byte ptr  0Fh

		enter	1Ah, 0
		mov	[bp+var_4], 1000h
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	al, [bp+arg_B]
		xor	ah, ah
		mov	[bp+var_C], ax
		mov	al, [bp+arg_9]
		xor	ah, ah
		mov	[bp+var_E], ax
		mov	ax, [bp+var_E]
		inc	ax
		inc	ax
		mov	[bp+var_10], ax
		mov	ax, [bp+var_E]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_10]
		jle	short loc_19F8A
		jmp	loc_1A084
; ---------------------------------------------------------------------------

loc_19F8A:				; CODE XREF: GetFloorLoHi+2Ej
		mov	[bp+var_A], ax
		jmp	short loc_19F92
; ---------------------------------------------------------------------------

loc_19F8F:				; CODE XREF: GetFloorLoHi+12Aj
		inc	[bp+var_A]

loc_19F92:				; CODE XREF: GetFloorLoHi+36j
		mov	ax, [bp+var_C]
		inc	ax
		inc	ax
		mov	[bp+var_12], ax
		mov	ax, [bp+var_C]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_12]
		jle	short loc_19FA7
		jmp	loc_1A079
; ---------------------------------------------------------------------------

loc_19FA7:				; CODE XREF: GetFloorLoHi+4Bj
		mov	[bp+var_8], ax
		jmp	short loc_19FAF
; ---------------------------------------------------------------------------

loc_19FAC:				; CODE XREF: GetFloorLoHi+11Fj
		inc	[bp+var_8]

loc_19FAF:				; CODE XREF: GetFloorLoHi+53j
		imul	ax, [bp+var_A],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_8],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jnb	short loc_19FD2
		jmp	loc_1A06E
; ---------------------------------------------------------------------------

loc_19FD2:				; CODE XREF: GetFloorLoHi+76j
		cmp	al, 0E2h ; 'â'
		jbe	short loc_19FD9
		jmp	loc_1A06E
; ---------------------------------------------------------------------------

loc_19FD9:				; CODE XREF: GetFloorLoHi+7Dj
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		cmp	word ptr es:[di+6], 0FFFFh
		jge	short loc_1A06E
		cmp	word ptr es:[di], 0
		jle	short loc_1A06E
		les	di, [bp+var_16]
		assume es:nothing
		mov	ax, es:[di+3]
		sub	ax, [bp+0Eh]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+0Ch]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	[bp+var_2], ax
		les	di, [bp+var_1A]
		mov	ax, es:[di]
		add	ax, 8
		cmp	ax, [bp+var_2]
		jle	short loc_1A048
		cmp	word ptr es:[di+14h], 780h
		jge	short loc_1A048
		mov	ax, es:[di+14h]
		cmp	ax, [bp+var_6]
		jle	short loc_1A048
		mov	ax, es:[di+14h]
		mov	[bp+var_6], ax

loc_1A048:				; CODE XREF: GetFloorLoHi+D7j
					; GetFloorLoHi+DFj ...
		les	di, [bp+var_1A]
		mov	ax, es:[di]
		add	ax, 40h	; '@'
		cmp	ax, [bp+var_2]
		jle	short loc_1A06E
		cmp	word ptr es:[di+12h], 780h
		jle	short loc_1A06E
		mov	ax, es:[di+12h]
		cmp	ax, [bp+var_4]
		jge	short loc_1A06E
		mov	ax, es:[di+12h]
		mov	[bp+var_4], ax

loc_1A06E:				; CODE XREF: GetFloorLoHi+78j
					; GetFloorLoHi+7Fj ...
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_12]
		jz	short loc_1A079
		jmp	loc_19FAC
; ---------------------------------------------------------------------------

loc_1A079:				; CODE XREF: GetFloorLoHi+4Dj
					; GetFloorLoHi+11Dj
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_10]
		jz	short loc_1A084
		jmp	loc_19F8F
; ---------------------------------------------------------------------------

loc_1A084:				; CODE XREF: GetFloorLoHi+30j
					; GetFloorLoHi+128j
		mov	ax, [bp+var_6]
		shr	ax, 5
		les	di, [bp+arg_4]
		mov	es:[di], ax
		mov	ax, [bp+var_4]
		shr	ax, 5
		les	di, [bp+arg_0]
		mov	es:[di], ax
		leave
		retn	0Ch
GetFloorLoHi	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetFloorZ	proc near		; CODE XREF: InitZPositions+AFp

var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_1		= byte ptr -1
arg_1		= byte ptr  5
arg_3		= byte ptr  7

		enter	1Ah, 0
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	al, [bp+arg_3]
		xor	ah, ah
		mov	[bp+var_C], ax
		mov	al, [bp+arg_1]
		xor	ah, ah
		mov	[bp+var_E], ax
		mov	ax, [bp+var_E]
		inc	ax
		inc	ax
		mov	[bp+var_10], ax
		mov	ax, [bp+var_E]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_10]
		jle	short loc_1A0CE
		jmp	loc_1A1A1
; ---------------------------------------------------------------------------

loc_1A0CE:				; CODE XREF: GetFloorZ+29j
		mov	[bp+var_A], ax
		jmp	short loc_1A0D6
; ---------------------------------------------------------------------------

loc_1A0D3:				; CODE XREF: GetFloorZ+FEj
		inc	[bp+var_A]

loc_1A0D6:				; CODE XREF: GetFloorZ+31j
		mov	ax, [bp+var_C]
		inc	ax
		inc	ax
		mov	[bp+var_12], ax
		mov	ax, [bp+var_C]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_12]
		jle	short loc_1A0EB
		jmp	loc_1A196
; ---------------------------------------------------------------------------

loc_1A0EB:				; CODE XREF: GetFloorZ+46j
		mov	[bp+var_8], ax
		jmp	short loc_1A0F3
; ---------------------------------------------------------------------------

loc_1A0F0:				; CODE XREF: GetFloorZ+F3j
		inc	[bp+var_8]

loc_1A0F3:				; CODE XREF: GetFloorZ+4Ej
		imul	ax, [bp+var_A],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_8],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jb	short loc_1A18B
		cmp	al, 0E2h ; 'â'
		ja	short loc_1A18B
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		cmp	word ptr es:[di+6], 0FFFFh
		jge	short loc_1A18B
		cmp	word ptr es:[di], 0
		jle	short loc_1A18B
		cmp	word ptr es:[di+2], 0
		jnz	short loc_1A18B
		les	di, [bp+var_16]
		assume es:nothing
		mov	ax, es:[di+3]
		sub	ax, [bp+6]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+4]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	dx, ax
		les	di, [bp+var_1A]
		mov	ax, es:[di]
		add	ax, 10h
		cmp	ax, dx
		jle	short loc_1A18B
		cmp	word ptr es:[di+14h], 780h
		jge	short loc_1A18B
		mov	ax, es:[di+14h]
		cmp	ax, [bp+var_6]
		jle	short loc_1A18B
		mov	ax, es:[di+14h]
		mov	[bp+var_6], ax

loc_1A18B:				; CODE XREF: GetFloorZ+71j
					; GetFloorZ+75j ...
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_12]
		jz	short loc_1A196
		jmp	loc_1A0F0
; ---------------------------------------------------------------------------

loc_1A196:				; CODE XREF: GetFloorZ+48j
					; GetFloorZ+F1j
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_10]
		jz	short loc_1A1A1
		jmp	loc_1A0D3
; ---------------------------------------------------------------------------

loc_1A1A1:				; CODE XREF: GetFloorZ+2Bj
					; GetFloorZ+FCj
		mov	ax, [bp+var_6]
		shr	ax, 5
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retn	4
GetFloorZ	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MakeTeleEffect	proc far		; CODE XREF: CheckTelePorts+96P
					; CheckTelePorts+183P ...

var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_2		= byte ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Ah, 0
		imul	ax, [bp+arg_2],	0Ah
		les	di, Tports
		add	di, ax
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		push	54h ; 'T'
		mov	al, byte ptr [bp+arg_2]
		push	ax
		push	[bp+arg_0]
		push	0
		push	0
		push	0
		call	AddEvent
		push	0FFFFh
		les	di, [bp+var_6]
		mov	ax, es:[di]
		shl	ax, 8
		add	ax, 80h	; '€'
		push	ax
		mov	ax, es:[di+2]
		shl	ax, 8
		add	ax, 80h	; '€'
		push	ax
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 11h
		push	ax
		call	AddVoice
		les	di, [bp+var_6]
		mov	ax, es:[di]
		shl	ax, 8
		add	ax, 80h	; '€'
		push	ax
		mov	ax, es:[di+2]
		shl	ax, 8
		add	ax, 80h	; '€'
		push	ax
		push	6
		push	26h ; '&'
		push	2Eh ; '.'
		call	_AddBlowLight
		les	di, [bp+var_6]
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		push	6
		push	26h ; '&'
		push	2Eh ; '.'
		call	_AddBlowLight
		cmp	[bp+arg_0], 0FFFFh
		jnz	short loc_1A262
		push	0FFFFh
		les	di, [bp+var_6]
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 11h
		push	ax
		call	AddVoice
		jmp	locret_1A333
; ---------------------------------------------------------------------------

loc_1A262:				; CODE XREF: MakeTeleEffect+8Fj
		mov	ax, [bp+arg_0]
		cmp	ax, MyNetN
		jz	short loc_1A26E
		jmp	loc_1A30F
; ---------------------------------------------------------------------------

loc_1A26E:				; CODE XREF: MakeTeleEffect+B8j
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	BShadeLev, 20h ; ' '
		imul	ax, [bp+arg_2],	0Ah
		les	di, Tports
		assume es:nothing
		add	di, ax
		mov	ax, es:[di+4]
		les	di, [bp+var_A]
		mov	es:[di+0Ah], ax
		imul	ax, [bp+arg_2],	0Ah
		les	di, Tports
		add	di, ax
		mov	ax, es:[di+6]
		les	di, [bp+var_A]
		mov	es:[di+0Ch], ax
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+16h], ax
		xor	ax, ax
		mov	es:[di+18h], ax
		les	di, [bp+var_6]
		cmp	word ptr es:[di+8], 0FFFFh
		jz	short loc_1A2DA
		mov	ax, es:[di+8]
		shl	ax, 0Eh
		mov	HFi, ax

loc_1A2DA:				; CODE XREF: MakeTeleEffect+11Dj
		les	di, [bp+var_A]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	4Eh ; 'N'
		add	di, 0Eh
		push	es
		push	di
		lea	di, [bp+var_2]
		push	ss
		push	di
		call	GetLandHeight
		push	0FFFFh
		push	0
		push	0
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 11h
		push	ax
		call	AddVoice
		jmp	short locret_1A333
; ---------------------------------------------------------------------------

loc_1A30F:				; CODE XREF: MakeTeleEffect+BAj
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		push	0FFFFh
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 11h
		push	ax
		call	AddVoice

locret_1A333:				; CODE XREF: MakeTeleEffect+AEj
					; MakeTeleEffect+15Cj
		leave
		retf	4
MakeTeleEffect	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddMine		proc far		; CODE XREF: DoGame+D45P
					; ExecuteEvent+51P

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	4, 0
		cmp	MnCount, 0Fh
		jbe	short loc_1A35A
		mov	MnCount, 0Fh
		mov	di, offset unk_41E70
		push	ds
		push	di
		mov	di, offset MinesList
		push	ds
		push	di
		push	960h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)

loc_1A35A:				; CODE XREF: AddMine+9j
		cmp	RecordDemo, 0
		jz	short loc_1A374
		push	4Dh ; 'M'
		push	0
		push	0
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	0
		call	AddEvent

loc_1A374:				; CODE XREF: AddMine+28j
		inc	MnCount
		imul	di, MnCount, 0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, [bp+arg_4]
		mov	es:[di], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+2], ax
		mov	ax, es:[di+2]
		shr	ax, 6
		mov	dx, ax
		mov	ax, es:[di]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		assume es:nothing
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_4]
		mov	es:[di+6], ax
		mov	ax, es:[di+6]
		shl	ax, 5
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di+4], ax
		mov	ax, [bp+arg_0]
		mov	es:[di+8], ax
		leave
		retf	6
AddMine		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddSepPart	proc far		; CODE XREF: ExecuteEvent+11CP
					; AddDeadPlayer+1D0P ...

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		enter	0Ah, 0
		cmp	SCount,	1Fh
		jbe	short loc_1A3FB
		mov	SCount,	1Fh
		mov	di, offset unk_41BBC
		push	ds
		push	di
		mov	di, offset SepList
		push	ds
		push	di
		push	2AAh
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)

loc_1A3FB:				; CODE XREF: AddSepPart+9j
		inc	SCount
		mov	ax, [bp+arg_2]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 64h	; 'd'
		idiv	cx
		mov	[bp+var_6], ax
		mov	di, [bp+arg_2]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 64h	; 'd'
		idiv	cx
		mov	[bp+var_4], ax
		cmp	[bp+arg_4], 0
		jnz	short loc_1A43B
		mov	ax, [bp+var_6]
		neg	ax
		mov	[bp+var_6], ax
		jmp	short loc_1A443
; ---------------------------------------------------------------------------

loc_1A43B:				; CODE XREF: AddSepPart+57j
		mov	ax, [bp+var_4]
		neg	ax
		mov	[bp+var_4], ax

loc_1A443:				; CODE XREF: AddSepPart+61j
		push	70h ; 'p'
		mov	ax, [bp+arg_6]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_C]
		push	[bp+arg_A]
		mov	ax, [bp+arg_0]
		shl	ax, 8
		add	ax, [bp+arg_8]
		push	ax
		call	AddEvent
		imul	di, SCount, 16h
		add	di, 0B940h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	ax, [bp+arg_C]
		add	ax, [bp+var_4]
		mov	es:[di+8], ax
		mov	ax, [bp+arg_A]
		add	ax, [bp+var_6]
		mov	es:[di+0Ah], ax
		cmp	[bp+arg_4], 2
		jnz	short loc_1A4B2
		mov	ax, [bp+arg_6]
		add	ax, 64h	; 'd'
		imul	di, ax,	0A2h
		mov	ax, [di+7FBAh]
		sub	ax, 4
		shl	ax, 2
		les	di, [bp+var_A]
		assume es:nothing
		mov	es:[di+0Ch], ax
		jmp	short loc_1A4D3
; ---------------------------------------------------------------------------

loc_1A4B2:				; CODE XREF: AddSepPart+BBj
		mov	ax, [bp+arg_6]
		add	ax, 64h	; 'd'
		imul	di, ax,	0A2h
		mov	ax, [di+7FBAh]
		sub	ax, 3
		shl	ax, 3
		cwd
		mov	cx, 3
		idiv	cx
		les	di, [bp+var_A]
		mov	es:[di+0Ch], ax

loc_1A4D3:				; CODE XREF: AddSepPart+D8j
		cmp	[bp+arg_4], 2
		jl	short loc_1A4DC
		jmp	loc_1A591
; ---------------------------------------------------------------------------

loc_1A4DC:				; CODE XREF: AddSepPart+FFj
		push	80h ; '€'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		sub	ax, 40h	; '@'
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+arg_2], ax
		cmp	[bp+arg_2], 0
		jge	short loc_1A505
		add	[bp+arg_2], 400h
		jmp	short loc_1A511
; ---------------------------------------------------------------------------

loc_1A505:				; CODE XREF: AddSepPart+124j
		cmp	[bp+arg_2], 400h
		jl	short loc_1A511
		sub	[bp+arg_2], 400h

loc_1A511:				; CODE XREF: AddSepPart+12Bj
					; AddSepPart+132j
		push	1Eh
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_8]
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		add	ax, 20h	; ' '
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_A]
		mov	es:[di+12h], ax
		push	7
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, [bp+var_4]
		mul	[bp+arg_8]
		cwd
		mov	cx, 70h	; 'p'
		idiv	cx
		cwd
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		sub	ax, 3
		sbb	dx, 0
		les	di, [bp+var_A]
		mov	es:[di+0Eh], ax
		push	7
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, [bp+var_6]
		mul	[bp+arg_8]
		cwd
		mov	cx, 70h	; 'p'
		idiv	cx
		cwd
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		sub	ax, 3
		sbb	dx, 0
		les	di, [bp+var_A]
		mov	es:[di+10h], ax
		jmp	loc_1A637
; ---------------------------------------------------------------------------

loc_1A591:				; CODE XREF: AddSepPart+101j
		push	1Eh
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_8]
		shl	ax, 2
		add	ax, 5Ah	; 'Z'
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_A]
		mov	es:[di+12h], ax
		push	200h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		sub	ax, 100h
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+arg_2], ax
		cmp	[bp+arg_2], 0
		jge	short loc_1A5DC
		add	[bp+arg_2], 400h
		jmp	short loc_1A5E8
; ---------------------------------------------------------------------------

loc_1A5DC:				; CODE XREF: AddSepPart+1FBj
		cmp	[bp+arg_2], 400h
		jl	short loc_1A5E8
		sub	[bp+arg_2], 400h

loc_1A5E8:				; CODE XREF: AddSepPart+202j
					; AddSepPart+209j
		mov	ax, [bp+arg_8]
		add	ax, 14h
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_2]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_2]
		cwd
		mov	cx, 100h
		idiv	cx
		les	di, [bp+var_A]
		mov	es:[di+0Eh], ax
		mov	di, [bp+arg_2]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_2]
		cwd
		mov	cx, 100h
		idiv	cx
		les	di, [bp+var_A]
		mov	es:[di+10h], ax

loc_1A637:				; CODE XREF: AddSepPart+1B6j
		mov	ax, [bp+arg_2]
		shl	ax, 6
		les	di, [bp+var_A]
		mov	es:[di+14h], ax
		add	word ptr es:[di+14h], 0C000h
		mov	ax, [bp+arg_6]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, [bp+arg_4]
		mov	es:[di+4], ax
		mov	al, byte ptr [bp+arg_0]
		mov	es:[di+7], al
		xor	ax, ax
		mov	es:[di], ax
		xor	ax, ax
		mov	es:[di+2], ax
		mov	byte ptr es:[di+6], 0
		leave
		retf	0Eh
AddSepPart	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddAmmoBag	proc far		; CODE XREF: ExecuteEvent+2BP
					; AddDeadPlayer+C1P ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	4, 0
		cmp	AmCount, 3Eh ; '>'
		jbe	short loc_1A683
		jmp	locret_1A80D
; ---------------------------------------------------------------------------

loc_1A683:				; CODE XREF: AddAmmoBag+9j
		push	41h ; 'A'
		push	0
		push	0
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	AddEvent
		add	[bp+arg_6], 30h	; '0'
		add	[bp+arg_4], 30h	; '0'
		inc	AmCount
		imul	ax, AmCount, 1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	0
		add	di, 8
		push	es
		push	di
		les	di, [bp+var_4]
		push	es
		push	di
		call	GetLandHeight
		cmp	[bp+arg_2], 0C80h
		jle	short loc_1A6DC
		mov	[bp+arg_2], 0C80h

loc_1A6DC:				; CODE XREF: AddAmmoBag+60j
		mov	ax, [bp+arg_6]
		les	di, [bp+var_4]
		mov	es:[di], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+2], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+4], ax
		mov	word ptr es:[di+6], 28h	; '('
		xor	ax, ax
		mov	es:[di+0Ah], ax
		xor	ax, ax
		mov	es:[di+0Ch], ax
		cmp	[bp+arg_0], 0FFFFh
		jnz	short loc_1A70E
		jmp	locret_1A80D
; ---------------------------------------------------------------------------

loc_1A70E:				; CODE XREF: AddAmmoBag+94j
		cmp	[bp+arg_0], 7
		jg	short loc_1A717
		jmp	loc_1A7AC
; ---------------------------------------------------------------------------

loc_1A717:				; CODE XREF: AddAmmoBag+9Dj
		add	di, 11h
		push	es
		push	di
		push	8
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, [bp+var_4]
		xor	ax, ax
		mov	es:[di+19h], ax
		xor	ax, ax
		mov	es:[di+1Bh], ax
		mov	byte ptr es:[di+10h], 0
		mov	word ptr es:[di+1Dh], 2
		xor	ax, ax
		mov	es:[di+0Eh], ax
		mov	ax, [bp+arg_0]
		cmp	ax, 67h	; 'g'
		jnz	short loc_1A755
		mov	byte ptr es:[di+12h], 5
		jmp	short loc_1A7AA
; ---------------------------------------------------------------------------

loc_1A755:				; CODE XREF: AddAmmoBag+D7j
		cmp	ax, 6Ah	; 'j'
		jnz	short loc_1A764
		les	di, [bp+var_4]
		mov	byte ptr es:[di+12h], 5
		jmp	short loc_1A7AA
; ---------------------------------------------------------------------------

loc_1A764:				; CODE XREF: AddAmmoBag+E3j
		cmp	ax, 6Bh	; 'k'
		jnz	short loc_1A773
		les	di, [bp+var_4]
		mov	byte ptr es:[di+16h], 3
		jmp	short loc_1A7AA
; ---------------------------------------------------------------------------

loc_1A773:				; CODE XREF: AddAmmoBag+F2j
		cmp	ax, 6Dh	; 'm'
		jnz	short loc_1A788
		les	di, [bp+var_4]
		mov	byte ptr es:[di+16h], 32h ; '2'
		mov	word ptr es:[di+0Eh], 70h ; 'p'
		jmp	short loc_1A7AA
; ---------------------------------------------------------------------------

loc_1A788:				; CODE XREF: AddAmmoBag+101j
		cmp	ax, 71h	; 'q'
		jnz	short loc_1A797
		les	di, [bp+var_4]
		mov	byte ptr es:[di+15h], 2
		jmp	short loc_1A7AA
; ---------------------------------------------------------------------------

loc_1A797:				; CODE XREF: AddAmmoBag+116j
		cmp	ax, 77h	; 'w'
		jnz	short loc_1A7AA
		les	di, [bp+var_4]
		mov	byte ptr es:[di+16h], 32h ; '2'
		mov	word ptr es:[di+0Eh], 70h ; 'p'

loc_1A7AA:				; CODE XREF: AddAmmoBag+DEj
					; AddAmmoBag+EDj ...
		jmp	short locret_1A80D
; ---------------------------------------------------------------------------

loc_1A7AC:				; CODE XREF: AddAmmoBag+9Fj
		imul	di, [bp+arg_0],	58h
		add	di, 0F058h
		push	ds
		push	di
		les	di, [bp+var_4]
		add	di, 11h
		push	es
		push	di
		push	8
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		imul	di, [bp+arg_0],	58h
		mov	ax, [di-0F88h]
		les	di, [bp+var_4]
		mov	es:[di+19h], ax
		imul	di, [bp+arg_0],	58h
		mov	al, [di-0FB1h]
		les	di, [bp+var_4]
		mov	es:[di+10h], al
		imul	di, [bp+arg_0],	58h
		mov	al, [di-0FAFh]
		xor	ah, ah
		les	di, [bp+var_4]
		mov	es:[di+1Dh], ax
		imul	di, [bp+arg_0],	58h
		mov	ax, [di-0FACh]
		and	ax, 0F0h
		les	di, [bp+var_4]
		mov	es:[di+0Eh], ax
		mov	word ptr es:[di+1Bh], 14h

locret_1A80D:				; CODE XREF: AddAmmoBag+Bj
					; AddAmmoBag+96j ...
		leave
		retf	8
AddAmmoBag	endp

; ---------------------------------------------------------------------------
aNoBagsToRemove	db 18,'No bags to remove!' ; DATA XREF: RemoveAmmoBag+52o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RemoveAmmoBag	proc far		; CODE XREF: ExecuteEvent+63P

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Ah, 0
		mov	[bp+var_2], 0FFFFh
		mov	ax, AmCount
		mov	[bp+var_6], ax
		mov	ax, 1
		cmp	ax, [bp+var_6]
		jg	short loc_1A870
		mov	[bp+var_4], ax
		jmp	short loc_1A843
; ---------------------------------------------------------------------------

loc_1A840:				; CODE XREF: RemoveAmmoBag+4Aj
		inc	[bp+var_4]

loc_1A843:				; CODE XREF: RemoveAmmoBag+1Aj
		imul	ax, [bp+var_4],	1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		mov	ax, es:[di]
		cmp	ax, [bp+arg_2]
		jnz	short loc_1A868
		mov	ax, es:[di+2]
		cmp	ax, [bp+arg_0]
		jnz	short loc_1A868
		mov	ax, [bp+var_4]
		mov	[bp+var_2], ax

loc_1A868:				; CODE XREF: RemoveAmmoBag+33j
					; RemoveAmmoBag+3Cj
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_6]
		jnz	short loc_1A840

loc_1A870:				; CODE XREF: RemoveAmmoBag+15j
		cmp	[bp+var_2], 0FFFFh
		jnz	short loc_1A882
		mov	di, offset aNoBagsToRemove ; "No bags to remove!"
		push	cs
		push	di
		call	PutConsMessage
		jmp	short locret_1A8B8
; ---------------------------------------------------------------------------

loc_1A882:				; CODE XREF: RemoveAmmoBag+50j
		mov	ax, [bp+var_2]
		inc	ax
		imul	ax, 1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		push	es
		push	di
		imul	ax, [bp+var_2],	1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		push	es
		push	di
		mov	ax, 3Fh	; '?'
		sub	ax, [bp+var_2]
		imul	ax, 1Fh
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	AmCount

locret_1A8B8:				; CODE XREF: RemoveAmmoBag+5Cj
		leave
		retf	4
RemoveAmmoBag	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddSinglePart	proc far		; CODE XREF: ExplodeMonster+160P
					; ExplodeMonster+19AP ...

var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	0Ch, 0
		imul	di, [bp+arg_2],	12h
		mov	ax, [di-2FB6h]
		or	ax, [di-2FB4h]
		jnz	short loc_1A8D1
		jmp	locret_1AA8B
; ---------------------------------------------------------------------------

loc_1A8D1:				; CODE XREF: AddSinglePart+10j
		cmp	SCount,	1Fh
		jbe	short loc_1A8F0
		mov	SCount,	1Fh
		mov	di, offset unk_41BBC
		push	ds
		push	di
		mov	di, offset SepList
		push	ds
		push	di
		push	2AAh
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)

loc_1A8F0:				; CODE XREF: AddSinglePart+1Aj
		inc	SCount
		push	400h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 64h	; 'd'
		idiv	cx
		mov	[bp+var_8], ax
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 64h	; 'd'
		idiv	cx
		mov	[bp+var_6], ax
		imul	di, SCount, 16h
		add	di, 0B940h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		push	0A0h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_A]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 50h	; 'P'
		sbb	dx, 0
		les	di, [bp+var_C]
		assume es:nothing
		mov	es:[di+8], ax
		push	0A0h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_8]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 50h	; 'P'
		sbb	dx, 0
		les	di, [bp+var_C]
		mov	es:[di+0Ah], ax
		push	1Eh
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	cx, 7
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		les	di, [bp+var_C]
		mov	es:[di+0Ch], ax
		push	1Eh
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		shl	ax, 2
		add	ax, 5Ah	; 'Z'
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_C]
		mov	es:[di+12h], ax
		push	200h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		sub	ax, 100h
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_1A9F3
		add	[bp+var_2], 400h
		jmp	short loc_1A9FF
; ---------------------------------------------------------------------------

loc_1A9F3:				; CODE XREF: AddSinglePart+12Ej
		cmp	[bp+var_2], 400h
		jl	short loc_1A9FF
		sub	[bp+var_2], 400h

loc_1A9FF:				; CODE XREF: AddSinglePart+135j
					; AddSinglePart+13Cj
		push	14h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_4]
		cwd
		mov	cx, 100h
		idiv	cx
		les	di, [bp+var_C]
		mov	es:[di+0Eh], ax
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mul	[bp+var_4]
		cwd
		mov	cx, 100h
		idiv	cx
		les	di, [bp+var_C]
		mov	es:[di+10h], ax
		mov	ax, [bp+var_2]
		shl	ax, 6
		mov	es:[di+14h], ax
		add	word ptr es:[di+14h], 0C000h
		mov	ax, [bp+arg_2]
		mov	es:[di+4], ax
		mov	al, [bp+arg_0]
		mov	es:[di+7], al
		xor	ax, ax
		mov	es:[di], ax
		xor	ax, ax
		mov	es:[di+2], ax
		mov	byte ptr es:[di+6], 0

locret_1AA8B:				; CODE XREF: AddSinglePart+12j
		leave
		retf	0Ch
AddSinglePart	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExplodeMonster	proc far		; CODE XREF: MakeTeleBlow+6CP
					; ExecuteEvent+164P ...

var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_9		= byte ptr -9
var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	12h, 0
		push	58h ; 'X'
		mov	al, byte ptr [bp+arg_8]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_E]
		call	AddEvent
		push	0FFFFh
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	7
		call	AddVoice
		mov	ax, [bp+arg_0]
		shr	ax, 5
		sub	ax, 14h
		mov	[bp+var_E], ax
		cmp	[bp+var_E], 0
		jge	short loc_1AAD0
		xor	ax, ax
		mov	[bp+var_E], ax

loc_1AAD0:				; CODE XREF: ExplodeMonster+3Aj
		imul	di, [bp+arg_8],	0A2h
		mov	ax, [di+7FBAh]
		shr	ax, 5
		mov	[bp+var_10], ax
		sub	[bp+arg_8], 64h	; 'd'
		mov	[bp+var_C], 1
		jmp	short loc_1AAED
; ---------------------------------------------------------------------------

loc_1AAEA:				; CODE XREF: ExplodeMonster+69j
		inc	[bp+var_C]

loc_1AAED:				; CODE XREF: ExplodeMonster+59j
		mov	di, [bp+var_C]
		mov	[bp+di+var_9], 0
		cmp	[bp+var_C], 8
		jnz	short loc_1AAEA
		mov	ax, [bp+arg_8]
		cmp	ax, 2
		jnz	short loc_1AB0D
		mov	[bp+var_2], 6
		mov	[bp+var_6], 2
		jmp	loc_1ABB2
; ---------------------------------------------------------------------------

loc_1AB0D:				; CODE XREF: ExplodeMonster+71j
		cmp	ax, 4
		jnz	short loc_1AB1D
		mov	[bp+var_5], 4
		mov	[bp+var_4], 4
		jmp	loc_1ABB2
; ---------------------------------------------------------------------------

loc_1AB1D:				; CODE XREF: ExplodeMonster+81j
		cmp	ax, 6
		jnz	short loc_1AB31
		mov	[bp+var_8], 3
		mov	[bp+var_7], 3
		mov	[bp+var_6], 3
		jmp	loc_1ABB2
; ---------------------------------------------------------------------------

loc_1AB31:				; CODE XREF: ExplodeMonster+91j
		cmp	ax, 8
		jnz	short loc_1AB3C
		mov	[bp+var_3], 5
		jmp	short loc_1ABB2
; ---------------------------------------------------------------------------

loc_1AB3C:				; CODE XREF: ExplodeMonster+A5j
		cmp	ax, 0Ah
		jnz	short loc_1AB4F
		mov	[bp+var_8], 1
		mov	[bp+var_7], 5
		mov	[bp+var_6], 3
		jmp	short loc_1ABB2
; ---------------------------------------------------------------------------

loc_1AB4F:				; CODE XREF: ExplodeMonster+B0j
		cmp	ax, 0Bh
		jnz	short loc_1AB62
		mov	[bp+var_8], 3
		mov	[bp+var_7], 3
		mov	[bp+var_6], 2
		jmp	short loc_1ABB2
; ---------------------------------------------------------------------------

loc_1AB62:				; CODE XREF: ExplodeMonster+C3j
		cmp	ax, 5
		jz	short loc_1AB76
		cmp	ax, 0Ch
		jz	short loc_1AB76
		cmp	ax, 0Dh
		jz	short loc_1AB76
		cmp	ax, 0Eh
		jnz	short loc_1AB84

loc_1AB76:				; CODE XREF: ExplodeMonster+D6j
					; ExplodeMonster+DBj ...
		mov	[bp+var_8], 5
		mov	[bp+var_7], 4
		mov	[bp+var_6], 3
		jmp	short loc_1ABB2
; ---------------------------------------------------------------------------

loc_1AB84:				; CODE XREF: ExplodeMonster+E5j
		cmp	ax, 9
		jz	short loc_1AB98
		cmp	ax, 12h
		jz	short loc_1AB98
		cmp	ax, 13h
		jz	short loc_1AB98
		cmp	ax, 14h
		jnz	short loc_1ABA6

loc_1AB98:				; CODE XREF: ExplodeMonster+F8j
					; ExplodeMonster+FDj ...
		mov	[bp+var_8], 0Ah
		mov	[bp+var_7], 8
		mov	[bp+var_6], 8
		jmp	short loc_1ABB2
; ---------------------------------------------------------------------------

loc_1ABA6:				; CODE XREF: ExplodeMonster+107j
		mov	[bp+var_8], 2
		mov	[bp+var_7], 3
		mov	[bp+var_6], 3

loc_1ABB2:				; CODE XREF: ExplodeMonster+7Bj
					; ExplodeMonster+8Bj ...
		mov	word ptr [bp-0Ah], 1
		jmp	short loc_1ABBC
; ---------------------------------------------------------------------------

loc_1ABB9:				; CODE XREF: ExplodeMonster+171j
		inc	word ptr [bp-0Ah]

loc_1ABBC:				; CODE XREF: ExplodeMonster+128j
		mov	di, [bp-0Ah]
		mov	al, [bp+di+var_9]
		xor	ah, ah
		mov	[bp+var_12], ax
		mov	ax, 1
		cmp	ax, [bp+var_12]
		jg	short loc_1ABFC
		mov	[bp+var_C], ax
		jmp	short loc_1ABD7
; ---------------------------------------------------------------------------

loc_1ABD4:				; CODE XREF: ExplodeMonster+16Bj
		inc	[bp+var_C]

loc_1ABD7:				; CODE XREF: ExplodeMonster+143j
		push	[bp+arg_4]
		push	[bp+arg_2]
		mov	ax, [bp+var_E]
		add	ax, 28h	; '('
		push	ax
		push	30h ; '0'
		mov	ax, [bp-0Ah]
		add	ax, 46h	; 'F'
		push	ax
		push	0
		call	AddSinglePart
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_12]
		jnz	short loc_1ABD4

loc_1ABFC:				; CODE XREF: ExplodeMonster+13Ej
		cmp	word ptr [bp-0Ah], 8
		jnz	short loc_1ABB9
		mov	ax, [bp+arg_6]
		and	ax, 4
		or	ax, ax
		jnz	short loc_1AC2E
		push	[bp+arg_4]
		push	[bp+arg_2]
		mov	ax, [bp+var_E]
		add	ax, [bp+var_10]
		push	ax
		push	2Ch ; ','
		mov	ax, [bp+arg_8]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		inc	ax
		inc	ax
		push	ax
		push	0
		call	AddSinglePart

loc_1AC2E:				; CODE XREF: ExplodeMonster+17Bj
		cmp	PlayDemo, 0
		jz	short locret_1AC85
		mov	ax, MCount
		mov	[bp+var_12], ax
		mov	ax, 1
		cmp	ax, [bp+var_12]
		jg	short locret_1AC85
		mov	[bp+var_C], ax
		jmp	short loc_1AC4B
; ---------------------------------------------------------------------------

loc_1AC48:				; CODE XREF: ExplodeMonster+1F4j
		inc	[bp+var_C]

loc_1AC4B:				; CODE XREF: ExplodeMonster+1B7j
		imul	di, [bp+var_C],	28h
		mov	ax, [di-5AE0h]
		sub	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		imul	di, [bp+var_C],	28h
		mov	ax, [di-5AE2h]
		sub	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, 20h	; ' '
		jge	short loc_1AC7D
		imul	di, [bp+var_C],	28h
		mov	byte ptr [di-5AD7h], 0FFh

loc_1AC7D:				; CODE XREF: ExplodeMonster+1E3j
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_12]
		jnz	short loc_1AC48

locret_1AC85:				; CODE XREF: ExplodeMonster+1A4j
					; ExplodeMonster+1B2j
		leave
		retf	0Ah
ExplodeMonster	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetMePain	proc far		; CODE XREF: LoadServerPatch+377P
					; Demo_ReadNextQuant+132P ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	[bp+arg_0], 0
		jg	short loc_1AC94
		jmp	short locret_1ACDE
; ---------------------------------------------------------------------------

loc_1AC94:				; CODE XREF: SetMePain+7j
		mov	ax, LastPainTime
		mov	dx, word_44D84
		add	ax, 1Eh
		adc	dx, 0
		cmp	dx, word_44D6C
		jg	short loc_1ACAF
		jl	short loc_1ACB1
		cmp	ax, Time
		jbe	short loc_1ACB1

loc_1ACAF:				; CODE XREF: SetMePain+1Cj
		jmp	short locret_1ACDE
; ---------------------------------------------------------------------------

loc_1ACB1:				; CODE XREF: SetMePain+1Ej
					; SetMePain+24j
		mov	ax, Time
		mov	dx, word_44D6C
		mov	LastPainTime, ax
		mov	word_44D84, dx
		mov	RShadeDir, 1
		push	0FFFFh
		push	0
		push	0
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		imul	ax, 16h
		add	ax, 64h	; 'd'
		push	ax
		call	AddVoice

locret_1ACDE:				; CODE XREF: SetMePain+9j
					; SetMePain:loc_1ACAFj
		leave
		retf	2
SetMePain	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddDeadPlayer	proc far		; CODE XREF: ExecConsole+C53P
					; MakePunch+1EFP ...

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	0Ch, 0
		mov	[bp+var_2], 1
		xor	ax, ax
		mov	[bp+var_4], ax

loc_1ACF0:				; CODE XREF: AddDeadPlayer:loc_1AD2Bj
		mov	ax, [bp+var_2]
		cmp	ax, MCount
		ja	short loc_1AD2D
		cmp	[bp+var_4], 0
		jnz	short loc_1AD2D
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jnz	short loc_1AD28
		mov	ax, es:[di+14h]
		cmp	ax, [bp+arg_0]
		jnz	short loc_1AD28
		cmp	word ptr es:[di+12h], 0
		jnz	short loc_1AD28
		mov	ax, [bp+var_2]
		mov	[bp+var_4], ax
		jmp	short loc_1AD2B
; ---------------------------------------------------------------------------

loc_1AD28:				; CODE XREF: AddDeadPlayer+2Cj
					; AddDeadPlayer+35j ...
		inc	[bp+var_2]

loc_1AD2B:				; CODE XREF: AddDeadPlayer+44j
		jmp	short loc_1ACF0
; ---------------------------------------------------------------------------

loc_1AD2D:				; CODE XREF: AddDeadPlayer+15j
					; AddDeadPlayer+1Bj
		cmp	[bp+var_4], 0
		jbe	short loc_1AD5E
		mov	ax, [bp+var_4]
		inc	ax
		imul	di, ax,	28h
		add	di, 0A51Eh
		push	ds
		push	di
		imul	di, [bp+var_4],	28h
		add	di, 0A51Eh
		push	ds
		push	di
		mov	ax, MCount
		inc	ax
		sub	ax, [bp+var_4]
		imul	ax, 28h
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	MCount

loc_1AD5E:				; CODE XREF: AddDeadPlayer+4Fj
		inc	MCount
		mov	ax, MCount
		mov	[bp+var_4], ax
		imul	di, [bp+var_4],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	ax, es:[di+0Ah]
		add	ax, 20h	; ' '
		push	ax
		mov	ax, es:[di+0Ch]
		add	ax, 20h	; ' '
		push	ax
		mov	ax, es:[di+0Eh]
		add	ax, 500h
		push	ax
		push	[bp+arg_0]
		call	AddAmmoBag
		push	0FFFFh
		les	di, [bp+var_C]
		assume es:nothing
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	0E8h ; 'è'
		call	AddVoice
		les	di, [bp+var_8]
		mov	byte ptr es:[di+0Ah], 64h ; 'd'
		les	di, [bp+var_C]
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_8]
		mov	es:[di], ax
		les	di, [bp+var_C]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_8]
		mov	es:[di+2], ax
		les	di, [bp+var_C]
		mov	ax, es:[di+1Eh]
		xor	dx, dx
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		sub	ax, 4000h
		sbb	dx, 0
		shr	ax, 6
		les	di, [bp+var_8]
		mov	es:[di+4], ax
		mov	ax, es:[di+4]
		mov	es:[di+0Ch], ax
		xor	ax, ax
		mov	es:[di+0Eh], ax
		xor	ax, ax
		mov	es:[di+10h], ax
		les	di, [bp+var_C]
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+4Eh], ax
		xor	ax, ax
		mov	es:[di+52h], ax
		xor	ax, ax
		mov	es:[di+50h], ax
		xor	ax, ax
		mov	es:[di+4Ch], ax
		les	di, [bp+var_8]
		xor	ax, ax
		mov	es:[di+1Ch], ax
		les	di, [bp+var_C]
		xor	ax, ax
		mov	es:[di+1Ch], ax
		mov	ax, [bp+arg_0]
		les	di, [bp+var_8]
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 0
		xor	ax, ax
		mov	es:[di+6], ax
		mov	byte ptr es:[di+26h], 5
		mov	byte ptr es:[di+0Bh], 0
		push	4
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 0
		jnz	short loc_1AE90
		les	di, [bp+var_8]
		mov	word ptr es:[di+8], 0Ch
		jmp	locret_1AF21
; ---------------------------------------------------------------------------

loc_1AE90:				; CODE XREF: AddDeadPlayer+1A0j
		cmp	ax, 1
		jnz	short loc_1AEC1
		les	di, [bp+var_8]
		mov	word ptr es:[di+8], 0Dh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	12h
		push	0
		push	0
		push	word ptr es:[di+4]
		push	[bp+arg_0]
		call	AddSepPart
		les	di, [bp+var_8]
		mov	byte ptr es:[di+0Bh], 2
		jmp	short locret_1AF21
; ---------------------------------------------------------------------------

loc_1AEC1:				; CODE XREF: AddDeadPlayer+1B1j
		cmp	ax, 2
		jnz	short loc_1AEF2
		les	di, [bp+var_8]
		mov	word ptr es:[di+8], 0Eh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	12h
		push	0
		push	1
		push	word ptr es:[di+4]
		push	[bp+arg_0]
		call	AddSepPart
		les	di, [bp+var_8]
		mov	byte ptr es:[di+0Bh], 1
		jmp	short locret_1AF21
; ---------------------------------------------------------------------------

loc_1AEF2:				; CODE XREF: AddDeadPlayer+1E2j
		cmp	ax, 3
		jnz	short locret_1AF21
		les	di, [bp+var_8]
		mov	word ptr es:[di+8], 0Fh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	1Ch
		push	0
		push	2
		push	word ptr es:[di+4]
		push	[bp+arg_0]
		call	AddSepPart
		les	di, [bp+var_8]
		mov	byte ptr es:[di+0Bh], 4

locret_1AF21:				; CODE XREF: AddDeadPlayer+1ABj
					; AddDeadPlayer+1DDj ...
		leave
		retf	2
AddDeadPlayer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExplodePlayer	proc far		; CODE XREF: MakeTeleBlow+B9P
					; ShootMe+13BP

var_8		= dword	ptr -8
arg_0		= word ptr  6

		enter	8, 0
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		push	64h ; 'd'
		push	0
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+0Eh]
		call	ExplodeMonster
		les	di, [bp+var_8]
		assume es:nothing
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		mov	ax, es:[di+0Eh]
		add	ax, 500h
		push	ax
		push	[bp+arg_0]
		call	AddAmmoBag
		les	di, [bp+var_8]
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+4Eh], ax
		xor	ax, ax
		mov	es:[di+52h], ax
		xor	ax, ax
		mov	es:[di+50h], ax
		xor	ax, ax
		mov	es:[di+4Ch], ax
		leave
		retf	2
ExplodePlayer	endp

; ---------------------------------------------------------------------------
a@_6		db 3,'@##'              ; DATA XREF: LoadSpryte+2Ao
aNoRegisteredSp	db 27,'No registered spryte used! ' ; DATA XREF: LoadSpryte+1Ao
a@_7		db 2,'@#'               ; DATA XREF: LoadSpryte+66o
aLevel_0	db 5,'LEVEL'            ; DATA XREF: LoadSpryte+56o
aGfx		db 5,'\GFX\'            ; DATA XREF: LoadSpryte+81o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadSpryte	proc near		; CODE XREF: LoadFrame+7p
					; ReloadResources+238p

var_208		= byte ptr -208h
var_108		= byte ptr -108h
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	208h, 0
		imul	ax, [bp+arg_0],	0Eh
		les	di, GFXindex
		add	di, ax
		cmp	byte ptr es:[di], 0
		jnz	short loc_1B00E
		lea	di, [bp+var_208]
		push	ss
		push	di
		mov	di, offset aNoRegisteredSp ; "No registered spryte used! "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_108]
		push	ss
		push	di
		mov	di, offset a@_6	; "@##"
		push	cs
		push	di
		mov	ax, [bp+arg_0]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1B00E:				; CODE XREF: LoadSpryte+12j
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_208]
		push	ss
		push	di
		mov	di, offset aLevel_0 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_108]
		push	ss
		push	di
		mov	di, offset a@_7	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aGfx	; "\\GFX\\"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		imul	ax, [bp+arg_0],	0Eh
		les	di, GFXindex
		add	di, ax
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		cmp	word_44C54, 0
		jg	short loc_1B084
		jl	short loc_1B08B
		cmp	word_44C52, 2710h
		jbe	short loc_1B08B

loc_1B084:				; CODE XREF: LoadSpryte+B5j
		mov	[bp+var_2], 80h	; '€'
		jmp	short loc_1B090
; ---------------------------------------------------------------------------

loc_1B08B:				; CODE XREF: LoadSpryte+B7j
					; LoadSpryte+BFj
		mov	[bp+var_2], 40h	; '@'

loc_1B090:				; CODE XREF: LoadSpryte+C6j
		mov	ax, [bp+arg_0]
		inc	ax
		cmp	ax, 56h	; 'V'
		jb	short loc_1B0B6
		mov	di, [bp+arg_0]
		shl	di, 2
		add	di, 6ED2h
		push	ds
		push	di
		mov	ax, [bp+var_2]
		add	ax, 10h
		shl	ax, 7
		push	ax
		call	GetMem16
		jmp	short loc_1B0CE
; ---------------------------------------------------------------------------

loc_1B0B6:				; CODE XREF: LoadSpryte+D4j
		mov	di, [bp+arg_0]
		shl	di, 2
		add	di, 6ED2h
		push	ds
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 7
		push	ax
		call	GetMem16

loc_1B0CE:				; CODE XREF: LoadSpryte+F1j
		mov	di, [bp+arg_0]
		shl	di, 2
		les	di, [di+6ED2h]
		mov	ax, es
		mov	di, [bp+arg_0]
		shl	di, 1
		mov	[di+70B2h], ax
		cmp	PImBSeg, 0
		jnz	short loc_1B0F6
		mov	di, [bp+arg_0]
		shl	di, 1
		mov	ax, [di+70B2h]
		mov	PImBSeg, ax

loc_1B0F6:				; CODE XREF: LoadSpryte+125j
		mov	di, [bp+arg_0]
		shl	di, 1
		push	word ptr [di+70B2h]
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, [bp+arg_0]
		shl	di, 2
		les	di, [di+6ED2h]
		push	es
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 7
		push	ax
		push	16h
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	ax, [bp+var_2]
		dec	ax
		mov	[bp+var_A], ax
		xor	ax, ax
		cmp	ax, [bp+var_A]
		jg	short loc_1B162
		mov	i, ax
		jmp	short loc_1B139
; ---------------------------------------------------------------------------

loc_1B135:				; CODE XREF: LoadSpryte+19Dj
		inc	i

loc_1B139:				; CODE XREF: LoadSpryte+170j
		mov	di, [bp+arg_0]
		shl	di, 1
		mov	ax, [di+70B2h]
		push	ax
		mov	ax, i
		shl	ax, 7
		add	ax, 50h	; 'P'
		mov	di, ax
		pop	es
		push	es
		push	di
		push	30h ; '0'
		push	0FFFFh
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	ax, i
		cmp	ax, [bp+var_A]
		jnz	short loc_1B135

loc_1B162:				; CODE XREF: LoadSpryte+16Bj
		xor	ax, ax
		mov	[bp+var_8], ax
		jmp	short loc_1B16C
; ---------------------------------------------------------------------------

loc_1B169:				; CODE XREF: LoadSpryte+1CDj
		inc	[bp+var_8]

loc_1B16C:				; CODE XREF: LoadSpryte+1A4j
		mov	di, offset F
		push	ds
		push	di
		mov	ax, ShadowSeg
		push	ax
		mov	ax, [bp+var_8]
		shl	ax, 7
		mov	di, ax
		pop	es
		push	es
		push	di
		push	[bp+var_2]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		cmp	[bp+var_8], 7Fh	; ''
		jnz	short loc_1B169
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	ax, [bp+var_2]
		dec	ax
		mov	[bp+var_A], ax
		xor	ax, ax
		cmp	ax, [bp+var_A]
		ja	short loc_1B1F6
		mov	[bp+var_6], ax
		jmp	short loc_1B1B2
; ---------------------------------------------------------------------------

loc_1B1AF:				; CODE XREF: LoadSpryte+231j
		inc	[bp+var_6]

loc_1B1B2:				; CODE XREF: LoadSpryte+1EAj
		xor	ax, ax
		mov	[bp+var_8], ax
		jmp	short loc_1B1BC
; ---------------------------------------------------------------------------

loc_1B1B9:				; CODE XREF: LoadSpryte+229j
		inc	[bp+var_8]

loc_1B1BC:				; CODE XREF: LoadSpryte+1F4j
		mov	ax, ShadowSeg
		push	ax
		mov	ax, [bp+var_8]
		shl	ax, 7
		add	ax, [bp+var_6]
		mov	di, ax
		pop	es
		mov	dl, es:[di]
		mov	di, [bp+arg_0]
		shl	di, 1
		mov	ax, [di+70B2h]
		push	ax
		mov	ax, [bp+var_6]
		shl	ax, 7
		add	ax, [bp+var_8]
		mov	di, ax
		pop	es
		mov	es:[di], dl
		cmp	[bp+var_8], 7Fh	; ''
		jnz	short loc_1B1B9
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_A]
		jnz	short loc_1B1AF

loc_1B1F6:				; CODE XREF: LoadSpryte+1E5j
		cmp	[bp+var_2], 40h	; '@'
		jnz	short locret_1B214
		mov	ax, [bp+arg_0]
		inc	ax
		mov	di, ax
		mov	al, [di+71A1h]
		or	al, 80h
		mov	dl, al
		mov	ax, [bp+arg_0]
		inc	ax
		mov	di, ax
		mov	[di+71A1h], dl

locret_1B214:				; CODE XREF: LoadSpryte+237j
		leave
		retn	2
LoadSpryte	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sgn		proc near		; CODE XREF: LoadFrame+B5p
					; LoadFrame+105p

var_1		= byte ptr -1
arg_0		= byte ptr  4

		enter	2, 0
		cmp	[bp+arg_0], 0FEh ; 'þ'
		jb	short loc_1B228
		mov	[bp+var_1], 0
		jmp	short loc_1B22C
; ---------------------------------------------------------------------------

loc_1B228:				; CODE XREF: sgn+8j
		mov	[bp+var_1], 1

loc_1B22C:				; CODE XREF: sgn+Ej
		mov	al, [bp+var_1]
		leave
		retn	2
sgn		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadFrame	proc near		; CODE XREF: ReloadResources+230p

var_C		= word ptr -0Ch
var_9		= byte ptr -9
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	0Ch, 0
		push	[bp+arg_0]
		call	LoadSpryte
		mov	di, [bp+arg_0]
		shl	di, 1
		mov	ax, [di+70B2h]
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_0]
		inc	ax
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 80h
		or	al, al
		jbe	short loc_1B260
		mov	[bp+var_2], 40h	; '@'
		jmp	short loc_1B265
; ---------------------------------------------------------------------------

loc_1B260:				; CODE XREF: LoadFrame+24j
		mov	[bp+var_2], 80h	; '€'

loc_1B265:				; CODE XREF: LoadFrame+2Bj
		mov	ax, [bp+var_8]
		push	ax
		xor	di, di
		pop	es
		push	es
		push	di
		mov	ax, ShadowSeg
		push	ax
		xor	di, di
		pop	es
		push	es
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 7
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	[bp+var_6], 100h
		mov	ax, [bp+var_2]
		dec	ax
		mov	[bp+var_C], ax
		xor	ax, ax
		cmp	ax, [bp+var_C]
		jbe	short loc_1B299
		jmp	locret_1B3C1
; ---------------------------------------------------------------------------

loc_1B299:				; CODE XREF: LoadFrame+61j
		mov	[bp+var_4], ax
		jmp	short loc_1B2A1
; ---------------------------------------------------------------------------

loc_1B29E:				; CODE XREF: LoadFrame+18Bj
		inc	[bp+var_4]

loc_1B2A1:				; CODE XREF: LoadFrame+69j
		lea	di, [bp+var_6]
		push	ss
		push	di
		mov	ax, [bp+var_8]
		push	ax
		mov	ax, [bp+var_4]
		shl	ax, 1
		mov	di, ax
		pop	es
		push	es
		push	di
		push	2
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	[bp+var_9], 0

loc_1B2BF:				; CODE XREF: LoadFrame:loc_1B3A4j
		cmp	[bp+var_9], 7Fh	; ''
		jb	short loc_1B2C8
		jmp	loc_1B3A7
; ---------------------------------------------------------------------------

loc_1B2C8:				; CODE XREF: LoadFrame+90j
					; LoadFrame+BFj
		cmp	[bp+var_9], 80h	; '€'
		jnb	short loc_1B2F4
		mov	ax, ShadowSeg
		push	ax
		mov	al, [bp+var_9]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+var_4]
		shl	ax, 7
		add	ax, dx
		mov	di, ax
		pop	es
		mov	al, es:[di]
		push	ax
		call	sgn
		or	al, al
		jnz	short loc_1B2F4
		inc	[bp+var_9]
		jmp	short loc_1B2C8
; ---------------------------------------------------------------------------

loc_1B2F4:				; CODE XREF: LoadFrame+99j
					; LoadFrame+BAj
		cmp	[bp+var_9], 80h	; '€'
		jb	short loc_1B2FD
		jmp	loc_1B3A4
; ---------------------------------------------------------------------------

loc_1B2FD:				; CODE XREF: LoadFrame+C5j
		mov	c, 1

loc_1B302:				; CODE XREF: LoadFrame+110j
		mov	al, c
		xor	ah, ah
		mov	dx, ax
		mov	al, [bp+var_9]
		xor	ah, ah
		add	ax, dx
		cmp	ax, 80h	; '€'
		jge	short loc_1B345
		mov	ax, ShadowSeg
		push	ax
		mov	al, c
		xor	ah, ah
		mov	cx, ax
		mov	al, [bp+var_9]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+var_4]
		shl	ax, 7
		add	ax, dx
		add	ax, cx
		mov	di, ax
		pop	es
		mov	al, es:[di]
		push	ax
		call	sgn
		cmp	al, 1
		jnz	short loc_1B345
		inc	c
		jmp	short loc_1B302
; ---------------------------------------------------------------------------

loc_1B345:				; CODE XREF: LoadFrame+E0j
					; LoadFrame+10Aj
		mov	dl, [bp+var_9]
		mov	ax, [bp+var_8]
		push	ax
		mov	di, [bp+var_6]
		pop	es
		mov	es:[di], dl
		mov	dl, c
		mov	ax, [bp+var_8]
		push	ax
		mov	ax, [bp+var_6]
		inc	ax
		mov	di, ax
		pop	es
		mov	es:[di], dl
		add	[bp+var_6], 2
		mov	ax, ShadowSeg
		push	ax
		mov	al, [bp+var_9]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+var_4]
		shl	ax, 7
		add	ax, dx
		mov	di, ax
		pop	es
		push	es
		push	di
		mov	ax, [bp+var_8]
		push	ax
		mov	di, [bp+var_6]
		pop	es
		push	es
		push	di
		mov	al, c
		xor	ah, ah
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	al, c
		xor	ah, ah
		add	[bp+var_6], ax
		mov	al, c
		add	[bp+var_9], al

loc_1B3A4:				; CODE XREF: LoadFrame+C7j
		jmp	loc_1B2BF
; ---------------------------------------------------------------------------

loc_1B3A7:				; CODE XREF: LoadFrame+92j
		mov	ax, [bp+var_8]
		push	ax
		mov	di, [bp+var_6]
		pop	es
		mov	byte ptr es:[di], 0FFh
		inc	[bp+var_6]
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_C]
		jz	short locret_1B3C1
		jmp	loc_1B29E
; ---------------------------------------------------------------------------

locret_1B3C1:				; CODE XREF: LoadFrame+63j
					; LoadFrame+189j
		leave
		retn	2
LoadFrame	endp

; ---------------------------------------------------------------------------
asc_1B3C5	db 1,'='                ; DATA XREF: LoadSky+2Do
aCommon		db 7,'COMMON\'          ; DATA XREF: LoadSky+64o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadSky		proc near		; CODE XREF: ReloadResources+D9p

var_300		= byte ptr -300h
var_200		= byte ptr -200h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4

		enter	300h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_300]
		push	ss
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset asc_1B3C5 ; "="
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		inc	ax
		push	ax
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aCommon ; "COMMON\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, SkyPtr
		push	es
		push	di
		push	0C800h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		leave
		retn	4
LoadSky		endp

; ---------------------------------------------------------------------------
asc_1B481	db 1,'='                ; DATA XREF: SetCDTrack+2Do

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetCDTrack	proc near		; CODE XREF: ReloadResources+F9p

var_300		= byte ptr -300h
var_200		= byte ptr -200h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4

		enter	300h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_300]
		push	ss
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset asc_1B481 ; "="
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		inc	ax
		push	ax
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset i
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	w, ax
		cmp	i, 0
		jnz	short locret_1B4FC
		mov	ax, w
		mov	LCDTrack, ax

locret_1B4FC:				; CODE XREF: SetCDTrack+71j
		leave
		retn	4
SetCDTrack	endp

; ---------------------------------------------------------------------------
asc_1B500	db 1,'='                ; DATA XREF: SetDepth+2Do

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetDepth	proc near		; CODE XREF: ReloadResources+118p

var_300		= byte ptr -300h
var_200		= byte ptr -200h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4

		enter	300h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_300]
		push	ss
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset asc_1B500 ; "="
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		inc	ax
		push	ax
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset i
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	w, ax
		cmp	i, 0
		jnz	short locret_1B57B
		mov	ax, w
		mov	BLevelDef, ax

locret_1B57B:				; CODE XREF: SetDepth+71j
		leave
		retn	4
SetDepth	endp

; ---------------------------------------------------------------------------
a@_8		db 2,'@#'               ; DATA XREF: ReloadFloors+1Fo
					; ReloadFloors+4Ao
aLevel_1	db 5,'LEVEL'            ; DATA XREF: ReloadFloors+Fo
aFloors_	db 8,'\FLOORS.'         ; DATA XREF: ReloadFloors+3Ao

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReloadFloors	proc near		; CODE XREF: ReloadResources+2C5p

var_300		= byte ptr -300h
var_200		= byte ptr -200h
var_100		= byte ptr -100h

		enter	300h, 0
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aLevel_1 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset a@_8	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aFloors_ ; "\\FLOORS."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_300]
		push	ss
		push	di
		mov	di, offset a@_8	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset FFlags
		push	ds
		push	di
		push	40h ; '@'
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1B61B
; ---------------------------------------------------------------------------

loc_1B617:				; CODE XREF: ReloadFloors+B0j
		inc	n__0

loc_1B61B:				; CODE XREF: ReloadFloors+84j
		mov	di, offset F
		push	ds
		push	di
		mov	di, n__0
		shl	di, 1
		mov	ax, [di+1890h]
		push	ax
		xor	di, di
		pop	es
		push	es
		push	di
		push	1580h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		cmp	n__0, 3Fh ; '?'
		jnz	short loc_1B617
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		leave
		retn
ReloadFloors	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReleaseLevel	proc far		; CODE XREF: DoGame+19CEP PROGRAM+CF7P ...

var_4		= dword	ptr -4

		enter	4, 0
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1B65E
; ---------------------------------------------------------------------------

loc_1B65A:				; CODE XREF: ReleaseLevel+1Ej
		inc	n__0

loc_1B65E:				; CODE XREF: ReleaseLevel+9j
		imul	di, n__0, 24h
		mov	byte ptr [di+74C4h], 1
		cmp	n__0, 5Fh ; '_'
		jnz	short loc_1B65A
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1B67A
; ---------------------------------------------------------------------------

loc_1B676:				; CODE XREF: ReleaseLevel+86j
		inc	n__0

loc_1B67A:				; CODE XREF: ReleaseLevel+25j
		mov	di, n__0
		shl	di, 2
		mov	ax, [di+6ED2h]
		or	ax, [di+6ED4h]
		jz	short loc_1B6D0
		mov	ax, n__0
		inc	ax
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 80h
		or	al, al
		jbe	short loc_1B6A3
		mov	w, 40h ; '@'
		jmp	short loc_1B6A9
; ---------------------------------------------------------------------------

loc_1B6A3:				; CODE XREF: ReleaseLevel+4Aj
		mov	w, 80h ; '€'

loc_1B6A9:				; CODE XREF: ReleaseLevel+52j
		mov	ax, n__0
		inc	ax
		cmp	ax, 56h	; 'V'
		jl	short loc_1B6B7
		add	w, 10h

loc_1B6B7:				; CODE XREF: ReleaseLevel+61j
		mov	di, n__0
		shl	di, 2
		add	di, 6ED2h
		push	ds
		push	di
		mov	ax, w
		shl	ax, 7
		push	ax
		call	FreeMem16

loc_1B6D0:				; CODE XREF: ReleaseLevel+3Aj
		cmp	n__0, 76h ; 'v'
		jnz	short loc_1B676
		mov	di, offset SpryteUsed
		push	ds
		push	di
		push	78h ; 'x'
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	n__0, 20h ; ' '
		jmp	short loc_1B6F1
; ---------------------------------------------------------------------------

loc_1B6ED:				; CODE XREF: ReleaseLevel+134j
		inc	n__0

loc_1B6F1:				; CODE XREF: ReleaseLevel+9Cj
		imul	di, n__0, 24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, es:[di+1Ch]
		or	ax, es:[di+1Eh]
		jz	short loc_1B77C
		mov	ax, es:[di+20h]
		or	ax, es:[di+22h]
		jz	short loc_1B73E
		add	di, 20h	; ' '
		push	es
		push	di
		les	di, [bp+var_4]
		assume es:nothing
		mov	ax, es:[di+1Ah]
		shr	ax, 3
		inc	ax
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, es:[di+1Ch]
		mul	word ptr es:[di+4800h]
		push	ax
		call	FreeMem16

loc_1B73E:				; CODE XREF: ReleaseLevel+C5j
		les	di, [bp+var_4]
		les	di, es:[di+1Ch]
		cmp	word ptr es:[di+4804h],	0
		jbe	short loc_1B76B
		les	di, [bp+var_4]
		les	di, es:[di+1Ch]
		add	di, 4806h
		push	es
		push	di
		les	di, [bp+var_4]
		les	di, es:[di+1Ch]
		push	word ptr es:[di+4804h]
		call	FreeMem16

loc_1B76B:				; CODE XREF: ReleaseLevel+FCj
		les	di, [bp+var_4]
		add	di, 1Ch
		push	es
		push	di
		push	480Ah
		call	FreeMem16

loc_1B77C:				; CODE XREF: ReleaseLevel+BBj
		cmp	n__0, 5Fh ; '_'
		jz	short loc_1B786
		jmp	loc_1B6ED
; ---------------------------------------------------------------------------

loc_1B786:				; CODE XREF: ReleaseLevel+132j
		mov	n__0, 50h ; 'P'
		jmp	short loc_1B792
; ---------------------------------------------------------------------------

loc_1B78E:				; CODE XREF: ReleaseLevel+16Cj
		inc	n__0

loc_1B792:				; CODE XREF: ReleaseLevel+13Dj
		mov	ax, n__0
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	ax, es:[di]
		or	ax, es:[di+2]
		jz	short loc_1B7B6
		push	es
		push	di
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		call	FreeMem16

loc_1B7B6:				; CODE XREF: ReleaseLevel+156j
		cmp	n__0, 63h ; 'c'
		jnz	short loc_1B78E
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1B7C8
; ---------------------------------------------------------------------------

loc_1B7C4:				; CODE XREF: ReleaseLevel+1A1j
		inc	n__0

loc_1B7C8:				; CODE XREF: ReleaseLevel+173j
		imul	di, n__0, 0Eh
		add	di, 0F5C2h
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di]
		or	ax, es:[di+2]
		jz	short loc_1B7EB
		push	es
		push	di
		mov	ax, es:[di+6]
		shl	ax, 0Ah
		push	ax
		call	FreeMem16

loc_1B7EB:				; CODE XREF: ReleaseLevel+18Bj
		cmp	n__0, 1Fh
		jnz	short loc_1B7C4
		leave
		retf
ReleaseLevel	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadGFXIndex	proc near		; CODE XREF: ReloadResources+12Fp

var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_2		= word ptr -2

		enter	202h, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_1B802
; ---------------------------------------------------------------------------

loc_1B7FF:				; CODE XREF: LoadGFXIndex+FFj
		inc	[bp+var_2]

loc_1B802:				; CODE XREF: LoadGFXIndex+9j
		mov	ax, [bp+var_2]
		inc	ax
		mov	di, ax
		mov	byte ptr [di+71A1h], 7
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	6
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, S
		xor	ah, ah
		mov	di, ax
		mov	al, [di-1246h]
		cmp	al, 2Eh	; '.'
		jz	short loc_1B863
		cmp	al, 6Fh	; 'o'
		jnz	short loc_1B8D5

loc_1B863:				; CODE XREF: LoadGFXIndex+69j
		mov	al, S
		xor	ah, ah
		sub	ax, 0
		mov	di, ax
		cmp	byte ptr [di-1246h], 6Fh ; 'o'
		jnz	short loc_1B87F
		mov	ax, [bp+var_2]
		inc	ax
		mov	di, ax
		sub	byte ptr [di+71A1h], 4

loc_1B87F:				; CODE XREF: LoadGFXIndex+7Ej
		mov	al, S
		xor	ah, ah
		dec	ax
		mov	di, ax
		cmp	byte ptr [di-1246h], 73h ; 's'
		jnz	short loc_1B899
		mov	ax, [bp+var_2]
		inc	ax
		mov	di, ax
		sub	byte ptr [di+71A1h], 2

loc_1B899:				; CODE XREF: LoadGFXIndex+98j
		mov	al, S
		xor	ah, ah
		dec	ax
		dec	ax
		mov	di, ax
		cmp	byte ptr [di-1246h], 67h ; 'g'
		jnz	short loc_1B8B3
		mov	ax, [bp+var_2]
		inc	ax
		mov	di, ax
		dec	byte ptr [di+71A1h]

loc_1B8B3:				; CODE XREF: LoadGFXIndex+B3j
		sub	S, 3
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	Trim
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_1B8D5:				; CODE XREF: LoadGFXIndex+6Dj
		mov	di, offset S
		push	ds
		push	di
		imul	ax, [bp+var_2],	0Eh
		les	di, GFXindex
		assume es:nothing
		add	di, ax
		push	es
		push	di
		push	0Dh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_2], 77h	; 'w'
		jz	short loc_1B8F6
		jmp	loc_1B7FF
; ---------------------------------------------------------------------------

loc_1B8F6:				; CODE XREF: LoadGFXIndex+FDj
		mov	byte_3D469, 3
		leave
		retn
LoadGFXIndex	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitZPositions	proc near		; CODE XREF: LoadLevel+381p
					; LoadGame+4BEp

var_4		= dword	ptr -4
arg_0		= byte ptr  4

		enter	4, 0
		les	di, FloorZLo
		push	es
		push	di
		push	0FFFFh
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, FloorZHi
		push	es
		push	di
		push	1000h
		push	0FF80h
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	x__0, 2
		jmp	short loc_1B92C
; ---------------------------------------------------------------------------

loc_1B928:				; CODE XREF: InitZPositions+81j
		inc	x__0

loc_1B92C:				; CODE XREF: InitZPositions+29j
		mov	y, 2
		jmp	short loc_1B938
; ---------------------------------------------------------------------------

loc_1B934:				; CODE XREF: InitZPositions+7Aj
		inc	y

loc_1B938:				; CODE XREF: InitZPositions+35j
		mov	ax, x__0
		shl	ax, 8
		add	ax, 80h	; '€'
		push	ax
		mov	ax, y
		shl	ax, 8
		add	ax, 80h	; '€'
		push	ax
		mov	di, offset i
		push	ds
		push	di
		mov	di, offset n__0
		push	ds
		push	di
		call	GetFloorLoHi
		mov	cl, byte ptr n__0
		mov	dx, y
		mov	ax, x__0
		shl	ax, 6
		les	di, FloorZHi
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		cmp	y, 3Dh ; '='
		jnz	short loc_1B934
		cmp	x__0, 3Dh ; '='
		jnz	short loc_1B928
		mov	x__0, 8
		jmp	short loc_1B98C
; ---------------------------------------------------------------------------

loc_1B988:				; CODE XREF: InitZPositions+D7j
		inc	x__0

loc_1B98C:				; CODE XREF: InitZPositions+89j
		mov	y, 8
		jmp	short loc_1B998
; ---------------------------------------------------------------------------

loc_1B994:				; CODE XREF: InitZPositions+CFj
		inc	y

loc_1B998:				; CODE XREF: InitZPositions+95j
		mov	ax, x__0
		shl	ax, 6
		add	ax, 20h	; ' '
		push	ax
		mov	ax, y
		shl	ax, 6
		add	ax, 20h	; ' '
		push	ax
		call	GetFloorZ
		mov	cl, al
		mov	dx, y
		mov	ax, x__0
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		cmp	y, 0F4h	; 'ô'
		jnz	short loc_1B994
		cmp	x__0, 0F4h ; 'ô'
		jnz	short loc_1B988
		cmp	[bp+arg_0], 0
		jnz	short loc_1B9DF
		jmp	locret_1BA70
; ---------------------------------------------------------------------------

loc_1B9DF:				; CODE XREF: InitZPositions+DDj
		xor	ax, ax
		mov	x__0, ax
		jmp	short loc_1B9EA
; ---------------------------------------------------------------------------

loc_1B9E6:				; CODE XREF: InitZPositions+170j
		inc	x__0

loc_1B9EA:				; CODE XREF: InitZPositions+E7j
		xor	ax, ax
		mov	y, ax
		jmp	short loc_1B9F5
; ---------------------------------------------------------------------------

loc_1B9F1:				; CODE XREF: InitZPositions+167j
		inc	y

loc_1B9F5:				; CODE XREF: InitZPositions+F2j
		imul	ax, y, 0Bh
		mov	dx, ax
		imul	ax, x__0, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jb	short loc_1BA5F
		cmp	al, 0E2h ; 'â'
		ja	short loc_1BA5F
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74B0h], 0
		jle	short loc_1BA57
		les	di, [bp+var_4]
		mov	ax, es:[di+5]
		shr	ax, 6
		mov	dx, ax
		mov	ax, es:[di+3]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		les	di, [bp+var_4]
		mov	es:[di+2], al
		jmp	short loc_1BA5F
; ---------------------------------------------------------------------------

loc_1BA57:				; CODE XREF: InitZPositions+12Ej
		les	di, [bp+var_4]
		mov	byte ptr es:[di+2], 0

loc_1BA5F:				; CODE XREF: InitZPositions+118j
					; InitZPositions+11Cj ...
		cmp	y, 3Fh ; '?'
		jnz	short loc_1B9F1
		cmp	x__0, 3Fh ; '?'
		jz	short locret_1BA70
		jmp	loc_1B9E6
; ---------------------------------------------------------------------------

locret_1BA70:				; CODE XREF: InitZPositions+DFj
					; InitZPositions+16Ej
		leave
		retn	2
InitZPositions	endp

; ---------------------------------------------------------------------------
aEnd_0		db 4,'#end'             ; DATA XREF: LoadNewSounds+37o
aLevel_2	db 5,'LEVEL'            ; DATA XREF: LoadNewSounds+62o
aSound_0	db 7,'\SOUND\'          ; DATA XREF: LoadNewSounds+7Ao

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadNewSounds	proc near		; CODE XREF: ReloadResources+177p

var_128		= byte ptr -128h
var_102		= byte ptr -102h
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	102h, 0
		cmp	sCard, 2
		jnb	short loc_1BA95
		jmp	locret_1BB42
; ---------------------------------------------------------------------------

loc_1BA95:				; CODE XREF: LoadNewSounds+9j
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	[bp+var_2], 50h	; 'P'

loc_1BAB5:				; CODE XREF: LoadNewSounds+B8j
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		mov	di, offset aEnd_0 ; "#end"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short locret_1BB42
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		call	RemoveEqual
		mov	di, [bp+arg_0]
		cmp	ss:[di+var_128], 0
		jz	short loc_1BB21
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset aLevel_2 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, [bp+arg_0]
		add	di, 0FFD8h
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aSound_0 ; "\\SOUND\\"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	[bp+var_2]
		call	LoadSound

loc_1BB21:				; CODE XREF: LoadNewSounds+5Aj
		inc	[bp+var_2]
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		jmp	loc_1BAB5
; ---------------------------------------------------------------------------

locret_1BB42:				; CODE XREF: LoadNewSounds+Bj
					; LoadNewSounds+41j
		leave
		retn	2
LoadNewSounds	endp

; ---------------------------------------------------------------------------
aEnd_1		db 4,'#end'             ; DATA XREF: LoadAmbients+37o
aLevel_3	db 5,'LEVEL'            ; DATA XREF: LoadAmbients+62o
aAmb		db 5,'\amb\'            ; DATA XREF: LoadAmbients+7Ao

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadAmbients	proc near		; CODE XREF: ReloadResources+15Fp

var_128		= byte ptr -128h
var_102		= byte ptr -102h
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	102h, 0
		cmp	sCard, 2
		jnb	short loc_1BB65
		jmp	locret_1BC12
; ---------------------------------------------------------------------------

loc_1BB65:				; CODE XREF: LoadAmbients+9j
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	[bp+var_2], ax

loc_1BB85:				; CODE XREF: LoadAmbients+B8j
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		mov	di, offset aEnd_1 ; "#end"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short locret_1BC12
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		call	RemoveEqual
		mov	di, [bp+arg_0]
		cmp	ss:[di+var_128], 0
		jz	short loc_1BBF1
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset aLevel_3 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, [bp+arg_0]
		add	di, 0FFD8h
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aAmb	; "\\amb\\"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	[bp+var_2]
		call	LoadAmb

loc_1BBF1:				; CODE XREF: LoadAmbients+5Aj
		inc	[bp+var_2]
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, [bp+arg_0]
		add	di, 0FED8h
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		jmp	loc_1BB85
; ---------------------------------------------------------------------------

locret_1BC12:				; CODE XREF: LoadAmbients+Bj
					; LoadAmbients+41j
		leave
		retn	2
LoadAmbients	endp

; ---------------------------------------------------------------------------
asc_1BC16	db 1,' '                ; DATA XREF: UpLoad3dObjects+119o
					; UpLoad3dObjects+13Do	...
aLevel_4	db 5,'LEVEL'            ; DATA XREF: UpLoad3dObjects+1F1o
					; UpLoad3dObjects+239o
a3d		db 4,'\3d\'             ; DATA XREF: UpLoad3dObjects+209o
aAni_0		db 5,'\ani\'            ; DATA XREF: UpLoad3dObjects+251o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpLoad3dObjects	proc near		; CODE XREF: ReloadResources+147p

var_286		= byte ptr -286h
var_186		= byte ptr -186h
var_86		= dword	ptr -86h
var_82		= byte ptr -82h
var_81		= byte ptr -81h
var_44		= byte ptr -44h
var_7		= byte ptr -7
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	286h, 0
		mov	[bp+var_2], 20h	; ' '

loc_1BC32:				; CODE XREF: UpLoad3dObjects+3Dj
					; UpLoad3dObjects+2B6j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text4Char ; Read(var f; var c:	Char{AL})
		mov	[bp+var_7], al
		call	@Write$qm4Text	; Write(var f: Text)
		cmp	[bp+var_7], 3Bh	; ';'
		jnz	short loc_1BC54
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1BC54:				; CODE XREF: UpLoad3dObjects+1Fj
		call	ChI
		cmp	[bp+var_7], 3Bh	; ';'
		jnz	short loc_1BC68
		call	@IOResult$qv	; IOResult: Word{AX}
		or	ax, ax
		jz	short loc_1BC32

loc_1BC68:				; CODE XREF: UpLoad3dObjects+34j
		cmp	[bp+var_7], 23h	; '#'
		jnz	short loc_1BC71
		jmp	loc_1BED9
; ---------------------------------------------------------------------------

loc_1BC71:				; CODE XREF: UpLoad3dObjects+43j
		imul	di, [bp+var_2],	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_86], di
		mov	word ptr [bp+var_86+2],	es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		assume es:nothing
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+8], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+0Ah], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+0Ch], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+0Eh], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_86]
		mov	es:[di+10h], ax
		lea	di, [bp+var_44]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		call	ChI
		les	di, [bp+var_86]
		mov	byte ptr es:[di+17h], 1
		xor	ax, ax
		mov	es:[di+18h], ax
		lea	di, [bp+var_186]
		push	ss
		push	di
		lea	di, [bp+var_44]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_44]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	[bp+var_82], 0
		mov	di, offset asc_1BC16 ; " "
		push	cs
		push	di
		lea	di, [bp+var_44]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1BDC8
		lea	di, [bp+var_286]
		push	ss
		push	di
		lea	di, [bp+var_186]
		push	ss
		push	di
		lea	di, [bp+var_44]
		push	ss
		push	di
		mov	di, offset asc_1BC16 ; " "
		push	cs
		push	di
		lea	di, [bp+var_44]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		push	ax
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_82]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_286]
		push	ss
		push	di
		lea	di, [bp+var_186]
		push	ss
		push	di
		lea	di, [bp+var_44]
		push	ss
		push	di
		push	1
		mov	di, offset asc_1BC16 ; " "
		push	cs
		push	di
		lea	di, [bp+var_44]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		push	ax
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_44]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_1BDC8:				; CODE XREF: UpLoad3dObjects+12Aj
		cmp	[bp+var_81], 25h ; '%'
		jnz	short loc_1BDFA
		lea	di, [bp+var_186]
		push	ss
		push	di
		lea	di, [bp+var_82]
		push	ss
		push	di
		push	2
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		lea	di, [bp+var_82]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_86]
		mov	byte ptr es:[di+17h], 0

loc_1BDFA:				; CODE XREF: UpLoad3dObjects+1A4j
		les	di, [bp+var_86]
		mov	ax, es:[di+8]
		shl	ax, 5
		mov	es:[di+8], ax
		cmp	word ptr es:[di+6], 0
		jle	short loc_1BE14
		dec	word ptr es:[di+6]

loc_1BE14:				; CODE XREF: UpLoad3dObjects+1E5j
		lea	di, [bp+var_186]
		push	ss
		push	di
		mov	di, offset aLevel_4 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, [bp+arg_0]
		add	di, 0FFD8h
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a3d	; "\\3d\\"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_44]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_86]
		add	di, 1Ch
		push	es
		push	di
		call	LoadPOH
		cmp	[bp+var_82], 0
		jz	short loc_1BEB5
		lea	di, [bp+var_186]
		push	ss
		push	di
		mov	di, offset aLevel_4 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, [bp+arg_0]
		add	di, 0FFD8h
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aAni_0 ; "\\ani\\"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_82]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_86]
		les	di, es:[di+1Ch]
		push	word ptr es:[di+4800h]
		les	di, [bp+var_86]
		add	di, 20h	; ' '
		push	es
		push	di
		les	di, [bp+var_86]
		add	di, 1Ah
		push	es
		push	di
		call	LoadAnimation

loc_1BEB5:				; CODE XREF: UpLoad3dObjects+231j
		les	di, [bp+var_86]
		push	word ptr es:[di+1Eh]
		push	word ptr es:[di+1Ch]
		add	di, 12h
		push	es
		push	di
		les	di, [bp+var_86]
		add	di, 14h
		push	es
		push	di
		call	ScanLoHi
		inc	[bp+var_2]

loc_1BED9:				; CODE XREF: UpLoad3dObjects+45j
		cmp	[bp+var_7], 23h	; '#'
		jz	short loc_1BEE2
		jmp	loc_1BC32
; ---------------------------------------------------------------------------

loc_1BEE2:				; CODE XREF: UpLoad3dObjects+2B4j
		call	NextLoading
		leave
		retn	2
UpLoad3dObjects	endp

; ---------------------------------------------------------------------------
a@_9		db 2,'@#'               ; DATA XREF: ReloadResources+Ao
aLevel_5	db 5,'LEVEL'            ; DATA XREF: ReloadResources+37o
aResource_	db 10,'\resource.'      ; DATA XREF: ReloadResources+4Bo
aSky		db 5,'#sky='            ; DATA XREF: ReloadResources:loc_1C002o
aCdtrack	db 9,'#cdtrack='        ; DATA XREF: ReloadResources:loc_1C022o
aDepth_0	db 7,'#depth='          ; DATA XREF: ReloadResources:loc_1C041o
aGfx_0		db 4,'#gfx'             ; DATA XREF: ReloadResources+123o
aNewobjects	db 11,'#newobjects'     ; DATA XREF: ReloadResources+13Ao
aAmbients	db 9,'#ambients'        ; DATA XREF: ReloadResources+152o
aNewsounds	db 10,'#newsounds'      ; DATA XREF: ReloadResources+16Ao
aEnd__0		db 5,'#end.'            ; DATA XREF: ReloadResources+180o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReloadResources	proc far		; CODE XREF: LoadLevel+37AP
					; LoadGame+4B7P

var_328		= byte ptr -328h
var_228		= byte ptr -228h
var_12A		= word ptr -12Ah
var_128		= byte ptr -128h
var_127		= byte ptr -127h
var_84		= byte ptr -84h
var_28		= byte ptr -28h
var_22		= word ptr -22h
var_20		= byte ptr -20h

		enter	328h, 0
		lea	di, [bp+var_228]
		push	ss
		push	di
		mov	di, offset a@_9	; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		lea	di, [bp+var_28]
		push	ss
		push	di
		push	4
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_228]
		push	ss
		push	di
		mov	di, offset aLevel_5 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_28]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aResource_ ;	"\\resource."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_28]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	TOpen

loc_1BFA7:				; CODE XREF: ReloadResources+18Cj
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_128]
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_328]
		push	ss
		push	di
		lea	di, [bp+var_228]
		push	ss
		push	di
		lea	di, [bp+var_128]
		push	ss
		push	di
		call	Trim
		call	StLocase
		lea	di, [bp+var_128]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	ChI
		cmp	[bp+var_128], 0
		jnz	short loc_1BFF8
		jmp	loc_1C0BD
; ---------------------------------------------------------------------------

loc_1BFF8:				; CODE XREF: ReloadResources+B0j
		cmp	[bp+var_127], 3Bh ; ';'
		jnz	short loc_1C002
		jmp	loc_1C0BD
; ---------------------------------------------------------------------------

loc_1C002:				; CODE XREF: ReloadResources+BAj
		mov	di, offset aSky	; "#sky="
		push	cs
		push	di
		lea	di, [bp+var_128]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1C022
		lea	di, [bp+var_128]
		push	ss
		push	di
		call	LoadSky
		jmp	loc_1C0BD
; ---------------------------------------------------------------------------

loc_1C022:				; CODE XREF: ReloadResources+D1j
		mov	di, offset aCdtrack ; "#cdtrack="
		push	cs
		push	di
		lea	di, [bp+var_128]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1C041
		lea	di, [bp+var_128]
		push	ss
		push	di
		call	SetCDTrack
		jmp	short loc_1C0BD
; ---------------------------------------------------------------------------

loc_1C041:				; CODE XREF: ReloadResources+F1j
		mov	di, offset aDepth_0 ; "#depth="
		push	cs
		push	di
		lea	di, [bp+var_128]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1C060
		lea	di, [bp+var_128]
		push	ss
		push	di
		call	SetDepth
		jmp	short loc_1C0BD
; ---------------------------------------------------------------------------

loc_1C060:				; CODE XREF: ReloadResources+110j
		lea	di, [bp+var_128]
		push	ss
		push	di
		mov	di, offset aGfx_0 ; "#gfx"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1C077
		call	LoadGFXIndex
		jmp	short loc_1C0BD
; ---------------------------------------------------------------------------

loc_1C077:				; CODE XREF: ReloadResources+12Dj
		lea	di, [bp+var_128]
		push	ss
		push	di
		mov	di, offset aNewobjects ; "#newobjects"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1C08F
		push	bp
		call	UpLoad3dObjects
		jmp	short loc_1C0BD
; ---------------------------------------------------------------------------

loc_1C08F:				; CODE XREF: ReloadResources+144j
		lea	di, [bp+var_128]
		push	ss
		push	di
		mov	di, offset aAmbients ; "#ambients"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1C0A7
		push	bp
		call	LoadAmbients
		jmp	short loc_1C0BD
; ---------------------------------------------------------------------------

loc_1C0A7:				; CODE XREF: ReloadResources+15Cj
		lea	di, [bp+var_128]
		push	ss
		push	di
		mov	di, offset aNewsounds ;	"#newsounds"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1C0BD
		push	bp
		call	LoadNewSounds

loc_1C0BD:				; CODE XREF: ReloadResources+B2j
					; ReloadResources+BCj ...
		lea	di, [bp+var_128]
		push	ss
		push	di
		mov	di, offset aEnd__0 ; "#end."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C0D2
		jmp	loc_1BFA7
; ---------------------------------------------------------------------------

loc_1C0D2:				; CODE XREF: ReloadResources+18Aj
		mov	di, offset Ft
		push	ds
		push	di
		call	@Close$qm4Text	; Close(var f: Text)
		call	NextLoading
		xor	ax, ax
		mov	x__0, ax
		jmp	short loc_1C0EC
; ---------------------------------------------------------------------------

loc_1C0E8:				; CODE XREF: ReloadResources+1EDj
		inc	x__0

loc_1C0EC:				; CODE XREF: ReloadResources+1A3j
		xor	ax, ax
		mov	y, ax
		jmp	short loc_1C0F7
; ---------------------------------------------------------------------------

loc_1C0F3:				; CODE XREF: ReloadResources+1E6j
		inc	y

loc_1C0F7:				; CODE XREF: ReloadResources+1AEj
		imul	ax, y, 0Bh
		mov	dx, ax
		imul	ax, x__0, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		cmp	al, 1
		jb	short loc_1C124
		cmp	al, 77h	; 'w'
		ja	short loc_1C124
		mov	al, es:[di]
		xor	ah, ah
		dec	ax
		mov	di, ax
		mov	byte ptr [di-708Eh], 1

loc_1C124:				; CODE XREF: ReloadResources+1CEj
					; ReloadResources+1D2j
		cmp	y, 3Fh ; '?'
		jnz	short loc_1C0F3
		cmp	x__0, 3Fh ; '?'
		jnz	short loc_1C0E8
		call	NextLoading
		mov	c, 0
		xor	ax, ax
		mov	PImBSeg, ax
		xor	ax, ax
		mov	[bp+var_22], ax
		jmp	short loc_1C14B
; ---------------------------------------------------------------------------

loc_1C148:				; CODE XREF: ReloadResources+23Fj
		inc	[bp+var_22]

loc_1C14B:				; CODE XREF: ReloadResources+203j
		mov	ax, [bp+var_22]
		and	ax, 7
		or	ax, ax
		jnz	short loc_1C15A
		call	NextLoading

loc_1C15A:				; CODE XREF: ReloadResources+210j
		mov	di, [bp+var_22]
		cmp	byte ptr [di-708Eh], 0
		jbe	short loc_1C17E
		mov	ax, [bp+var_22]
		inc	ax
		cmp	al, 56h	; 'V'
		jb	short loc_1C178
		cmp	al, 78h	; 'x'
		ja	short loc_1C178
		push	[bp+var_22]
		call	LoadFrame
		jmp	short loc_1C17E
; ---------------------------------------------------------------------------

loc_1C178:				; CODE XREF: ReloadResources+227j
					; ReloadResources+22Bj
		push	[bp+var_22]
		call	LoadSpryte

loc_1C17E:				; CODE XREF: ReloadResources+21Fj
					; ReloadResources+233j
		cmp	[bp+var_22], 76h ; 'v'
		jnz	short loc_1C148
		call	NextLoading
		mov	[bp+var_20], 1
		mov	[bp+var_22], 65h ; 'e'
		jmp	short loc_1C197
; ---------------------------------------------------------------------------

loc_1C194:				; CODE XREF: ReloadResources+260j
		inc	[bp+var_22]

loc_1C197:				; CODE XREF: ReloadResources+24Fj
		mov	di, [bp+var_22]
		mov	[bp+di+var_84],	0
		cmp	[bp+var_22], 7Ah ; 'z'
		jnz	short loc_1C194
		mov	ax, MCount
		mov	[bp+var_12A], ax
		mov	ax, 1
		cmp	ax, [bp+var_12A]
		jg	short loc_1C1D7
		mov	[bp+var_22], ax
		jmp	short loc_1C1BD
; ---------------------------------------------------------------------------

loc_1C1BA:				; CODE XREF: ReloadResources+292j
		inc	[bp+var_22]

loc_1C1BD:				; CODE XREF: ReloadResources+275j
		imul	di, [bp+var_22], 28h
		mov	al, [di-5AD8h]
		xor	ah, ah
		mov	di, ax
		mov	[bp+di+var_84],	1
		mov	ax, [bp+var_22]
		cmp	ax, [bp+var_12A]
		jnz	short loc_1C1BA

loc_1C1D7:				; CODE XREF: ReloadResources+270j
		mov	[bp+var_22], 64h ; 'd'
		jmp	short loc_1C1E1
; ---------------------------------------------------------------------------

loc_1C1DE:				; CODE XREF: ReloadResources+2BEj
		inc	[bp+var_22]

loc_1C1E1:				; CODE XREF: ReloadResources+299j
		mov	di, [bp+var_22]
		cmp	[bp+di+var_84],	0
		jz	short loc_1C1F5
		push	[bp+var_22]
		call	UpLoadCaracter
		jmp	short loc_1C1FD
; ---------------------------------------------------------------------------

loc_1C1F5:				; CODE XREF: ReloadResources+2A6j
		push	[bp+var_22]
		call	ReleaseCaracter

loc_1C1FD:				; CODE XREF: ReloadResources+2B0j
		cmp	[bp+var_22], 7Ah ; 'z'
		jnz	short loc_1C1DE
		call	NextLoading
		call	ReloadFloors
		call	NextLoading
		leave
		retf
ReloadResources	endp

; ---------------------------------------------------------------------------
aNoNetPlaces_	db 14,'No NET Places.'  ; DATA XREF: ScanMap+F3o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScanMap		proc far		; CODE XREF: LoadLevel+375P

var_4		= dword	ptr -4

		enter	4, 0
		xor	ax, ax
		mov	x__0, ax
		jmp	short loc_1C230
; ---------------------------------------------------------------------------

loc_1C22C:				; CODE XREF: ScanMap+E4j
		inc	x__0

loc_1C230:				; CODE XREF: ScanMap+9j
		xor	ax, ax
		mov	y, ax
		jmp	short loc_1C23B
; ---------------------------------------------------------------------------

loc_1C237:				; CODE XREF: ScanMap+DAj
		inc	y

loc_1C23B:				; CODE XREF: ScanMap+14j
		imul	ax, y, 0Bh
		mov	dx, ax
		imul	ax, x__0, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	al, es:[di]
		cmp	al, 1
		jb	short loc_1C276
		cmp	al, 78h	; 'x'
		ja	short loc_1C276
		mov	al, es:[di+2]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+14h]
		les	di, [bp+var_4]
		mov	es:[di+2], al
		jmp	short loc_1C2F4
; ---------------------------------------------------------------------------

loc_1C276:				; CODE XREF: ScanMap+3Aj ScanMap+3Ej
		cmp	al, 83h	; 'ƒ'
		jb	short loc_1C2E9
		cmp	al, 0E2h ; 'â'
		ja	short loc_1C2E9
		cmp	CLIENT,	0
		jnz	short loc_1C2A6
		cmp	SERVER,	0
		jnz	short loc_1C2A6
		mov	ax, 1
		mov	cx, Skill
		shl	ax, cl
		les	di, [bp+var_4]
		and	ax, es:[di+7]
		or	ax, ax
		jnz	short loc_1C2A4
		mov	byte ptr es:[di], 0

loc_1C2A4:				; CODE XREF: ScanMap+7Dj
		jmp	short loc_1C2C5
; ---------------------------------------------------------------------------

loc_1C2A6:				; CODE XREF: ScanMap+62j ScanMap+69j
		les	di, [bp+var_4]
		cmp	word ptr es:[di+7], 0
		jz	short loc_1C2C5
		mov	ax, 1
		mov	cx, Skill
		shl	ax, cl
		and	ax, es:[di+7]
		or	ax, ax
		jnz	short loc_1C2C5
		mov	byte ptr es:[di], 0

loc_1C2C5:				; CODE XREF: ScanMap:loc_1C2A4j
					; ScanMap+8Dj ...
		les	di, [bp+var_4]
		mov	ax, es:[di+7]
		mov	es:[di+9], ax
		mov	al, es:[di+2]
		and	al, 7
		xor	ah, ah
		mov	es:[di+7], ax
		mov	ax, es:[di+7]
		shl	ax, 0Dh
		mov	es:[di+7], ax
		jmp	short loc_1C2F4
; ---------------------------------------------------------------------------

loc_1C2E9:				; CODE XREF: ScanMap+57j ScanMap+5Bj
		cmp	al, 0FAh ; 'ú'
		jnz	short loc_1C2F4
		les	di, [bp+var_4]
		mov	byte ptr es:[di], 0

loc_1C2F4:				; CODE XREF: ScanMap+53j ScanMap+C6j ...
		cmp	y, 3Fh ; '?'
		jz	short loc_1C2FE
		jmp	loc_1C237
; ---------------------------------------------------------------------------

loc_1C2FE:				; CODE XREF: ScanMap+D8j
		cmp	x__0, 3Fh ; '?'
		jz	short loc_1C308
		jmp	loc_1C22C
; ---------------------------------------------------------------------------

loc_1C308:				; CODE XREF: ScanMap+E2j
		call	NextLoading
		cmp	word_447E2, 0
		jnz	short locret_1C31E
		mov	di, offset aNoNetPlaces_ ; "No NET Places."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

locret_1C31E:				; CODE XREF: ScanMap+F1j
		leave
		retf
ScanMap		endp

; ---------------------------------------------------------------------------
aTooManyChanges	db 17,'Too many changes.' ; DATA XREF: InitChanges+76o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitChanges	proc near		; CODE XREF: LoadLevel+3FBp
		enter	8, 0
		xor	ax, ax
		mov	ChangesCount, ax
		xor	ax, ax
		mov	x__0, ax
		jmp	short loc_1C346
; ---------------------------------------------------------------------------

loc_1C342:				; CODE XREF: InitChanges+8Cj
		inc	x__0

loc_1C346:				; CODE XREF: InitChanges+Ej
		xor	ax, ax
		mov	y, ax
		jmp	short loc_1C351
; ---------------------------------------------------------------------------

loc_1C34D:				; CODE XREF: InitChanges+85j
		inc	y

loc_1C351:				; CODE XREF: InitChanges+19j
		imul	ax, y, 0Bh
		mov	dx, ax
		imul	ax, x__0, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jb	short loc_1C3B2
		cmp	al, 0E2h ; 'â'
		ja	short loc_1C3B2
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74B8h], 0
		jz	short loc_1C3B2
		mov	ax, ChangesCount
		shl	ax, 2
		les	di, PChanges
		add	di, ax
		mov	ax, x__0
		mov	es:[di], ax
		mov	ax, y
		mov	es:[di+2], ax
		inc	ChangesCount
		cmp	ChangesCount, 80h ; '€'
		jl	short loc_1C3B2
		mov	di, offset aTooManyChanges ; "Too many changes."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1C3B2:				; CODE XREF: InitChanges+39j
					; InitChanges+3Dj ...
		cmp	y, 3Fh ; '?'
		jnz	short loc_1C34D
		cmp	x__0, 3Fh ; '?'
		jnz	short loc_1C342
		cmp	ChangesCount, 0
		jnz	short loc_1C3E0
		mov	ChangesCount, 1
		les	di, PChanges
		xor	ax, ax
		mov	es:[di], ax
		les	di, PChanges
		xor	ax, ax
		mov	es:[di+2], ax

loc_1C3E0:				; CODE XREF: InitChanges+93j
		call	NextLoading
		leave
		retn
InitChanges	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReadCommand__0	proc near		; CODE XREF: LoadLinks+Fp
					; LoadTeleports+Fp ...

var_302		= byte ptr -302h
var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_1		= byte ptr -1
arg_0		= dword	ptr  4

		enter	302h, 0
		mov	[bp+var_102], 0

loc_1C3F0:				; CODE XREF: ReadCommand__0+85j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text4Char ; Read(var f; var c:	Char{AL})
		mov	[bp+var_1], al
		call	@Write$qm4Text	; Write(var f: Text)
		mov	al, [bp+var_1]
		push	ax
		call	LoCase
		mov	[bp+var_1], al
		lea	di, [bp+var_302]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	al, [bp+var_1]
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_1], 20h	; ' '
		jnz	short loc_1C460
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	Trim
		pop	di
		pop	es
		cmp	byte ptr es:[di], 0
		jnz	short loc_1C46E

loc_1C460:				; CODE XREF: ReadCommand__0+5Ej
		mov	di, offset Ft
		push	ds
		push	di
		call	@Eoln$qm4Text	; Eoln(var f: Text): Boolean{AL}
		or	al, al
		jz	short loc_1C3F0

loc_1C46E:				; CODE XREF: ReadCommand__0+77j
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_102]
		push	ss
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	ChI
		leave
		retn
ReadCommand__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReadRealMul__0	proc near		; CODE XREF: LoadMessage+C7p
					; LoadProcess+F7p ...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= dword	ptr  0Ah

		enter	6, 0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text4Real ; Read(var f; var v:	Real{DX:BX:AX})
		mov	[bp+var_6], ax
		mov	[bp+var_4], bx
		mov	[bp+var_2], dx
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	ax, [bp+var_6]
		mov	bx, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, [bp+arg_0]
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_4]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		les	di, [bp+arg_6]
		mov	es:[di], ax
		leave
		retn	0Ah
ReadRealMul__0	endp

; ---------------------------------------------------------------------------
aEnd_2		db 4,'#end'             ; DATA XREF: LoadLinks+23o
aLink		db 4,'link'             ; DATA XREF: LoadLinks+4Ao
aFloor		db 5,'floor'            ; DATA XREF: LoadLinks+5Bo
aShoot		db 5,'shoot'            ; DATA XREF: LoadLinks+6Co
aReturn		db 6,'return'           ; DATA XREF: LoadLinks+7Do
aReturnf	db 7,'returnf'          ; DATA XREF: LoadLinks+8Eo
					; LoadLinks+11Do
aUnlock		db 6,'unlock'           ; DATA XREF: LoadLinks+9Fo
aOnofflink	db 9,'onofflink'        ; DATA XREF: LoadLinks+B0o
aDestroy	db 7,'destroy'          ; DATA XREF: LoadLinks+C1o
asc_1C527	db 2,'##'               ; DATA XREF: LoadLinks+191o
					; LoadLinks+1C0o ...
aUseKeyNeededLi	db 21,'Use key needed: link ' ; DATA XREF: LoadLinks+181o
asc_1C540	db 1,' '                ; DATA XREF: LoadLinks+1B0o
					; LoadLinks+1DFo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadLinks	proc near		; CODE XREF: LoadProFile+178p

var_41A		= byte ptr -41Ah
var_31A		= byte ptr -31Ah
var_21A		= byte ptr -21Ah
var_11A		= byte ptr -11Ah
var_116		= byte ptr -116h
var_1A		= dword	ptr -1Ah
var_16		= byte ptr -16h
var_15		= byte ptr -15h

		enter	41Ah, 0
		xor	ax, ax
		mov	LinksCount, ax

loc_1C54B:				; CODE XREF: LoadLinks+22Bj
		lea	di, [bp+var_116]
		push	ss
		push	di
		call	ReadCommand__0
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aEnd_2 ; "#end"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1C574
		jmp	locret_1C770
; ---------------------------------------------------------------------------

loc_1C574:				; CODE XREF: LoadLinks+2Dj
		cmp	[bp+var_15], 3Bh ; ';'
		jnz	short loc_1C587
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		jmp	loc_1C761
; ---------------------------------------------------------------------------

loc_1C587:				; CODE XREF: LoadLinks+36j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aLink ; "link"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aFloor ; "floor"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aShoot ; "shoot"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aReturn ; "return"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aReturnf ; "returnf"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aUnlock ; "unlock"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aOnofflink ;	"onofflink"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aDestroy ; "destroy"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C612
		jmp	loc_1C757
; ---------------------------------------------------------------------------

loc_1C612:				; CODE XREF: LoadLinks+54j
					; LoadLinks+65j ...
		imul	ax, LinksCount,	7
		les	di, PLinks
		add	di, ax
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di+5], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	al, [bp+var_15]
		les	di, [bp+var_1A]
		mov	es:[di], al
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aReturnf ; "returnf"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1C672
		les	di, [bp+var_1A]
		mov	byte ptr es:[di], 52h ;	'R'

loc_1C672:				; CODE XREF: LoadLinks+127j
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di], 6Ch ;	'l'
		jz	short loc_1C67E
		jmp	loc_1C755
; ---------------------------------------------------------------------------

loc_1C67E:				; CODE XREF: LoadLinks+137j
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 78h ;	'x'
		jb	short loc_1C69C
		jmp	loc_1C755
; ---------------------------------------------------------------------------

loc_1C69C:				; CODE XREF: LoadLinks+155j
		les	di, [bp+var_1A]
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 0
		ja	short loc_1C6BD
		jmp	loc_1C755
; ---------------------------------------------------------------------------

loc_1C6BD:				; CODE XREF: LoadLinks+176j
		lea	di, [bp+var_21A]
		push	ss
		push	di
		mov	di, offset aUseKeyNeededLi ; "Use key needed: link "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_11A]
		push	ss
		push	di
		mov	di, offset asc_1C527 ; "##"
		push	cs
		push	di
		les	di, [bp+var_1A]
		mov	ax, es:[di+1]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_1C540 ; " "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_31A]
		push	ss
		push	di
		mov	di, offset asc_1C527 ; "##"
		push	cs
		push	di
		les	di, [bp+var_1A]
		mov	ax, es:[di+3]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_1C540 ; " "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_41A]
		push	ss
		push	di
		mov	di, offset asc_1C527 ; "##"
		push	cs
		push	di
		les	di, [bp+var_1A]
		mov	ax, es:[di+5]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1C755:				; CODE XREF: LoadLinks+139j
					; LoadLinks+157j ...
		jmp	short loc_1C761
; ---------------------------------------------------------------------------

loc_1C757:				; CODE XREF: LoadLinks+CDj
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1C761:				; CODE XREF: LoadLinks+42j
					; LoadLinks:loc_1C755j
		inc	LinksCount
		cmp	LinksCount, 80h	; '€'
		jge	short locret_1C770
		jmp	loc_1C54B
; ---------------------------------------------------------------------------

locret_1C770:				; CODE XREF: LoadLinks+2Fj
					; LoadLinks+229j
		leave
		retn
LoadLinks	endp

; ---------------------------------------------------------------------------
aEnd_3		db 4,'#end'             ; DATA XREF: LoadTeleports+23o
aTcenter	db 7,'tcenter'          ; DATA XREF: LoadTeleports+4Ao

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadTeleports	proc near		; CODE XREF: LoadProFile+162p

var_116		= byte ptr -116h
var_1A		= dword	ptr -1Ah
var_16		= byte ptr -16h
var_15		= byte ptr -15h

		enter	116h, 0
		xor	ax, ax
		mov	TCount,	ax

loc_1C788:				; CODE XREF: LoadTeleports+104j
		lea	di, [bp+var_116]
		push	ss
		push	di
		call	ReadCommand__0
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aEnd_3 ; "#end"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1C7B1
		jmp	locret_1C886
; ---------------------------------------------------------------------------

loc_1C7B1:				; CODE XREF: LoadTeleports+2Dj
		cmp	[bp+var_15], 3Bh ; ';'
		jnz	short loc_1C7C4
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		jmp	loc_1C87B
; ---------------------------------------------------------------------------

loc_1C7C4:				; CODE XREF: LoadTeleports+36j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aTcenter ; "tcenter"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1C7D8
		jmp	loc_1C87B
; ---------------------------------------------------------------------------

loc_1C7D8:				; CODE XREF: LoadTeleports+54j
		imul	ax, TCount, 0Ah
		les	di, Tports
		add	di, ax
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di+6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_1A]
		mov	es:[di+8], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, [bp+var_1A]
		cmp	word ptr es:[di+4], 40h	; '@'
		jge	short loc_1C85B
		cmp	word ptr es:[di+6], 40h	; '@'
		jge	short loc_1C85B
		mov	ax, es:[di+4]
		shl	ax, 8
		add	ax, 80h	; '€'
		mov	es:[di+4], ax
		mov	ax, es:[di+6]
		shl	ax, 8
		add	ax, 80h	; '€'
		mov	es:[di+6], ax

loc_1C85B:				; CODE XREF: LoadTeleports+B7j
					; LoadTeleports+BEj
		mov	cl, byte ptr TCount
		les	di, [bp+var_1A]
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, TeleMap
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		inc	TCount

loc_1C87B:				; CODE XREF: LoadTeleports+42j
					; LoadTeleports+56j
		cmp	TCount,	80h ; '€'
		jnb	short locret_1C886
		jmp	loc_1C788
; ---------------------------------------------------------------------------

locret_1C886:				; CODE XREF: LoadTeleports+2Fj
					; LoadTeleports+102j
		leave
		retn
LoadTeleports	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReadMess	proc near		; CODE XREF: LoadMessage+EAp
					; LoadMessage+111p ...

var_104		= byte ptr -104h
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		enter	104h, 0
		les	di, [bp+arg_0]
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_4]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_4]
		mov	es:[di+2], ax
		add	di, 4
		push	es
		push	di
		push	31h ; '1'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_104]
		push	ss
		push	di
		les	di, [bp+var_4]
		add	di, 4
		push	es
		push	di
		call	Trim
		les	di, [bp+var_4]
		add	di, 4
		push	es
		push	di
		push	31h ; '1'
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_4]
		dec	byte ptr es:[di+4]
		lea	di, [bp+var_104]
		push	ss
		push	di
		les	di, [bp+var_4]
		add	di, 4
		push	es
		push	di
		push	2
		push	32h ; '2'
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		les	di, [bp+var_4]
		add	di, 4
		push	es
		push	di
		push	31h ; '1'
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_4]
		cmp	word ptr es:[di], 0FFFFh
		jnz	short locret_1C939
		add	di, 4
		push	es
		push	di
		call	CalcStringLen
		shr	ax, 1
		mov	dx, ax
		mov	ax, 0A0h ; ' '
		sub	ax, dx
		les	di, [bp+var_4]
		mov	es:[di], ax

locret_1C939:				; CODE XREF: ReadMess+95j
		leave
		retn	4
ReadMess	endp

; ---------------------------------------------------------------------------
aBadMessNumber_	db 16,'Bad mess number.' ; DATA XREF: LoadMessage:loc_1C9F6o
aDelay_0	db 5,'delay'            ; DATA XREF: LoadMessage+9Eo
aTexta		db 6,'texta:'           ; DATA XREF: LoadMessage+D0o
aTextb		db 6,'textb:'           ; DATA XREF: LoadMessage+F3o
aTextc		db 6,'textc:'           ; DATA XREF: LoadMessage+11Ao
aTextd		db 6,'textd:'           ; DATA XREF: LoadMessage+141o
aTexte		db 6,'texte:'           ; DATA XREF: LoadMessage+168o
aTextf		db 6,'textf:'           ; DATA XREF: LoadMessage+18Fo
aTextg		db 6,'textg:'           ; DATA XREF: LoadMessage+1B6o
aEnd_4		db 4,'#end'             ; DATA XREF: LoadMessage+1E2o
aMessageLineToo	db 23,'Message line too long: ' ; DATA XREF: LoadMessage+228o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadMessage	proc near		; CODE XREF: LoadProFile+12Dp

var_21A		= byte ptr -21Ah
var_11A		= word ptr -11Ah
var_118		= word ptr -118h
var_116		= byte ptr -116h
var_115		= byte ptr -115h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4

		enter	21Ah, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	1
		push	5
		call	@Delete$qm6String7Integert2 ; Delete(var s: String; index: Integer; count: Integer)
		lea	di, [bp+var_100]
		push	ss
		push	di
		lea	di, [bp+var_118]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_11A], ax
		cmp	[bp+var_11A], 0
		jl	short loc_1C9F6
		cmp	[bp+var_11A], 0Fh
		jg	short loc_1C9F6
		cmp	[bp+var_118], 0
		jle	short loc_1CA00

loc_1C9F6:				; CODE XREF: LoadMessage+44j
					; LoadMessage+4Bj
		mov	di, offset aBadMessNumber_ ; "Bad mess number."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1CA00:				; CODE XREF: LoadMessage+52j
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		mov	word ptr es:[di+17Ah], 230h

loc_1CA13:				; CODE XREF: LoadMessage+1EEj
		lea	di, [bp+var_21A]
		push	ss
		push	di
		call	ReadCommand__0
		lea	di, [bp+var_116]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_115], 3Bh ; ';'
		jnz	short loc_1CA3A
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CA3A:				; CODE XREF: LoadMessage+8Cj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aDelay_0 ; "delay"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CA6C
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, 17Ah
		push	es
		push	di
		mov	ax, 88h	; 'ˆ'
		xor	bx, bx
		mov	dx, 0C00h
		push	dx
		push	bx
		push	ax
		call	ReadRealMul__0

loc_1CA6C:				; CODE XREF: LoadMessage+A8j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aTexta ; "texta:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CA8F
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		push	es
		push	di
		call	ReadMess

loc_1CA8F:				; CODE XREF: LoadMessage+DAj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aTextb ; "textb:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CAB6
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, 36h	; '6'
		push	es
		push	di
		call	ReadMess

loc_1CAB6:				; CODE XREF: LoadMessage+FDj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aTextc ; "textc:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CADD
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, 6Ch	; 'l'
		push	es
		push	di
		call	ReadMess

loc_1CADD:				; CODE XREF: LoadMessage+124j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aTextd ; "textd:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CB04
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, 0A2h ; '¢'
		push	es
		push	di
		call	ReadMess

loc_1CB04:				; CODE XREF: LoadMessage+14Bj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aTexte ; "texte:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CB2B
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, 0D8h ; 'Ø'
		push	es
		push	di
		call	ReadMess

loc_1CB2B:				; CODE XREF: LoadMessage+172j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aTextf ; "textf:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CB52
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, 10Eh
		push	es
		push	di
		call	ReadMess

loc_1CB52:				; CODE XREF: LoadMessage+199j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aTextg ; "textg:"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CB79
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, 144h
		push	es
		push	di
		call	ReadMess

loc_1CB79:				; CODE XREF: LoadMessage+1C0j
		call	ChI
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aEnd_4 ; "#end"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1CB93
		jmp	loc_1CA13
; ---------------------------------------------------------------------------

loc_1CB93:				; CODE XREF: LoadMessage+1ECj
		xor	ax, ax
		mov	[bp+var_118], ax
		jmp	short loc_1CB9F
; ---------------------------------------------------------------------------

loc_1CB9B:				; CODE XREF: LoadMessage+25Cj
		inc	[bp+var_118]

loc_1CB9F:				; CODE XREF: LoadMessage+1F7j
		imul	ax, [bp+var_118], 36h
		mov	dx, ax
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, dx
		add	di, 4
		push	es
		push	di
		call	CalcStringLen
		cmp	ax, 138h
		jbe	short loc_1CBF9
		lea	di, [bp+var_21A]
		push	ss
		push	di
		mov	di, offset aMessageLineToo ; "Message line too long: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		imul	ax, [bp+var_118], 36h
		mov	dx, ax
		imul	ax, [bp+var_11A], 17Ch
		les	di, PMList
		add	di, ax
		add	di, dx
		add	di, 4
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1CBF9:				; CODE XREF: LoadMessage+220j
		cmp	[bp+var_118], 6
		jnz	short loc_1CB9B
		call	ChI
		leave
		retn	4
LoadMessage	endp

; ---------------------------------------------------------------------------
aPlayani	db 7,'playani'          ; DATA XREF: LoadAction+54o
aP		db 1,'P'                ; DATA XREF: LoadAction+76o
aStopani	db 7,'stopani'          ; DATA XREF: LoadAction+8Co
aS		db 1,'S'                ; DATA XREF: LoadAction+AEo
aExplode	db 7,'explode'          ; DATA XREF: LoadAction+C4o
aE		db 1,'E'                ; DATA XREF: LoadAction+F2o
aChange		db 6,'change'           ; DATA XREF: LoadAction+108o
aMove		db 4,'move'             ; DATA XREF: LoadAction+147o
aXmove		db 5,'xmove'            ; DATA XREF: LoadAction+19Eo
aYmove		db 5,'ymove'            ; DATA XREF: LoadAction+1F5o
aRotate		db 6,'rotate'           ; DATA XREF: LoadAction+24Co
aUp		db 2,'up'               ; DATA XREF: LoadAction+2AFo
aWaitout	db 7,'waitout'          ; DATA XREF: LoadAction+2FAo
aDeath		db 5,'death'            ; DATA XREF: LoadAction+339o
aQuake		db 5,'quake'            ; DATA XREF: LoadAction+3A8o
aAmbient_0	db 7,'ambient'          ; DATA XREF: LoadAction+3FFo
aLight		db 5,'light'            ; DATA XREF: LoadAction+456o
aSource		db 6,'source'           ; DATA XREF: LoadAction+4B9o
aUnlock_0	db 6,'unlock'           ; DATA XREF: LoadAction+552o
aU		db 1,'U'                ; DATA XREF: LoadAction+55Eo
aLock		db 4,'lock'             ; DATA XREF: LoadAction+58Ao
asc_1CC80	db 1,'L'                ; DATA XREF: LoadAction+596o
aWind		db 4,'wind'             ; DATA XREF: LoadAction+5C2o
aW		db 1,'W'                ; DATA XREF: LoadAction+5CEo
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db    0
		db  20h
		db  10h
		db 0A9h	; ©
		db    0
		db  1Ah
		db  70h	; p
		db 0AEh	; ®
		db    3
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
aS_0		db 2,'s:'               ; DATA XREF: LoadAction:loc_1D3FEo
aTooManySubs_	db 14,'Too many subs.'  ; DATA XREF: LoadAction+787o
aEnd_5		db 4,'#end'             ; DATA XREF: LoadAction+79Bo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadAction	proc near		; CODE XREF: LoadProcess:loc_1DA1Ep

var_236		= byte ptr -236h
var_136		= byte ptr -136h
var_132		= byte ptr -132h
var_36		= dword	ptr -36h
var_32		= dword	ptr -32h
var_2E		= byte ptr -2Eh
var_2C		= byte ptr -2Ch
var_16		= byte ptr -16h
var_15		= byte ptr -15h

		enter	236h, 0
		imul	ax, pnum, 1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_32], di
		mov	word ptr [bp+var_32+2],	es

loc_1CCD6:				; CODE XREF: LoadAction+7A7j
		lea	di, [bp+var_132]
		push	ss
		push	di
		call	ReadCommand__0
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_15], 3Bh ; ';'
		jnz	short loc_1CCFB
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CCFB:				; CODE XREF: LoadAction+2Fj
		les	di, [bp+var_32]
		imul	ax, es:[di+20h], 1Bh
		add	di, ax
		add	di, 38h	; '8'
		mov	word ptr [bp+var_36], di
		mov	word ptr [bp+var_36+2],	es
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aPlayani ; "playani"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CD47
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset aP	; "P"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_1CD47:				; CODE XREF: LoadAction+5Ej
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aStopani ; "stopani"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CD7F
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset aS	; "S"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_1CD7F:				; CODE XREF: LoadAction+96j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aExplode ; "explode"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CDC3
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset aE	; "E"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_1CDC3:				; CODE XREF: LoadAction+CEj
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aChange ; "change"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CE02
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CE02:				; CODE XREF: LoadAction+112j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aMove ; "move"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CE59
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+7], ax
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CE59:				; CODE XREF: LoadAction+151j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aXmove ; "xmove"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CEB0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+7], ax
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CEB0:				; CODE XREF: LoadAction+1A8j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aYmove ; "ymove"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CF07
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+7], ax
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CF07:				; CODE XREF: LoadAction+1FFj
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aRotate ; "rotate"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CF6A
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+7], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+9], ax
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CF6A:				; CODE XREF: LoadAction+256j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aUp	; "up"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CFB5
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+9], ax
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CFB5:				; CODE XREF: LoadAction+2B9j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aWaitout ; "waitout"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1CFF4
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1CFF4:				; CODE XREF: LoadAction+304j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aDeath ; "death"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D063
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+13h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+15h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+17h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+19h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D063:				; CODE XREF: LoadAction+343j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aQuake ; "quake"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D0BA
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+13h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+15h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+17h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+19h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D0BA:				; CODE XREF: LoadAction+3B2j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aAmbient_0 ;	"ambient"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D111
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+13h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+15h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+17h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+19h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D111:				; CODE XREF: LoadAction+409j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aLight ; "light"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D174
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+13h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+15h], ax
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D174:				; CODE XREF: LoadAction+460j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aSource ; "source"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1D188
		jmp	loc_1D20D
; ---------------------------------------------------------------------------

loc_1D188:				; CODE XREF: LoadAction+4C3j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+3], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+7], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+13h], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, [bp+var_36]
		imul	ax, es:[di+13h], 0Eh
		cwd
		mov	cx, 0Ah
		idiv	cx
		mov	es:[di+13h], ax
		cmp	word ptr es:[di+1], 40h	; '@'
		jge	short loc_1D1F5
		mov	ax, es:[di+1]
		shl	ax, 8
		add	ax, 80h	; '€'
		mov	es:[di+1], ax

loc_1D1F5:				; CODE XREF: LoadAction+525j
		les	di, [bp+var_36]
		cmp	word ptr es:[di+3], 40h	; '@'
		jge	short loc_1D20D
		mov	ax, es:[di+3]
		shl	ax, 8
		add	ax, 80h	; '€'
		mov	es:[di+3], ax

loc_1D20D:				; CODE XREF: LoadAction+4C5j
					; LoadAction+53Dj
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aUnlock_0 ; "unlock"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D245
		mov	di, offset aU	; "U"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D245:				; CODE XREF: LoadAction+55Cj
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aLock ; "lock"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D27D
		mov	di, offset asc_1CC80 ; "L"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+1], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D27D:				; CODE XREF: LoadAction+594j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aWind ; "wind"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D2F1
		mov	di, offset aW	; "W"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+13h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+15h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+17h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+19h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+5], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_36]
		mov	es:[di+7], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D2F1:				; CODE XREF: LoadAction+5CCj
		mov	al, [bp+var_15]
		mov	ah, 1
		mov	dx, 20h	; ' '
		call	@Set@GetElemOffset$q4Wordt1 ; Compute Set offset and bitmask
					; AL - Element number
					; AH - mask
					; DX - Set params
		mov	di, dx
		test	cs:[di+4249h], al
		jnz	short loc_1D30A
		jmp	loc_1D43D
; ---------------------------------------------------------------------------

loc_1D30A:				; CODE XREF: LoadAction+645j
		mov	al, [bp+var_15]
		les	di, [bp+var_36]
		mov	es:[di], al
		mov	al, es:[di]
		cmp	al, 50h	; 'P'
		jz	short loc_1D31E
		cmp	al, 53h	; 'S'
		jnz	short loc_1D325

loc_1D31E:				; CODE XREF: LoadAction+658j
		les	di, [bp+var_36]
		dec	word ptr es:[di+1]

loc_1D325:				; CODE XREF: LoadAction+65Cj
		les	di, [bp+var_36]
		mov	al, es:[di]
		cmp	al, 57h	; 'W'
		jz	short loc_1D337
		cmp	al, 64h	; 'd'
		jz	short loc_1D337
		cmp	al, 71h	; 'q'
		jnz	short loc_1D391

loc_1D337:				; CODE XREF: LoadAction+66Dj
					; LoadAction+671j
		les	di, [bp+var_36]
		cmp	word ptr es:[di+13h], 40h ; '@'
		jge	short loc_1D34C
		mov	ax, es:[di+13h]
		shl	ax, 8
		mov	es:[di+13h], ax

loc_1D34C:				; CODE XREF: LoadAction+67Fj
		les	di, [bp+var_36]
		cmp	word ptr es:[di+15h], 40h ; '@'
		jge	short loc_1D361
		mov	ax, es:[di+15h]
		shl	ax, 8
		mov	es:[di+15h], ax

loc_1D361:				; CODE XREF: LoadAction+694j
		les	di, [bp+var_36]
		cmp	word ptr es:[di+17h], 40h ; '@'
		jge	short loc_1D379
		mov	ax, es:[di+17h]
		shl	ax, 8
		add	ax, 100h
		mov	es:[di+17h], ax

loc_1D379:				; CODE XREF: LoadAction+6A9j
		les	di, [bp+var_36]
		cmp	word ptr es:[di+19h], 40h ; '@'
		jge	short loc_1D391
		mov	ax, es:[di+19h]
		shl	ax, 8
		add	ax, 100h
		mov	es:[di+19h], ax

loc_1D391:				; CODE XREF: LoadAction+675j
					; LoadAction+6C1j
		les	di, [bp+var_36]
		mov	ax, es:[di+9]
		shl	ax, 2
		mov	es:[di+9], ax
		les	di, [bp+var_32]
		mov	ax, es:[di+6]
		les	di, [bp+var_36]
		mov	es:[di+11h], ax
		lea	di, [bp+var_236]
		push	ss
		push	di
		lea	di, [bp+var_136]
		push	ss
		push	di
		lea	di, [bp+var_2C]
		push	ss
		push	di
		call	Trim
		call	StLocase
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_36]
		cmp	byte ptr es:[di], 6Ch ;	'l'
		jnz	short loc_1D3FE
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_36]
		mov	es:[di+9], ax

loc_1D3FE:				; CODE XREF: LoadAction+71Bj
		mov	di, offset aS_0	; "s:"
		push	cs
		push	di
		lea	di, [bp+var_2C]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		cmp	ax, 1
		jnz	short loc_1D436
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	1
		push	2
		call	@Delete$qm6String7Integert2 ; Delete(var s: String; index: Integer; count: Integer)
		lea	di, [bp+var_2C]
		push	ss
		push	di
		lea	di, [bp+var_2E]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		les	di, [bp+var_36]
		mov	es:[di+11h], ax

loc_1D436:				; CODE XREF: LoadAction+750j
		les	di, [bp+var_32]
		inc	word ptr es:[di+20h]

loc_1D43D:				; CODE XREF: LoadAction+647j
		les	di, [bp+var_32]
		cmp	word ptr es:[di+20h], 10h
		jle	short loc_1D451
		mov	di, offset aTooManySubs_ ; "Too	many subs."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1D451:				; CODE XREF: LoadAction+785j
		call	ChI
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aEnd_5 ; "#end"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short locret_1D46A
		jmp	loc_1CCD6
; ---------------------------------------------------------------------------

locret_1D46A:				; CODE XREF: LoadAction+7A5j
		leave
		retn
LoadAction	endp

; ---------------------------------------------------------------------------
aBadProNumber_	db 15,'Bad pro number.' ; DATA XREF: LoadProcess:loc_1D5B9o
aStartdelay	db 10,'startdelay'      ; DATA XREF: LoadProcess+D6o
aBackwait	db 8,'backwait'         ; DATA XREF: LoadProcess+100o
aSpeed		db 5,'speed'            ; DATA XREF: LoadProcess+12Ao
aEnddelay	db 8,'enddelay'         ; DATA XREF: LoadProcess+153o
aCheckgo	db 7,'checkgo'          ; DATA XREF: LoadProcess+17Do
aCheckback	db 9,'checkback'        ; DATA XREF: LoadProcess+198o
aMortal		db 6,'mortal'           ; DATA XREF: LoadProcess+1B3o
aLightremap	db 10,'lightremap'      ; DATA XREF: LoadProcess+1CEo
aLock_0		db 4,'lock'             ; DATA XREF: LoadProcess+1E9o
aRedkey		db 6,'redkey'           ; DATA XREF: LoadProcess+204o
aGreenkey	db 8,'greenkey'         ; DATA XREF: LoadProcess+21Fo
aBluekey	db 7,'bluekey'          ; DATA XREF: LoadProcess+23Ao
aWhitekey	db 8,'whitekey'         ; DATA XREF: LoadProcess+255o
aLoops		db 5,'loops'            ; DATA XREF: LoadProcess+270o
aLoopdelay	db 9,'loopdelay'        ; DATA XREF: LoadProcess+299o
aOnmessage	db 9,'onmessage'        ; DATA XREF: LoadProcess+2C3o
aFirstmessage	db 12,'firstmessage'    ; DATA XREF: LoadProcess+2ECo
aLockmessage	db 11,'lockmessage'     ; DATA XREF: LoadProcess+315o
aSfxon		db 5,'sfxon'            ; DATA XREF: LoadProcess+33Eo
aSfxid		db 5,'sfxid'            ; DATA XREF: LoadProcess+367o
aSfxposxy	db 8,'sfxposxy'         ; DATA XREF: LoadProcess+390o
aLinkswitchat	db 12,'linkswitchat'    ; DATA XREF: LoadProcess+3E6o
aBadSw_link	db 11,'Bad SW.Link'     ; DATA XREF: LoadProcess:loc_1D9C3o
					; LoadProcess+47Fo
aTooManySw_Link	db 20,'Too many sw. linked.' ; DATA XREF: LoadProcess+498o
aAction_0	db 7,'#action'          ; DATA XREF: LoadProcess+4A8o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadProcess	proc near		; CODE XREF: LoadProFile+110p

var_21A		= byte ptr -21Ah
var_122		= dword	ptr -122h
var_11E		= dword	ptr -11Eh
var_11A		= dword	ptr -11Ah
var_116		= byte ptr -116h
var_115		= byte ptr -115h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4

		enter	21Ah, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	1
		push	5
		call	@Delete$qm6String7Integert2 ; Delete(var s: String; index: Integer; count: Integer)
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset i
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	pnum, ax
		cmp	pnum, 0
		jl	short loc_1D5B9
		cmp	pnum, 3Fh ; '?'
		jg	short loc_1D5B9
		cmp	i, 0
		jle	short loc_1D5C3

loc_1D5B9:				; CODE XREF: LoadProcess+42j
					; LoadProcess+49j
		mov	di, offset aBadProNumber_ ; "Bad pro number."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1D5C3:				; CODE XREF: LoadProcess+50j
		imul	ax, pnum, 1E8h
		les	di, PProc
		add	di, ax
		mov	byte ptr es:[di], 1
		mov	word ptr es:[di+6], 8
		mov	word ptr es:[di+16h], 0FFFFh
		mov	word ptr es:[di+18h], 0FFFFh
		mov	byte ptr es:[di+3], 0FFh
		mov	word ptr es:[di+10h], 0FFFFh
		mov	word ptr es:[di+12h], 0FFFFh
		mov	word ptr es:[di+14h], 0FFFFh
		imul	ax, pnum, 1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_11A], di
		mov	word ptr [bp+var_11A+2], es

loc_1D610:				; CODE XREF: LoadProcess+4B4j
		lea	di, [bp+var_21A]
		push	ss
		push	di
		call	ReadCommand__0
		lea	di, [bp+var_116]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_115], 3Bh ; ';'
		jnz	short loc_1D637
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D637:				; CODE XREF: LoadProcess+C4j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aStartdelay ; "startdelay"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D661
		les	di, [bp+var_11A]
		add	di, 8
		push	es
		push	di
		mov	ax, 88h	; 'ˆ'
		xor	bx, bx
		mov	dx, 0C00h
		push	dx
		push	bx
		push	ax
		call	ReadRealMul__0

loc_1D661:				; CODE XREF: LoadProcess+E0j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aBackwait ; "backwait"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D68B
		les	di, [bp+var_11A]
		add	di, 0Ah
		push	es
		push	di
		mov	ax, 88h	; 'ˆ'
		xor	bx, bx
		mov	dx, 0C00h
		push	dx
		push	bx
		push	ax
		call	ReadRealMul__0

loc_1D68B:				; CODE XREF: LoadProcess+10Aj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aSpeed ; "speed"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D6B4
		les	di, [bp+var_11A]
		add	di, 6
		push	es
		push	di
		mov	ax, 81h	; ''
		xor	bx, bx
		xor	dx, dx
		push	dx
		push	bx
		push	ax
		call	ReadRealMul__0

loc_1D6B4:				; CODE XREF: LoadProcess+134j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aEnddelay ; "enddelay"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D6DE
		les	di, [bp+var_11A]
		add	di, 1Eh
		push	es
		push	di
		mov	ax, 88h	; 'ˆ'
		xor	bx, bx
		mov	dx, 0C00h
		push	dx
		push	bx
		push	ax
		call	ReadRealMul__0

loc_1D6DE:				; CODE XREF: LoadProcess+15Dj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aCheckgo ; "checkgo"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D6F9
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+3], 1

loc_1D6F9:				; CODE XREF: LoadProcess+187j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aCheckback ;	"checkback"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D714
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+3], 2

loc_1D714:				; CODE XREF: LoadProcess+1A2j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aMortal ; "mortal"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D72F
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+4], 1

loc_1D72F:				; CODE XREF: LoadProcess+1BDj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aLightremap ; "lightremap"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D74A
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+5], 1

loc_1D74A:				; CODE XREF: LoadProcess+1D8j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aLock_0 ; "lock"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D765
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+2], 0FFh

loc_1D765:				; CODE XREF: LoadProcess+1F3j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aRedkey ; "redkey"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D780
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+2], 1

loc_1D780:				; CODE XREF: LoadProcess+20Ej
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aGreenkey ; "greenkey"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D79B
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+2], 2

loc_1D79B:				; CODE XREF: LoadProcess+229j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aBluekey ; "bluekey"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D7B6
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+2], 3

loc_1D7B6:				; CODE XREF: LoadProcess+244j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aWhitekey ; "whitekey"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D7D1
		les	di, [bp+var_11A]
		mov	byte ptr es:[di+2], 4

loc_1D7D1:				; CODE XREF: LoadProcess+25Fj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aLoops ; "loops"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D7FA
		les	di, [bp+var_11A]
		add	di, 0Eh
		push	es
		push	di
		mov	ax, 81h	; ''
		xor	bx, bx
		xor	dx, dx
		push	dx
		push	bx
		push	ax
		call	ReadRealMul__0

loc_1D7FA:				; CODE XREF: LoadProcess+27Aj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aLoopdelay ;	"loopdelay"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D824
		les	di, [bp+var_11A]
		add	di, 0Ch
		push	es
		push	di
		mov	ax, 88h	; 'ˆ'
		xor	bx, bx
		mov	dx, 0C00h
		push	dx
		push	bx
		push	ax
		call	ReadRealMul__0

loc_1D824:				; CODE XREF: LoadProcess+2A3j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aOnmessage ;	"onmessage"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D84D
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11A]
		mov	es:[di+12h], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D84D:				; CODE XREF: LoadProcess+2CDj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aFirstmessage ; "firstmessage"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D876
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11A]
		mov	es:[di+10h], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D876:				; CODE XREF: LoadProcess+2F6j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aLockmessage	; "lockmessage"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D89F
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11A]
		mov	es:[di+14h], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D89F:				; CODE XREF: LoadProcess+31Fj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aSfxon ; "sfxon"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D8C8
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11A]
		mov	es:[di+18h], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D8C8:				; CODE XREF: LoadProcess+348j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aSfxid ; "sfxid"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D8F1
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11A]
		mov	es:[di+16h], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_1D8F1:				; CODE XREF: LoadProcess+371j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aSfxposxy ; "sfxposxy"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1D947
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11A]
		mov	es:[di+1Ah], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11A]
		mov	es:[di+1Ch], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, [bp+var_11A]
		mov	ax, es:[di+1Ah]
		shl	ax, 8
		add	ax, 80h	; '€'
		mov	es:[di+1Ah], ax
		mov	ax, es:[di+1Ch]
		shl	ax, 8
		add	ax, 80h	; '€'
		mov	es:[di+1Ch], ax

loc_1D947:				; CODE XREF: LoadProcess+39Aj
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aLinkswitchat ; "linkswitchat"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1D95C
		jmp	loc_1DA09
; ---------------------------------------------------------------------------

loc_1D95C:				; CODE XREF: LoadProcess+3F0j
		les	di, [bp+var_11A]
		mov	ax, es:[di+22h]
		shl	ax, 2
		add	di, ax
		add	di, 28h	; '('
		mov	word ptr [bp+var_11E], di
		mov	word ptr [bp+var_11E+2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11E]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_11E]
		mov	es:[di+2], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, [bp+var_11E]
		imul	ax, es:[di+2], 0Bh
		mov	dx, ax
		imul	ax, es:[di], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_122], di
		mov	word ptr [bp+var_122+2], es
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jb	short loc_1D9C3
		cmp	al, 0E2h ; 'â'
		jbe	short loc_1D9CF

loc_1D9C3:				; CODE XREF: LoadProcess+456j
		mov	di, offset aBadSw_link ; "Bad SW.Link"
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------
		db 0EBh	; ë
		db  21h	; !
; ---------------------------------------------------------------------------

loc_1D9CF:				; CODE XREF: LoadProcess+45Aj
		les	di, [bp+var_122]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74B0h], 0FEh ; 'þ'
		jge	short loc_1D9F0
		mov	di, offset aBadSw_link ; "Bad SW.Link"
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1D9F0:				; CODE XREF: LoadProcess+47Dj
		les	di, [bp+var_11A]
		inc	word ptr es:[di+22h]
		cmp	word ptr es:[di+22h], 3
		jle	short loc_1DA09
		mov	di, offset aTooManySw_Link ; "Too many sw. linked."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1DA09:				; CODE XREF: LoadProcess+3F2j
					; LoadProcess+496j
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset aAction_0 ; "#action"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1DA1E
		jmp	loc_1D610
; ---------------------------------------------------------------------------

loc_1DA1E:				; CODE XREF: LoadProcess+4B2j
		call	LoadAction
		call	ChI
		leave
		retn	4
LoadProcess	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Stop3d		proc near		; CODE XREF: LoadProFile+14Ap

var_304		= byte ptr -304h
var_204		= byte ptr -204h
var_104		= byte ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4

		enter	304h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_304]
		push	ss
		push	di
		lea	di, [bp+var_204]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	9
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		lea	di, [bp+var_104]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_102], ax
		mov	ax, [bp+var_102]
		dec	ax
		imul	di, ax,	24h
		mov	byte ptr [di+74C4h], 0
		leave
		retn	4
Stop3d		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadEndCamera	proc near		; CODE XREF: LoadProFile+18Ep
		push	bp
		mov	bp, sp
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	EndCamera, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_406E6, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_406E8, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_406EC, ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	word_406EA, ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		leave
		retn
LoadEndCamera	endp

; ---------------------------------------------------------------------------
a@_10		db 2,'@#'               ; DATA XREF: LoadProFile+54o
					; LoadProFile+7Fo
aLevel_6	db 5,'LEVEL'            ; DATA XREF: LoadProFile+44o
aProcess_	db 9,'\process.'        ; DATA XREF: LoadProFile+6Fo
aProc		db 5,'#proc'            ; DATA XREF: LoadProFile:loc_1DC0Fo
aMess		db 5,'#mess'            ; DATA XREF: LoadProFile:loc_1DC2Co
aStopani_0	db 8,'#stopani'         ; DATA XREF: LoadProFile:loc_1DC49o
aTeleports	db 10,'#teleports'      ; DATA XREF: LoadProFile:loc_1DC66o
aLinks		db 6,'#links'           ; DATA XREF: LoadProFile+16Co
aEndcamera	db 10,'#endcamera'      ; DATA XREF: LoadProFile+182o
a__4		db 1,'.'                ; DATA XREF: LoadProFile+196o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadProFile	proc far		; CODE XREF: LoadLevel+3F6P
					; LoadGame+4C6P

var_316		= byte ptr -316h
var_216		= byte ptr -216h
var_116		= byte ptr -116h
var_1A		= dword	ptr -1Ah
var_16		= byte ptr -16h
var_15		= byte ptr -15h

		enter	316h, 0
		les	di, PProc
		push	es
		push	di
		push	7A00h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, PLinks
		push	es
		push	di
		push	380h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, PMList
		push	es
		push	di
		push	17C0h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		xor	ax, ax
		mov	TCount,	ax
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_216]
		push	ss
		push	di
		mov	di, offset aLevel_6 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_116]
		push	ss
		push	di
		mov	di, offset a@_10 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aProcess_ ; "\\process."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_316]
		push	ss
		push	di
		mov	di, offset a@_10 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	TOpen
		call	NextLoading

loc_1DBBB:				; CODE XREF: LoadProFile+1A2j
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_216]
		push	ss
		push	di
		lea	di, [bp+var_116]
		push	ss
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	Trim
		call	StLocase
		lea	di, [bp+var_16]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	ChI
		cmp	[bp+var_16], 0
		jnz	short loc_1DC06
		jmp	loc_1DCA8
; ---------------------------------------------------------------------------

loc_1DC06:				; CODE XREF: LoadProFile+EAj
		cmp	[bp+var_15], 3Bh ; ';'
		jnz	short loc_1DC0F
		jmp	loc_1DCA8
; ---------------------------------------------------------------------------

loc_1DC0F:				; CODE XREF: LoadProFile+F3j
		mov	di, offset aProc ; "#proc"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1DC2C
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	LoadProcess
		jmp	short loc_1DCA8
; ---------------------------------------------------------------------------

loc_1DC2C:				; CODE XREF: LoadProFile+109j
		mov	di, offset aMess ; "#mess"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1DC49
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	LoadMessage
		jmp	short loc_1DCA8
; ---------------------------------------------------------------------------

loc_1DC49:				; CODE XREF: LoadProFile+126j
		mov	di, offset aStopani_0 ;	"#stopani"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1DC66
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	Stop3d
		jmp	short loc_1DCA8
; ---------------------------------------------------------------------------

loc_1DC66:				; CODE XREF: LoadProFile+143j
		mov	di, offset aTeleports ;	"#teleports"
		push	cs
		push	di
		lea	di, [bp+var_16]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_1DC7E
		call	LoadTeleports
		jmp	short loc_1DCA8
; ---------------------------------------------------------------------------

loc_1DC7E:				; CODE XREF: LoadProFile+160j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aLinks ; "#links"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1DC94
		call	LoadLinks
		jmp	short loc_1DCA8
; ---------------------------------------------------------------------------

loc_1DC94:				; CODE XREF: LoadProFile+176j
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset aEndcamera ;	"#endcamera"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_1DCA8
		call	LoadEndCamera

loc_1DCA8:				; CODE XREF: LoadProFile+ECj
					; LoadProFile+F5j ...
		lea	di, [bp+var_16]
		push	ss
		push	di
		mov	di, offset a__4	; "."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_1DCBC
		jmp	loc_1DBBB
; ---------------------------------------------------------------------------

loc_1DCBC:				; CODE XREF: LoadProFile+1A0j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Close$qm4Text	; Close(var f: Text)
		call	ChI
		xor	ax, ax
		mov	x__0, ax
		jmp	short loc_1DCD6
; ---------------------------------------------------------------------------

loc_1DCD2:				; CODE XREF: LoadProFile+212j
		inc	x__0

loc_1DCD6:				; CODE XREF: LoadProFile+1B9j
		xor	ax, ax
		mov	y, ax
		jmp	short loc_1DCE1
; ---------------------------------------------------------------------------

loc_1DCDD:				; CODE XREF: LoadProFile+20Bj
		inc	y

loc_1DCE1:				; CODE XREF: LoadProFile+1C4j
		imul	ax, y, 0Bh
		mov	dx, ax
		imul	ax, x__0, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		mov	al, es:[di]
		cmp	al, 83h	; 'ƒ'
		jb	short loc_1DD1D
		cmp	al, 0E2h ; 'â'
		ja	short loc_1DD1D
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74BAh]
		les	di, [bp+var_1A]
		mov	es:[di+9], ax

loc_1DD1D:				; CODE XREF: LoadProFile+1EAj
					; LoadProFile+1EEj
		cmp	y, 3Fh ; '?'
		jnz	short loc_1DCDD
		cmp	x__0, 3Fh ; '?'
		jnz	short loc_1DCD2
		call	NextLoading
		leave
		retf
LoadProFile	endp

; ---------------------------------------------------------------------------
a@_11		db 2,'@#'               ; DATA XREF: LoadFloorMap+1Fo
					; LoadFloorMap+4Ao ...
aLevel_7	db 5,'LEVEL'            ; DATA XREF: LoadFloorMap+Fo
					; LoadFloorMap+161o
aMap_		db 5,'\MAP.'            ; DATA XREF: LoadFloorMap+3Ao
					; LoadFloorMap+18Co

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadFloorMap	proc far		; CODE XREF: LoadLevel:loc_1E46BP
					; LoadGame+4C1P

var_308		= byte ptr -308h
var_208		= byte ptr -208h
var_108		= byte ptr -108h
var_6		= word ptr -6
var_4		= word ptr -4

		enter	308h, 0
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_208]
		push	ss
		push	di
		mov	di, offset aLevel_7 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_108]
		push	ss
		push	di
		mov	di, offset a@_11 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aMap_ ; "\\MAP."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_308]
		push	ss
		push	di
		mov	di, offset a@_11 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	2
		push	3001h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset CellMap
		push	ds
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset FloorMap
		push	ds
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, DarkMap
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, AmbMap
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_1DE23
; ---------------------------------------------------------------------------

loc_1DE20:				; CODE XREF: LoadFloorMap+126j
		inc	[bp+var_4]

loc_1DE23:				; CODE XREF: LoadFloorMap+DDj
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_1DE2D
; ---------------------------------------------------------------------------

loc_1DE2A:				; CODE XREF: LoadFloorMap+120j
		inc	[bp+var_6]

loc_1DE2D:				; CODE XREF: LoadFloorMap+E7j
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_4]
		shl	ax, 6
		les	di, DarkMap
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	cl, [di+14h]
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_4]
		shl	ax, 6
		les	di, DarkMap
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		cmp	[bp+var_6], 3Fh	; '?'
		jnz	short loc_1DE2A
		cmp	[bp+var_4], 3Fh	; '?'
		jnz	short loc_1DE20
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		les	di, ShadowMap
		push	es
		push	di
		push	0FFFFh
		push	18h
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, WShadowMap
		push	es
		push	di
		push	8000h
		push	18h
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_208]
		push	ss
		push	di
		mov	di, offset aLevel_7 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_108]
		push	ss
		push	di
		mov	di, offset a@_11 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aMap_ ; "\\MAP."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_308]
		push	ss
		push	di
		mov	di, offset a@_11 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		call	NextLoading
		mov	di, offset F
		push	ds
		push	di
		les	di, ShadowMap
		push	es
		push	di
		push	0FFFFh
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		mov	di, offset F
		push	ds
		push	di
		les	di, WShadowMap
		push	es
		push	di
		push	8000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		les	di, ShadowMap
		push	es
		push	di
		les	di, ShadowMap2
		push	es
		push	di
		push	0FFFFh
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, WShadowMap
		push	es
		push	di
		les	di, WShadowMap2
		push	es
		push	di
		push	8000h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		call	NextLoading
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		leave
		retf
LoadFloorMap	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitLevelDefaults proc near		; CODE XREF: LoadLevel+32p LoadGame+4p
		push	bp
		mov	bp, sp
		mov	t1, 4
		mov	GunShift, 40h ;	'@'
		xor	ax, ax
		mov	ShakeLevel, ax
		xor	ax, ax
		mov	LookVz,	ax
		mov	WXSize,	40h ; '@'
		mov	MapMode, 0
		xor	ax, ax
		mov	LastPainTime, ax
		mov	word_44D84, ax
		xor	ax, ax
		mov	Time, ax
		mov	word_44D6C, ax
		xor	ax, ax
		mov	RCount,	ax
		xor	ax, ax
		mov	BCount,	ax
		mov	ExMode,	0
		xor	ax, ax
		mov	TCount,	ax
		xor	ax, ax
		mov	LCount,	ax
		xor	ax, ax
		mov	SCount,	ax
		xor	ax, ax
		mov	MnCount, ax
		xor	ax, ax
		mov	DCount,	ax
		xor	ax, ax
		mov	ReCount, ax
		xor	ax, ax
		mov	AmCount, ax
		xor	ax, ax
		mov	HolCount, ax
		xor	ax, ax
		mov	ShakeLevel, ax
		les	di, TeleMap
		push	es
		push	di
		push	1000h
		push	0FFFFh
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, Lights
		push	es
		push	di
		push	0C00h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, Tports
		push	es
		push	di
		push	500h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, VMask
		push	es
		push	di
		push	1000h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, Flags
		push	es
		push	di
		push	1000h
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset LevelChanges
		push	ds
		push	di
		push	8
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset ProcState
		push	ds
		push	di
		push	8
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset EventsList
		push	ds
		push	di
		push	0A0h ; ' '
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		leave
		retn
InitLevelDefaults endp

; ---------------------------------------------------------------------------
a@_12		db 2,'@#'               ; DATA XREF: LoadLevel+55o
					; LoadLevel+80o
aLevel_8	db 5,'LEVEL'            ; DATA XREF: LoadLevel+45o
aMap__0		db 5,'\MAP.'            ; DATA XREF: LoadLevel+70o
aNetnum		db 7,'+NetNum'          ; DATA XREF: LoadLevel+1C6o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadLevel	proc far		; CODE XREF: PROGRAM+DADP PROGRAM+E07P ...

var_310		= byte ptr -310h
var_210		= byte ptr -210h
var_112		= byte ptr -112h
var_110		= byte ptr -110h
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= byte ptr -0Ah
var_9		= byte ptr -9
var_8		= word ptr -8
var_4		= word ptr -4

		enter	310h, 0
		call	StartLoading
		mov	FullMap, 0
		xor	ax, ax
		mov	takt, ax
		xor	ax, ax
		mov	MsTakt,	ax
		xor	ax, ax
		mov	LCDTrack, ax
		mov	BLevelDef, 140h
		mov	FirstTakt, 1
		mov	LastBorn, 0
		call	NextLoading
		call	InitLevelDefaults
		call	NextLoading
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_210]
		push	ss
		push	di
		mov	di, offset aLevel_8 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_110]
		push	ss
		push	di
		mov	di, offset a@_12 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aMap__0 ; "\\MAP."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_310]
		push	ss
		push	di
		mov	di, offset a@_12 ; "@#"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		call	NextLoading
		mov	di, offset F
		push	ds
		push	di
		push	1
		push	8001h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, Map
		push	es
		push	di
		push	0B000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset F
		push	ds
		push	di
		call	@FilePos$qm4File ; FilePos(var f): Longint{DX:AX}
		add	ax, 4000h
		adc	dx, 0
		push	dx
		push	ax
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset LtCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, Lights
		push	es
		push	di
		imul	ax, LtCount, 0Ch
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_8]
		push	ss
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		cmp	[bp+var_8], 57h	; 'W'
		jl	short loc_1E1BA
		mov	[bp+var_8], 57h	; 'W'

loc_1E1BA:				; CODE XREF: LoadLevel+139j
		xor	ax, ax
		mov	MCount,	ax
		xor	ax, ax
		mov	SFXSCount, ax
		xor	ax, ax
		mov	TotalKills, ax
		xor	ax, ax
		mov	TotalKeys, ax
		mov	di, offset NetPlace
		push	ds
		push	di
		push	0C0h ; 'À'
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		call	NextLoading
		mov	ax, [bp+var_8]
		mov	[bp+var_12], ax
		mov	ax, 1
		cmp	ax, [bp+var_12]
		jle	short loc_1E1F3
		jmp	loc_1E3CF
; ---------------------------------------------------------------------------

loc_1E1F3:				; CODE XREF: LoadLevel+174j
		mov	[bp+var_4], ax
		jmp	short loc_1E1FB
; ---------------------------------------------------------------------------

loc_1E1F8:				; CODE XREF: LoadLevel+352j
		inc	[bp+var_4]

loc_1E1FB:				; CODE XREF: LoadLevel+17Cj
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_10]
		push	ss
		push	di
		push	8
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		cmp	[bp+var_C], 64h	; 'd'
		jz	short loc_1E219
		jmp	loc_1E2C0
; ---------------------------------------------------------------------------

loc_1E219:				; CODE XREF: LoadLevel+19Aj
		mov	al, [bp+var_A]
		xor	ah, ah
		add	ax, 5
		and	ax, 7
		mov	dx, ax
		mov	ax, 7
		sub	ax, dx
		mov	[bp+var_A], al
		cmp	[bp+var_9], 0
		jb	short loc_1E23A
		cmp	[bp+var_9], 1Fh
		jbe	short loc_1E25E

loc_1E23A:				; CODE XREF: LoadLevel+1B8j
		lea	di, [bp+var_112]
		push	ss
		push	di
		mov	di, offset aNetnum ; "+NetNum"
		push	cs
		push	di
		mov	al, [bp+var_9]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1E25E:				; CODE XREF: LoadLevel+1BEj
		cmp	[bp+var_9], 0
		jnz	short loc_1E28F
		mov	ax, [bp+var_10]
		mov	word_45284, ax
		mov	ax, [bp+var_E]
		mov	word_45286, ax
		mov	al, [bp+var_A]
		xor	ah, ah
		shl	ax, 0Dh
		mov	HFi, ax
		xor	ax, ax
		mov	word_452A4, ax
		xor	ax, ax
		mov	word_452C8, ax
		xor	ax, ax
		mov	word_452CC, ax
		xor	ax, ax
		mov	word_452CA, ax

loc_1E28F:				; CODE XREF: LoadLevel+1E8j
		mov	al, [bp+var_9]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, 0E580h
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, [bp+var_10]
		mov	es:[di], ax
		mov	ax, [bp+var_E]
		mov	es:[di+2], ax
		mov	al, [bp+var_A]
		xor	ah, ah
		shl	ax, 0Dh
		mov	es:[di+4], ax
		jmp	loc_1E3C4
; ---------------------------------------------------------------------------

loc_1E2C0:				; CODE XREF: LoadLevel+19Cj
		mov	ax, 1
		mov	cx, Skill
		shl	ax, cl
		mov	dx, ax
		mov	al, [bp+var_9]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jg	short loc_1E2D9
		jmp	loc_1E3C4
; ---------------------------------------------------------------------------

loc_1E2D9:				; CODE XREF: LoadLevel+25Aj
		mov	ax, MCount
		inc	ax
		imul	di, ax,	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	ax, [bp+var_10]
		mov	es:[di], ax
		mov	ax, [bp+var_E]
		mov	es:[di+2], ax
		mov	al, byte ptr [bp+var_C]
		mov	es:[di+0Ah], al
		mov	al, [bp+var_A]
		xor	ah, ah
		add	ax, 4
		and	ax, 7
		shl	ax, 7
		mov	es:[di+4], ax
		mov	ax, es:[di+4]
		mov	es:[di+0Ch], ax
		mov	byte ptr es:[di+0Bh], 0
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FB0h]
		les	di, [bp+var_16]
		assume es:nothing
		mov	es:[di+10h], ax
		mov	ax, es:[di+4]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		les	di, [bp+var_16]
		mul	word ptr es:[di+10h]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		mov	es:[di+0Eh], ax
		mov	di, es:[di+4]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 20h	; ' '
		idiv	cx
		les	di, [bp+var_16]
		mul	word ptr es:[di+10h]
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		mov	es:[di+10h], ax
		mov	word ptr es:[di+14h], 0FFFFh
		mov	word ptr es:[di+8], 2
		mov	byte ptr es:[di+26h], 0
		mov	byte ptr es:[di+27h], 0
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FB4h]
		les	di, [bp+var_16]
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+24h], 0
		xor	ax, ax
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di+1Ch], ax
		xor	ax, ax
		mov	es:[di+1Ah], ax
		inc	MCount

loc_1E3C4:				; CODE XREF: LoadLevel+243j
					; LoadLevel+25Cj
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_12]
		jz	short loc_1E3CF
		jmp	loc_1E1F8
; ---------------------------------------------------------------------------

loc_1E3CF:				; CODE XREF: LoadLevel+176j
					; LoadLevel+350j
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		cmp	Monsters, 0
		jnz	short loc_1E3EA
		xor	ax, ax
		mov	MCount,	ax

loc_1E3EA:				; CODE XREF: LoadLevel+369j
		call	NextLoading
		call	ScanMap
		call	ReloadResources
		push	1
		call	InitZPositions
		mov	ax, MCount
		mov	[bp+var_12], ax
		mov	ax, 1
		cmp	ax, [bp+var_12]
		jg	short loc_1E46B
		mov	[bp+var_4], ax
		jmp	short loc_1E414
; ---------------------------------------------------------------------------

loc_1E411:				; CODE XREF: LoadLevel+3EFj
		inc	[bp+var_4]

loc_1E414:				; CODE XREF: LoadLevel+395j
		imul	di, [bp+var_4],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	byte ptr es:[di+0Bh], 0
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FF0h]
		or	ax, [di+7FF2h]
		jnz	short loc_1E444
		les	di, [bp+var_16]
		assume es:nothing
		inc	byte ptr es:[di+0Bh]

loc_1E444:				; CODE XREF: LoadLevel+3C1j
		les	di, [bp+var_16]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FF4h]
		or	ax, [di+7FF6h]
		jnz	short loc_1E463
		les	di, [bp+var_16]
		add	byte ptr es:[di+0Bh], 2

loc_1E463:				; CODE XREF: LoadLevel+3DFj
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_12]
		jnz	short loc_1E411

loc_1E46B:				; CODE XREF: LoadLevel+390j
		call	LoadFloorMap
		call	LoadProFile
		call	InitChanges
		call	StartUpProcesses
		push	0
		call	CalcDir
		xor	ax, ax
		mov	HRv, ax
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_1E493
; ---------------------------------------------------------------------------

loc_1E490:				; CODE XREF: LoadLevel+43Fj
		inc	[bp+var_4]

loc_1E493:				; CODE XREF: LoadLevel+414j
		imul	di, [bp+var_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+1Ah], ax
		xor	ax, ax
		mov	es:[di+16h], ax
		cmp	[bp+var_4], 7
		jnz	short loc_1E490
		mov	NextL, 0
		xor	ax, ax
		mov	MyDeath, ax
		mov	word ptr RandSeed, 4567h
		mov	word ptr RandSeed+2, 123h
		mov	kod, 0
		mov	Hz, 600h
		xor	ax, ax
		mov	MTime, ax
		xor	ax, ax
		mov	WeaponFTime, ax
		xor	ax, ax
		mov	WeaponPhase, ax
		xor	ax, ax
		mov	Time, ax
		mov	word_44D6C, ax
		xor	ax, ax
		mov	ZTime, ax
		mov	word_44D70, ax
		mov	OAnimate, 0
		xor	ax, ax
		mov	LoadPos, ax
		leave
		retf
LoadLevel	endp

; ---------------------------------------------------------------------------
aTooLateToSaveT	db 27,'Too late to save this game!' ; DATA XREF: SaveGame+Bo
a@_13		db 2,'@#'               ; DATA XREF: SaveGame+3Ao
aChasm		db 5,'CHASM'            ; DATA XREF: SaveGame+2Ao
a_sav		db 4,'.SAV'             ; DATA XREF: SaveGame+55o
asc_1E531	db 2,'##'               ; DATA XREF: SaveGame+87o
aLevel_9	db 5,'Level'            ; DATA XREF: SaveGame+77o
aHealth		db 10,'   health '      ; DATA XREF: SaveGame+A2o
a@_14		db 3,'@##'              ; DATA XREF: SaveGame+B2o
aGameSaved_	db 11,'Game saved.'     ; DATA XREF: SaveGame+514o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SaveGame	proc far		; CODE XREF: ProcessMenu+53AP
					; ProcessPreKeyboard+14CP

var_3B8		= byte ptr -3B8h
var_2B8		= byte ptr -2B8h
var_1B8		= byte ptr -1B8h
var_B8		= byte ptr -0B8h
var_90		= byte ptr -90h
arg_0		= word ptr  6

		enter	3B8h, 0
		cmp	word_452A2, 0
		jnz	short loc_1E56D
		mov	di, offset aTooLateToSaveT ; "Too late to save this game!"
		push	cs
		push	di
		call	PutConsMessage2
		jmp	locret_1EA73
; ---------------------------------------------------------------------------

loc_1E56D:				; CODE XREF: SaveGame+9j
		mov	ax, [bp+arg_0]
		mov	LoadSaveY, ax
		lea	di, [bp+var_90]
		push	ss
		push	di
		lea	di, [bp+var_2B8]
		push	ss
		push	di
		mov	di, offset aChasm ; "CHASM"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_1B8]
		push	ss
		push	di
		mov	di, offset a@_13 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+arg_0]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_sav ; ".SAV"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		lea	di, [bp+var_90]
		push	ss
		push	di
		push	1
		call	@Rewrite$qm4File4Word ;	Rewrite(var f: File; recsize: Word)
		lea	di, [bp+var_2B8]
		push	ss
		push	di
		mov	di, offset aLevel_9 ; "Level"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_1B8]
		push	ss
		push	di
		mov	di, offset asc_1E531 ; "##"
		push	cs
		push	di
		mov	ax, LevelN
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aHealth ; "	 health	"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_3B8]
		push	ss
		push	di
		mov	di, offset a@_14 ; "@##"
		push	cs
		push	di
		mov	ax, word_452A2
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_B8]
		push	ss
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_90]
		push	ss
		push	di
		lea	di, [bp+var_B8]
		push	ss
		push	di
		push	28h ; '('
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset ServerVersion
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, PProc
		assume es:nothing
		push	es
		push	di
		push	7A00h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, ShadowMap
		push	es
		push	di
		push	0FFFFh
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, WShadowMap
		push	es
		push	di
		push	8000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset Hx
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset Hy
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset Hz
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset HFi
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset LookVz
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset LevelN
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset Skill
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset word_452C2
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset unk_4529F
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset word_452A4
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset byte_452A1
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset unk_452A8
		push	ds
		push	di
		push	8
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset word_452A2
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset word_452C8
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset word_452CC
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset word_452CA
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset word_45288
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset takt
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset Time
		push	ds
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset BLevelDef
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset TotalKills
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset MCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset DCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset RCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset MnCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset BCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset SCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset LCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset LtCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset AmCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset MonstersList
		push	ds
		push	di
		imul	ax, MCount, 28h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset RocketList
		push	ds
		push	di
		imul	ax, RCount, 18h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset MinesList
		push	ds
		push	di
		imul	ax, MnCount, 0Ah
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, BlowsList
		push	es
		push	di
		mov	ax, BCount
		shl	ax, 4
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset SepList
		push	ds
		push	di
		imul	ax, SCount, 16h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		mov	di, offset BlowLights
		push	ds
		push	di
		imul	ax, LCount, 12h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, Lights
		push	es
		push	di
		imul	ax, LtCount, 0Ch
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, AmmoBags
		push	es
		push	di
		imul	ax, AmCount, 1Fh
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, Map
		push	es
		push	di
		push	0B000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, Flags
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, VMask
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_90]
		push	ss
		push	di
		call	@Close$qm4File	; Close(var f: File)
		call	ChI
		mov	CurTime, 1
		mov	di, offset aGameSaved_ ; "Game saved."
		push	cs
		push	di
		call	PutConsMessage2

locret_1EA73:				; CODE XREF: SaveGame+15j
		leave
		retf	2
SaveGame	endp

; ---------------------------------------------------------------------------
a@_15		db 2,'@#'               ; DATA XREF: LoadGame+2Co
aChasm_0	db 5,'CHASM'            ; DATA XREF: LoadGame+1Co
a_sav_0		db 4,'.SAV'             ; DATA XREF: LoadGame+47o
aOldSaveFileFor	db 21,'Old save file format.' ; DATA XREF: LoadGame+8Eo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadGame	proc far		; CODE XREF: PROGRAM+E5BP

var_280		= byte ptr -280h
var_180		= byte ptr -180h
var_80		= byte ptr -80h
arg_0		= word ptr  6

		enter	280h, 0
		call	InitLevelDefaults
		call	StartLoading
		call	NextLoading
		lea	di, [bp+var_80]
		push	ss
		push	di
		lea	di, [bp+var_280]
		push	ss
		push	di
		mov	di, offset aChasm_0 ; "CHASM"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_180]
		push	ss
		push	di
		mov	di, offset a@_15 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+arg_0]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_sav_0 ; ".SAV"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		lea	di, [bp+var_80]
		push	ss
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		push	0
		push	28h ; '('
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset w
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	ax, w
		cmp	ax, ServerVersion
		jz	short loc_1EB33
		mov	di, offset aOldSaveFileFor ; "Old save file format."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_1EB33:				; CODE XREF: LoadGame+8Cj
		call	NextLoading
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, PProc
		push	es
		push	di
		push	7A00h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		lea	di, [bp+var_80]
		push	ss
		push	di
		call	@FilePos$qm4File ; FilePos(var f): Longint{DX:AX}
		add	ax, 0FFFFh
		adc	dx, 0
		add	ax, 8000h
		adc	dx, 0
		push	dx
		push	ax
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset Hx
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset Hy
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset Hz
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset HFi
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset LookVz
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset LevelN
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset Skill
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset word_452C2
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset unk_4529F
		push	ds
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset word_452A4
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset byte_452A1
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset unk_452A8
		push	ds
		push	di
		push	8
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset word_452A2
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset word_452C8
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset word_452CC
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset word_452CA
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset word_45288
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset takt
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset Time
		push	ds
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset BLevelDef
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset TotalKills
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset MCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset DCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset RCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset MnCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset BCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset SCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset LCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset LtCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset AmCount
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset MonstersList
		push	ds
		push	di
		imul	ax, MCount, 28h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset RocketList
		push	ds
		push	di
		imul	ax, RCount, 18h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset MinesList
		push	ds
		push	di
		imul	ax, MnCount, 0Ah
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, BlowsList
		push	es
		push	di
		mov	ax, BCount
		shl	ax, 4
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset SepList
		push	ds
		push	di
		imul	ax, SCount, 16h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		mov	di, offset BlowLights
		push	ds
		push	di
		imul	ax, LCount, 12h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, Lights
		push	es
		push	di
		imul	ax, LtCount, 0Ch
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, AmmoBags
		push	es
		push	di
		imul	ax, AmCount, 1Fh
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, Map
		push	es
		push	di
		push	0B000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, Flags
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, VMask
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		call	@Close$qm4File	; Close(var f: File)
		call	ChI
		call	NextLoading
		push	0
		call	CalcDir
		xor	ax, ax
		mov	LCount,	ax
		xor	ax, ax
		mov	MyDeath, ax
		mov	ax, word_452C2
		mov	LastGunNumber, ax
		xor	ax, ax
		mov	word_45294, ax
		xor	ax, ax
		mov	word_4528C, ax
		xor	ax, ax
		mov	word_4528E, ax
		mov	ax, Hx
		mov	word_45284, ax
		mov	ax, Hy
		mov	word_45286, ax
		xor	ax, ax
		mov	HRv, ax
		call	ReloadResources
		push	0
		call	InitZPositions
		call	LoadFloorMap
		call	LoadProFile
		call	NextLoading
		lea	di, [bp+var_80]
		push	ss
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		push	0
		push	2Ah ; '*'
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, PProc
		push	es
		push	di
		push	7A00h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, ShadowMap
		push	es
		push	di
		push	0FFFFh
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, WShadowMap
		push	es
		push	di
		push	8000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	NextLoading
		les	di, ShadowMap
		push	es
		push	di
		les	di, ShadowMap2
		push	es
		push	di
		push	0FFFFh
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, WShadowMap
		push	es
		push	di
		les	di, WShadowMap2
		push	es
		push	di
		push	8000h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		lea	di, [bp+var_80]
		push	ss
		push	di
		call	@Close$qm4File	; Close(var f: File)
		call	ChI
		mov	CurTime, 1
		xor	ax, ax
		mov	LoadPos, ax
		leave
		retf	2
LoadGame	endp

; ---------------------------------------------------------------------------
aKillsPlayer	db 14,' KILLS PLAYER '  ; DATA XREF: ShootMe+115o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShootMe		proc far		; CODE XREF: ProcessDeathZone+314P
					; MakeBlow+16CP ...

var_10A		= byte ptr -10Ah
var_A		= dword	ptr -0Ah
var_6		= word ptr -6
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	10Ah, 0
		imul	di, [bp+arg_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		cmp	SERVER,	0
		jz	short loc_1F05F
		cmp	TeamMode, 1
		jnz	short loc_1F05F
		cmp	[bp+arg_0], 8
		jge	short loc_1F05F
		imul	di, [bp+arg_2],	58h
		mov	ax, [di-0FA0h]
		imul	di, [bp+arg_0],	58h
		cmp	ax, [di-0FA0h]
		jnz	short loc_1F05F
		jmp	locret_1F16C
; ---------------------------------------------------------------------------

loc_1F05F:				; CODE XREF: ShootMe+19j ShootMe+20j ...
		mov	ax, Skill
		inc	ax
		mul	[bp+arg_4]
		shr	ax, 1
		mov	[bp+var_6], ax
		push	5
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 6
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 3
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_6], ax
		les	di, [bp+var_A]
		assume es:nothing
		mov	al, es:[di+27h]
		xor	ah, ah
		cmp	ax, [bp+var_6]
		jl	short loc_1F0B1
		mov	al, byte ptr [bp+var_6]
		sub	es:[di+27h], al
		mov	ax, [bp+var_6]
		shr	ax, 2
		mov	[bp+var_6], ax
		jmp	short loc_1F0D6
; ---------------------------------------------------------------------------

loc_1F0B1:				; CODE XREF: ShootMe+7Bj
		les	di, [bp+var_A]
		mov	al, es:[di+27h]
		xor	ah, ah
		shr	ax, 2
		mov	cx, ax
		mov	al, es:[di+27h]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+var_6]
		sub	ax, dx
		add	ax, cx
		mov	[bp+var_6], ax
		mov	byte ptr es:[di+27h], 0

loc_1F0D6:				; CODE XREF: ShootMe+8Dj
		les	di, [bp+var_A]
		cmp	word ptr es:[di+50h], 0
		jnz	short loc_1F0E7
		mov	ax, [bp+var_6]
		sub	es:[di+28h], ax

loc_1F0E7:				; CODE XREF: ShootMe+BCj
		mov	ax, [bp+arg_2]
		cmp	ax, MyNetN
		jnz	short loc_1F0FC
		les	di, [bp+var_A]
		push	word ptr es:[di+28h]
		call	SetMePain

loc_1F0FC:				; CODE XREF: ShootMe+CCj
		les	di, [bp+var_A]
		cmp	word ptr es:[di+28h], 0
		jg	short locret_1F16C
		xor	ax, ax
		mov	es:[di+28h], ax
		cmp	[bp+arg_0], 8
		jge	short loc_1F154
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+arg_0]
		jz	short loc_1F122
		imul	di, [bp+arg_0],	58h
		inc	byte ptr [di-0FB0h]

loc_1F122:				; CODE XREF: ShootMe+F6j
		lea	di, [bp+var_10A]
		push	ss
		push	di
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Bh
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aKillsPlayer	; " KILLS PLAYER "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_A]
		add	di, 1
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage3

loc_1F154:				; CODE XREF: ShootMe+EEj
		cmp	[bp+arg_4], 64h	; 'd'
		jl	short loc_1F164
		push	[bp+arg_2]
		call	ExplodePlayer
		jmp	short locret_1F16C
; ---------------------------------------------------------------------------

loc_1F164:				; CODE XREF: ShootMe+136j
		push	[bp+arg_2]
		call	AddDeadPlayer

locret_1F16C:				; CODE XREF: ShootMe+3Aj ShootMe+E2j ...
		leave
		retf	0Ah
ShootMe		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProcessDeathZone proc near		; CODE XREF: ContinueProcess+2DAp

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		enter	6, 0
		cmp	CLIENT,	0
		jnz	short loc_1F182
		cmp	PlayDemo, 0
		jz	short loc_1F185

loc_1F182:				; CODE XREF: ProcessDeathZone+9j
		jmp	locret_1F4AA
; ---------------------------------------------------------------------------

loc_1F185:				; CODE XREF: ProcessDeathZone+10j
		cmp	[bp+arg_4], 0
		jle	short loc_1F194
		mov	ax, [bp+arg_4]
		shl	ax, 5
		mov	[bp+arg_4], ax

loc_1F194:				; CODE XREF: ProcessDeathZone+19j
		mov	ax, [bp+arg_2]
		shl	ax, 5
		mov	[bp+arg_2], ax
		mov	ax, MCount
		mov	[bp+var_2], ax
		mov	ax, 1
		cmp	ax, [bp+var_2]
		jle	short loc_1F1AE
		jmp	loc_1F36B
; ---------------------------------------------------------------------------

loc_1F1AE:				; CODE XREF: ProcessDeathZone+39j
		mov	n__0, ax
		jmp	short loc_1F1B7
; ---------------------------------------------------------------------------

loc_1F1B3:				; CODE XREF: ProcessDeathZone+1F8j
		inc	n__0

loc_1F1B7:				; CODE XREF: ProcessDeathZone+41j
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	word ptr es:[di+12h], 0
		jg	short loc_1F1D2
		jmp	loc_1F360
; ---------------------------------------------------------------------------

loc_1F1D2:				; CODE XREF: ProcessDeathZone+5Dj
		mov	ax, es:[di]
		cmp	ax, [bp+arg_C]
		jge	short loc_1F1DD
		jmp	loc_1F360
; ---------------------------------------------------------------------------

loc_1F1DD:				; CODE XREF: ProcessDeathZone+68j
		mov	ax, es:[di]
		cmp	ax, [bp+arg_8]
		jl	short loc_1F1E8
		jmp	loc_1F360
; ---------------------------------------------------------------------------

loc_1F1E8:				; CODE XREF: ProcessDeathZone+73j
		mov	ax, es:[di+2]
		cmp	ax, [bp+arg_A]
		jge	short loc_1F1F4
		jmp	loc_1F360
; ---------------------------------------------------------------------------

loc_1F1F4:				; CODE XREF: ProcessDeathZone+7Fj
		mov	ax, es:[di+2]
		cmp	ax, [bp+arg_6]
		jl	short loc_1F200
		jmp	loc_1F360
; ---------------------------------------------------------------------------

loc_1F200:				; CODE XREF: ProcessDeathZone+8Bj
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+arg_4]
		jge	short loc_1F20C
		jmp	loc_1F360
; ---------------------------------------------------------------------------

loc_1F20C:				; CODE XREF: ProcessDeathZone+97j
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+arg_2]
		jle	short loc_1F218
		jmp	loc_1F360
; ---------------------------------------------------------------------------

loc_1F218:				; CODE XREF: ProcessDeathZone+A3j
		mov	ax, [bp+arg_0]
		sub	es:[di+12h], ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+1Eh]
		push	14h
		push	5
		call	BlowSpark
		les	di, [bp+var_6]
		assume es:nothing
		push	word ptr es:[di]
		mov	ax, es:[di+2]
		sub	ax, 64h	; 'd'
		push	ax
		push	28h ; '('
		push	32h ; '2'
		push	49h ; 'I'
		push	0
		call	AddSinglePart
		les	di, [bp+var_6]
		cmp	word ptr es:[di+12h], 0
		jg	short loc_1F25B
		jmp	loc_1F2FA
; ---------------------------------------------------------------------------

loc_1F25B:				; CODE XREF: ProcessDeathZone+E6j
		cmp	word ptr es:[di+8], 9
		jnz	short loc_1F265
		jmp	loc_1F2F8
; ---------------------------------------------------------------------------

loc_1F265:				; CODE XREF: ProcessDeathZone+F0j
		cmp	word ptr es:[di+8], 0Ah
		jnz	short loc_1F26F
		jmp	loc_1F2F8
; ---------------------------------------------------------------------------

loc_1F26F:				; CODE XREF: ProcessDeathZone+FAj
		push	5
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		shr	al, 1
		jnb	short loc_1F29A
		push	0FFFFh
		les	di, [bp+var_6]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0BCh ; '¼'
		push	ax
		call	AddEvVoice
		jmp	short loc_1F2B8
; ---------------------------------------------------------------------------

loc_1F29A:				; CODE XREF: ProcessDeathZone+108j
		push	0FFFFh
		les	di, [bp+var_6]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0D2h ; 'Ò'
		push	ax
		call	AddEvVoice

loc_1F2B8:				; CODE XREF: ProcessDeathZone+128j
		les	di, [bp+var_6]
		mov	word ptr es:[di+8], 9
		mov	byte ptr es:[di+26h], 4
		xor	ax, ax
		mov	es:[di+6], ax
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 1
		jbe	short loc_1F2F8
		les	di, [bp+var_6]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di-8000h]
		or	ax, [di-7FFEh]
		jz	short loc_1F2F8
		les	di, [bp+var_6]
		mov	word ptr es:[di+8], 0Ah

loc_1F2F8:				; CODE XREF: ProcessDeathZone+F2j
					; ProcessDeathZone+FCj	...
		jmp	short loc_1F360
; ---------------------------------------------------------------------------

loc_1F2FA:				; CODE XREF: ProcessDeathZone+E8j
		les	di, [bp+var_6]
		xor	ax, ax
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+26h], 5
		mov	word ptr es:[di+8], 10h
		xor	ax, ax
		mov	es:[di+6], ax
		mov	al, es:[di+0Ah]
		cmp	al, 6Dh	; 'm'
		jz	short loc_1F320
		cmp	al, 77h	; 'w'
		jnz	short loc_1F342

loc_1F320:				; CODE XREF: ProcessDeathZone+1AAj
		les	di, [bp+var_6]
		push	word ptr es:[di]
		mov	ax, es:[di+2]
		sub	ax, 0C8h ; 'È'
		push	ax
		mov	ax, es:[di+1Eh]
		add	ax, 8C0h
		push	ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		call	AddAmmoBag

loc_1F342:				; CODE XREF: ProcessDeathZone+1AEj
		push	0FFFFh
		les	di, [bp+var_6]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0E8h ; 'è'
		push	ax
		call	AddEvVoice

loc_1F360:				; CODE XREF: ProcessDeathZone+5Fj
					; ProcessDeathZone+6Aj	...
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jz	short loc_1F36B
		jmp	loc_1F1B3
; ---------------------------------------------------------------------------

loc_1F36B:				; CODE XREF: ProcessDeathZone+3Bj
					; ProcessDeathZone+1F6j
		mov	ax, MCount
		mov	[bp+var_2], ax
		mov	ax, 1
		cmp	ax, [bp+var_2]
		jle	short loc_1F37C
		jmp	loc_1F410
; ---------------------------------------------------------------------------

loc_1F37C:				; CODE XREF: ProcessDeathZone+207j
		mov	n__0, ax
		jmp	short loc_1F385
; ---------------------------------------------------------------------------

loc_1F381:				; CODE XREF: ProcessDeathZone+29Dj
		inc	n__0

loc_1F385:				; CODE XREF: ProcessDeathZone+20Fj
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	byte ptr es:[di+0Ah], 78h ; 'x'
		jnb	short loc_1F405
		cmp	word ptr es:[di+12h], 0
		jnz	short loc_1F405
		cmp	byte ptr es:[di+0Bh], 0FFh
		jz	short loc_1F405
		mov	ax, es:[di]
		cmp	ax, [bp+arg_C]
		jl	short loc_1F405
		mov	ax, es:[di]
		cmp	ax, [bp+arg_8]
		jge	short loc_1F405
		mov	ax, es:[di+2]
		cmp	ax, [bp+arg_A]
		jl	short loc_1F405
		mov	ax, es:[di+2]
		cmp	ax, [bp+arg_6]
		jge	short loc_1F405
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+arg_4]
		jl	short loc_1F405
		mov	ax, es:[di+1Eh]
		cmp	ax, [bp+arg_2]
		jg	short loc_1F405
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+1Eh]
		call	ExplodeMonster
		les	di, [bp+var_6]
		assume es:nothing
		mov	byte ptr es:[di+0Bh], 0FFh

loc_1F405:				; CODE XREF: ProcessDeathZone+22Bj
					; ProcessDeathZone+232j ...
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jz	short loc_1F410
		jmp	loc_1F381
; ---------------------------------------------------------------------------

loc_1F410:				; CODE XREF: ProcessDeathZone+209j
					; ProcessDeathZone+29Bj
		cmp	[bp+arg_4], 0
		jge	short loc_1F419
		jmp	locret_1F4AA
; ---------------------------------------------------------------------------

loc_1F419:				; CODE XREF: ProcessDeathZone+2A4j
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_1F424
; ---------------------------------------------------------------------------

loc_1F420:				; CODE XREF: ProcessDeathZone+337j
		inc	n__0

loc_1F424:				; CODE XREF: ProcessDeathZone+2AEj
		imul	di, n__0, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_1F4A0
		mov	ax, es:[di+0Ah]
		cmp	ax, [bp+arg_C]
		jl	short loc_1F4A0
		mov	ax, es:[di+0Ah]
		cmp	ax, [bp+arg_8]
		jge	short loc_1F4A0
		mov	ax, es:[di+0Ch]
		cmp	ax, [bp+arg_A]
		jl	short loc_1F4A0
		mov	ax, es:[di+0Ch]
		cmp	ax, [bp+arg_6]
		jge	short loc_1F4A0
		mov	ax, es:[di+0Eh]
		cmp	ax, [bp+arg_4]
		jl	short loc_1F4A0
		mov	ax, es:[di+0Eh]
		cmp	ax, [bp+arg_2]
		jg	short loc_1F4A0
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	[bp+arg_0]
		push	n__0
		push	0C8h ; 'È'
		call	ShootMe
		les	di, [bp+var_6+2]
		assume es:nothing
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	640h
		push	14h
		push	5
		call	BlowSpark

loc_1F4A0:				; CODE XREF: ProcessDeathZone+2CAj
					; ProcessDeathZone+2D3j ...
		cmp	n__0, 7
		jz	short locret_1F4AA
		jmp	loc_1F420
; ---------------------------------------------------------------------------

locret_1F4AA:				; CODE XREF: ProcessDeathZone:loc_1F182j
					; ProcessDeathZone+2A6j ...
		leave
		retn	0Eh
ProcessDeathZone endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetProcMessage	proc far		; CODE XREF: ExecuteEvent+26EP
					; StartProcess+8FP ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		cmp	[bp+arg_2], 0FFFFh
		jnz	short loc_1F4B9
		jmp	short locret_1F523
; ---------------------------------------------------------------------------

loc_1F4B9:				; CODE XREF: SetProcMessage+7j
		cmp	SERVER,	0
		jnz	short loc_1F4C7
		cmp	RecordDemo, 0
		jz	short loc_1F4DB

loc_1F4C7:				; CODE XREF: SetProcMessage+10j
		push	6Dh ; 'm'
		mov	al, byte ptr [bp+arg_2]
		push	ax
		push	[bp+arg_0]
		push	0
		push	0
		push	0
		call	AddEvent

loc_1F4DB:				; CODE XREF: SetProcMessage+17j
		cmp	[bp+arg_0], 0FFFFh
		jz	short loc_1F4EC
		mov	ax, [bp+arg_0]
		cmp	ax, MyNetN
		jz	short loc_1F4EC
		jmp	short locret_1F523
; ---------------------------------------------------------------------------

loc_1F4EC:				; CODE XREF: SetProcMessage+31j
					; SetProcMessage+3Aj
		cmp	word_45674, 0
		jle	short loc_1F4FD
		mov	ax, ProcMessage
		cmp	ax, [bp+arg_2]
		jnz	short loc_1F4FD
		jmp	short locret_1F523
; ---------------------------------------------------------------------------

loc_1F4FD:				; CODE XREF: SetProcMessage+43j
					; SetProcMessage+4Bj
		imul	ax, [bp+arg_2],	17Ch
		les	di, PMList
		add	di, ax
		mov	ax, es:[di+17Ah]
		mov	word_45674, ax
		mov	ax, [bp+arg_2]
		mov	ProcMessage, ax
		push	0FFFFh
		push	0
		push	0
		push	3Dh ; '='
		call	AddVoice

locret_1F523:				; CODE XREF: SetProcMessage+9j
					; SetProcMessage+3Cj ...
		leave
		retf	4
SetProcMessage	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StartProcess	proc far		; CODE XREF: CorrectProcesses+ADP
					; AnimateSwitches+BDP ...

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	10h, 0
		imul	ax, [bp+arg_2],	1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	byte ptr es:[di+1], 0
		jz	short loc_1F546
		jmp	locret_1F8CE
; ---------------------------------------------------------------------------

loc_1F546:				; CODE XREF: StartProcess+1Aj
		cmp	CLIENT,	0
		jnz	short loc_1F55B
		cmp	PlayDemo, 0
		jnz	short loc_1F55B
		cmp	SERVER,	0
		jz	short loc_1F563

loc_1F55B:				; CODE XREF: StartProcess+24j
					; StartProcess+2Bj
		les	di, [bp+var_6]
		mov	byte ptr es:[di+2], 0

loc_1F563:				; CODE XREF: StartProcess+32j
		les	di, [bp+var_6]
		cmp	byte ptr es:[di+2], 0Ah
		jnb	short loc_1F59E
		cmp	[bp+arg_0], 0
		jl	short loc_1F59E
		cmp	[bp+arg_0], 8
		jge	short loc_1F59E
		mov	al, es:[di+2]
		dec	al
		xor	ah, ah
		mov	dx, ax
		mov	ax, 10h
		mov	cx, dx
		shl	ax, cl
		imul	di, [bp+arg_0],	58h
		and	ax, [di-0FACh]
		or	ax, ax
		jbe	short loc_1F59E
		les	di, [bp+var_6]
		mov	byte ptr es:[di+2], 0

loc_1F59E:				; CODE XREF: StartProcess+44j
					; StartProcess+4Aj ...
		les	di, [bp+var_6]
		cmp	byte ptr es:[di+2], 0
		jbe	short loc_1F5BE
		cmp	word ptr es:[di+14h], 0FFFFh
		jz	short loc_1F5BB
		push	word ptr es:[di+14h]
		push	[bp+arg_0]
		call	SetProcMessage

loc_1F5BB:				; CODE XREF: StartProcess+86j
		jmp	locret_1F8CE
; ---------------------------------------------------------------------------

loc_1F5BE:				; CODE XREF: StartProcess+7Fj
		cmp	RecordDemo, 0
		jz	short loc_1F5D9
		push	61h ; 'a'
		mov	al, byte ptr [bp+arg_2]
		push	ax
		push	[bp+arg_0]
		push	0
		push	0
		push	0
		call	AddEvent

loc_1F5D9:				; CODE XREF: StartProcess+9Cj
		imul	ax, [bp+arg_2],	1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	CLIENT,	0
		jnz	short loc_1F60D
		cmp	word ptr es:[di+10h], 0FFFFh
		jz	short loc_1F60D
		push	word ptr es:[di+10h]
		push	[bp+arg_0]
		call	SetProcMessage
		les	di, [bp+var_6]
		mov	word ptr es:[di+10h], 0FFFFh

loc_1F60D:				; CODE XREF: StartProcess+C8j
					; StartProcess+CFj
		cmp	CLIENT,	0
		jnz	short loc_1F62A
		les	di, [bp+var_6]
		cmp	word ptr es:[di+12h], 0FFFFh
		jz	short loc_1F62A
		push	word ptr es:[di+12h]
		push	[bp+arg_0]
		call	SetProcMessage

loc_1F62A:				; CODE XREF: StartProcess+EBj
					; StartProcess+F5j
		les	di, [bp+var_6]
		mov	word ptr es:[di+26h], 1
		mov	byte ptr es:[di+1], 1
		mov	ax, es:[di+8]
		mov	es:[di+24h], ax
		cmp	word ptr es:[di+24h], 0
		jnz	short loc_1F64D
		mov	word ptr es:[di+24h], 1

loc_1F64D:				; CODE XREF: StartProcess+11Ej
		cmp	CLIENT,	0
		jnz	short loc_1F696
		cmp	SERVER,	0
		jnz	short loc_1F696
		les	di, [bp+var_6]
		cmp	word ptr es:[di+1Eh], 0
		jle	short loc_1F696
		cmp	EndDelay, 0
		jnz	short loc_1F696
		cmp	word ptr es:[di+1Eh], 71Ch
		jz	short loc_1F67D
		mov	ax, es:[di+1Eh]
		mov	EndDelay, ax
		jmp	short loc_1F688
; ---------------------------------------------------------------------------

loc_1F67D:				; CODE XREF: StartProcess+14Bj
		mov	BShadeLev, 34h ; '4'
		mov	EndOfTheGame, 1

loc_1F688:				; CODE XREF: StartProcess+154j
		les	di, [bp+var_6]
		push	word ptr es:[di+12h]
		push	0FFFFh
		call	SetProcMessage

loc_1F696:				; CODE XREF: StartProcess+12Bj
					; StartProcess+132j ...
		les	di, [bp+var_6]
		cmp	word ptr es:[di+20h], 0
		jg	short loc_1F6A3
		jmp	locret_1F8CE
; ---------------------------------------------------------------------------

loc_1F6A3:				; CODE XREF: StartProcess+177j
		mov	ax, es:[di+20h]
		dec	ax
		mov	[bp+var_8], ax
		xor	ax, ax
		cmp	ax, [bp+var_8]
		jle	short loc_1F6B5
		jmp	locret_1F8CE
; ---------------------------------------------------------------------------

loc_1F6B5:				; CODE XREF: StartProcess+189j
		mov	[bp+var_2], ax
		jmp	short loc_1F6BD
; ---------------------------------------------------------------------------

loc_1F6BA:				; CODE XREF: StartProcess+3A4j
		inc	[bp+var_2]

loc_1F6BD:				; CODE XREF: StartProcess+191j
		imul	ax, [bp+var_2],	1Bh
		les	di, [bp+var_6]
		add	di, ax
		add	di, 38h	; '8'
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	al, es:[di]
		cmp	al, 73h	; 's'
		jnz	short loc_1F6EC
		push	word ptr es:[di+13h]
		push	1
		call	Max
		les	di, [bp+var_C]
		mov	es:[di+15h], ax
		jmp	loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F6EC:				; CODE XREF: StartProcess+1AEj
		cmp	al, 78h	; 'x'
		jz	short loc_1F6F8
		cmp	al, 79h	; 'y'
		jz	short loc_1F6F8
		cmp	al, 6Dh	; 'm'
		jnz	short loc_1F75A

loc_1F6F8:				; CODE XREF: StartProcess+1C7j
					; StartProcess+1CBj
		les	di, [bp+var_C]
		xor	ax, ax
		mov	es:[di+0Bh], ax
		xor	ax, ax
		mov	es:[di+0Dh], ax
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		mov	ax, es:[di+3]
		les	di, [bp+var_C]
		mov	es:[di+13h], ax
		les	di, [bp+var_10]
		mov	ax, es:[di+5]
		les	di, [bp+var_C]
		mov	es:[di+15h], ax
		les	di, [bp+var_10]
		mov	ax, es:[di+7]
		les	di, [bp+var_C]
		mov	es:[di+17h], ax
		les	di, [bp+var_10]
		mov	ax, es:[di+9]
		les	di, [bp+var_C]
		mov	es:[di+19h], ax
		jmp	loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F75A:				; CODE XREF: StartProcess+1CFj
		cmp	al, 61h	; 'a'
		jnz	short loc_1F7B3
		les	di, [bp+var_C]
		mov	ax, es:[di+17h]
		mov	word ptr [bp+var_10+2],	ax
		mov	ax, es:[di+13h]
		cmp	ax, word ptr [bp+var_10+2]
		jg	short loc_1F7B0
		mov	i, ax
		jmp	short loc_1F77A
; ---------------------------------------------------------------------------

loc_1F776:				; CODE XREF: StartProcess+287j
		inc	i

loc_1F77A:				; CODE XREF: StartProcess+24Dj
		les	di, [bp+var_C]
		mov	dx, es:[di+15h]
		mov	ax, i
		shl	ax, 6
		les	di, AmbMap
		add	di, ax
		add	di, dx
		push	es
		push	di
		les	di, [bp+var_C]
		mov	ax, es:[di+19h]
		sub	ax, es:[di+15h]
		inc	ax
		push	ax
		mov	al, es:[di+5]
		push	ax
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	ax, i
		cmp	ax, word ptr [bp+var_10+2]
		jnz	short loc_1F776

loc_1F7B0:				; CODE XREF: StartProcess+248j
		jmp	loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F7B3:				; CODE XREF: StartProcess+235j
		cmp	al, 55h	; 'U'
		jnz	short loc_1F7CE
		les	di, [bp+var_C]
		imul	ax, es:[di+1], 1E8h
		les	di, PProc
		add	di, ax
		mov	byte ptr es:[di+2], 0
		jmp	loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F7CE:				; CODE XREF: StartProcess+28Ej
		cmp	al, 4Ch	; 'L'
		jnz	short loc_1F7E9
		les	di, [bp+var_C]
		imul	ax, es:[di+1], 1E8h
		les	di, PProc
		add	di, ax
		mov	byte ptr es:[di+2], 0FFh
		jmp	loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F7E9:				; CODE XREF: StartProcess+2A9j
		cmp	al, 75h	; 'u'
		jnz	short loc_1F81A
		les	di, [bp+var_C]
		xor	ax, ax
		mov	es:[di+0Bh], ax
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_C]
		mov	es:[di+0Fh], ax
		jmp	loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F81A:				; CODE XREF: StartProcess+2C4j
		cmp	al, 6Ch	; 'l'
		jnz	short loc_1F82C
		les	di, [bp+var_C]
		mov	ax, es:[di+5]
		mov	es:[di+7], ax
		jmp	loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F82C:				; CODE XREF: StartProcess+2F5j
		cmp	al, 63h	; 'c'
		jnz	short loc_1F856
		les	di, [bp+var_C]
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_C]
		mov	es:[di+7], ax
		jmp	short loc_1F8C3
; ---------------------------------------------------------------------------

loc_1F856:				; CODE XREF: StartProcess+307j
		cmp	al, 72h	; 'r'
		jnz	short loc_1F8C3
		les	di, [bp+var_C]
		xor	ax, ax
		mov	es:[di+0Fh], ax
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		mov	ax, es:[di+3]
		les	di, [bp+var_C]
		sub	ax, es:[di+5]
		mov	es:[di+13h], ax
		les	di, [bp+var_10]
		mov	ax, es:[di+5]
		les	di, [bp+var_C]
		sub	ax, es:[di+7]
		mov	es:[di+15h], ax
		les	di, [bp+var_10]
		mov	ax, es:[di+7]
		les	di, [bp+var_C]
		sub	ax, es:[di+5]
		mov	es:[di+17h], ax
		les	di, [bp+var_10]
		mov	ax, es:[di+9]
		les	di, [bp+var_C]
		sub	ax, es:[di+7]
		mov	es:[di+19h], ax

loc_1F8C3:				; CODE XREF: StartProcess+1C2j
					; StartProcess+230j ...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jz	short locret_1F8CE
		jmp	loc_1F6BA
; ---------------------------------------------------------------------------

locret_1F8CE:				; CODE XREF: StartProcess+1Cj
					; StartProcess:loc_1F5BBj ...
		leave
		retf	4
StartProcess	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckConflict	proc near		; CODE XREF: CheckLifePoint+86p
					; CheckLifePoint+ECp ...

var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	10h, 0
		mov	[bp+var_1], 0
		imul	ax, [bp+arg_4],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_6],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		mov	al, es:[di]
		cmp	al, 56h	; 'V'
		jb	short loc_1F929
		cmp	al, 77h	; 'w'
		ja	short loc_1F929
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 1
		or	al, al
		jnz	short loc_1F926
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_6]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 54h ;	'T'
		jbe	short loc_1F929

loc_1F926:				; CODE XREF: CheckConflict+3Bj
		jmp	loc_1F9EC
; ---------------------------------------------------------------------------

loc_1F929:				; CODE XREF: CheckConflict+26j
					; CheckConflict+2Aj ...
		les	di, [bp+var_10]
		mov	al, es:[di]
		cmp	al, 1
		jb	short loc_1F982
		cmp	al, 78h	; 'x'
		ja	short loc_1F982
		push	word ptr es:[di+3]
		push	word ptr es:[di+7]
		call	Min
		mov	[bp+var_6], ax
		les	di, [bp+var_10]
		push	word ptr es:[di+3]
		push	word ptr es:[di+7]
		call	Max
		mov	[bp+var_A], ax
		les	di, [bp+var_10]
		push	word ptr es:[di+5]
		push	word ptr es:[di+9]
		call	Min
		mov	[bp+var_8], ax
		les	di, [bp+var_10]
		push	word ptr es:[di+5]
		push	word ptr es:[di+9]
		call	Max
		mov	[bp+var_C], ax
		jmp	short loc_1F984
; ---------------------------------------------------------------------------

loc_1F982:				; CODE XREF: CheckConflict+5Fj
					; CheckConflict+63j
		jmp	short loc_1F9EC
; ---------------------------------------------------------------------------

loc_1F984:				; CODE XREF: CheckConflict+AEj
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_A]
		jnz	short loc_1F9B8
		mov	ax, [bp+var_8]
		sub	ax, [bp+arg_0]
		cmp	ax, cfy
		jge	short loc_1F9B8
		mov	ax, [bp+var_C]
		add	ax, [bp+arg_0]
		cmp	ax, cfy
		jle	short loc_1F9B8
		mov	ax, cfx
		sub	ax, [bp+var_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+arg_2]
		jge	short loc_1F9B8
		mov	[bp+var_1], 1

loc_1F9B8:				; CODE XREF: CheckConflict+B8j
					; CheckConflict+C4j ...
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_C]
		jnz	short loc_1F9EC
		mov	ax, [bp+var_6]
		sub	ax, [bp+arg_0]
		cmp	ax, cfx
		jge	short loc_1F9EC
		mov	ax, [bp+var_A]
		add	ax, [bp+arg_0]
		cmp	ax, cfx
		jle	short loc_1F9EC
		mov	ax, cfy
		sub	ax, [bp+var_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+arg_2]
		jge	short loc_1F9EC
		mov	[bp+var_1], 1

loc_1F9EC:				; CODE XREF: CheckConflict:loc_1F926j
					; CheckConflict:loc_1F982j ...
		mov	al, [bp+var_1]
		leave
		retn	8
CheckConflict	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckLifePoint	proc near		; CODE XREF: LifeConflict+4Bp

var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_B		= byte ptr -0Bh
var_A		= word ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	16h, 0
		mov	ax, [bp+arg_2]
		mov	cfx, ax
		mov	ax, [bp+arg_0]
		mov	cfy, ax
		mov	[bp+var_1], 0
		mov	[bp+var_B], 0
		imul	ax, [bp+arg_4],	1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		cmp	word ptr es:[di+20h], 0
		jle	short loc_1FA91
		mov	ax, es:[di+20h]
		dec	ax
		mov	[bp+var_12], ax
		xor	ax, ax
		cmp	ax, [bp+var_12]
		jg	short loc_1FA91
		mov	[bp+var_A], ax
		jmp	short loc_1FA3A
; ---------------------------------------------------------------------------

loc_1FA37:				; CODE XREF: CheckLifePoint+9Cj
		inc	[bp+var_A]

loc_1FA3A:				; CODE XREF: CheckLifePoint+42j
		imul	ax, [bp+var_A],	1Bh
		les	di, [bp+var_10]
		add	di, ax
		add	di, 38h	; '8'
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	al, es:[di]
		cmp	al, 6Dh	; 'm'
		jz	short loc_1FA64
		cmp	al, 72h	; 'r'
		jz	short loc_1FA64
		cmp	al, 75h	; 'u'
		jz	short loc_1FA64
		cmp	al, 78h	; 'x'
		jb	short loc_1FA89
		cmp	al, 79h	; 'y'
		ja	short loc_1FA89

loc_1FA64:				; CODE XREF: CheckLifePoint+5Fj
					; CheckLifePoint+63j ...
		cmp	[bp+var_B], 0
		jnz	short loc_1FA84
		les	di, [bp+var_16]
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		push	70h ; 'p'
		push	14h
		call	CheckConflict
		or	al, al
		jnz	short loc_1FA84
		mov	al, 0
		jmp	short loc_1FA86
; ---------------------------------------------------------------------------

loc_1FA84:				; CODE XREF: CheckLifePoint+75j
					; CheckLifePoint+8Bj
		mov	al, 1

loc_1FA86:				; CODE XREF: CheckLifePoint+8Fj
		mov	[bp+var_B], al

loc_1FA89:				; CODE XREF: CheckLifePoint+6Bj
					; CheckLifePoint+6Fj
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_12]
		jnz	short loc_1FA37

loc_1FA91:				; CODE XREF: CheckLifePoint+2Ej
					; CheckLifePoint+3Dj
		cmp	[bp+var_B], 0
		jnz	short loc_1FA99
		jmp	short loc_1FAFC
; ---------------------------------------------------------------------------

loc_1FA99:				; CODE XREF: CheckLifePoint+A2j
		mov	al, byte ptr cfx+1
		xor	ah, ah
		inc	ax
		inc	ax
		mov	word ptr [bp+var_10+2],	ax
		mov	al, byte ptr cfx+1
		xor	ah, ah
		dec	ax
		dec	ax
		cmp	ax, word ptr [bp+var_10+2]
		jg	short loc_1FAFC
		mov	[bp+var_4], ax
		jmp	short loc_1FAB7
; ---------------------------------------------------------------------------

loc_1FAB4:				; CODE XREF: CheckLifePoint+107j
		inc	[bp+var_4]

loc_1FAB7:				; CODE XREF: CheckLifePoint+BFj
		mov	al, byte ptr cfy+1
		xor	ah, ah
		inc	ax
		inc	ax
		mov	word ptr [bp+var_10], ax
		mov	al, byte ptr cfy+1
		xor	ah, ah
		dec	ax
		dec	ax
		cmp	ax, word ptr [bp+var_10]
		jg	short loc_1FAF4
		mov	[bp+var_6], ax
		jmp	short loc_1FAD5
; ---------------------------------------------------------------------------

loc_1FAD2:				; CODE XREF: CheckLifePoint+FFj
		inc	[bp+var_6]

loc_1FAD5:				; CODE XREF: CheckLifePoint+DDj
		push	[bp+var_4]
		push	[bp+var_6]
		push	4Ah ; 'J'
		push	14h
		call	CheckConflict
		or	al, al
		jz	short loc_1FAEC
		mov	[bp+var_1], 1
		jmp	short loc_1FAFC
; ---------------------------------------------------------------------------

loc_1FAEC:				; CODE XREF: CheckLifePoint+F1j
		mov	ax, [bp+var_6]
		cmp	ax, word ptr [bp+var_10]
		jnz	short loc_1FAD2

loc_1FAF4:				; CODE XREF: CheckLifePoint+D8j
		mov	ax, [bp+var_4]
		cmp	ax, word ptr [bp+var_10+2]
		jnz	short loc_1FAB4

loc_1FAFC:				; CODE XREF: CheckLifePoint+A4j
					; CheckLifePoint+BAj ...
		mov	al, [bp+var_1]
		leave
		retn	6
CheckLifePoint	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LifeConflict	proc near		; CODE XREF: ContinueProcess+22p

var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  4

		enter	16h, 0
		imul	ax, [bp+arg_0],	1E8h
		les	di, PProc
		add	di, ax
		cmp	word ptr es:[di+20h], 0
		jnz	short loc_1FB1C
		jmp	loc_1FD25
; ---------------------------------------------------------------------------

loc_1FB1C:				; CODE XREF: LifeConflict+14j
		mov	[bp+var_1], 0
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_1FB2A
; ---------------------------------------------------------------------------

loc_1FB27:				; CODE XREF: LifeConflict+D2j
		inc	[bp+var_6]

loc_1FB2A:				; CODE XREF: LifeConflict+22j
		imul	di, [bp+var_6],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C+2], di
		mov	[bp+var_8], es
		cmp	byte ptr es:[di], 0
		jnz	short loc_1FB43
		jmp	loc_1FBCF
; ---------------------------------------------------------------------------

loc_1FB43:				; CODE XREF: LifeConflict+3Bj
		push	[bp+arg_0]
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		call	CheckLifePoint
		or	al, al
		jz	short loc_1FBCF
		cmp	MortalTick, 0
		jz	short loc_1FBC8
		les	di, [bp+var_C+2]
		assume es:nothing
		cmp	word ptr es:[di+28h], 0
		jle	short loc_1FBC8
		cmp	CLIENT,	0
		jnz	short loc_1FBC8
		cmp	PlayDemo, 0
		jnz	short loc_1FBC8
		imul	ax, [bp+arg_0],	1E8h
		les	di, PProc
		add	di, ax
		cmp	byte ptr es:[di+4], 0
		jz	short loc_1FBC8
		mov	ax, Time
		mov	dx, word_44D6C
		and	ax, 7
		and	dx, 0
		add	ax, 28h	; '('
		adc	dx, 0
		les	di, [bp+var_C+2]
		sub	es:[di+28h], ax
		cmp	[bp+var_6], 0
		jnz	short loc_1FBB0
		push	word ptr es:[di+28h]
		call	SetMePain

loc_1FBB0:				; CODE XREF: LifeConflict+A2j
		les	di, [bp+var_C+2]
		cmp	word ptr es:[di+28h], 0
		jg	short loc_1FBC8
		xor	ax, ax
		mov	es:[di+28h], ax
		push	[bp+var_6]
		call	AddDeadPlayer

loc_1FBC8:				; CODE XREF: LifeConflict+57j
					; LifeConflict+61j ...
		mov	[bp+var_1], 1
		jmp	loc_1FD25
; ---------------------------------------------------------------------------

loc_1FBCF:				; CODE XREF: LifeConflict+3Dj
					; LifeConflict+50j
		cmp	[bp+var_6], 7
		jz	short loc_1FBD8
		jmp	loc_1FB27
; ---------------------------------------------------------------------------

loc_1FBD8:				; CODE XREF: LifeConflict+D0j
		mov	ax, MCount
		mov	[bp+var_8], ax
		mov	ax, 1
		cmp	ax, [bp+var_8]
		jle	short loc_1FBE9
		jmp	loc_1FD25
; ---------------------------------------------------------------------------

loc_1FBE9:				; CODE XREF: LifeConflict+E1j
		mov	[bp+var_6], ax
		jmp	short loc_1FBF1
; ---------------------------------------------------------------------------

loc_1FBEE:				; CODE XREF: LifeConflict+21Fj
		inc	[bp+var_6]

loc_1FBF1:				; CODE XREF: LifeConflict+E9j
		imul	di, [bp+var_6],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		cmp	word ptr es:[di+12h], 0
		jg	short loc_1FC0B
		jmp	loc_1FD1A
; ---------------------------------------------------------------------------

loc_1FC0B:				; CODE XREF: LifeConflict+103j
		mov	ax, es:[di]
		mov	cfx, ax
		mov	ax, es:[di+2]
		mov	cfy, ax
		imul	ax, [bp+arg_0],	1E8h
		les	di, PProc
		assume es:nothing
		add	di, ax
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		cmp	word ptr es:[di+20h], 0
		jg	short loc_1FC33
		jmp	loc_1FD1A
; ---------------------------------------------------------------------------

loc_1FC33:				; CODE XREF: LifeConflict+12Bj
		mov	ax, es:[di+20h]
		dec	ax
		mov	[bp+var_12], ax
		xor	ax, ax
		cmp	ax, [bp+var_12]
		jle	short loc_1FC45
		jmp	loc_1FD1A
; ---------------------------------------------------------------------------

loc_1FC45:				; CODE XREF: LifeConflict+13Dj
		mov	[bp+var_4], ax
		jmp	short loc_1FC4D
; ---------------------------------------------------------------------------

loc_1FC4A:				; CODE XREF: LifeConflict+214j
		inc	[bp+var_4]

loc_1FC4D:				; CODE XREF: LifeConflict+145j
		imul	ax, [bp+var_4],	1Bh
		les	di, [bp+var_10]
		add	di, ax
		add	di, 38h	; '8'
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	al, es:[di]
		cmp	al, 6Dh	; 'm'
		jz	short loc_1FC7D
		cmp	al, 72h	; 'r'
		jz	short loc_1FC7D
		cmp	al, 75h	; 'u'
		jz	short loc_1FC7D
		cmp	al, 78h	; 'x'
		jnb	short loc_1FC76
		jmp	loc_1FD0F
; ---------------------------------------------------------------------------

loc_1FC76:				; CODE XREF: LifeConflict+16Ej
		cmp	al, 79h	; 'y'
		jbe	short loc_1FC7D
		jmp	loc_1FD0F
; ---------------------------------------------------------------------------

loc_1FC7D:				; CODE XREF: LifeConflict+162j
					; LifeConflict+166j ...
		les	di, [bp+var_16]
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		push	28h ; '('
		push	28h ; '('
		call	CheckConflict
		or	al, al
		jz	short loc_1FD0F
		les	di, [bp+var_10]
		mov	byte ptr es:[di+1], 1
		xor	ax, ax
		mov	es:[di+24h], ax
		mov	[bp+var_1], 1
		cmp	CLIENT,	0
		jnz	short loc_1FD0F
		cmp	PlayDemo, 0
		jnz	short loc_1FD0F
		cmp	byte ptr es:[di+4], 0
		jz	short loc_1FD0F
		les	di, [bp+var_C]
		cmp	byte ptr es:[di+26h], 1
		jnz	short loc_1FCE9
		mov	byte ptr es:[di+26h], 4
		mov	word ptr es:[di+8], 9
		xor	ax, ax
		mov	es:[di+6], ax
		push	cfx
		push	cfy
		push	400h
		push	10h
		push	5
		call	BlowSpark

loc_1FCE9:				; CODE XREF: LifeConflict+1BFj
		mov	ax, t1
		shl	ax, 2
		les	di, [bp+var_C]
		sub	es:[di+12h], ax
		cmp	word ptr es:[di+12h], 0
		jg	short loc_1FD0F
		cmp	byte ptr es:[di+26h], 5
		jz	short loc_1FD0F
		xor	ax, ax
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+26h], 5

loc_1FD0F:				; CODE XREF: LifeConflict+170j
					; LifeConflict+177j ...
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_12]
		jz	short loc_1FD1A
		jmp	loc_1FC4A
; ---------------------------------------------------------------------------

loc_1FD1A:				; CODE XREF: LifeConflict+105j
					; LifeConflict+12Dj ...
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_8]
		jz	short loc_1FD25
		jmp	loc_1FBEE
; ---------------------------------------------------------------------------

loc_1FD25:				; CODE XREF: LifeConflict+16j
					; LifeConflict+C9j ...
		mov	al, [bp+var_1]
		leave
		retn	2
LifeConflict	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RemapWall	proc near		; CODE XREF: ContinueProcess+629p
					; ContinueProcess+D59p	...

var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	10h, 0
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_10], di
		mov	word ptr [bp+var_10+2],	es
		cmp	byte ptr es:[di], 78h ;	'x'
		jbe	short loc_1FD54
		jmp	locret_1FE6E
; ---------------------------------------------------------------------------
		db 0EBh	; ë
		db  33h	; 3
; ---------------------------------------------------------------------------

loc_1FD54:				; CODE XREF: RemapWall+21j
		les	di, [bp+var_10]
		mov	ax, es:[di+7]
		mov	[bp+var_4], ax
		mov	ax, es:[di+9]
		mov	[bp+var_6], ax
		mov	ax, es:[di+3]
		sub	ax, es:[di+7]
		cwd
		mov	cx, 8
		idiv	cx
		mov	[bp+var_8], ax
		mov	ax, es:[di+5]
		sub	ax, es:[di+9]
		cwd
		mov	cx, 8
		idiv	cx
		mov	[bp+var_A], ax
		mov	ax, [bp+var_8]
		cwd
		mov	cx, 2
		idiv	cx
		add	[bp+var_4], ax
		mov	ax, [bp+var_A]
		cwd
		mov	cx, 2
		idiv	cx
		add	[bp+var_6], ax
		mov	ax, [bp+arg_2]
		shl	ax, 3
		mov	dx, ax
		mov	ax, [bp+arg_0]
		shl	ax, 9
		add	ax, dx
		mov	[bp+var_C], ax
		mov	cx, 8
		mov	si, [bp+var_C]

loc_1FDB8:				; CODE XREF: RemapWall+13Fj
		mov	ax, ShadowSeg2
		mov	es, ax
		xor	bx, bx
		mov	ax, [bp+var_6]
		add	ax, 0Ch
		shr	ax, 6
		shl	ax, 8
		mov	di, [bp+var_4]
		add	di, 0Ch
		shr	di, 6
		add	di, ax
		mov	bl, es:[di]
		mov	ax, [bp+var_6]
		add	ax, 34h	; '4'
		shr	ax, 6
		shl	ax, 8
		mov	di, [bp+var_4]
		add	di, 0Ch
		shr	di, 6
		add	di, ax
		add	bl, es:[di]
		mov	ax, [bp+var_6]
		add	ax, 0Ch
		shr	ax, 6
		shl	ax, 8
		mov	di, [bp+var_4]
		add	di, 34h	; '4'
		shr	di, 6
		add	di, ax
		add	bl, es:[di]
		mov	ax, [bp+var_6]
		add	ax, 34h	; '4'
		shr	ax, 6
		shl	ax, 8
		mov	di, [bp+var_4]
		add	di, 34h	; '4'
		shr	di, 6
		add	di, ax
		add	bl, es:[di]
		mov	ax, [bp+var_6]
		add	ax, 20h	; ' '
		shr	ax, 6
		shl	ax, 8
		mov	di, [bp+var_4]
		add	di, 20h	; ' '
		shr	di, 6
		add	di, ax
		xor	ah, ah
		mov	al, es:[di]
		shl	ax, 2
		add	bx, ax
		shr	bx, 3
		mov	ax, WShadowSeg
		mov	es, ax
		mov	es:[si], bl
		mov	ax, WShadowSeg2
		mov	es, ax
		mov	es:[si], bl
		mov	ax, [bp+var_8]
		add	[bp+var_4], ax
		mov	ax, [bp+var_A]
		add	[bp+var_6], ax
		inc	si
		dec	cx
		jz	short locret_1FE6E
		jmp	loc_1FDB8
; ---------------------------------------------------------------------------

locret_1FE6E:				; CODE XREF: RemapWall+23j
					; RemapWall+13Dj
		leave
		retn	4
RemapWall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ContinueProcess	proc near		; CODE XREF: AnimateProcesses+A9p
					; AnimateProcesses+B5p

var_2E		= dword	ptr -2Eh
var_2A		= dword	ptr -2Ah
var_26		= word ptr -26h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= word ptr -1Ch
var_1A		= dword	ptr -1Ah
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_9		= byte ptr -9
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	2Eh, 0
		imul	ax, [bp+arg_0],	1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		mov	al, es:[di+1]
		cmp	al, es:[di+3]
		jnz	short loc_1FE9E
		push	[bp+arg_0]
		call	LifeConflict
		or	al, al
		jz	short loc_1FE9E
		jmp	locret_20DCE
; ---------------------------------------------------------------------------

loc_1FE9E:				; CODE XREF: ContinueProcess+1Dj
					; ContinueProcess+27j
		les	di, [bp+var_1A]
		cmp	word ptr es:[di+24h], 0
		jg	short loc_1FEAB
		jmp	loc_1FF8E
; ---------------------------------------------------------------------------

loc_1FEAB:				; CODE XREF: ContinueProcess+34j
		mov	ax, t1
		sub	es:[di+24h], ax
		cmp	word ptr es:[di+24h], 0
		jle	short loc_1FEBC
		jmp	loc_1FF8B
; ---------------------------------------------------------------------------

loc_1FEBC:				; CODE XREF: ContinueProcess+45j
		cmp	word ptr es:[di+16h], 0FFFFh
		jz	short loc_1FED6
		push	0FFFFh
		push	word ptr es:[di+1Ah]
		push	word ptr es:[di+1Ch]
		push	word ptr es:[di+16h]
		call	AddVoice

loc_1FED6:				; CODE XREF: ContinueProcess+4Fj
		les	di, [bp+var_1A]
		cmp	word ptr es:[di+16h], 0FFFFh
		jz	short loc_1FEF3
		push	0FFFFh
		push	word ptr es:[di+1Ah]
		push	word ptr es:[di+1Ch]
		push	word ptr es:[di+16h]
		call	AddVoice

loc_1FEF3:				; CODE XREF: ContinueProcess+6Cj
		les	di, [bp+var_1A]
		xor	ax, ax
		mov	es:[di+24h], ax
		cmp	byte ptr es:[di+1], 2
		jnz	short loc_1FF6C
		cmp	word ptr es:[di+22h], 0
		jle	short loc_1FF6A
		mov	ax, es:[di+22h]
		dec	ax
		mov	[bp+var_1C], ax
		xor	ax, ax
		cmp	ax, [bp+var_1C]
		jg	short loc_1FF6A
		mov	[bp+var_2], ax
		jmp	short loc_1FF21
; ---------------------------------------------------------------------------

loc_1FF1E:				; CODE XREF: ContinueProcess+F6j
		inc	[bp+var_2]

loc_1FF21:				; CODE XREF: ContinueProcess+AAj
		mov	ax, [bp+var_2]
		shl	ax, 2
		les	di, [bp+var_1A]
		add	di, ax
		add	di, 28h	; '('
		imul	ax, es:[di+2], 0Bh
		mov	dx, ax
		imul	ax, es:[di], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	0FFFFh
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		push	word ptr [di+74BEh]
		call	AddVoice
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_1C]
		jnz	short loc_1FF1E

loc_1FF6A:				; CODE XREF: ContinueProcess+96j
					; ContinueProcess+A5j
		jmp	short loc_1FF89
; ---------------------------------------------------------------------------

loc_1FF6C:				; CODE XREF: ContinueProcess+8Fj
		les	di, [bp+var_1A]
		cmp	word ptr es:[di+18h], 0FFFFh
		jz	short loc_1FF89
		push	0FFFFh
		push	word ptr es:[di+1Ah]
		push	word ptr es:[di+1Ch]
		push	word ptr es:[di+18h]
		call	AddVoice

loc_1FF89:				; CODE XREF: ContinueProcess:loc_1FF6Aj
					; ContinueProcess+102j
		jmp	short loc_1FF8E
; ---------------------------------------------------------------------------

loc_1FF8B:				; CODE XREF: ContinueProcess+47j
		jmp	locret_20DCE
; ---------------------------------------------------------------------------

loc_1FF8E:				; CODE XREF: ContinueProcess+36j
					; ContinueProcess:loc_1FF89j
		mov	[bp+var_9], 0
		les	di, [bp+var_1A]
		cmp	word ptr es:[di+20h], 0
		jg	short loc_1FF9F
		jmp	loc_20BD9
; ---------------------------------------------------------------------------

loc_1FF9F:				; CODE XREF: ContinueProcess+128j
		mov	ax, es:[di+20h]
		dec	ax
		mov	[bp+var_1C], ax
		xor	ax, ax
		cmp	ax, [bp+var_1C]
		jle	short loc_1FFB1
		jmp	loc_20BD9
; ---------------------------------------------------------------------------

loc_1FFB1:				; CODE XREF: ContinueProcess+13Aj
		mov	[bp+var_2], ax
		jmp	short loc_1FFB9
; ---------------------------------------------------------------------------

loc_1FFB6:				; CODE XREF: ContinueProcess+D64j
		inc	[bp+var_2]

loc_1FFB9:				; CODE XREF: ContinueProcess+142j
		imul	ax, [bp+var_2],	1Bh
		les	di, [bp+var_1A]
		add	di, ax
		add	di, 38h	; '8'
		mov	word ptr [bp+var_20], di
		mov	word ptr [bp+var_20+2],	es
		mov	ax, es:[di+11h]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, t1
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 2
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_8], ax
		les	di, [bp+var_20]
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_24], di
		mov	word ptr [bp+var_24+2],	es
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 0
		jnz	short loc_2001C
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_2001C:				; CODE XREF: ContinueProcess+1A5j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 63h ;	'c'
		jnz	short loc_2004E
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jnz	short loc_2003E
		les	di, [bp+var_20]
		mov	al, es:[di+5]
		les	di, [bp+var_24]
		mov	es:[di], al
		jmp	short loc_2004B
; ---------------------------------------------------------------------------

loc_2003E:				; CODE XREF: ContinueProcess+1BBj
		les	di, [bp+var_20]
		mov	al, es:[di+7]
		les	di, [bp+var_24]
		mov	es:[di], al

loc_2004B:				; CODE XREF: ContinueProcess+1CAj
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_2004E:				; CODE XREF: ContinueProcess+1B1j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 50h ;	'P'
		jnz	short loc_20064
		imul	di, es:[di+1], 24h
		mov	byte ptr [di+74C4h], 1
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_20064:				; CODE XREF: ContinueProcess+1E3j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 53h ;	'S'
		jnz	short loc_2007A
		imul	di, es:[di+1], 24h
		mov	byte ptr [di+74C4h], 0
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_2007A:				; CODE XREF: ContinueProcess+1F9j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 6Eh ;	'n'
		jnz	short loc_2008A
		mov	[bp+var_9], 1
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_2008A:				; CODE XREF: ContinueProcess+20Fj
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 45h ;	'E'
		jnz	short loc_200B1
		cmp	CLIENT,	0
		jnz	short loc_200A7
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		call	Blow3dObjAt

loc_200A7:				; CODE XREF: ContinueProcess+226j
		les	di, [bp+var_20]
		mov	byte ptr es:[di], 0
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_200B1:				; CODE XREF: ContinueProcess+21Fj
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 71h ;	'q'
		jnz	short loc_20120
		cmp	MortalTick, 0
		jz	short loc_2011D
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2A+2],	di
		mov	[bp+var_26], es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_2011D
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_20]
		assume es:nothing
		cmp	ax, es:[di+13h]
		jl	short loc_2011D
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_20]
		cmp	ax, es:[di+17h]
		jge	short loc_2011D
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_20]
		cmp	ax, es:[di+15h]
		jl	short loc_2011D
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_20]
		cmp	ax, es:[di+19h]
		jge	short loc_2011D
		mov	ax, es:[di+5]
		mov	ShakeLevel, ax

loc_2011D:				; CODE XREF: ContinueProcess+24Dj
					; ContinueProcess+265j	...
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_20120:				; CODE XREF: ContinueProcess+246j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 64h ;	'd'
		jnz	short loc_20152
		cmp	MortalTick, 0
		jz	short loc_2014F
		push	word ptr es:[di+13h]
		push	word ptr es:[di+15h]
		push	word ptr es:[di+17h]
		push	word ptr es:[di+19h]
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		call	ProcessDeathZone

loc_2014F:				; CODE XREF: ContinueProcess+2BCj
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_20152:				; CODE XREF: ContinueProcess+2B5j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 73h ;	's'
		jz	short loc_2015E
		jmp	loc_201F9
; ---------------------------------------------------------------------------

loc_2015E:				; CODE XREF: ContinueProcess+2E7j
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jnz	short loc_201C8
		les	di, [bp+var_20]
		cmp	word ptr es:[di+15h], 0
		jle	short loc_201C6
		mov	ax, t1
		sub	es:[di+15h], ax
		cmp	word ptr es:[di+15h], 0
		jg	short loc_20197
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	word ptr es:[di+7]
		call	AddLightSource
		jmp	short loc_201C2
; ---------------------------------------------------------------------------

loc_20197:				; CODE XREF: ContinueProcess+30Cj
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 7
		jbe	short loc_201C2
		les	di, [bp+var_20]
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	word ptr es:[di+7]
		mov	ax, t1
		shl	ax, 3
		push	ax
		call	_AddBlowLight

loc_201C2:				; CODE XREF: ContinueProcess+323j
					; ContinueProcess+32Fj
		mov	[bp+var_9], 1

loc_201C6:				; CODE XREF: ContinueProcess+2FEj
		jmp	short loc_201F6
; ---------------------------------------------------------------------------

loc_201C8:				; CODE XREF: ContinueProcess+2F4j
		les	di, [bp+var_20]
		cmp	word ptr es:[di+15h], 0
		jg	short loc_201F6
		mov	ax, es:[di+1]
		shr	ax, 6
		push	ax
		mov	ax, es:[di+3]
		shr	ax, 6
		push	ax
		push	word ptr es:[di+5]
		push	0
		call	BackRender
		les	di, [bp+var_20]
		mov	word ptr es:[di+15h], 1

loc_201F6:				; CODE XREF: ContinueProcess:loc_201C6j
					; ContinueProcess+35Ej
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_201F9:				; CODE XREF: ContinueProcess+2E9j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 72h ;	'r'
		jz	short loc_20205
		jmp	loc_204A1
; ---------------------------------------------------------------------------

loc_20205:				; CODE XREF: ContinueProcess+38Ej
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jnz	short loc_20262
		les	di, [bp+var_20]
		mov	ax, es:[di+0Fh]
		cmp	ax, es:[di+9]
		mov	al, 0
		jz	short loc_2021F
		inc	ax

loc_2021F:				; CODE XREF: ContinueProcess+3AAj
		mov	[bp+var_9], al
		cmp	word ptr es:[di+9], 0
		jle	short loc_20244
		mov	ax, [bp+var_6]
		add	es:[di+0Fh], ax
		mov	ax, es:[di+0Fh]
		cmp	ax, es:[di+9]
		jle	short loc_20242
		mov	ax, es:[di+9]
		mov	es:[di+0Fh], ax

loc_20242:				; CODE XREF: ContinueProcess+3C6j
		jmp	short loc_20260
; ---------------------------------------------------------------------------

loc_20244:				; CODE XREF: ContinueProcess+3B5j
		mov	ax, [bp+var_6]
		les	di, [bp+var_20]
		sub	es:[di+0Fh], ax
		mov	ax, es:[di+0Fh]
		cmp	ax, es:[di+9]
		jge	short loc_20260
		mov	ax, es:[di+9]
		mov	es:[di+0Fh], ax

loc_20260:				; CODE XREF: ContinueProcess:loc_20242j
					; ContinueProcess+3E4j
		jmp	short loc_202A6
; ---------------------------------------------------------------------------

loc_20262:				; CODE XREF: ContinueProcess+39Bj
		les	di, [bp+var_20]
		cmp	word ptr es:[di+0Fh], 0
		mov	al, 0
		jz	short loc_2026F
		inc	ax

loc_2026F:				; CODE XREF: ContinueProcess+3FAj
		mov	[bp+var_9], al
		cmp	word ptr es:[di+9], 0
		jle	short loc_2028F
		mov	ax, [bp+var_6]
		sub	es:[di+0Fh], ax
		cmp	word ptr es:[di+0Fh], 0
		jge	short loc_2028D
		xor	ax, ax
		mov	es:[di+0Fh], ax

loc_2028D:				; CODE XREF: ContinueProcess+413j
		jmp	short loc_202A6
; ---------------------------------------------------------------------------

loc_2028F:				; CODE XREF: ContinueProcess+405j
		mov	ax, [bp+var_6]
		les	di, [bp+var_20]
		add	es:[di+0Fh], ax
		cmp	word ptr es:[di+0Fh], 0
		jle	short loc_202A6
		xor	ax, ax
		mov	es:[di+0Fh], ax

loc_202A6:				; CODE XREF: ContinueProcess:loc_20260j
					; ContinueProcess:loc_2028Dj ...
		les	di, [bp+var_20]
		mov	ax, es:[di+0Fh]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 8Ah	; 'Š'
		xor	si, si
		mov	di, 3400h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	[bp+var_16], ax
		mov	[bp+var_14], bx
		mov	[bp+var_12], dx
		les	di, [bp+var_20]
		mov	ax, es:[di+0Fh]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 8Ah	; 'Š'
		xor	si, si
		mov	di, 3400h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	[bp+var_10], ax
		mov	[bp+var_E], bx
		mov	[bp+var_C], dx
		les	di, [bp+var_20]
		mov	ax, es:[di+15h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_20]
		mov	ax, es:[di+13h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_16]
		mov	si, [bp+var_14]
		mov	di, [bp+var_12]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_20]
		mov	ax, es:[di+5]
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_24]
		mov	es:[di+3], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+13h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_20]
		mov	ax, es:[di+15h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_16]
		mov	si, [bp+var_14]
		mov	di, [bp+var_12]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_20]
		mov	ax, es:[di+7]
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_24]
		mov	es:[di+5], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+19h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_20]
		mov	ax, es:[di+17h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_16]
		mov	si, [bp+var_14]
		mov	di, [bp+var_12]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_20]
		mov	ax, es:[di+5]
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_24]
		mov	es:[di+7], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+17h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_20]
		mov	ax, es:[di+19h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_16]
		mov	si, [bp+var_14]
		mov	di, [bp+var_12]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_20]
		mov	ax, es:[di+7]
		cwd
		add	ax, cx
		adc	dx, bx
		les	di, [bp+var_24]
		mov	es:[di+9], ax
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+5], 0
		jz	short loc_2049E
		les	di, [bp+var_20]
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		call	RemapWall

loc_2049E:				; CODE XREF: ContinueProcess+61Cj
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_204A1:				; CODE XREF: ContinueProcess+390j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 75h ;	'u'
		jnz	short loc_2051A
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jnz	short loc_204D8
		mov	ax, [bp+var_6]
		les	di, [bp+var_20]
		add	es:[di+0Bh], ax
		mov	ax, es:[di+0Bh]
		cmp	ax, es:[di+9]
		jl	short loc_204D2
		mov	ax, es:[di+9]
		mov	es:[di+0Bh], ax
		jmp	short loc_204D6
; ---------------------------------------------------------------------------

loc_204D2:				; CODE XREF: ContinueProcess+654j
		mov	[bp+var_9], 1

loc_204D6:				; CODE XREF: ContinueProcess+65Ej
		jmp	short loc_204F5
; ---------------------------------------------------------------------------

loc_204D8:				; CODE XREF: ContinueProcess+640j
		mov	ax, [bp+var_6]
		les	di, [bp+var_20]
		sub	es:[di+0Bh], ax
		cmp	word ptr es:[di+0Bh], 0
		jg	short loc_204F1
		xor	ax, ax
		mov	es:[di+0Bh], ax
		jmp	short loc_204F5
; ---------------------------------------------------------------------------

loc_204F1:				; CODE XREF: ContinueProcess+675j
		mov	[bp+var_9], 1

loc_204F5:				; CODE XREF: ContinueProcess:loc_204D6j
					; ContinueProcess+67Dj
		les	di, [bp+var_20]
		mov	ax, es:[di+0Bh]
		shr	ax, 2
		mov	cl, al
		mov	dx, es:[di+3]
		mov	ax, es:[di+1]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_2051A:				; CODE XREF: ContinueProcess+636j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 6Ch ;	'l'
		jz	short loc_20526
		jmp	loc_206FB
; ---------------------------------------------------------------------------

loc_20526:				; CODE XREF: ContinueProcess+6AFj
		cmp	word ptr es:[di+7], 0
		jle	short loc_20538
		cmp	NewSecond, 0
		jz	short loc_20538
		dec	word ptr es:[di+7]

loc_20538:				; CODE XREF: ContinueProcess+6B9j
					; ContinueProcess+6C0j
		les	di, [bp+var_20]
		cmp	word ptr es:[di+7], 0
		jg	short loc_20545
		jmp	loc_206F8
; ---------------------------------------------------------------------------

loc_20545:				; CODE XREF: ContinueProcess+6CEj
		imul	ax, es:[di+3], 0Bh
		mov	dx, ax
		imul	ax, es:[di+1], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_2A+2],	di
		mov	[bp+var_26], es
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_20]
		cmp	ax, es:[di+9]
		jz	short loc_20571
		jmp	loc_206F8
; ---------------------------------------------------------------------------

loc_20571:				; CODE XREF: ContinueProcess+6FAj
		mov	ax, [bp+var_6]
		shl	ax, 8
		les	di, [bp+var_2A+2]
		add	es:[di+7], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+13h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+7]
		sub	ax, 4000h
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 90h	; ''
		xor	si, si
		mov	di, 7FFFh
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		pop	cx
		pop	si
		pop	di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_6], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+13h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+7]
		sub	ax, 4000h
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 90h	; ''
		xor	si, si
		mov	di, 7FFFh
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		pop	cx
		pop	si
		pop	di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_8], ax
		mov	al, SecCounter
		xor	ah, ah
		mov	dx, ax
		mov	ax, 8Ch	; 'Œ'
		sub	ax, dx
		mov	[bp+var_4], ax
		les	di, [bp+var_20]
		cmp	word ptr es:[di+7], 1
		jnz	short loc_206AE
		mov	ax, es:[di+15h]
		shl	ax, 3
		cmp	ax, [bp+var_4]
		jle	short loc_206AE
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+3]
		sub	ax, [bp+var_6]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+var_8]
		push	ax
		push	4
		mov	ax, [bp+var_4]
		shr	ax, 3
		push	ax
		push	0FEh ; 'þ'
		call	_AddBlowLight
		les	di, [bp+var_20]
		cmp	word ptr es:[di+13h], 12Ch
		jge	short loc_206AC
		les	di, [bp+var_2A+2]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3
		les	di, [bp+var_20]
		mov	ax, es:[di+7]
		shr	ax, 4
		push	ax
		push	0FEh ; 'þ'
		call	_AddBlowLight

loc_206AC:				; CODE XREF: ContinueProcess+818j
		jmp	short loc_206F4
; ---------------------------------------------------------------------------

loc_206AE:				; CODE XREF: ContinueProcess+7DDj
					; ContinueProcess+7E9j
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+3]
		sub	ax, [bp+var_6]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+var_8]
		push	ax
		push	4
		les	di, [bp+var_20]
		push	word ptr es:[di+15h]
		push	0FEh ; 'þ'
		call	_AddBlowLight
		les	di, [bp+var_20]
		cmp	word ptr es:[di+13h], 12Ch
		jge	short loc_206F4
		les	di, [bp+var_2A+2]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	3
		push	0Eh
		push	0FEh ; 'þ'
		call	_AddBlowLight

loc_206F4:				; CODE XREF: ContinueProcess:loc_206ACj
					; ContinueProcess+869j
		mov	[bp+var_9], 1

loc_206F8:				; CODE XREF: ContinueProcess+6D0j
					; ContinueProcess+6FCj
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_206FB:				; CODE XREF: ContinueProcess+6B1j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 77h ;	'w'
		jz	short loc_20707
		jmp	loc_207E3
; ---------------------------------------------------------------------------

loc_20707:				; CODE XREF: ContinueProcess+890j
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_20711
; ---------------------------------------------------------------------------

loc_2070E:				; CODE XREF: ContinueProcess+8F9j
		inc	[bp+var_4]

loc_20711:				; CODE XREF: ContinueProcess+89Aj
		imul	di, [bp+var_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2A+2],	di
		mov	[bp+var_26], es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_20767
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_20]
		assume es:nothing
		sub	ax, es:[di+1]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_20]
		sub	ax, es:[di+3]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		les	di, [bp+var_20]
		cmp	ax, es:[di+5]
		jge	short loc_20767
		mov	[bp+var_9], 1
		les	di, [bp+var_1A]
		mov	byte ptr es:[di+1], 1

loc_20767:				; CODE XREF: ContinueProcess+8B4j
					; ContinueProcess+8E7j
		cmp	[bp+var_4], 7
		jnz	short loc_2070E
		mov	ax, MCount
		mov	[bp+var_26], ax
		mov	ax, 1
		cmp	ax, [bp+var_26]
		jg	short loc_207E0
		mov	[bp+var_4], ax
		jmp	short loc_20783
; ---------------------------------------------------------------------------

loc_20780:				; CODE XREF: ContinueProcess+96Cj
		inc	[bp+var_4]

loc_20783:				; CODE XREF: ContinueProcess+90Cj
		imul	di, [bp+var_4],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2A], di
		mov	word ptr [bp+var_2A+2],	es
		cmp	word ptr es:[di+12h], 0
		jle	short loc_207D8
		mov	ax, es:[di]
		les	di, [bp+var_20]
		assume es:nothing
		sub	ax, es:[di+1]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		les	di, [bp+var_2A]
		mov	ax, es:[di+2]
		les	di, [bp+var_20]
		sub	ax, es:[di+3]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		les	di, [bp+var_20]
		cmp	ax, es:[di+5]
		jge	short loc_207D8
		mov	[bp+var_9], 1
		les	di, [bp+var_1A]
		mov	byte ptr es:[di+1], 1

loc_207D8:				; CODE XREF: ContinueProcess+926j
					; ContinueProcess+958j
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_26]
		jnz	short loc_20780

loc_207E0:				; CODE XREF: ContinueProcess+907j
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_207E3:				; CODE XREF: ContinueProcess+892j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 57h ;	'W'
		jz	short loc_207EF
		jmp	loc_209F8
; ---------------------------------------------------------------------------

loc_207EF:				; CODE XREF: ContinueProcess+978j
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+5]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		les	di, [bp+var_20]
		mov	es:[di+0Bh], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+7]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		les	di, [bp+var_20]
		mov	es:[di+0Dh], ax
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_2082D
; ---------------------------------------------------------------------------

loc_2082A:				; CODE XREF: ContinueProcess+A45j
		inc	[bp+var_4]

loc_2082D:				; CODE XREF: ContinueProcess+9B6j
		imul	di, [bp+var_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2A+2],	di
		mov	[bp+var_26], es
		cmp	word ptr es:[di+28h], 0
		jle	short loc_208B1
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_20]
		assume es:nothing
		cmp	ax, es:[di+13h]
		jl	short loc_208B1
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+0Ah]
		les	di, [bp+var_20]
		cmp	ax, es:[di+17h]
		jge	short loc_208B1
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_20]
		cmp	ax, es:[di+15h]
		jl	short loc_208B1
		les	di, [bp+var_2A+2]
		mov	ax, es:[di+0Ch]
		les	di, [bp+var_20]
		cmp	ax, es:[di+19h]
		jge	short loc_208B1
		lea	di, [bp+var_4]
		push	ss
		push	di
		les	di, [bp+var_2A+2]
		add	di, 0Ah
		push	es
		push	di
		les	di, [bp+var_2A+2]
		add	di, 0Ch
		push	es
		push	di
		les	di, [bp+var_2A+2]
		push	word ptr es:[di+0Eh]
		les	di, [bp+var_20]
		push	word ptr es:[di+0Bh]
		push	word ptr es:[di+0Dh]
		push	1
		call	MoveOn

loc_208B1:				; CODE XREF: ContinueProcess+9D0j
					; ContinueProcess+9DDj	...
		cmp	[bp+var_4], 7
		jz	short loc_208BA
		jmp	loc_2082A
; ---------------------------------------------------------------------------

loc_208BA:				; CODE XREF: ContinueProcess+A43j
		mov	ax, MCount
		mov	[bp+var_26], ax
		mov	ax, 1
		cmp	ax, [bp+var_26]
		jle	short loc_208CB
		jmp	loc_209F5
; ---------------------------------------------------------------------------

loc_208CB:				; CODE XREF: ContinueProcess+A54j
		mov	n__0, ax
		jmp	short loc_208D4
; ---------------------------------------------------------------------------

loc_208D0:				; CODE XREF: ContinueProcess+B80j
		inc	n__0

loc_208D4:				; CODE XREF: ContinueProcess+A5Cj
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2A], di
		mov	word ptr [bp+var_2A+2],	es
		mov	ax, es:[di]
		les	di, [bp+var_20]
		assume es:nothing
		cmp	ax, es:[di+13h]
		jge	short loc_208F4
		jmp	loc_209EA
; ---------------------------------------------------------------------------

loc_208F4:				; CODE XREF: ContinueProcess+A7Dj
		les	di, [bp+var_2A]
		mov	ax, es:[di]
		les	di, [bp+var_20]
		cmp	ax, es:[di+17h]
		jl	short loc_20906
		jmp	loc_209EA
; ---------------------------------------------------------------------------

loc_20906:				; CODE XREF: ContinueProcess+A8Fj
		les	di, [bp+var_2A]
		mov	ax, es:[di+2]
		les	di, [bp+var_20]
		cmp	ax, es:[di+15h]
		jge	short loc_20919
		jmp	loc_209EA
; ---------------------------------------------------------------------------

loc_20919:				; CODE XREF: ContinueProcess+AA2j
		les	di, [bp+var_2A]
		mov	ax, es:[di+2]
		les	di, [bp+var_20]
		cmp	ax, es:[di+19h]
		jl	short loc_2092C
		jmp	loc_209EA
; ---------------------------------------------------------------------------

loc_2092C:				; CODE XREF: ContinueProcess+AB5j
		les	di, [bp+var_2A]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2E], di
		mov	word ptr [bp+var_2E+2],	es
		les	di, [bp+var_20]
		assume es:nothing
		cmp	word ptr es:[di+0Bh], 0
		jz	short loc_20997
		les	di, [bp+var_2A]
		mov	ax, es:[di]
		les	di, [bp+var_20]
		add	ax, es:[di+0Bh]
		push	ax
		les	di, [bp+var_2A]
		push	word ptr es:[di+2]
		push	word ptr es:[di+20h]
		les	di, [bp+var_2E]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		push	0
		push	1
		push	1
		call	NotFreeForMonster
		or	al, al
		jnz	short loc_20997
		les	di, [bp+var_20]
		mov	ax, es:[di+0Bh]
		les	di, [bp+var_2A]
		add	es:[di], ax

loc_20997:				; CODE XREF: ContinueProcess+ADBj
					; ContinueProcess+B16j
		les	di, [bp+var_20]
		cmp	word ptr es:[di+0Dh], 0
		jz	short loc_209EA
		les	di, [bp+var_2A]
		push	word ptr es:[di]
		mov	ax, es:[di+2]
		les	di, [bp+var_20]
		add	ax, es:[di+0Dh]
		push	ax
		les	di, [bp+var_2A]
		push	word ptr es:[di+20h]
		les	di, [bp+var_2E]
		push	word ptr es:[di+10h]
		push	word ptr es:[di+0Ch]
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		push	0
		push	1
		push	1
		call	NotFreeForMonster
		or	al, al
		jnz	short loc_209EA
		les	di, [bp+var_20]
		mov	ax, es:[di+0Dh]
		les	di, [bp+var_2A]
		add	es:[di+2], ax

loc_209EA:				; CODE XREF: ContinueProcess+A7Fj
					; ContinueProcess+A91j	...
		mov	ax, n__0
		cmp	ax, [bp+var_26]
		jz	short loc_209F5
		jmp	loc_208D0
; ---------------------------------------------------------------------------

loc_209F5:				; CODE XREF: ContinueProcess+A56j
					; ContinueProcess+B7Ej
		jmp	loc_20BCE
; ---------------------------------------------------------------------------

loc_209F8:				; CODE XREF: ContinueProcess+97Aj
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jz	short loc_20A05
		jmp	loc_20A98
; ---------------------------------------------------------------------------

loc_20A05:				; CODE XREF: ContinueProcess+B8Ej
		les	di, [bp+var_20]
		mov	ax, es:[di+0Bh]
		sub	ax, es:[di+5]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+var_6]
		jge	short loc_20A27
		mov	ax, es:[di+5]
		sub	ax, es:[di+0Bh]
		mov	[bp+var_6], ax
		jmp	short loc_20A39
; ---------------------------------------------------------------------------

loc_20A27:				; CODE XREF: ContinueProcess+BA6j
		les	di, [bp+var_20]
		cmp	word ptr es:[di+5], 0
		jge	short loc_20A39
		mov	ax, [bp+var_6]
		neg	ax
		mov	[bp+var_6], ax

loc_20A39:				; CODE XREF: ContinueProcess+BB3j
					; ContinueProcess+BBDj
		les	di, [bp+var_20]
		mov	ax, es:[di+0Dh]
		sub	ax, es:[di+7]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+var_8]
		jge	short loc_20A5B
		mov	ax, es:[di+7]
		sub	ax, es:[di+0Dh]
		mov	[bp+var_8], ax
		jmp	short loc_20A6D
; ---------------------------------------------------------------------------

loc_20A5B:				; CODE XREF: ContinueProcess+BDAj
		les	di, [bp+var_20]
		cmp	word ptr es:[di+7], 0
		jge	short loc_20A6D
		mov	ax, [bp+var_8]
		neg	ax
		mov	[bp+var_8], ax

loc_20A6D:				; CODE XREF: ContinueProcess+BE7j
					; ContinueProcess+BF1j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 78h ;	'x'
		jnz	short loc_20A81
		cmp	[bp+var_6], 0
		jz	short loc_20A81
		xor	ax, ax
		mov	[bp+var_8], ax

loc_20A81:				; CODE XREF: ContinueProcess+C02j
					; ContinueProcess+C08j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 79h ;	'y'
		jnz	short loc_20A95
		cmp	[bp+var_8], 0
		jz	short loc_20A95
		xor	ax, ax
		mov	[bp+var_6], ax

loc_20A95:				; CODE XREF: ContinueProcess+C16j
					; ContinueProcess+C1Cj
		jmp	loc_20B1C
; ---------------------------------------------------------------------------

loc_20A98:				; CODE XREF: ContinueProcess+B90j
		les	di, [bp+var_20]
		mov	ax, es:[di+0Bh]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+var_6]
		jge	short loc_20AB4
		mov	ax, es:[di+0Bh]
		neg	ax
		mov	[bp+var_6], ax
		jmp	short loc_20AC6
; ---------------------------------------------------------------------------

loc_20AB4:				; CODE XREF: ContinueProcess+C35j
		les	di, [bp+var_20]
		cmp	word ptr es:[di+0Bh], 0
		jle	short loc_20AC6
		mov	ax, [bp+var_6]
		neg	ax
		mov	[bp+var_6], ax

loc_20AC6:				; CODE XREF: ContinueProcess+C40j
					; ContinueProcess+C4Aj
		les	di, [bp+var_20]
		mov	ax, es:[di+0Dh]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+var_8]
		jge	short loc_20AE2
		mov	ax, es:[di+0Dh]
		neg	ax
		mov	[bp+var_8], ax
		jmp	short loc_20AF4
; ---------------------------------------------------------------------------

loc_20AE2:				; CODE XREF: ContinueProcess+C63j
		les	di, [bp+var_20]
		cmp	word ptr es:[di+0Dh], 0
		jle	short loc_20AF4
		mov	ax, [bp+var_8]
		neg	ax
		mov	[bp+var_8], ax

loc_20AF4:				; CODE XREF: ContinueProcess+C6Ej
					; ContinueProcess+C78j
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 79h ;	'y'
		jnz	short loc_20B08
		cmp	[bp+var_6], 0
		jz	short loc_20B08
		xor	ax, ax
		mov	[bp+var_8], ax

loc_20B08:				; CODE XREF: ContinueProcess+C89j
					; ContinueProcess+C8Fj
		les	di, [bp+var_20]
		cmp	byte ptr es:[di], 78h ;	'x'
		jnz	short loc_20B1C
		cmp	[bp+var_8], 0
		jz	short loc_20B1C
		xor	ax, ax
		mov	[bp+var_6], ax

loc_20B1C:				; CODE XREF: ContinueProcess:loc_20A95j
					; ContinueProcess+C9Dj	...
		mov	ax, [bp+var_6]
		les	di, [bp+var_20]
		add	es:[di+0Bh], ax
		mov	ax, [bp+var_8]
		add	es:[di+0Dh], ax
		mov	ax, es:[di+13h]
		add	ax, es:[di+0Bh]
		les	di, [bp+var_24]
		mov	es:[di+3], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+17h]
		add	ax, es:[di+0Bh]
		les	di, [bp+var_24]
		mov	es:[di+7], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+15h]
		add	ax, es:[di+0Dh]
		les	di, [bp+var_24]
		mov	es:[di+5], ax
		les	di, [bp+var_20]
		mov	ax, es:[di+19h]
		add	ax, es:[di+0Dh]
		les	di, [bp+var_24]
		mov	es:[di+9], ax
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jnz	short loc_20B97
		les	di, [bp+var_20]
		mov	ax, es:[di+0Bh]
		cmp	ax, es:[di+5]
		jnz	short loc_20B93
		mov	ax, es:[di+0Dh]
		cmp	ax, es:[di+7]
		jz	short loc_20B97

loc_20B93:				; CODE XREF: ContinueProcess+D15j
		mov	[bp+var_9], 1

loc_20B97:				; CODE XREF: ContinueProcess+D08j
					; ContinueProcess+D1Fj
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 2
		jnz	short loc_20BB6
		les	di, [bp+var_20]
		cmp	word ptr es:[di+0Bh], 0
		jnz	short loc_20BB2
		cmp	word ptr es:[di+0Dh], 0
		jz	short loc_20BB6

loc_20BB2:				; CODE XREF: ContinueProcess+D37j
		mov	[bp+var_9], 1

loc_20BB6:				; CODE XREF: ContinueProcess+D2Dj
					; ContinueProcess+D3Ej
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+5], 0
		jz	short loc_20BCE
		les	di, [bp+var_20]
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		call	RemapWall

loc_20BCE:				; CODE XREF: ContinueProcess+1A7j
					; ContinueProcess:loc_2004Bj ...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_1C]
		jz	short loc_20BD9
		jmp	loc_1FFB6
; ---------------------------------------------------------------------------

loc_20BD9:				; CODE XREF: ContinueProcess+12Aj
					; ContinueProcess+13Cj	...
		les	di, [bp+var_1A]
		cmp	word ptr es:[di+22h], 0
		jg	short loc_20BE6
		jmp	loc_20D76
; ---------------------------------------------------------------------------

loc_20BE6:				; CODE XREF: ContinueProcess+D6Fj
		mov	ax, es:[di+22h]
		dec	ax
		mov	[bp+var_1C], ax
		xor	ax, ax
		cmp	ax, [bp+var_1C]
		jle	short loc_20BF8
		jmp	loc_20D76
; ---------------------------------------------------------------------------

loc_20BF8:				; CODE XREF: ContinueProcess+D81j
		mov	[bp+var_2], ax
		jmp	short loc_20C00
; ---------------------------------------------------------------------------

loc_20BFD:				; CODE XREF: ContinueProcess+F01j
		inc	[bp+var_2]

loc_20C00:				; CODE XREF: ContinueProcess+D89j
		mov	ax, [bp+var_2]
		shl	ax, 2
		les	di, [bp+var_1A]
		add	di, ax
		add	di, 28h	; '('
		mov	word ptr [bp+var_20], di
		mov	word ptr [bp+var_20+2],	es
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jz	short loc_20C22
		jmp	loc_20D03
; ---------------------------------------------------------------------------

loc_20C22:				; CODE XREF: ContinueProcess+DABj
		les	di, [bp+var_20]
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 0
		jnz	short loc_20C72
		les	di, [bp+var_20]
		imul	ax, es:[di+2], 0Bh
		mov	dx, ax
		imul	ax, es:[di], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	0FFFFh
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		push	word ptr [di+74BEh]
		call	AddVoice

loc_20C72:				; CODE XREF: ContinueProcess+DC9j
		mov	cl, byte ptr t1
		les	di, [bp+var_20]
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		add	es:[di], cl
		les	di, [bp+var_20]
		imul	ax, es:[di+2], 0Bh
		mov	dx, ax
		imul	ax, es:[di], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_24], di
		mov	word ptr [bp+var_24+2],	es
		les	di, [bp+var_20]
		assume es:nothing
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		les	di, [bp+var_24]
		cmp	ax, es:[di+1Ah]
		jb	short loc_20CFD
		mov	cl, es:[di+1Ah]
		les	di, [bp+var_20]
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		jmp	short loc_20D01
; ---------------------------------------------------------------------------

loc_20CFD:				; CODE XREF: ContinueProcess+E6Bj
		mov	[bp+var_9], 1

loc_20D01:				; CODE XREF: ContinueProcess+E89j
		jmp	short loc_20D6B
; ---------------------------------------------------------------------------

loc_20D03:				; CODE XREF: ContinueProcess+DADj
		les	di, [bp+var_1A]
		mov	ax, es:[di+26h]
		cmp	ax, es:[di+0Eh]
		jl	short loc_20D6B
		les	di, [bp+var_20]
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		cmp	ax, t1
		ja	short loc_20D4B
		les	di, [bp+var_20]
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		mov	byte ptr es:[di], 0
		jmp	short loc_20D6B
; ---------------------------------------------------------------------------

loc_20D4B:				; CODE XREF: ContinueProcess+EBCj
		mov	cl, byte ptr t1
		les	di, [bp+var_20]
		mov	dx, es:[di+2]
		mov	ax, es:[di]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		sub	es:[di], cl
		mov	[bp+var_9], 1

loc_20D6B:				; CODE XREF: ContinueProcess:loc_20D01j
					; ContinueProcess+E9Cj	...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_1C]
		jz	short loc_20D76
		jmp	loc_20BFD
; ---------------------------------------------------------------------------

loc_20D76:				; CODE XREF: ContinueProcess+D71j
					; ContinueProcess+D83j	...
		cmp	[bp+var_9], 0
		jnz	short locret_20DCE
		les	di, [bp+var_1A]
		cmp	byte ptr es:[di+1], 1
		jnz	short loc_20DA6
		cmp	word ptr es:[di+0Ah], 0
		jnz	short loc_20D94
		mov	byte ptr es:[di+1], 3
		jmp	short loc_20DA4
; ---------------------------------------------------------------------------

loc_20D94:				; CODE XREF: ContinueProcess+F19j
		les	di, [bp+var_1A]
		mov	byte ptr es:[di+1], 2
		mov	ax, es:[di+0Ah]
		mov	es:[di+24h], ax

loc_20DA4:				; CODE XREF: ContinueProcess+F20j
		jmp	short locret_20DCE
; ---------------------------------------------------------------------------

loc_20DA6:				; CODE XREF: ContinueProcess+F12j
		les	di, [bp+var_1A]
		mov	ax, es:[di+26h]
		cmp	ax, es:[di+0Eh]
		jge	short loc_20DC6
		mov	ax, es:[di+0Ch]
		mov	es:[di+24h], ax
		inc	word ptr es:[di+26h]
		mov	byte ptr es:[di+1], 1
		jmp	short locret_20DCE
; ---------------------------------------------------------------------------

loc_20DC6:				; CODE XREF: ContinueProcess+F3Fj
		les	di, [bp+var_1A]
		mov	byte ptr es:[di+1], 0

locret_20DCE:				; CODE XREF: ContinueProcess+29j
					; ContinueProcess:loc_1FF8Bj ...
		leave
		retn	2
ContinueProcess	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateProcesses proc far		; CODE XREF: DoneProcesses+CP
					; DoneProcesses+11P ...

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	6, 0
		mov	di, offset ProcState
		push	ds
		push	di
		push	8
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_20DEE
; ---------------------------------------------------------------------------

loc_20DEB:				; CODE XREF: AnimateProcesses+BEj
		inc	[bp+var_2]

loc_20DEE:				; CODE XREF: AnimateProcesses+17j
		imul	ax, [bp+var_2],	1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	byte ptr es:[di], 0
		jnz	short loc_20E08
		jmp	loc_20E8A
; ---------------------------------------------------------------------------

loc_20E08:				; CODE XREF: AnimateProcesses+31j
		cmp	CLIENT,	0
		jnz	short loc_20E16
		cmp	SERVER,	0
		jz	short loc_20E5A

loc_20E16:				; CODE XREF: AnimateProcesses+3Bj
		les	di, [bp+var_6]
		cmp	byte ptr es:[di+1], 3
		jz	short loc_20E35
		cmp	byte ptr es:[di+1], 1
		jz	short loc_20E35
		cmp	byte ptr es:[di+1], 2
		jnz	short loc_20E5A
		cmp	word ptr es:[di+24h], 0
		jle	short loc_20E5A

loc_20E35:				; CODE XREF: AnimateProcesses+4Cj
					; AnimateProcesses+53j
		mov	ax, [bp+var_2]
		and	ax, 0Fh
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 1
		xor	dx, dx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	dx, ax
		mov	ax, [bp+var_2]
		shr	ax, 4
		mov	di, ax
		shl	di, 1
		add	[di-0D04h], dx

loc_20E5A:				; CODE XREF: AnimateProcesses+42j
					; AnimateProcesses+5Aj	...
		les	di, [bp+var_6]
		cmp	byte ptr es:[di+2], 0FFh
		jnb	short loc_20E8A
		mov	al, es:[di+1]
		cmp	al, 0
		jnz	short loc_20E6E
		jmp	short loc_20E8A
; ---------------------------------------------------------------------------

loc_20E6E:				; CODE XREF: AnimateProcesses+98j
		cmp	al, 3
		jnz	short loc_20E74
		jmp	short loc_20E8A
; ---------------------------------------------------------------------------

loc_20E74:				; CODE XREF: AnimateProcesses+9Ej
		cmp	al, 1
		jnz	short loc_20E80
		push	[bp+var_2]
		call	ContinueProcess
		jmp	short loc_20E8A
; ---------------------------------------------------------------------------

loc_20E80:				; CODE XREF: AnimateProcesses+A4j
		cmp	al, 2
		jnz	short loc_20E8A
		push	[bp+var_2]
		call	ContinueProcess

loc_20E8A:				; CODE XREF: AnimateProcesses+33j
					; AnimateProcesses+90j	...
		cmp	[bp+var_2], 3Fh	; '?'
		jz	short locret_20E93
		jmp	loc_20DEB
; ---------------------------------------------------------------------------

locret_20E93:				; CODE XREF: AnimateProcesses+BCj
		leave
		retf
AnimateProcesses endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StartUpProcesses proc far		; CODE XREF: LoadLevel+3FEP

var_E		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Eh, 0
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_20EA3
; ---------------------------------------------------------------------------

loc_20EA0:				; CODE XREF: StartUpProcesses+90j
		inc	[bp+var_4]

loc_20EA3:				; CODE XREF: StartUpProcesses+9j
		imul	ax, [bp+var_4],	1E8h
		les	di, PProc
		add	di, ax
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		cmp	byte ptr es:[di], 0
		jz	short loc_20F1F
		cmp	byte ptr es:[di+5], 0
		jz	short loc_20F1F
		cmp	word ptr es:[di+20h], 0
		jle	short loc_20F1F
		mov	ax, es:[di+20h]
		dec	ax
		mov	[bp+var_A], ax
		xor	ax, ax
		cmp	ax, [bp+var_A]
		jg	short loc_20F1F
		mov	[bp+var_2], ax
		jmp	short loc_20EDF
; ---------------------------------------------------------------------------

loc_20EDC:				; CODE XREF: StartUpProcesses+88j
		inc	[bp+var_2]

loc_20EDF:				; CODE XREF: StartUpProcesses+45j
		imul	ax, [bp+var_2],	1Bh
		les	di, [bp+var_8]
		add	di, ax
		add	di, 38h	; '8'
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		mov	al, es:[di]
		cmp	al, 6Dh	; 'm'
		jz	short loc_20F09
		cmp	al, 72h	; 'r'
		jz	short loc_20F09
		cmp	al, 75h	; 'u'
		jz	short loc_20F09
		cmp	al, 78h	; 'x'
		jb	short loc_20F17
		cmp	al, 79h	; 'y'
		ja	short loc_20F17

loc_20F09:				; CODE XREF: StartUpProcesses+62j
					; StartUpProcesses+66j	...
		les	di, [bp+var_E]
		push	word ptr es:[di+1]
		push	word ptr es:[di+3]
		call	RemapWall

loc_20F17:				; CODE XREF: StartUpProcesses+6Ej
					; StartUpProcesses+72j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jnz	short loc_20EDC

loc_20F1F:				; CODE XREF: StartUpProcesses+23j
					; StartUpProcesses+2Aj	...
		cmp	[bp+var_4], 3Fh	; '?'
		jz	short locret_20F28
		jmp	loc_20EA0
; ---------------------------------------------------------------------------

locret_20F28:				; CODE XREF: StartUpProcesses+8Ej
		leave
		retf
StartUpProcesses endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20F2A	proc far		; CODE XREF: PROGRAM+28P
		push	bp
		mov	bp, sp
		mov	di, offset PProc
		push	ds
		push	di
		push	7A00h
		call	GetMem16
		mov	di, offset PLinks
		push	ds
		push	di
		push	380h
		call	GetMem16
		mov	di, offset PChanges
		push	ds
		push	di
		push	200h
		call	GetMem16
		mov	di, offset PMList
		push	ds
		push	di
		push	17C0h
		call	GetMem16
		mov	di, offset ReObjects
		push	ds
		push	di
		push	500h
		call	GetMem16
		mov	di, offset AmmoBags
		push	ds
		push	di
		push	7C0h
		call	GetMem16
		leave
		retf
sub_20F2A	endp

; ---------------------------------------------------------------------------
		align 4
cseg05		ends

; Segment Number    : 6
; Alloc	Size	    : 7002h
; Offset in the	file: 27400h  Length: 7002h
; Attributes  (1D10): CODE Moveable Relocations	Discardable DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg06		segment	para public 'CODE' use16
		assume cs:cseg06
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    6
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MulVectors__1	proc near		; CODE XREF: Test2Vectors__0+4Ep
					; Test2Vectors__0+64p ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		mov	cx, 0FFFFh
		mov	ax, [bp+arg_6]
		imul	[bp+arg_0]
		mov	bx, dx
		shl	ebx, 10h
		mov	bx, ax
		mov	ax, [bp+arg_4]
		imul	[bp+arg_2]
		shl	edx, 10h
		mov	dx, ax
		sub	ebx, edx
		js	short loc_20FAA
		mov	cx, 1

loc_20FAA:				; CODE XREF: MulVectors__1+23j
		mov	ax, cx
		leave
		retn	8
MulVectors__1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Movxb		proc near		; CODE XREF: InsertObject+46Ap

arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		mov	cx, [bp+arg_0]
		mov	dx, ds
		lds	si, [bp+arg_6]
		add	si, cx
		sub	si, 2
		les	di, [bp+arg_2]
		add	di, [bp+arg_0]
		sub	di, 2
		std
		shr	cx, 1
		rep movsw
		mov	ds, dx
		cld
		leave
		retn	0Ah
Movxb		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MoveDB		proc near		; CODE XREF: AnimateBlows+2B8p

arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		mov	dx, ds
		lds	si, [bp+arg_6]
		les	di, [bp+arg_2]
		cld
		mov	cx, [bp+arg_0]
		shr	cx, 2
		jz	short loc_20FEC
		rep movsd

loc_20FEC:				; CODE XREF: MoveDB+12j
		mov	cx, [bp+arg_0]
		and	cx, 3
		jz	short loc_20FF7
		rep movsb

loc_20FF7:				; CODE XREF: MoveDB+1Ej
		mov	ds, dx
		leave
		retn	0Ah
MoveDB		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Test2Vectors__0	proc near		; CODE XREF: SendFastRocket+10Bp
					; SendFastRocket+255p ...

var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	4, 0
		mov	[bp+var_1], 0
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_E]
		mov	nx, ax
		mov	ax, [bp+arg_8]
		sub	ax, [bp+arg_C]
		mov	ny, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_E]
		mov	v1x, ax
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_C]
		mov	v1y, ax
		mov	ax, [bp+arg_2]
		sub	ax, [bp+arg_E]
		mov	v2x, ax
		mov	ax, [bp+arg_0]
		sub	ax, [bp+arg_C]
		mov	v2y, ax
		push	nx
		push	ny
		push	v1x
		push	v1y
		call	MulVectors__1
		mov	[bp+var_4], ax
		push	nx
		push	ny
		push	v2x
		push	v2y
		call	MulVectors__1
		cmp	ax, [bp+var_4]
		jnz	short loc_2106B
		jmp	short loc_210D3
; ---------------------------------------------------------------------------

loc_2106B:				; CODE XREF: Test2Vectors__0+6Aj
		mov	ax, [bp+arg_2]
		sub	ax, [bp+arg_6]
		mov	nx, ax
		mov	ax, [bp+arg_0]
		sub	ax, [bp+arg_4]
		mov	ny, ax
		mov	ax, [bp+arg_E]
		sub	ax, [bp+arg_6]
		mov	v1x, ax
		mov	ax, [bp+arg_C]
		sub	ax, [bp+arg_4]
		mov	v1y, ax
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_6]
		mov	v2x, ax
		mov	ax, [bp+arg_8]
		sub	ax, [bp+arg_4]
		mov	v2y, ax
		push	nx
		push	ny
		push	v2x
		push	v2y
		call	MulVectors__1
		push	ax
		push	nx
		push	ny
		push	v1x
		push	v1y
		call	MulVectors__1
		pop	dx
		cmp	ax, dx
		jnz	short loc_210CF
		jmp	short loc_210D3
; ---------------------------------------------------------------------------

loc_210CF:				; CODE XREF: Test2Vectors__0+CEj
		mov	[bp+var_1], 1

loc_210D3:				; CODE XREF: Test2Vectors__0+6Cj
					; Test2Vectors__0+D0j
		mov	al, [bp+var_1]
		leave
		retn	10h
Test2Vectors__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

iswater		proc far		; CODE XREF: AnimateRockets+6A6P
					; ProcessDevices+6E9P ...

var_1		= byte ptr -1
arg_0		= word ptr  6
arg_3		= byte ptr  9
arg_5		= byte ptr  0Bh

		enter	2, 0
		cmp	[bp+arg_0], 0
		jnz	short loc_21110
		mov	al, [bp+arg_3]
		xor	ah, ah
		mov	dx, ax
		mov	al, [bp+arg_5]
		xor	ah, ah
		shl	ax, 6
		les	di, AmbMap
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		imul	di, ax,	0Eh
		cmp	word ptr [di-0A32h], 8
		jnz	short loc_21110
		mov	[bp+var_1], 1
		jmp	short loc_21114
; ---------------------------------------------------------------------------

loc_21110:				; CODE XREF: iswater+8j iswater+2Ej
		mov	[bp+var_1], 0

loc_21114:				; CODE XREF: iswater+34j
		mov	al, [bp+var_1]
		leave
		retf	6
iswater		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Bar		proc far		; CODE XREF: UpDateRanking+ADP

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	4, 0
		mov	ax, [bp+arg_2]
		dec	ax
		mov	[bp+var_4], ax
		xor	ax, ax
		cmp	ax, [bp+var_4]
		ja	short locret_21153
		mov	[bp+var_2], ax
		jmp	short loc_21135
; ---------------------------------------------------------------------------

loc_21132:				; CODE XREF: Bar+36j
		inc	[bp+var_2]

loc_21135:				; CODE XREF: Bar+15j
		push	[bp+arg_8]
		mov	ax, [bp+arg_6]
		add	ax, [bp+var_2]
		push	ax
		push	[bp+arg_4]
		mov	al, [bp+arg_0]
		push	ax
		call	Hline
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_21132

locret_21153:				; CODE XREF: Bar+10j
		leave
		retf	0Ah
Bar		endp

; ---------------------------------------------------------------------------
aFragsList	db 10,'Frags List'      ; DATA XREF: UpDateRanking+63o
asc_21162	db 3,'###'              ; DATA XREF: UpDateRanking+10Ao

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDateRanking	proc near		; CODE XREF: ShowScreen+Ep

var_114		= byte ptr -114h
var_14		= dword	ptr -14h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	114h, 0
		mov	[bp+var_4], 30h	; '0'
		mov	[bp+var_10], 5Ah ; 'Z'
		mov	[bp+var_C], 0E6h ; 'æ'
		mov	[bp+var_E], 1Fh
		mov	[bp+var_A], 35h	; '5'
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2118D
; ---------------------------------------------------------------------------

loc_2118A:				; CODE XREF: UpDateRanking+3Aj
		inc	[bp+var_2]

loc_2118D:				; CODE XREF: UpDateRanking+22j
		imul	di, [bp+var_2],	58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_2119C
		add	[bp+var_A], 0Ch

loc_2119C:				; CODE XREF: UpDateRanking+30j
		cmp	[bp+var_2], 7
		jnz	short loc_2118A
		cmp	CLIENT,	0
		jnz	short loc_211B8
		cmp	SERVER,	0
		jnz	short loc_211B8
		mov	Ranking, 0
		jmp	locret_2129F
; ---------------------------------------------------------------------------

loc_211B8:				; CODE XREF: UpDateRanking+41j
					; UpDateRanking+48j
		lea	di, [bp+var_10]
		push	ss
		push	di
		call	DrawMenuRect
		push	0A0h ; ' '
		push	MnSY
		mov	di, offset aFragsList ;	"Frags List"
		push	cs
		push	di
		call	PutStrCenter
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_211DD
; ---------------------------------------------------------------------------

loc_211DA:				; CODE XREF: UpDateRanking+136j
		inc	[bp+var_2]

loc_211DD:				; CODE XREF: UpDateRanking+72j
		imul	di, [bp+var_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_14], di
		mov	word ptr [bp+var_14+2],	es
		cmp	byte ptr es:[di], 0
		jnz	short loc_211F6
		jmp	loc_21296
; ---------------------------------------------------------------------------

loc_211F6:				; CODE XREF: UpDateRanking+8Bj
		mov	di, es:[di+36h]
		mov	al, [di+28Dh]
		xor	ah, ah
		mov	[bp+var_8], ax
		push	64h ; 'd'
		push	[bp+var_4]
		push	78h ; 'x'
		push	9
		mov	ax, [bp+var_8]
		add	ax, 4
		push	ax
		call	Bar
		push	64h ; 'd'
		mov	ax, [bp+var_4]
		dec	ax
		push	ax
		push	0DCh ; 'Ü'
		mov	ax, [bp+var_4]
		add	ax, 9
		push	ax
		push	1
		push	1
		call	DrawKey
		mov	ax, [bp+var_2]
		cmp	ax, MyNetN
		jnz	short loc_21242
		mov	[bp+var_6], 21h	; '!'
		jmp	short loc_21247
; ---------------------------------------------------------------------------

loc_21242:				; CODE XREF: UpDateRanking+D3j
		mov	[bp+var_6], 1

loc_21247:				; CODE XREF: UpDateRanking+DAj
		push	69h ; 'i'
		mov	ax, [bp+var_4]
		inc	ax
		push	ax
		push	[bp+var_6]
		les	di, [bp+var_14]
		assume es:nothing
		add	di, 1
		push	es
		push	di
		call	PutStringFloat
		push	0C4h ; 'Ä'
		mov	ax, [bp+var_4]
		inc	ax
		push	ax
		push	[bp+var_6]
		lea	di, [bp+var_114]
		push	ss
		push	di
		mov	di, offset asc_21162 ; "###"
		push	cs
		push	di
		les	di, [bp+var_14]
		mov	al, es:[di+26h]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	PutStringFloat
		add	[bp+var_4], 0Ch

loc_21296:				; CODE XREF: UpDateRanking+8Dj
		cmp	[bp+var_2], 7
		jz	short locret_2129F
		jmp	loc_211DA
; ---------------------------------------------------------------------------

locret_2129F:				; CODE XREF: UpDateRanking+4Fj
					; UpDateRanking+134j
		leave
		retn
UpDateRanking	endp

; ---------------------------------------------------------------------------
asc_212A1	db 3,'   '              ; DATA XREF: UpDateIndy+1Co
asc_212A5	db 3,'###'              ; DATA XREF: UpDateIndy+36o
					; UpDateIndy+7Do ...
asc_212A9	db 1,'/'                ; DATA XREF: UpDateIndy+97o
					; UpDateIndy+ABo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDateIndy	proc near		; CODE XREF: ShowVesaScreen+76p
					; ShowScreen+24p

var_206		= byte ptr -206h
var_106		= byte ptr -106h
var_6		= dword	ptr -6

		enter	206h, 0
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	word ptr es:[di+48h], 1
		jnz	short loc_212DB
		mov	di, offset asc_212A1 ; "   "
		push	cs
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_21311
; ---------------------------------------------------------------------------

loc_212DB:				; CODE XREF: UpDateIndy+1Aj
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset asc_212A5 ; "###"
		push	cs
		push	di
		les	di, [bp+var_6]
		assume es:nothing
		mov	ax, es:[di+48h]
		add	di, ax
		mov	al, es:[di+2Dh]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_21311:				; CODE XREF: UpDateIndy+2Ej
		mov	ax, WinSX
		add	ax, 8
		push	ax
		mov	ax, VideoEY
		sub	ax, 0Ch
		push	ax
		push	8Fh ; ''
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset asc_212A5 ; "###"
		push	cs
		push	di
		les	di, [bp+var_6]
		mov	ax, es:[di+28h]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		mov	di, offset asc_212A9 ; "/"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_212A9 ; "/"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_206]
		push	ss
		push	di
		mov	di, offset asc_212A5 ; "###"
		push	cs
		push	di
		les	di, [bp+var_6]
		mov	al, es:[di+27h]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStringFloat
		leave
		retn
UpDateIndy	endp

; ---------------------------------------------------------------------------
asc_2138F	db 1,'['                ; DATA XREF: ShowVesaScreen+38o
asc_21391	db 2,'] '               ; DATA XREF: ShowVesaScreen+59o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowVesaScreen	proc far		; CODE XREF: EndPaint+3D2P

var_20C		= byte ptr -20Ch
var_10C		= byte ptr -10Ch
var_C		= dword	ptr -0Ch
var_2		= word ptr -2

		enter	20Ch, 0
		cmp	Paused,	0
		jz	short loc_213A4
		call	UpdatePause

loc_213A4:				; CODE XREF: ShowVesaScreen+9j
		imul	di, CurOwner, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		push	0Ah
		push	2
		mov	ax, CurOwner
		inc	ax
		mov	di, ax
		mov	al, [di+28Dh]
		xor	ah, ah
		push	ax
		lea	di, [bp+var_20C]
		push	ss
		push	di
		mov	di, offset asc_2138F ; "["
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_10C]
		push	ss
		push	di
		mov	ax, CurOwner
		add	ax, 30h	; '0'
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_21391 ; "] "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		les	di, [bp+var_C]
		assume es:nothing
		add	di, 1
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStringFloat
		call	UpDateIndy
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_21417
; ---------------------------------------------------------------------------

loc_21414:				; CODE XREF: ShowVesaScreen+C6j
		inc	[bp+var_2]

loc_21417:				; CODE XREF: ShowVesaScreen+7Ej
		mov	di, [bp+var_2]
		mov	al, [di-0AC0h]
		xor	ah, ah
		cmp	ax, CurOwner
		jnz	short loc_21456
		mov	di, [bp+var_2]
		shl	di, 2
		push	word ptr [di+27Eh]
		mov	di, [bp+var_2]
		shl	di, 2
		push	word ptr [di+280h]
		push	130h
		push	WinH
		push	140h
		mov	ax, 8
		mov	dx, VgaSeg
		mov	di, ax
		mov	es, dx
		push	es
		push	di
		call	VESA_PutImage

loc_21456:				; CODE XREF: ShowVesaScreen+90j
		cmp	[bp+var_2], 3
		jnz	short loc_21414
		leave
		retf
ShowVesaScreen	endp

; ---------------------------------------------------------------------------
a@_16		db 2,'@#'               ; DATA XREF: ShowVESATime+AEo
					; ShowVESATime+D5o ...
asc_21461	db 1,':'                ; DATA XREF: ShowVESATime+C5o
					; ShowVESATime+F1o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowVESATime	proc far		; CODE XREF: DoGame+1915P

var_306		= byte ptr -306h
var_206		= byte ptr -206h
var_106		= byte ptr -106h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	306h, 0
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	cx, 8Ch	; 'Œ'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, 3Ch	; '<'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		mov	[bp+var_6], ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	cx, 20D0h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, 3Ch	; '<'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		mov	[bp+var_4], ax
		mov	ax, RealTime
		mov	dx, word_44D7C
		mov	cx, 0B0C0h
		mov	bx, 7
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, 18h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		mov	[bp+var_2], ax
		mov	n__0, 3
		jmp	short loc_214DA
; ---------------------------------------------------------------------------

loc_214D6:				; CODE XREF: ShowVESATime+A0j
		inc	n__0

loc_214DA:				; CODE XREF: ShowVESATime+71j
		les	di, Ground
		push	es
		mov	di, n__0
		shl	di, 1
		push	word ptr [di-7016h]
		push	VgaSeg
		mov	di, n__0
		shl	di, 1
		push	word ptr [di-7016h]
		push	24h ; '$'
		call	movsw
		cmp	n__0, 0Bh
		jnz	short loc_214D6
		push	0Ch
		push	4
		push	20h ; ' '
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset a@_16 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_2]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		mov	di, offset asc_21461 ; ":"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_206]
		push	ss
		push	di
		mov	di, offset a@_16 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_4]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_21461 ; ":"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_306]
		push	ss
		push	di
		mov	di, offset a@_16 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_6]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStringFloat
		push	8
		push	0Bh
		push	40h ; '@'
		push	8
		push	140h
		mov	ax, 508h
		mov	dx, VgaSeg
		mov	di, ax
		mov	es, dx
		push	es
		push	di
		call	VESA_PutImage
		leave
		retf
ShowVESATime	endp

; ---------------------------------------------------------------------------
a0Dedicated	db 14,'[0]  DEDICATED'  ; DATA XREF: PutPlayerInf+71o
asc_215B3	db 1,'['                ; DATA XREF: PutPlayerInf+8Bo
asc_215B5	db 1,']'                ; DATA XREF: PutPlayerInf+ACo
asc_215B7	db 1,'/'                ; DATA XREF: PutPlayerInf+104o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutPlayerInf	proc near		; CODE XREF: ShowVesaConsole+80p

var_20A		= byte ptr -20Ah
var_10E		= byte ptr -10Eh
var_10A		= byte ptr -10Ah
var_E		= dword	ptr -0Eh
var_A		= byte ptr -0Ah
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	20Ah, 0
		imul	di, [bp+arg_0],	58h
		mov	di, [di-0FA0h]
		mov	al, [di+28Dh]
		xor	ah, ah
		mov	[bp+var_2], ax
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_215D8
; ---------------------------------------------------------------------------

loc_215D5:				; CODE XREF: PutPlayerInf+39j
		inc	[bp+var_4]

loc_215D8:				; CODE XREF: PutPlayerInf+1Aj
		push	VgaSeg
		mov	di, [bp+var_4]
		shl	di, 1
		push	word ptr [di-7016h]
		push	45h ; 'E'
		push	0
		call	StosW
		cmp	[bp+var_4], 0Ch
		jnz	short loc_215D5
		mov	[bp+var_4], 1
		jmp	short loc_215FE
; ---------------------------------------------------------------------------

loc_215FB:				; CODE XREF: PutPlayerInf+62j
		inc	[bp+var_4]

loc_215FE:				; CODE XREF: PutPlayerInf+40j
		push	VgaSeg
		mov	di, [bp+var_4]
		shl	di, 1
		mov	ax, [di-7016h]
		inc	ax
		push	ax
		push	44h ; 'D'
		push	303h
		call	StosW
		cmp	[bp+var_4], 0Bh
		jnz	short loc_215FB
		cmp	[bp+arg_0], 0
		jnz	short loc_21637
		push	4
		push	3
		push	[bp+var_2]
		mov	di, offset a0Dedicated ; "[0]  DEDICATED"
		push	cs
		push	di
		call	PutStringFloat
		jmp	locret_216D6
; ---------------------------------------------------------------------------

loc_21637:				; CODE XREF: PutPlayerInf+68j
		push	4
		push	3
		push	[bp+var_2]
		lea	di, [bp+var_20A]
		push	ss
		push	di
		mov	di, offset asc_215B3 ; "["
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_10A]
		push	ss
		push	di
		mov	ax, [bp+arg_0]
		add	ax, 30h	; '0'
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_215B5 ; "]"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStringFloat
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		cmp	byte ptr es:[di], 0
		jz	short locret_216D6
		mov	al, es:[di+26h]
		xor	ah, ah
		xor	dx, dx
		push	dx
		push	ax
		push	1
		lea	di, [bp+var_A]
		push	ss
		push	di
		push	5
		call	@Str$q7Longint4Wordm6String4Byte ; Str(x:width;	var s: string {; strlen: Word})
		push	1Ch
		push	3
		push	[bp+var_2]
		lea	di, [bp+var_10E]
		push	ss
		push	di
		les	di, [bp+var_E]
		assume es:nothing
		add	di, 1
		push	es
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset asc_215B7 ; "/"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_A]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStringFloat

locret_216D6:				; CODE XREF: PutPlayerInf+7Bj
					; PutPlayerInf+CFj
		leave
		retn	2
PutPlayerInf	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowVesaConsole	proc far		; CODE XREF: DoGame+192DP

var_2		= word ptr -2

		enter	2, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_216E8
; ---------------------------------------------------------------------------

loc_216E5:				; CODE XREF: ShowVesaConsole+1Cj
		inc	[bp+var_2]

loc_216E8:				; CODE XREF: ShowVesaConsole+9j
		imul	di, [bp+var_2],	3Fh
		xor	ax, ax
		mov	[di-0C9Dh], ax
		cmp	[bp+var_2], 3
		jnz	short loc_216E5
		xor	ax, ax
		mov	word_45674, ax
		mov	ax, takt
		and	ax, 3
		cmp	ax, 1
		jz	short loc_2170D
		cmp	ax, 3
		jnz	short loc_21710

loc_2170D:				; CODE XREF: ShowVesaConsole+2Cj
		jmp	locret_21795
; ---------------------------------------------------------------------------

loc_21710:				; CODE XREF: ShowVesaConsole+31j
		cmp	ax, 0
		jnz	short loc_21746
		mov	ConsY, 4Ch ; 'L'
		xor	ax, ax
		mov	ConsDY,	ax
		call	UpDateConsole
		push	0
		push	144h
		push	140h
		push	4Ch ; 'L'
		push	140h
		mov	ax, 9B00h
		mov	dx, VgaSeg
		mov	di, ax
		mov	es, dx
		push	es
		push	di
		call	VESA_PutImage
		jmp	short locret_21795
; ---------------------------------------------------------------------------

loc_21746:				; CODE XREF: ShowVesaConsole+39j
		cmp	ax, 2
		jnz	short locret_21795
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_21756
; ---------------------------------------------------------------------------

loc_21752:				; CODE XREF: ShowVesaConsole+B9j
		inc	n__0

loc_21756:				; CODE XREF: ShowVesaConsole+76j
		push	n__0
		call	PutPlayerInf
		mov	ax, n__0
		shr	ax, 2
		imul	ax, 98h
		add	ax, 14Ch
		push	ax
		mov	ax, n__0
		and	ax, 3
		imul	ax, 0Fh
		add	ax, 14Dh
		push	ax
		push	8Ah ; 'Š'
		push	0Dh
		push	140h
		mov	ax, VgaSeg
		push	ax
		xor	di, di
		pop	es
		push	es
		push	di
		call	VESA_PutImage
		cmp	n__0, 7
		jnz	short loc_21752

locret_21795:				; CODE XREF: ShowVesaConsole:loc_2170Dj
					; ShowVesaConsole+6Aj ...
		leave
		retf
ShowVesaConsole	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowMessages	proc near		; CODE XREF: ShowScreen+4p

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	6, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_217A5
; ---------------------------------------------------------------------------

loc_217A2:				; CODE XREF: ShowMessages+98j
		inc	[bp+var_2]

loc_217A5:				; CODE XREF: ShowMessages+9j
		imul	di, [bp+var_2],	3Fh
		add	di, 0F326h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	word ptr es:[di+3Dh], 0
		jbe	short loc_21829
		mov	ax, es:[di+3Dh]
		cmp	ax, t1
		jb	short loc_217CF
		mov	ax, t1
		sub	es:[di+3Dh], ax
		jmp	short loc_217D8
; ---------------------------------------------------------------------------

loc_217CF:				; CODE XREF: ShowMessages+2Dj
		les	di, [bp+var_6]
		assume es:nothing
		xor	ax, ax
		mov	es:[di+3Dh], ax

loc_217D8:				; CODE XREF: ShowMessages+36j
		les	di, [bp+var_6]
		cmp	word ptr es:[di+3Dh], 0
		jbe	short loc_217F8
		push	4
		mov	ax, [bp+var_2]
		shl	ax, 3
		inc	ax
		push	ax
		push	0C1h ; 'Á'
		push	es
		push	di
		call	PutStringFloat
		jmp	short loc_21829
; ---------------------------------------------------------------------------

loc_217F8:				; CODE XREF: ShowMessages+49j
		cmp	[bp+var_2], 3
		jz	short loc_21829
		mov	ax, [bp+var_2]
		inc	ax
		imul	di, ax,	3Fh
		add	di, 0F326h
		push	ds
		push	di
		imul	di, [bp+var_2],	3Fh
		add	di, 0F326h
		push	ds
		push	di
		mov	ax, 3
		sub	ax, [bp+var_2]
		imul	ax, 3Fh
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		xor	ax, ax
		mov	word_45670, ax

loc_21829:				; CODE XREF: ShowMessages+23j
					; ShowMessages+5Fj ...
		cmp	[bp+var_2], 3
		jz	short loc_21832
		jmp	loc_217A2
; ---------------------------------------------------------------------------

loc_21832:				; CODE XREF: ShowMessages+96j
		cmp	word_45674, 0
		jnz	short loc_2183C
		jmp	locret_218C2
; ---------------------------------------------------------------------------

loc_2183C:				; CODE XREF: ShowMessages+A0j
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_21847
; ---------------------------------------------------------------------------

loc_21843:				; CODE XREF: ShowMessages+10Fj
		inc	n__0

loc_21847:				; CODE XREF: ShowMessages+AAj
		imul	ax, n__0, 36h
		mov	dx, ax
		imul	ax, ProcMessage, 17Ch
		les	di, PMList
		add	di, ax
		add	di, dx
		cmp	word ptr es:[di], 0
		jz	short loc_218A1
		mov	ax, VideoCX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 0A0h ; ' '
		sbb	dx, 0
		push	ax
		mov	ax, VideoCY
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+2]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 64h	; 'd'
		sbb	dx, 0
		push	ax
		push	0C1h ; 'Á'
		add	di, 4
		push	es
		push	di
		call	PutStringFloat

loc_218A1:				; CODE XREF: ShowMessages+C9j
		cmp	n__0, 6
		jnz	short loc_21843
		cmp	EndOfTheGame, 0
		jnz	short loc_218B6
		mov	ax, t1
		sub	word_45674, ax

loc_218B6:				; CODE XREF: ShowMessages+116j
		cmp	word_45674, 0
		jge	short locret_218C2
		xor	ax, ax
		mov	word_45674, ax

locret_218C2:				; CODE XREF: ShowMessages+A2j
					; ShowMessages+124j
		leave
		retn
ShowMessages	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowScreen	proc far		; CODE XREF: EndPaint+3E2P
		enter	6, 0
		call	ShowMessages
		cmp	Ranking, 0
		jz	short loc_218D5
		call	UpDateRanking

loc_218D5:				; CODE XREF: ShowScreen+Cj
		cmp	Paused,	0
		jz	short loc_218E1
		call	UpdatePause

loc_218E1:				; CODE XREF: ShowScreen+16j
		cmp	InfoPage, 0
		jnz	short loc_218EB
		call	UpDateIndy

loc_218EB:				; CODE XREF: ShowScreen+22j
		cmp	InfoPage, 0
		jnz	short loc_218F9
		cmp	TabMode, 0
		jz	short loc_218FE

loc_218F9:				; CODE XREF: ShowScreen+2Cj
		call	UpDateInfo

loc_218FE:				; CODE XREF: ShowScreen+33j
		cmp	Console, 0
		jz	short loc_2190A
		call	UpDateConsole

loc_2190A:				; CODE XREF: ShowScreen+3Fj
		cmp	MenuOn,	0
		jz	short loc_21916
		call	UpDateMenu

loc_21916:				; CODE XREF: ShowScreen+4Bj
		call	ShowVideoBuffer
		leave
		retf
ShowScreen	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutBigChar	proc near		; CODE XREF: PutBigString+A2p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		les	di, BigFont
		mov	ax, es
		mov	[bp+var_2], ax
		imul	ax, [bp+arg_2],	0E6h
		mov	dx, ax
		imul	ax, [bp+arg_0],	17h
		add	ax, dx
		mov	[bp+var_4], ax
		xor	edi, edi
		mov	bx, [bp+arg_4]
		shl	bx, 2
		mov	di, [bp+arg_6]
		add	edi, [bx-6E84h]
		mov	ax, VgaSeg
		mov	es, ax
		mov	ax, [bp+var_2]
		mov	fs, ax
		mov	cx, 13h

loc_21958:				; CODE XREF: PutBigChar+63j
		push	cx
		mov	cx, 16h
		mov	si, [bp+var_4]
		push	edi

loc_21961:				; CODE XREF: PutBigChar+53j
		mov	al, fs:[si]
		cmp	al, 0
		jz	short loc_2196C
		mov	es:[edi], al

loc_2196C:				; CODE XREF: PutBigChar+49j
		inc	si
		inc	edi
		dec	cx
		jnz	short loc_21961
		add	[bp+var_4], 0E6h ; 'æ'
		pop	edi
		add	edi, VideoBPL
		pop	cx
		dec	cx
		jnz	short loc_21958
		leave
		retn	8
PutBigChar	endp

; ---------------------------------------------------------------------------
asc_21986	db 3,'###'              ; DATA XREF: PutBigString+36o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutBigString	proc near		; CODE XREF: UpDateInfo+1DAp
					; UpDateInfo+36Dp ...

var_204		= byte ptr -204h
var_106		= word ptr -106h
var_104		= byte ptr -104h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	204h, 0
		mov	ax, VideoCX
		sub	ax, 0A0h ; ' '
		add	[bp+arg_6], ax
		mov	ax, [bp+arg_2]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_0]
		cwd
		cmp	dx, bx
		jl	short loc_219AE
		jg	short loc_219B5
		cmp	ax, cx
		jnb	short loc_219B5

loc_219AE:				; CODE XREF: PutBigString+1Cj
		mov	[bp+var_4], 14h
		jmp	short loc_219BA
; ---------------------------------------------------------------------------

loc_219B5:				; CODE XREF: PutBigString+1Ej
					; PutBigString+22j
		xor	ax, ax
		mov	[bp+var_4], ax

loc_219BA:				; CODE XREF: PutBigString+29j
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset asc_21986 ; "###"
		push	cs
		push	di
		mov	ax, [bp+arg_0]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		lea	di, [bp+var_104]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, [bp+var_104]
		xor	ah, ah
		mov	[bp+var_106], ax
		mov	ax, 1
		cmp	ax, [bp+var_106]
		ja	short locret_21A38
		mov	[bp+var_2], ax
		jmp	short loc_219FF
; ---------------------------------------------------------------------------

loc_219FC:				; CODE XREF: PutBigString+ACj
		inc	[bp+var_2]

loc_219FF:				; CODE XREF: PutBigString+70j
		mov	di, [bp+var_2]
		mov	al, [bp+di+var_104]
		cmp	al, 30h	; '0'
		jb	short loc_21A2F
		cmp	al, 39h	; '9'
		ja	short loc_21A2F
		mov	ax, [bp+var_2]
		dec	ax
		imul	ax, 17h
		add	ax, [bp+arg_6]
		push	ax
		push	[bp+arg_4]
		push	[bp+var_4]
		mov	di, [bp+var_2]
		mov	al, [bp+di+var_104]
		xor	ah, ah
		sub	ax, 30h	; '0'
		push	ax
		call	PutBigChar

loc_21A2F:				; CODE XREF: PutBigString+7Ej
					; PutBigString+82j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_106]
		jnz	short loc_219FC

locret_21A38:				; CODE XREF: PutBigString+6Bj
		leave
		retn	8
PutBigString	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutLitChar	proc near		; CODE XREF: PutLitString+65p
					; PutWLitString+68p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	4, 0
		les	di, LitFont
		mov	ax, es
		mov	[bp+var_2], ax
		imul	ax, [bp+arg_0],	0Ch
		mov	[bp+var_4], ax
		xor	edi, edi
		mov	bx, [bp+arg_2]
		shl	bx, 2
		mov	di, [bp+arg_4]
		add	edi, [bx-6E84h]
		mov	ax, VgaSeg
		mov	es, ax
		mov	ax, [bp+var_2]
		mov	fs, ax
		mov	cx, 5

loc_21A6E:				; CODE XREF: PutLitChar+5Aj
		push	edi
		push	cx
		mov	cx, 6
		mov	si, [bp+var_4]

loc_21A77:				; CODE XREF: PutLitChar+4Aj
		mov	al, fs:[si]
		cmp	al, 0
		jz	short loc_21A82
		mov	es:[edi], al

loc_21A82:				; CODE XREF: PutLitChar+40j
		inc	si
		inc	edi
		dec	cx
		jnz	short loc_21A77
		add	[bp+var_4], 0EAh ; 'ê'
		pop	cx
		pop	edi
		add	edi, VideoBPL
		dec	cx
		jnz	short loc_21A6E
		leave
		retn	6
PutLitChar	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutLitString	proc near		; CODE XREF: UpDateInfo+583p

var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	104h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_104], ax
		mov	ax, 1
		cmp	ax, [bp+var_104]
		ja	short locret_21B0E
		mov	[bp+var_102], ax
		jmp	short loc_21AD4
; ---------------------------------------------------------------------------

loc_21AD0:				; CODE XREF: PutLitString+70j
		inc	[bp+var_102]

loc_21AD4:				; CODE XREF: PutLitString+32j
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		cmp	al, 30h	; '0'
		jb	short loc_21B04
		cmp	al, 39h	; '9'
		ja	short loc_21B04
		mov	ax, [bp+var_102]
		dec	ax
		imul	ax, 7
		add	ax, [bp+arg_6]
		push	ax
		push	[bp+arg_4]
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		sub	ax, 30h	; '0'
		push	ax
		call	PutLitChar

loc_21B04:				; CODE XREF: PutLitString+42j
					; PutLitString+46j
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_104]
		jnz	short loc_21AD0

locret_21B0E:				; CODE XREF: PutLitString+2Cj
		leave
		retn	8
PutLitString	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutWLitString	proc near		; CODE XREF: UpDateInfo+53Dp

var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	104h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_104], ax
		mov	ax, 1
		cmp	ax, [bp+var_104]
		ja	short locret_21B87
		mov	[bp+var_102], ax
		jmp	short loc_21B4A
; ---------------------------------------------------------------------------

loc_21B46:				; CODE XREF: PutWLitString+73j
		inc	[bp+var_102]

loc_21B4A:				; CODE XREF: PutWLitString+32j
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		cmp	al, 30h	; '0'
		jb	short loc_21B7D
		cmp	al, 39h	; '9'
		ja	short loc_21B7D
		mov	ax, [bp+var_102]
		dec	ax
		imul	ax, 7
		add	ax, [bp+arg_6]
		push	ax
		push	[bp+arg_4]
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		sub	ax, 30h	; '0'
		add	ax, 0Ah
		push	ax
		call	PutLitChar

loc_21B7D:				; CODE XREF: PutWLitString+42j
					; PutWLitString+46j
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_104]
		jnz	short loc_21B46

locret_21B87:				; CODE XREF: PutWLitString+2Cj
		leave
		retn	8
PutWLitString	endp

; ---------------------------------------------------------------------------
a@_17		db 2,'@#'               ; DATA XREF: UpDateInfo+229o
					; UpDateInfo+25Co ...
aTime_0		db 6,'Time: '           ; DATA XREF: UpDateInfo+219o
a__5		db 1,'.'                ; DATA XREF: UpDateInfo+24Co
					; UpDateInfo+280o
asc_21B97	db 3,'###'              ; DATA XREF: UpDateInfo+51Fo
					; UpDateInfo+565o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDateInfo	proc far		; CODE XREF: ShowScreen:loc_218F9P

var_412		= byte ptr -412h
var_312		= byte ptr -312h
var_212		= byte ptr -212h
var_112		= byte ptr -112h
var_10E		= byte ptr -10Eh
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	412h, 0
		cmp	CLIENT,	0
		jnz	short loc_21BAD
		cmp	SERVER,	0
		jz	short loc_21BB4

loc_21BAD:				; CODE XREF: UpDateInfo+9j
		mov	[bp+var_E], 2Ch	; ','
		jmp	short loc_21BB9
; ---------------------------------------------------------------------------

loc_21BB4:				; CODE XREF: UpDateInfo+10j
		mov	[bp+var_E], 20h	; ' '

loc_21BB9:				; CODE XREF: UpDateInfo+17j
		mov	ax, VideoCX
		sub	ax, 0A0h ; ' '
		shr	ax, 2
		mov	[bp+var_6], ax
		cmp	InfoPage, 0
		jnz	short loc_21BCF
		jmp	loc_21CE9
; ---------------------------------------------------------------------------

loc_21BCF:				; CODE XREF: UpDateInfo+2Fj
		cmp	CurVideoMode, 1
		jnz	short loc_21C02
		les	di, Status
		push	es
		mov	ax, 2Ch	; ','
		sub	ax, [bp+var_E]
		imul	ax, 140h
		push	ax
		push	VgaSeg
		mov	ax, 0C8h ; 'È'
		sub	ax, [bp+var_E]
		imul	ax, 140h
		push	ax
		imul	ax, [bp+var_E],	50h
		push	ax
		call	movsD__0
		jmp	loc_21CE9
; ---------------------------------------------------------------------------

loc_21C02:				; CODE XREF: UpDateInfo+39j
		mov	ax, [bp+var_E]
		dec	ax
		mov	word ptr [bp+var_12+2],	ax
		xor	ax, ax
		cmp	ax, word ptr [bp+var_12+2]
		jbe	short loc_21C13
		jmp	loc_21CE9
; ---------------------------------------------------------------------------

loc_21C13:				; CODE XREF: UpDateInfo+73j
		mov	[bp+var_4], ax
		jmp	short loc_21C1B
; ---------------------------------------------------------------------------

loc_21C18:				; CODE XREF: UpDateInfo+14Bj
		inc	[bp+var_4]

loc_21C1B:				; CODE XREF: UpDateInfo+7Bj
		mov	ax, 2Bh	; '+'
		sub	ax, [bp+var_4]
		mov	[bp+var_2], ax
		les	di, Status
		push	es
		imul	ax, [bp+var_2],	140h
		xor	dx, dx
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, VideoCX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoEY
		sub	ax, [bp+var_4]
		mov	di, ax
		shl	di, 2
		mov	ax, [di-6E84h]
		mov	dx, [di-6E82h]
		add	ax, cx
		adc	dx, bx
		sub	ax, 0A0h ; ' '
		sbb	dx, 0
		push	dx
		push	ax
		push	0
		push	50h ; 'P'
		call	MovsED
		les	di, Ground
		push	es
		imul	ax, [bp+var_2],	140h
		xor	dx, dx
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, VideoEY
		sub	ax, [bp+var_4]
		mov	di, ax
		shl	di, 2
		push	word ptr [di-6E82h]
		push	word ptr [di-6E84h]
		mov	ax, [bp+var_6]
		xor	dx, dx
		push	dx
		push	ax
		call	MovsED
		les	di, Ground
		push	es
		imul	ax, [bp+var_2],	140h
		xor	dx, dx
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, VideoCX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoEY
		sub	ax, [bp+var_4]
		mov	di, ax
		shl	di, 2
		mov	ax, [di-6E84h]
		mov	dx, [di-6E82h]
		add	ax, cx
		adc	dx, bx
		add	ax, 0A0h ; ' '
		adc	dx, 0
		push	dx
		push	ax
		mov	ax, [bp+var_6]
		xor	dx, dx
		push	dx
		push	ax
		call	MovsED
		mov	ax, [bp+var_4]
		cmp	ax, word ptr [bp+var_12+2]
		jz	short loc_21CE9
		jmp	loc_21C18
; ---------------------------------------------------------------------------

loc_21CE9:				; CODE XREF: UpDateInfo+31j
					; UpDateInfo+64j ...
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_12], di
		mov	word ptr [bp+var_12+2],	es
		cmp	TabMode, 0
		jnz	short loc_21D04
		jmp	loc_21EEF
; ---------------------------------------------------------------------------

loc_21D04:				; CODE XREF: UpDateInfo+164j
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_21D0E
; ---------------------------------------------------------------------------

loc_21D0B:				; CODE XREF: UpDateInfo+1BFj
		inc	[bp+var_4]

loc_21D0E:				; CODE XREF: UpDateInfo+16Ej
		les	di, Status
		assume es:nothing
		push	es
		mov	ax, 4Bh	; 'K'
		sub	ax, [bp+var_4]
		imul	ax, 140h
		xor	dx, dx
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, VideoCX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoEY
		sub	ax, [bp+var_4]
		mov	di, ax
		shl	di, 2
		mov	ax, [di-6E84h]
		mov	dx, [di-6E82h]
		add	ax, cx
		adc	dx, bx
		sub	ax, 0A0h ; ' '
		sbb	dx, 0
		push	dx
		push	ax
		push	0
		push	50h ; 'P'
		call	MovsED
		cmp	[bp+var_4], 1Fh
		jnz	short loc_21D0B
		push	23h ; '#'
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 19h
		sbb	dx, 0
		push	ax
		push	14h
		les	di, [bp+var_12]
		push	word ptr es:[di+4Eh]
		call	PutBigString
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 8Ch	; 'Œ'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		xor	dx, dx
		mov	cx, 3Ch	; '<'
		div	cx
		mov	[bp+var_6], ax
		mov	ax, VideoCX
		sub	ax, 0Ah
		push	ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 1Ah
		sbb	dx, 0
		push	ax
		lea	di, [bp+var_212]
		push	ss
		push	di
		mov	di, offset aTime_0 ; "Time: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_112]
		push	ss
		push	di
		mov	di, offset a@_17 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_6]
		xor	dx, dx
		mov	cx, 3Ch	; '<'
		div	cx
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a__5	; "."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_312]
		push	ss
		push	di
		mov	di, offset a@_17 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_6]
		xor	dx, dx
		mov	cx, 3Ch	; '<'
		div	cx
		xchg	ax, dx
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a__5	; "."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_412]
		push	ss
		push	di
		mov	di, offset a@_17 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_8]
		xor	dx, dx
		mov	cx, 3Ch	; '<'
		div	cx
		xchg	ax, dx
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStr
		mov	ax, VideoCX
		sub	ax, 0Ah
		push	ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 0Eh
		sbb	dx, 0
		push	ax
		mov	ax, LevelN
		shl	ax, 5
		les	di, ShortNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		call	PutStr
		mov	ax, VideoCX
		sub	ax, 2Fh	; '/'
		mov	x__0, ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 1Bh
		sbb	dx, 0
		mov	[bp+var_C], ax
		xor	ax, ax
		mov	[bp+var_A], ax
		jmp	short loc_21EA3
; ---------------------------------------------------------------------------

loc_21EA0:				; CODE XREF: UpDateInfo+34Fj
		inc	[bp+var_A]

loc_21EA3:				; CODE XREF: UpDateInfo+303j
		mov	ax, 10h
		mov	cx, [bp+var_A]
		shl	ax, cl
		les	di, [bp+var_12]
		and	ax, es:[di+2Ah]
		or	ax, ax
		jbe	short loc_21EE6
		mov	ax, [bp+var_A]
		and	ax, 1
		imul	ax, 14h
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, x__0
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		mov	ax, [bp+var_A]
		shr	ax, 1
		imul	ax, 0Eh
		add	ax, [bp+var_C]
		push	ax
		mov	ax, [bp+var_A]
		add	ax, 4
		push	ax
		call	PutChar

loc_21EE6:				; CODE XREF: UpDateInfo+319j
		cmp	[bp+var_A], 3
		jnz	short loc_21EA0
		jmp	loc_21FCD
; ---------------------------------------------------------------------------

loc_21EEF:				; CODE XREF: UpDateInfo+166j
		push	23h ; '#'
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 19h
		sbb	dx, 0
		push	ax
		push	19h
		les	di, [bp+var_12]
		push	word ptr es:[di+28h]
		call	PutBigString
		les	di, [bp+var_12]
		cmp	word ptr es:[di+48h], 1
		jle	short loc_21F38
		push	89h ; '‰'
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 19h
		sbb	dx, 0
		push	ax
		push	0Ah
		mov	ax, es:[di+48h]
		add	di, ax
		mov	al, es:[di+2Dh]
		xor	ah, ah
		push	ax
		call	PutBigString

loc_21F38:				; CODE XREF: UpDateInfo+378j
		push	0F6h ; 'ö'
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 19h
		sbb	dx, 0
		push	ax
		push	19h
		les	di, [bp+var_12]
		mov	al, es:[di+27h]
		xor	ah, ah
		push	ax
		call	PutBigString
		les	di, [bp+var_12]
		mov	ax, es:[di+48h]
		dec	ax
		imul	ax, 1Ch
		inc	ax
		mov	[bp+var_8], ax
		mov	[bp+var_A], 1
		jmp	short loc_21F71
; ---------------------------------------------------------------------------

loc_21F6E:				; CODE XREF: UpDateInfo+430j
		inc	[bp+var_A]

loc_21F71:				; CODE XREF: UpDateInfo+3D1j
		les	di, WIcons
		push	es
		imul	ax, [bp+var_A],	0E0h
		add	ax, [bp+var_8]
		xor	dx, dx
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, [bp+var_A]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 1Dh
		sbb	dx, 0
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		shl	di, 2
		mov	cx, [di-6E84h]
		mov	bx, [di-6E82h]
		mov	ax, VideoCX
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		sub	ax, 36h	; '6'
		sbb	dx, 0
		push	dx
		push	ax
		push	0
		push	0Dh
		call	MovsEW
		cmp	[bp+var_A], 17h
		jnz	short loc_21F6E

loc_21FCD:				; CODE XREF: UpDateInfo+351j
		cmp	InfoPage, 0
		jnz	short loc_21FD7
		jmp	locret_2212A
; ---------------------------------------------------------------------------

loc_21FD7:				; CODE XREF: UpDateInfo+437j
		cmp	CLIENT,	0
		jnz	short loc_21FE8
		cmp	SERVER,	0
		jnz	short loc_21FE8
		jmp	locret_2212A
; ---------------------------------------------------------------------------

loc_21FE8:				; CODE XREF: UpDateInfo+441j
					; UpDateInfo+448j
		xor	ax, ax
		mov	[bp+var_A], ax
		jmp	short loc_21FF2
; ---------------------------------------------------------------------------

loc_21FEF:				; CODE XREF: UpDateInfo+58Cj
		inc	[bp+var_A]

loc_21FF2:				; CODE XREF: UpDateInfo+452j
		imul	di, [bp+var_A],	58h
		cmp	byte ptr [di-0FD6h], 0
		jnz	short loc_22000
		jmp	loc_22121
; ---------------------------------------------------------------------------

loc_22000:				; CODE XREF: UpDateInfo+460j
		imul	di, [bp+var_A],	58h
		mov	di, [di-0FA0h]
		mov	al, [di+28Dh]
		xor	ah, ah
		add	ax, 5
		mov	[bp+var_8], ax
		imul	ax, [bp+var_8],	101h
		mov	[bp+var_8], ax
		xor	ax, ax
		mov	[bp+var_C], ax
		jmp	short loc_22026
; ---------------------------------------------------------------------------

loc_22023:				; CODE XREF: UpDateInfo+4E5j
		inc	[bp+var_C]

loc_22026:				; CODE XREF: UpDateInfo+486j
		push	VgaSeg
		mov	ax, [bp+var_C]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 29h	; ')'
		sbb	dx, 0
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		shl	di, 2
		mov	cx, [di-6E84h]
		mov	bx, [di-6E82h]
		imul	ax, [bp+var_A],	28h
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoCX
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		sub	ax, 9Ch	; 'œ'
		sbb	dx, 0
		push	dx
		push	ax
		push	0
		push	10h
		push	[bp+var_8]
		call	StosEW
		cmp	[bp+var_C], 6
		jnz	short loc_22023
		mov	ax, MyNetN
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_A]
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_220DD
		cmp	ax, cx
		jnz	short loc_220DD
		imul	ax, [bp+var_A],	28h
		mov	dx, ax
		mov	ax, VideoCX
		sub	ax, 96h	; '–'
		add	ax, dx
		push	ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 28h	; '('
		sbb	dx, 0
		push	ax
		lea	di, [bp+var_10E]
		push	ss
		push	di
		mov	di, offset asc_21B97 ; "###"
		push	cs
		push	di
		imul	di, [bp+var_A],	58h
		mov	al, [di-0FB0h]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	PutWLitString
		jmp	short loc_22121
; ---------------------------------------------------------------------------

loc_220DD:				; CODE XREF: UpDateInfo+4F6j
					; UpDateInfo+4FAj
		imul	ax, [bp+var_A],	28h
		mov	dx, ax
		mov	ax, VideoCX
		sub	ax, 96h	; '–'
		add	ax, dx
		push	ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 28h	; '('
		sbb	dx, 0
		push	ax
		lea	di, [bp+var_10E]
		push	ss
		push	di
		mov	di, offset asc_21B97 ; "###"
		push	cs
		push	di
		imul	di, [bp+var_A],	58h
		mov	al, [di-0FB0h]
		xor	ah, ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	PutLitString

loc_22121:				; CODE XREF: UpDateInfo+462j
					; UpDateInfo+540j
		cmp	[bp+var_A], 7
		jz	short locret_2212A
		jmp	loc_21FEF
; ---------------------------------------------------------------------------

locret_2212A:				; CODE XREF: UpDateInfo+439j
					; UpDateInfo+44Aj ...
		leave
		retf
UpDateInfo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScrollGun	proc far		; CODE XREF: EndPaint+4P

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	6, 0
		cmp	WeaponPhase, 1
		jnz	short loc_2213A
		jmp	locret_221D0
; ---------------------------------------------------------------------------

loc_2213A:				; CODE XREF: ScrollGun+9j
		mov	ax, t1
		shr	ax, 1
		add	ax, t1
		mov	[bp+var_2], ax
		cmp	GunShift, 0
		ja	short loc_22150
		jmp	locret_221D0
; ---------------------------------------------------------------------------

loc_22150:				; CODE XREF: ScrollGun+1Fj
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	ax, es:[di+48h]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, LastGunNumber
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_221AB
		cmp	ax, cx
		jnz	short loc_221AB
		mov	ax, es:[di+48h]
		add	di, ax
		cmp	byte ptr es:[di+2Dh], 0
		jbe	short loc_221AB
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, GunShift
		xor	dx, dx
		cmp	dx, bx
		jl	short loc_2219B
		jg	short loc_221A2
		cmp	ax, cx
		ja	short loc_221A2

loc_2219B:				; CODE XREF: ScrollGun+67j
		xor	ax, ax
		mov	GunShift, ax
		jmp	short loc_221A9
; ---------------------------------------------------------------------------

loc_221A2:				; CODE XREF: ScrollGun+69j
					; ScrollGun+6Dj
		mov	ax, [bp+var_2]
		sub	GunShift, ax

loc_221A9:				; CODE XREF: ScrollGun+74j
		jmp	short locret_221D0
; ---------------------------------------------------------------------------

loc_221AB:				; CODE XREF: ScrollGun+45j
					; ScrollGun+49j ...
		mov	ax, [bp+var_2]
		add	GunShift, ax
		cmp	GunShift, 3Eh ;	'>'
		jbe	short loc_221BF
		mov	GunShift, 3Eh ;	'>'

loc_221BF:				; CODE XREF: ScrollGun+8Bj
		cmp	GunShift, 3Eh ;	'>'
		jnz	short locret_221D0
		les	di, [bp+var_6]
		assume es:nothing
		mov	ax, es:[di+48h]
		mov	LastGunNumber, ax

locret_221D0:				; CODE XREF: ScrollGun+Bj
					; ScrollGun+21j ...
		leave
		retf
ScrollGun	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InsertByte	proc near		; CODE XREF: SavePicture+24Dp
					; SavePicture+256p ...

var_1002	= word ptr -1002h
arg_0		= word ptr  4
arg_2		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	dl, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+var_1002]
		add	di, ax
		mov	byte ptr ss:[di+var_1002+1], dl
		mov	di, [bp+arg_0]
		inc	ss:[di+var_1002]
		cmp	ss:[di+var_1002], 1000h
		jbe	short locret_2221D
		add	di, 0EF76h
		push	ss
		push	di
		mov	di, [bp+arg_0]
		add	di, 0F000h
		push	ss
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, [bp+arg_0]
		mov	ss:[di+var_1002], 1

locret_2221D:				; CODE XREF: InsertByte+24j
		leave
		retn	4
InsertByte	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetB		proc near		; CODE XREF: SavePicture+19Dp
					; SavePicture+1AAp ...

arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_2]
		mov	ax, [bp+arg_4]
		shl	ax, 3
		add	ax, VgaSeg
		mov	es, ax
		mov	al, es:[bx]
		leave
		retn	6
GetB		endp

; ---------------------------------------------------------------------------
a@_18		db 3,'@##'              ; DATA XREF: SavePicture+1Fo
aChasm_1	db 5,'chasm'            ; DATA XREF: SavePicture+Fo
a_pcx		db 4,'.pcx'             ; DATA XREF: SavePicture+3Bo
aSaved_		db 9,' saved. ('        ; DATA XREF: SavePicture+365o
a__6		db 5,'##.##'            ; DATA XREF: SavePicture+375o
aS_		db 3,'s.)'              ; DATA XREF: SavePicture+39Eo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SavePicture	proc far		; CODE XREF: DoGame:loc_C53DP

var_1310	= byte ptr -1310h
var_1210	= byte ptr -1210h
var_1114	= word ptr -1114h
var_1112	= word ptr -1112h
var_1110	= byte ptr -1110h
var_110F	= byte ptr -110Fh
var_110E	= byte ptr -110Eh
var_110D	= byte ptr -110Dh
var_110C	= word ptr -110Ch
var_110A	= word ptr -110Ah
var_1108	= word ptr -1108h
var_1106	= word ptr -1106h
var_1104	= word ptr -1104h
var_1101	= byte ptr -1101h
var_10CF	= byte ptr -10CFh
var_10CE	= word ptr -10CEh
var_10CC	= word ptr -10CCh
var_108F	= byte ptr -108Fh
var_108E	= word ptr -108Eh
var_108C	= word ptr -108Ch
var_108A	= byte ptr -108Ah
var_100A	= word ptr -100Ah
var_1008	= word ptr -1008h
var_1006	= word ptr -1006h
var_1004	= word ptr -1004h
var_1002	= word ptr -1002h
var_1000	= byte ptr -1000h

		enter	1310h, 0
		xor	ax, ax
		mov	CurTime, ax
		lea	di, [bp+var_1310]
		push	ss
		push	di
		mov	di, offset aChasm_1 ; "chasm"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_1210]
		push	ss
		push	di
		mov	di, offset a@_18 ; "@##"
		push	cs
		push	di
		mov	ax, CelSaved
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_pcx ; ".pcx"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		inc	CelSaved
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		mov	cx, VideoH
		mov	bx, word_44DA0
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	[bp+var_100A], ax
		mov	[bp+var_1008], dx
		lea	di, [bp+var_108A]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		lea	di, [bp+var_108A]
		push	ss
		push	di
		push	1
		call	@Rewrite$qm4File4Word ;	Rewrite(var f: File; recsize: Word)
		mov	[bp+var_1002], 1
		mov	[bp+var_1110], 0Ah
		mov	[bp+var_110F], 5
		mov	[bp+var_110E], 1
		mov	[bp+var_110D], 8
		xor	ax, ax
		mov	[bp+var_110C], ax
		xor	ax, ax
		mov	[bp+var_110A], ax
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		sub	ax, 1
		sbb	dx, 0
		mov	[bp+var_1108], ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 1
		sbb	dx, 0
		mov	[bp+var_1106], ax
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2233F
; ---------------------------------------------------------------------------

loc_2233B:				; CODE XREF: SavePicture+F0j
		inc	n__0

loc_2233F:				; CODE XREF: SavePicture+DCj
		mov	di, n__0
		mov	[bp+di+var_1101], 0FFh
		cmp	n__0, 2Fh ; '/'
		jnz	short loc_2233B
		xor	ax, ax
		mov	[bp+var_1104], ax
		xor	ax, ax
		mov	[bp-1102h], ax
		mov	[bp+var_10CF], 1
		mov	ax, word ptr VideoBPL
		mov	[bp+var_10CE], ax
		mov	[bp+var_10CC], 1
		lea	di, [bp+var_108A]
		push	ss
		push	di
		lea	di, [bp+var_1110]
		push	ss
		push	di
		push	80h ; '€'
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	ax, [bp+var_100A]
		mov	dx, [bp+var_1008]
		sub	ax, 1
		sbb	dx, 0
		mov	[bp+var_1114], ax
		mov	[bp+var_1112], dx
		xor	ax, ax
		xor	dx, dx
		cmp	dx, [bp+var_1112]
		jle	short loc_223A8
		jmp	loc_2251C
; ---------------------------------------------------------------------------

loc_223A8:				; CODE XREF: SavePicture+146j
		jl	short loc_223B3
		cmp	ax, [bp+var_1114]
		jbe	short loc_223B3
		jmp	loc_2251C
; ---------------------------------------------------------------------------

loc_223B3:				; CODE XREF: SavePicture:loc_223A8j
					; SavePicture+151j
		mov	[bp+var_1006], ax
		mov	[bp+var_1004], dx
		jmp	short loc_223C7
; ---------------------------------------------------------------------------

loc_223BD:				; CODE XREF: SavePicture+2B3j
					; SavePicture+2BCj
		add	[bp+var_1006], 1
		adc	[bp+var_1004], 0

loc_223C7:				; CODE XREF: SavePicture+15Ej
		mov	ax, [bp+var_100A]
		mov	dx, [bp+var_1008]
		sub	ax, 2
		sbb	dx, 0
		cmp	dx, [bp+var_1004]
		jg	short loc_223E9
		jge	short loc_223E0
		jmp	loc_224C8
; ---------------------------------------------------------------------------

loc_223E0:				; CODE XREF: SavePicture+17Ej
		cmp	ax, [bp+var_1006]
		ja	short loc_223E9
		jmp	loc_224C8
; ---------------------------------------------------------------------------

loc_223E9:				; CODE XREF: SavePicture+17Cj
					; SavePicture+187j
		mov	ax, [bp+var_1006]
		mov	dx, [bp+var_1004]
		add	ax, 1
		adc	dx, 0
		push	dx
		push	ax
		push	bp
		call	GetB
		push	ax
		push	[bp+var_1004]
		push	[bp+var_1006]
		push	bp
		call	GetB
		pop	dx
		cmp	al, dl
		jz	short loc_22412
		jmp	loc_224C8
; ---------------------------------------------------------------------------

loc_22412:				; CODE XREF: SavePicture+1B0j
		mov	[bp+var_108E], 1
		mov	[bp+var_108C], 0
		push	[bp+var_1004]
		push	[bp+var_1006]
		push	bp
		call	GetB
		mov	[bp+var_108F], al

loc_2242E:				; CODE XREF: SavePicture+22Dj
					; SavePicture+231j
		add	[bp+var_108E], 1
		adc	[bp+var_108C], 0
		mov	ax, [bp+var_1006]
		mov	dx, [bp+var_1004]
		add	ax, [bp+var_108E]
		adc	dx, [bp+var_108C]
		push	dx
		push	ax
		push	bp
		call	GetB
		cmp	al, [bp+var_108F]
		jnz	short loc_22490
		cmp	[bp+var_108C], 0
		jg	short loc_22490
		jl	short loc_22464
		cmp	[bp+var_108E], 3Fh ; '?'
		jnb	short loc_22490

loc_22464:				; CODE XREF: SavePicture+1FEj
		mov	ax, [bp+var_100A]
		mov	dx, [bp+var_1008]
		sub	ax, 2
		sbb	dx, 0
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_1006]
		mov	dx, [bp+var_1004]
		add	ax, [bp+var_108E]
		adc	dx, [bp+var_108C]
		cmp	dx, bx
		jg	short loc_22490
		jl	short loc_2242E
		cmp	ax, cx
		jbe	short loc_2242E

loc_22490:				; CODE XREF: SavePicture+1F5j
					; SavePicture+1FCj ...
		sub	[bp+var_108E], 1
		sbb	[bp+var_108C], 0
		mov	ax, [bp+var_108E]
		mov	dx, [bp+var_108C]
		add	ax, 0C1h ; 'Á'
		adc	dx, 0
		push	ax
		push	bp
		call	InsertByte
		mov	al, [bp+var_108F]
		push	ax
		push	bp
		call	InsertByte
		mov	ax, [bp+var_108E]
		mov	dx, [bp+var_108C]
		add	[bp+var_1006], ax
		adc	[bp+var_1004], dx
		jmp	short loc_22502
; ---------------------------------------------------------------------------

loc_224C8:				; CODE XREF: SavePicture+180j
					; SavePicture+189j ...
		push	[bp+var_1004]
		push	[bp+var_1006]
		push	bp
		call	GetB
		cmp	al, 0C0h ; 'À'
		jb	short loc_224F1
		push	0FFC1h
		push	bp
		call	InsertByte
		push	[bp+var_1004]
		push	[bp+var_1006]
		push	bp
		call	GetB
		push	ax
		push	bp
		call	InsertByte
		jmp	short loc_22502
; ---------------------------------------------------------------------------

loc_224F1:				; CODE XREF: SavePicture+279j
		push	[bp+var_1004]
		push	[bp+var_1006]
		push	bp
		call	GetB
		push	ax
		push	bp
		call	InsertByte

loc_22502:				; CODE XREF: SavePicture+269j
					; SavePicture+292j
		mov	ax, [bp+var_1006]
		mov	dx, [bp+var_1004]
		cmp	dx, [bp+var_1112]
		jz	short loc_22513
		jmp	loc_223BD
; ---------------------------------------------------------------------------

loc_22513:				; CODE XREF: SavePicture+2B1j
		cmp	ax, [bp+var_1114]
		jz	short loc_2251C
		jmp	loc_223BD
; ---------------------------------------------------------------------------

loc_2251C:				; CODE XREF: SavePicture+148j
					; SavePicture+153j ...
		lea	di, [bp+var_108A]
		push	ss
		push	di
		lea	di, [bp+var_1000]
		push	ss
		push	di
		mov	ax, [bp+var_1002]
		dec	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	n__0, 1
		jmp	short loc_22543
; ---------------------------------------------------------------------------

loc_2253F:				; CODE XREF: SavePicture+314j
		inc	n__0

loc_22543:				; CODE XREF: SavePicture+2E0j
		mov	ax, ds
		push	ax
		mov	ax, n__0
		dec	ax
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0DF60h
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		pop	es
		mov	al, es:[di]
		xor	ah, ah
		shl	ax, 2
		mov	di, n__0
		mov	byte ptr [bp+di+var_1002+1], al
		cmp	n__0, 300h
		jnz	short loc_2253F
		mov	[bp+var_108F], 0Ch
		lea	di, [bp+var_108A]
		push	ss
		push	di
		lea	di, [bp+var_108F]
		push	ss
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_108A]
		push	ss
		push	di
		lea	di, [bp+var_1000]
		push	ss
		push	di
		push	300h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_108A]
		push	ss
		push	di
		call	@Close$qm4File	; Close(var f: File)
		lea	di, [bp+var_1210]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aSaved_ ; " saved. ("
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_1310]
		push	ss
		push	di
		mov	di, offset a__6	; "##.##"
		push	cs
		push	di
		mov	ax, CurTime
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 88h	; 'ˆ'
		xor	si, si
		mov	di, 0C00h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aS_	; "s.)"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2
		leave
		retf
SavePicture	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InsertByte__0	proc near		; CODE XREF: SaveMPicture+237p
					; SaveMPicture+240p ...

var_1002	= word ptr -1002h
arg_0		= word ptr  4
arg_2		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	dl, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+var_1002]
		add	di, ax
		mov	byte ptr ss:[di+var_1002+1], dl
		mov	di, [bp+arg_0]
		inc	ss:[di+var_1002]
		cmp	ss:[di+var_1002], 1000h
		jbe	short locret_22657
		add	di, 0EF74h
		push	ss
		push	di
		mov	di, [bp+arg_0]
		add	di, 0F000h
		push	ss
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	di, [bp+arg_0]
		mov	ss:[di+var_1002], 1

locret_22657:				; CODE XREF: InsertByte__0+24j
		leave
		retn	4
InsertByte__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetB__0		proc near		; CODE XREF: SaveMPicture+187p
					; SaveMPicture+194p ...

var_1004	= word ptr -1004h
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_4]
		cmp	ax, [bp+var_1004]
		jz	short loc_2267B
		mov	[bp+var_1004], ax
		mov	dx, ax
		mov	cx, VESABankShift
		shl	dx, cl
		mov	ax, 4F05h
		mov	bx, 0
		int	10h		; - VIDEO - VESA SuperVGA BIOS -  VESA SuperVGA	BIOS - CPU VIDEO MEMORY	CONTROL
					; BL = 00h window A, 01h window	B
					; Return: AL = 4Fh function supported
					; AH = 00h successful, 01h failed
					; BH = subfunctionselect video memory window

loc_2267B:				; CODE XREF: GetB__0+Aj
		mov	bx, [bp+arg_2]
		mov	ax, SegA000
		mov	es, ax
		mov	al, es:[bx]
		leave
		retn	6
GetB__0		endp

; ---------------------------------------------------------------------------
a@_19		db 3,'@##'              ; DATA XREF: SaveMPicture+1Fo
aChasm_2	db 5,'chasm'            ; DATA XREF: SaveMPicture+Fo
a_pcx_0		db 4,'.pcx'             ; DATA XREF: SaveMPicture+3Bo
aSaved__0	db 9,' saved. ('        ; DATA XREF: SaveMPicture+34Fo
a__7		db 5,'##.##'            ; DATA XREF: SaveMPicture+35Fo
aS__0		db 3,'s.)'              ; DATA XREF: SaveMPicture+388o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SaveMPicture	proc far		; CODE XREF: DoGame+2C0P

var_1312	= byte ptr -1312h
var_1212	= byte ptr -1212h
var_1116	= word ptr -1116h
var_1114	= word ptr -1114h
var_1112	= byte ptr -1112h
var_1111	= byte ptr -1111h
var_1110	= byte ptr -1110h
var_110F	= byte ptr -110Fh
var_110E	= word ptr -110Eh
var_110C	= word ptr -110Ch
var_110A	= word ptr -110Ah
var_1108	= word ptr -1108h
var_1106	= word ptr -1106h
var_1103	= byte ptr -1103h
var_10D1	= byte ptr -10D1h
var_10D0	= word ptr -10D0h
var_10CE	= word ptr -10CEh
var_1091	= byte ptr -1091h
var_1090	= word ptr -1090h
var_108E	= word ptr -108Eh
var_108C	= byte ptr -108Ch
var_100C	= word ptr -100Ch
var_100A	= word ptr -100Ah
var_1008	= word ptr -1008h
var_1006	= word ptr -1006h
var_1004	= word ptr -1004h
var_1002	= word ptr -1002h
var_1000	= byte ptr -1000h

		enter	1312h, 0
		xor	ax, ax
		mov	CurTime, ax
		lea	di, [bp+var_1312]
		push	ss
		push	di
		mov	di, offset aChasm_2 ; "chasm"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_1212]
		push	ss
		push	di
		mov	di, offset a@_19 ; "@##"
		push	cs
		push	di
		mov	ax, CelSaved
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_pcx_0 ; ".pcx"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		inc	CelSaved
		mov	[bp+var_100C], 0E800h
		mov	[bp+var_100A], 3
		lea	di, [bp+var_108C]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		lea	di, [bp+var_108C]
		push	ss
		push	di
		push	1
		call	@Rewrite$qm4File4Word ;	Rewrite(var f: File; recsize: Word)
		mov	[bp+var_1002], 1
		mov	[bp+var_1112], 0Ah
		mov	[bp+var_1111], 5
		mov	[bp+var_1110], 1
		mov	[bp+var_110F], 8
		xor	ax, ax
		mov	[bp+var_110E], ax
		xor	ax, ax
		mov	[bp+var_110C], ax
		mov	[bp+var_110A], 27Fh
		mov	[bp+var_1108], 18Fh
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_22769
; ---------------------------------------------------------------------------

loc_22765:				; CODE XREF: SaveMPicture+CAj
		inc	n__0

loc_22769:				; CODE XREF: SaveMPicture+B6j
		mov	di, n__0
		mov	[bp+di+var_1103], 0FFh
		cmp	n__0, 2Fh ; '/'
		jnz	short loc_22765
		xor	ax, ax
		mov	[bp+var_1106], ax
		xor	ax, ax
		mov	[bp-1104h], ax
		mov	[bp+var_10D1], 1
		mov	ax, word ptr VideoBPL
		mov	[bp+var_10D0], ax
		mov	[bp+var_10CE], 1
		mov	[bp+var_1004], 0
		mov	ax, 4F05h
		mov	bx, 0
		xor	dx, dx
		int	10h		; - VIDEO - VESA SuperVGA BIOS -  VESA SuperVGA	BIOS - CPU VIDEO MEMORY	CONTROL
					; BL = 00h window A, 01h window	B
					; Return: AL = 4Fh function supported
					; AH = 00h successful, 01h failed
					; BH = subfunctionselect video memory window
		lea	di, [bp+var_108C]
		push	ss
		push	di
		lea	di, [bp+var_1112]
		push	ss
		push	di
		push	80h ; '€'
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	ax, [bp+var_100C]
		mov	dx, [bp+var_100A]
		sub	ax, 1
		sbb	dx, 0
		mov	[bp+var_1116], ax
		mov	[bp+var_1114], dx
		xor	ax, ax
		xor	dx, dx
		cmp	dx, [bp+var_1114]
		jle	short loc_227E2
		jmp	loc_22956
; ---------------------------------------------------------------------------

loc_227E2:				; CODE XREF: SaveMPicture+130j
		jl	short loc_227ED
		cmp	ax, [bp+var_1116]
		jbe	short loc_227ED
		jmp	loc_22956
; ---------------------------------------------------------------------------

loc_227ED:				; CODE XREF: SaveMPicture:loc_227E2j
					; SaveMPicture+13Bj
		mov	[bp+var_1008], ax
		mov	[bp+var_1006], dx
		jmp	short loc_22801
; ---------------------------------------------------------------------------

loc_227F7:				; CODE XREF: SaveMPicture+29Dj
					; SaveMPicture+2A6j
		add	[bp+var_1008], 1
		adc	[bp+var_1006], 0

loc_22801:				; CODE XREF: SaveMPicture+148j
		mov	ax, [bp+var_100C]
		mov	dx, [bp+var_100A]
		sub	ax, 2
		sbb	dx, 0
		cmp	dx, [bp+var_1006]
		jg	short loc_22823
		jge	short loc_2281A
		jmp	loc_22902
; ---------------------------------------------------------------------------

loc_2281A:				; CODE XREF: SaveMPicture+168j
		cmp	ax, [bp+var_1008]
		ja	short loc_22823
		jmp	loc_22902
; ---------------------------------------------------------------------------

loc_22823:				; CODE XREF: SaveMPicture+166j
					; SaveMPicture+171j
		mov	ax, [bp+var_1008]
		mov	dx, [bp+var_1006]
		add	ax, 1
		adc	dx, 0
		push	dx
		push	ax
		push	bp
		call	GetB__0
		push	ax
		push	[bp+var_1006]
		push	[bp+var_1008]
		push	bp
		call	GetB__0
		pop	dx
		cmp	al, dl
		jz	short loc_2284C
		jmp	loc_22902
; ---------------------------------------------------------------------------

loc_2284C:				; CODE XREF: SaveMPicture+19Aj
		mov	[bp+var_1090], 1
		mov	[bp+var_108E], 0
		push	[bp+var_1006]
		push	[bp+var_1008]
		push	bp
		call	GetB__0
		mov	[bp+var_1091], al

loc_22868:				; CODE XREF: SaveMPicture+217j
					; SaveMPicture+21Bj
		add	[bp+var_1090], 1
		adc	[bp+var_108E], 0
		mov	ax, [bp+var_1008]
		mov	dx, [bp+var_1006]
		add	ax, [bp+var_1090]
		adc	dx, [bp+var_108E]
		push	dx
		push	ax
		push	bp
		call	GetB__0
		cmp	al, [bp+var_1091]
		jnz	short loc_228CA
		cmp	[bp+var_108E], 0
		jg	short loc_228CA
		jl	short loc_2289E
		cmp	[bp+var_1090], 3Fh ; '?'
		jnb	short loc_228CA

loc_2289E:				; CODE XREF: SaveMPicture+1E8j
		mov	ax, [bp+var_100C]
		mov	dx, [bp+var_100A]
		sub	ax, 2
		sbb	dx, 0
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_1008]
		mov	dx, [bp+var_1006]
		add	ax, [bp+var_1090]
		adc	dx, [bp+var_108E]
		cmp	dx, bx
		jg	short loc_228CA
		jl	short loc_22868
		cmp	ax, cx
		jbe	short loc_22868

loc_228CA:				; CODE XREF: SaveMPicture+1DFj
					; SaveMPicture+1E6j ...
		sub	[bp+var_1090], 1
		sbb	[bp+var_108E], 0
		mov	ax, [bp+var_1090]
		mov	dx, [bp+var_108E]
		add	ax, 0C1h ; 'Á'
		adc	dx, 0
		push	ax
		push	bp
		call	InsertByte__0
		mov	al, [bp+var_1091]
		push	ax
		push	bp
		call	InsertByte__0
		mov	ax, [bp+var_1090]
		mov	dx, [bp+var_108E]
		add	[bp+var_1008], ax
		adc	[bp+var_1006], dx
		jmp	short loc_2293C
; ---------------------------------------------------------------------------

loc_22902:				; CODE XREF: SaveMPicture+16Aj
					; SaveMPicture+173j ...
		push	[bp+var_1006]
		push	[bp+var_1008]
		push	bp
		call	GetB__0
		cmp	al, 0C0h ; 'À'
		jb	short loc_2292B
		push	0FFC1h
		push	bp
		call	InsertByte__0
		push	[bp+var_1006]
		push	[bp+var_1008]
		push	bp
		call	GetB__0
		push	ax
		push	bp
		call	InsertByte__0
		jmp	short loc_2293C
; ---------------------------------------------------------------------------

loc_2292B:				; CODE XREF: SaveMPicture+263j
		push	[bp+var_1006]
		push	[bp+var_1008]
		push	bp
		call	GetB__0
		push	ax
		push	bp
		call	InsertByte__0

loc_2293C:				; CODE XREF: SaveMPicture+253j
					; SaveMPicture+27Cj
		mov	ax, [bp+var_1008]
		mov	dx, [bp+var_1006]
		cmp	dx, [bp+var_1114]
		jz	short loc_2294D
		jmp	loc_227F7
; ---------------------------------------------------------------------------

loc_2294D:				; CODE XREF: SaveMPicture+29Bj
		cmp	ax, [bp+var_1116]
		jz	short loc_22956
		jmp	loc_227F7
; ---------------------------------------------------------------------------

loc_22956:				; CODE XREF: SaveMPicture+132j
					; SaveMPicture+13Dj ...
		lea	di, [bp+var_108C]
		push	ss
		push	di
		lea	di, [bp+var_1000]
		push	ss
		push	di
		mov	ax, [bp+var_1002]
		dec	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		mov	n__0, 1
		jmp	short loc_2297D
; ---------------------------------------------------------------------------

loc_22979:				; CODE XREF: SaveMPicture+2FEj
		inc	n__0

loc_2297D:				; CODE XREF: SaveMPicture+2CAj
		mov	ax, ds
		push	ax
		mov	ax, n__0
		dec	ax
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0DF60h
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		pop	es
		mov	al, es:[di]
		xor	ah, ah
		shl	ax, 2
		mov	di, n__0
		mov	byte ptr [bp+di+var_1002+1], al
		cmp	n__0, 300h
		jnz	short loc_22979
		mov	[bp+var_1091], 0Ch
		lea	di, [bp+var_108C]
		push	ss
		push	di
		lea	di, [bp+var_1091]
		push	ss
		push	di
		push	1
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_108C]
		push	ss
		push	di
		lea	di, [bp+var_1000]
		push	ss
		push	di
		push	300h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockWrite$qm4Filem3Any4Wordm4Word ; BlockWrite(var f:	File; var buf; count: Word;var result: Word)
		lea	di, [bp+var_108C]
		push	ss
		push	di
		call	@Close$qm4File	; Close(var f: File)
		lea	di, [bp+var_1212]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aSaved__0 ; " saved.	("
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_1312]
		push	ss
		push	di
		mov	di, offset a__7	; "##.##"
		push	cs
		push	di
		mov	ax, CurTime
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 88h	; 'ˆ'
		xor	si, si
		mov	di, 0C00h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aS__0 ; "s.)"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2
		leave
		retf
SaveMPicture	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetJoyStatus	proc far		; CODE XREF: ProcessMenu+10P
					; ProcessDevices+206P

var_1		= byte ptr -1

		enter	2, 0
		cmp	JoyStick, 0
		jnz	short loc_22A54
		jmp	locret_22BDF
; ---------------------------------------------------------------------------

loc_22A54:				; CODE XREF: GetJoyStatus+9j
		mov	dx, 201h
		in	al, dx		; Game I/O port
					; bits 0-3: Coordinates	(resistive, time-dependent inputs)
					; bits 4-7: Buttons/Triggers (digital inputs)
		mov	[bp+var_1], al
		cmp	MsKeyA,	0
		jnz	short loc_22A6F
		mov	al, [bp+var_1]
		and	al, 10h
		or	al, al
		jz	short loc_22A6F
		mov	al, 0
		jmp	short loc_22A71
; ---------------------------------------------------------------------------

loc_22A6F:				; CODE XREF: GetJoyStatus+1Aj
					; GetJoyStatus+23j
		mov	al, 1

loc_22A71:				; CODE XREF: GetJoyStatus+27j
		mov	MsKeyA,	al
		cmp	MsKeyB,	0
		jnz	short loc_22A88
		mov	al, [bp+var_1]
		and	al, 20h
		or	al, al
		jz	short loc_22A88
		mov	al, 0
		jmp	short loc_22A8A
; ---------------------------------------------------------------------------

loc_22A88:				; CODE XREF: GetJoyStatus+33j
					; GetJoyStatus+3Cj
		mov	al, 1

loc_22A8A:				; CODE XREF: GetJoyStatus+40j
		mov	MsKeyB,	al
		push	14h
		call	Delay
		call	GetJoyX
		push	14h
		call	Delay
		call	GetJoyY
		mov	ax, JoyX
		cmp	ax, JoyMnX
		jge	short loc_22AB4
		mov	ax, JoyX
		mov	JoyMnX,	ax

loc_22AB4:				; CODE XREF: GetJoyStatus+66j
		mov	ax, JoyY
		cmp	ax, JoyMnY
		jge	short loc_22AC3
		mov	ax, JoyY
		mov	JoyMnY,	ax

loc_22AC3:				; CODE XREF: GetJoyStatus+75j
		mov	ax, JoyX
		cmp	ax, JoyMxX
		jle	short loc_22AD2
		mov	ax, JoyX
		mov	JoyMxX,	ax

loc_22AD2:				; CODE XREF: GetJoyStatus+84j
		mov	ax, JoyY
		cmp	ax, JoyMxY
		jle	short loc_22AE1
		mov	ax, JoyY
		mov	JoyMxY,	ax

loc_22AE1:				; CODE XREF: GetJoyStatus+93j
		mov	ax, JoyY
		sub	ax, JoyCrY
		mov	JoyY, ax
		mov	ax, JoyX
		sub	ax, JoyCrX
		mov	JoyX, ax
		cmp	JoyX, 0
		jle	short loc_22B23
		mov	ax, JoyMxX
		sub	ax, JoyCrX
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		push	dx
		push	ax
		mov	ax, JoyX
		cwd
		mov	cx, 19Ch
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	JoyX, ax

loc_22B23:				; CODE XREF: GetJoyStatus+B4j
		cmp	JoyX, 0
		jge	short loc_22B51
		mov	ax, JoyMnX
		sub	ax, JoyCrX
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		push	dx
		push	ax
		mov	ax, JoyX
		cwd
		mov	cx, 19Ch
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	JoyX, ax

loc_22B51:				; CODE XREF: GetJoyStatus+E2j
		cmp	JoyY, 0
		jle	short loc_22B7F
		mov	ax, JoyMxY
		sub	ax, JoyCrY
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		push	dx
		push	ax
		mov	ax, JoyY
		cwd
		mov	cx, 19Ch
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	JoyY, ax

loc_22B7F:				; CODE XREF: GetJoyStatus+110j
		cmp	JoyY, 0
		jge	short loc_22BAD
		mov	ax, JoyMnY
		sub	ax, JoyCrY
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		push	dx
		push	ax
		mov	ax, JoyY
		cwd
		mov	cx, 19Ch
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	JoyY, ax

loc_22BAD:				; CODE XREF: GetJoyStatus+13Ej
		mov	ax, JoyX
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_22BBF
		xor	ax, ax
		mov	JoyX, ax

loc_22BBF:				; CODE XREF: GetJoyStatus+172j
		mov	ax, JoyY
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 20h	; ' '
		jge	short loc_22BD1
		xor	ax, ax
		mov	JoyY, ax

loc_22BD1:				; CODE XREF: GetJoyStatus+184j
		mov	ax, JoyX
		add	MsRv, ax
		mov	ax, JoyY
		add	MsVV, ax

locret_22BDF:				; CODE XREF: GetJoyStatus+Bj
		leave
		retf
GetJoyStatus	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckJoyStick	proc far		; CODE XREF: PROGRAM+669P
		push	bp
		mov	bp, sp
		mov	dx, 201h
		in	al, dx		; Game I/O port
					; bits 0-3: Coordinates	(resistive, time-dependent inputs)
					; bits 4-7: Buttons/Triggers (digital inputs)
		xor	ah, ah
		mov	w, ax
		push	14h
		call	Delay
		call	GetJoyX
		push	14h
		call	Delay
		call	GetJoyY
		cmp	JoyX, 7D00h
		jz	short locret_22C1A
		cmp	JoyY, 7D00h
		jz	short locret_22C1A
		mov	JoyStick, 1

locret_22C1A:				; CODE XREF: CheckJoyStick+2Aj
					; CheckJoyStick+32j
		leave
		retf
CheckJoyStick	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitJoyStick	proc far		; CODE XREF: PROGRAM+D24P
		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	JoyCrX,	ax
		xor	ax, ax
		mov	JoyCrY,	ax
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_22C34
; ---------------------------------------------------------------------------

loc_22C30:				; CODE XREF: InitJoyStick+73j
		inc	n__0

loc_22C34:				; CODE XREF: InitJoyStick+12j
		mov	dx, 201h
		in	al, dx		; Game I/O port
					; bits 0-3: Coordinates	(resistive, time-dependent inputs)
					; bits 4-7: Buttons/Triggers (digital inputs)
		xor	ah, ah
		mov	w, ax
		mov	ax, w
		and	ax, 10h
		or	ax, ax
		mov	al, 0
		jnz	short loc_22C4A
		inc	ax

loc_22C4A:				; CODE XREF: InitJoyStick+2Bj
		mov	MsKeyA,	al
		mov	ax, w
		and	ax, 20h
		or	ax, ax
		mov	al, 0
		jnz	short loc_22C5A
		inc	ax

loc_22C5A:				; CODE XREF: InitJoyStick+3Bj
		mov	MsKeyB,	al
		push	14h
		call	Delay
		call	GetJoyX
		push	14h
		call	Delay
		call	GetJoyY
		mov	ax, JoyX
		add	JoyCrX,	ax
		mov	ax, JoyY
		add	JoyCrY,	ax
		push	64h ; 'd'
		call	Delay
		cmp	n__0, 0Fh
		jnz	short loc_22C30
		mov	ax, JoyCrX
		shr	ax, 4
		mov	JoyCrX,	ax
		mov	ax, JoyCrY
		shr	ax, 4
		mov	JoyCrY,	ax
		mov	ax, JoyCrX
		cwd
		mov	cx, 2
		idiv	cx
		mov	JoyMnX,	ax
		mov	ax, JoyCrY
		cwd
		mov	cx, 2
		idiv	cx
		mov	JoyMnY,	ax
		mov	ax, JoyCrX
		add	ax, JoyMnX
		mov	JoyMxX,	ax
		mov	ax, JoyCrY
		add	ax, JoyMnY
		mov	JoyMxY,	ax
		leave
		retf
InitJoyStick	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetMouseStatus	proc far		; CODE XREF: ProcessMenu+BP
					; ProcessDevices:loc_A471P ...
		push	bp
		mov	bp, sp
		cmp	MouseD,	0
		jz	short loc_22CE4
		mov	ax, word ptr PInfoStruct
		or	ax, word ptr PInfoStruct+2
		jnz	short loc_22D0A

loc_22CE4:				; CODE XREF: GetMouseStatus+8j
		xor	ax, ax
		mov	MsRv, ax
		xor	ax, ax
		mov	MsVV, ax
		xor	ax, ax
		mov	msrvi, ax
		xor	ax, ax
		mov	Msvvi, ax
		mov	MsKeyA,	0
		mov	MsKeyB,	0
		mov	MsKeyC,	0
		jmp	locret_22E2A
; ---------------------------------------------------------------------------

loc_22D0A:				; CODE XREF: GetMouseStatus+11j
		call	getmousestate
		les	di, PInfoStruct
		mov	ax, es:[di+188h]
		mov	MsX, ax
		les	di, PInfoStruct
		mov	ax, es:[di+18Ah]
		mov	MsY, ax
		cmp	LastMouseX, 0
		jnz	short loc_22D41
		cmp	LastMouseY, 0
		jnz	short loc_22D41
		mov	ax, MsX
		mov	LastMouseX, ax
		mov	ax, MsY
		mov	LastMouseY, ax

loc_22D41:				; CODE XREF: GetMouseStatus+5Bj
					; GetMouseStatus+62j
		cmp	RecordDemo, 0
		jz	short loc_22D9C
		mov	al, MSsens
		xor	ah, ah
		add	ax, 4
		mov	dx, ax
		mov	ax, MsX
		sub	ax, LastMouseX
		mul	dx
		cwd
		mov	cx, 2
		idiv	cx
		mov	bx, ax
		mov	ax, MsRv
		cwd
		mov	cx, 2
		idiv	cx
		add	ax, bx
		mov	MsRv, ax
		mov	al, MSsens
		xor	ah, ah
		add	ax, 4
		mov	dx, ax
		mov	ax, MsY
		sub	ax, LastMouseY
		mul	dx
		cwd
		mov	cx, 2
		idiv	cx
		mov	bx, ax
		mov	ax, MsVV
		cwd
		mov	cx, 2
		idiv	cx
		add	ax, bx
		mov	MsVV, ax
		jmp	short loc_22DEE
; ---------------------------------------------------------------------------

loc_22D9C:				; CODE XREF: GetMouseStatus+75j
		mov	al, MSsens
		xor	ah, ah
		add	ax, 6
		mov	dx, ax
		mov	ax, MsX
		sub	ax, LastMouseX
		mul	dx
		cwd
		mov	cx, 2
		idiv	cx
		mov	bx, ax
		mov	ax, MsRv
		cwd
		mov	cx, 4
		idiv	cx
		add	ax, bx
		mov	MsRv, ax
		mov	al, MSsens
		xor	ah, ah
		add	ax, 4
		mov	dx, ax
		mov	ax, MsY
		sub	ax, LastMouseY
		mul	dx
		cwd
		mov	cx, 2
		idiv	cx
		mov	bx, ax
		mov	ax, MsVV
		cwd
		mov	cx, 2
		idiv	cx
		add	ax, bx
		mov	MsVV, ax

loc_22DEE:				; CODE XREF: GetMouseStatus+C9j
		mov	ax, MsX
		mov	LastMouseX, ax
		mov	ax, MsY
		mov	LastMouseY, ax
		mov	ax, MsButt
		and	ax, 1
		or	ax, ax
		mov	al, 0
		jz	short loc_22E07
		inc	ax

loc_22E07:				; CODE XREF: GetMouseStatus+133j
		mov	MsKeyA,	al
		mov	ax, MsButt
		and	ax, 2
		or	ax, ax
		mov	al, 0
		jz	short loc_22E17
		inc	ax

loc_22E17:				; CODE XREF: GetMouseStatus+143j
		mov	MsKeyB,	al
		mov	ax, MsButt
		and	ax, 4
		or	ax, ax
		mov	al, 0
		jz	short loc_22E27
		inc	ax

loc_22E27:				; CODE XREF: GetMouseStatus+153j
		mov	MsKeyC,	al

locret_22E2A:				; CODE XREF: GetMouseStatus+36j
		leave
		retf
GetMouseStatus	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FillStartInfo	proc far		; CODE XREF: PROGRAM:loc_EF6BP
					; PROGRAM+DF2P	...

var_8		= word ptr -8
var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	8, 0
		imul	di, MyNetN, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	ax, WeaponsCount
		mov	[bp+var_8], ax
		mov	ax, 1
		cmp	ax, [bp+var_8]
		jg	short loc_22E6C
		mov	[bp+var_2], ax
		jmp	short loc_22E57
; ---------------------------------------------------------------------------

loc_22E54:				; CODE XREF: FillStartInfo+3Ej
		inc	[bp+var_2]

loc_22E57:				; CODE XREF: FillStartInfo+26j
		mov	ax, [bp+var_2]
		les	di, [bp+var_6]
		assume es:nothing
		add	di, ax
		mov	byte ptr es:[di+2Dh], 0
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jnz	short loc_22E54

loc_22E6C:				; CODE XREF: FillStartInfo+21j
		mov	al, byte_446B8
		les	di, [bp+var_6]
		mov	es:[di+2Eh], al
		mov	word ptr es:[di+28h], 64h ; 'd'
		mov	byte ptr es:[di+25h], 41h ; 'A'
		mov	byte ptr es:[di+27h], 0
		mov	word ptr es:[di+48h], 1
		mov	LastGunNumber, 1
		mov	GunShift, 2Eh ;	'.'
		xor	ax, ax
		mov	es:[di+0Eh], ax
		leave
		retf
FillStartInfo	endp

; ---------------------------------------------------------------------------
aKill		db 4,'KILL'             ; DATA XREF: InitMessageSystem+1Co
aAmmo		db 4,'AMMO'             ; DATA XREF: InitMessageSystem+2Eo
aWeapon		db 6,'WEAPON'           ; DATA XREF: InitMessageSystem+44o
aChojin_0	db 6,'CHOJIN'           ; DATA XREF: InitMessageSystem+5Ao

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitMessageSystem proc far		; CODE XREF: PROGRAM+24EP
		push	bp
		mov	bp, sp
		mov	HistCnt, 4
		mov	CurHist, 5
		mov	di, offset ConsHistory
		push	ds
		push	di
		push	0A00h
		call	GetMem16
		mov	di, offset aKill ; "KILL"
		push	cs
		push	di
		les	di, ConsHistory
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset aAmmo ; "AMMO"
		push	cs
		push	di
		les	di, ConsHistory
		add	di, 28h	; '('
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset aWeapon ; "WEAPON"
		push	cs
		push	di
		les	di, ConsHistory
		add	di, 50h	; 'P'
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset aChojin_0 ; "CHOJIN"
		push	cs
		push	di
		les	di, ConsHistory
		add	di, 78h	; 'x'
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		leave
		retf
InitMessageSystem endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RemoveLight	proc far		; CODE XREF: DoneChanges+AAP
					; Blow3dObjAt+398P

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Eh, 0
		mov	[bp+var_4], 0C8h ; 'È'
		mov	[bp+var_6], 0FFFFh
		mov	ax, LtCount
		dec	ax
		mov	[bp+var_A], ax
		xor	ax, ax
		cmp	ax, [bp+var_A]
		jg	short loc_22F92
		mov	[bp+var_8], ax
		jmp	short loc_22F4E
; ---------------------------------------------------------------------------

loc_22F4B:				; CODE XREF: RemoveLight+66j
		inc	[bp+var_8]

loc_22F4E:				; CODE XREF: RemoveLight+1Fj
		imul	ax, [bp+var_8],	0Ch
		les	di, Lights
		add	di, ax
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_0]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, es:[di]
		sub	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jge	short loc_22F8A
		mov	ax, [bp+var_2]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_8]
		mov	[bp+var_6], ax

loc_22F8A:				; CODE XREF: RemoveLight+52j
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_A]
		jnz	short loc_22F4B

loc_22F92:				; CODE XREF: RemoveLight+1Aj
		cmp	[bp+var_6], 0FFFFh
		jnz	short loc_22F9A
		jmp	short locret_22FF9
; ---------------------------------------------------------------------------

loc_22F9A:				; CODE XREF: RemoveLight+6Cj
		imul	ax, [bp+var_6],	0Ch
		les	di, Lights
		add	di, ax
		mov	ax, es:[di]
		add	ax, 20h	; ' '
		shr	ax, 6
		push	ax
		mov	ax, es:[di+2]
		add	ax, 20h	; ' '
		shr	ax, 6
		push	ax
		mov	ax, es:[di+8]
		shr	ax, 6
		add	ax, 3
		push	ax
		push	1
		call	BackRender
		mov	ax, [bp+var_6]
		inc	ax
		imul	ax, 0Ch
		les	di, Lights
		add	di, ax
		push	es
		push	di
		imul	ax, [bp+var_6],	0Ch
		les	di, Lights
		add	di, ax
		push	es
		push	di
		mov	ax, 0FEh ; 'þ'
		sub	ax, [bp+var_6]
		imul	ax, 0Ch
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	LtCount

locret_22FF9:				; CODE XREF: RemoveLight+6Ej
		leave
		retf	4
RemoveLight	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddGreatBlow	proc far		; CODE XREF: AnimateRockets+707P
					; ExecuteEvent+131P ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	2, 0
		push	67h ; 'g'
		push	0
		push	0
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	AddEvent
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	9
		push	24h ; '$'
		push	40h ; '@'
		call	_AddBlowLight
		cmp	word_44D9C, 1
		jl	short loc_23037
		jg	short loc_2308B
		cmp	VPSize,	5F90h
		jnb	short loc_2308B

loc_23037:				; CODE XREF: AddGreatBlow+2Ej
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_23041
; ---------------------------------------------------------------------------

loc_2303E:				; CODE XREF: AddGreatBlow+89j
		inc	[bp+var_2]

loc_23041:				; CODE XREF: AddGreatBlow+3Fj
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	26h ; '&'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFEDh
		adc	dx, 0FFFFh
		push	ax
		push	26h ; '&'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFEDh
		adc	dx, 0FFFFh
		push	ax
		push	0F0h ; 'ð'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFD8h
		adc	dx, 0FFFFh
		push	ax
		push	8
		call	AddBlow
		cmp	[bp+var_2], 1Fh
		jnz	short loc_2303E
		jmp	loc_2315A
; ---------------------------------------------------------------------------

loc_2308B:				; CODE XREF: AddGreatBlow+30j
					; AddGreatBlow+38j
		cmp	word_44D9C, 2
		jl	short loc_230B6
		jg	short loc_2309C
		cmp	VPSize,	7100h
		jb	short loc_230B6

loc_2309C:				; CODE XREF: AddGreatBlow+95j
		mov	ax, [bp+arg_4]
		sub	ax, ehx
		push	ax
		mov	ax, [bp+arg_2]
		sub	ax, ehy
		push	ax
		call	QPifagorA32__0
		cmp	ax, 200h
		jbe	short loc_23109

loc_230B6:				; CODE XREF: AddGreatBlow+93j
					; AddGreatBlow+9Dj
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_230C0
; ---------------------------------------------------------------------------

loc_230BD:				; CODE XREF: AddGreatBlow+108j
		inc	[bp+var_2]

loc_230C0:				; CODE XREF: AddGreatBlow+BEj
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	20h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFF0h
		adc	dx, 0FFFFh
		push	ax
		push	20h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFF0h
		adc	dx, 0FFFFh
		push	ax
		push	0B4h ; '´'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFE2h
		adc	dx, 0FFFFh
		push	ax
		push	8
		call	AddBlow
		cmp	[bp+var_2], 0Ch
		jnz	short loc_230BD
		jmp	short loc_2315A
; ---------------------------------------------------------------------------

loc_23109:				; CODE XREF: AddGreatBlow+B7j
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_23113
; ---------------------------------------------------------------------------

loc_23110:				; CODE XREF: AddGreatBlow+15Bj
		inc	[bp+var_2]

loc_23113:				; CODE XREF: AddGreatBlow+111j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	1Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFF3h
		adc	dx, 0FFFFh
		push	ax
		push	1Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFF3h
		adc	dx, 0FFFFh
		push	ax
		push	0AAh ; 'ª'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFE2h
		adc	dx, 0FFFFh
		push	ax
		push	8
		call	AddBlow
		cmp	[bp+var_2], 5
		jnz	short loc_23110

loc_2315A:				; CODE XREF: AddGreatBlow+8Bj
					; AddGreatBlow+10Aj
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_23164
; ---------------------------------------------------------------------------

loc_23161:				; CODE XREF: AddGreatBlow+1ACj
		inc	[bp+var_2]

loc_23164:				; CODE XREF: AddGreatBlow+162j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFECh
		adc	dx, 0FFFFh
		push	ax
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFECh
		adc	dx, 0FFFFh
		push	ax
		push	140h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFECh
		adc	dx, 0FFFFh
		push	ax
		push	11h
		call	AddBlow
		cmp	[bp+var_2], 0Ch
		jnz	short loc_23161
		leave
		retf	6
AddGreatBlow	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddSuperGreatBlow proc far		; CODE XREF: AnimateRockets+726P
					; ExecuteEvent+146P

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	2, 0
		push	47h ; 'G'
		push	0
		push	0
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	AddEvent
		mov	BShadeLev, 34h ; '4'
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	9
		push	24h ; '$'
		push	40h ; '@'
		call	_AddBlowLight
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_231E8
; ---------------------------------------------------------------------------

loc_231E5:				; CODE XREF: AddSuperGreatBlow+79j
		inc	[bp+var_2]

loc_231E8:				; CODE XREF: AddSuperGreatBlow+34j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFECh
		adc	dx, 0FFFFh
		push	ax
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFECh
		adc	dx, 0FFFFh
		push	ax
		push	140h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 1Eh
		push	ax
		push	11h
		call	AddBlow
		cmp	[bp+var_2], 25h	; '%'
		jnz	short loc_231E5
		leave
		retf	6
AddSuperGreatBlow endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExplodeMine	proc far		; CODE XREF: AnimateRockets+41P
					; ExecuteEvent+3DP ...

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	0Ch, 0
		cmp	RecordDemo, 0
		jz	short loc_2324C
		push	45h ; 'E'
		mov	al, byte ptr [bp+arg_0]
		push	ax
		push	0
		push	0
		push	0
		push	0
		call	AddEvent

loc_2324C:				; CODE XREF: ExplodeMine+9j
		imul	di, [bp+arg_0],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di]
		mov	[bp+var_2], ax
		mov	ax, es:[di+2]
		mov	[bp+var_4], ax
		mov	ax, es:[di+6]
		mov	[bp+var_6], ax
		mov	ax, es:[di+8]
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_0]
		inc	ax
		imul	di, ax,	0Ah
		add	di, 0BC0Ch
		push	ds
		push	di
		imul	di, [bp+arg_0],	0Ah
		add	di, 0BC0Ch
		push	ds
		push	di
		mov	ax, 10h
		sub	ax, [bp+arg_0]
		imul	ax, 0Ah
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	MnCount
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+var_6]
		call	AddGreatBlow
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+var_6]
		push	200h
		push	0C8h ; 'È'
		push	[bp+var_8]
		call	MakeBlow
		push	0FFFFh
		push	[bp+var_2]
		push	[bp+var_4]
		push	28h ; '('
		call	AddEvVoice
		leave
		retf	2
ExplodeMine	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo__2	proc near		; CODE XREF: Pr_WallCheck+E4p
					; Pr_WallCheck+120p

var_10		= byte ptr -10h
var_C		= byte ptr -0Ch
var_9		= word ptr -9
var_7		= word ptr -7
var_5		= word ptr -5
var_3		= word ptr -3
arg_0		= word ptr  4
arg_2		= dword	ptr  6

		enter	0Ch, 0
		mov	bx, ss
		mov	es, bx
		assume es:nothing
		mov	bx, ds
		cld
		lea	di, [bp+var_C]
		lds	si, [bp+arg_2]
		mov	cx, 0Bh
		rep movsb
		mov	ds, bx
		mov	ax, [bp+var_5]
		sub	ax, [bp+var_9]
		mov	LWx, ax
		mov	ax, [bp+var_3]
		sub	ax, [bp+var_7]
		mov	LWy, ax
		mov	ax, LWx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLwx, ax
		mov	ax, LWy
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	aLWy, ax
		mov	ax, aLwx
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_9]
		add	ax, [bp+var_5]
		shr	ax, 1
		mov	dx, ax
		mov	ax, rrx
		neg	ax
		add	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_2333C
		mov	Ry, 400h
		jmp	short loc_2336B
; ---------------------------------------------------------------------------

loc_2333C:				; CODE XREF: TryToGo__2+5Fj
		cmp	LWy, 0
		jnz	short loc_2334F
		mov	ax, [bp+var_7]
		sub	ax, rry
		mov	Ry, ax
		jmp	short loc_2336B
; ---------------------------------------------------------------------------

loc_2334F:				; CODE XREF: TryToGo__2+6Ej
		mov	ax, rrx
		sub	ax, [bp+var_9]
		mov	bx, LWy
		imul	bx
		mov	bx, LWx
		idiv	bx
		add	ax, [bp+var_7]
		sub	ax, rry
		mov	Ry, ax

loc_2336B:				; CODE XREF: TryToGo__2+67j
					; TryToGo__2+7Aj
		mov	ax, aLWy
		shr	ax, 1
		mov	cx, ax
		mov	ax, [bp+var_7]
		add	ax, [bp+var_3]
		shr	ax, 1
		mov	dx, ax
		mov	ax, rry
		neg	ax
		add	ax, dx
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jl	short loc_23394
		mov	Rx, 400h
		jmp	short loc_233C3
; ---------------------------------------------------------------------------

loc_23394:				; CODE XREF: TryToGo__2+B7j
		cmp	LWx, 0
		jnz	short loc_233A7
		mov	ax, [bp+var_9]
		sub	ax, rrx
		mov	Rx, ax
		jmp	short loc_233C3
; ---------------------------------------------------------------------------

loc_233A7:				; CODE XREF: TryToGo__2+C6j
		mov	ax, rry
		sub	ax, [bp+var_7]
		mov	bx, LWx
		imul	bx
		mov	bx, LWy
		idiv	bx
		add	ax, [bp+var_9]
		sub	ax, rrx
		mov	Rx, ax

loc_233C3:				; CODE XREF: TryToGo__2+BFj
					; TryToGo__2+D2j
		mov	ax, Rx
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, Ry
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Min
		mov	R__1, ax
		mov	ax, R__1
		mov	di, [bp+arg_0]
		cmp	ax, ss:[di+arg_0]
		jge	short locret_233EE
		mov	ss:[di+var_10],	1

locret_233EE:				; CODE XREF: TryToGo__2+114j
		leave
		retn	6
TryToGo__2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TryToGo2B__1	proc near		; CODE XREF: Pr_WallCheck+F6p
					; Pr_WallCheck+132p ...

var_10		= byte ptr -10h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		mov	ax, rrx
		sub	ax, [bp+arg_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_2], ax
		mov	ax, rry
		sub	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_4], ax
		mov	di, [bp+arg_0]
		cmp	ss:[di+var_10],	0
		jnz	short loc_23430
		push	[bp+var_4]
		push	[bp+var_2]
		call	Max
		cmp	ax, [bp+arg_2]
		jl	short loc_23430
		mov	al, 0
		jmp	short loc_23432
; ---------------------------------------------------------------------------

loc_23430:				; CODE XREF: TryToGo2B__1+28j
					; TryToGo2B__1+38j
		mov	al, 1

loc_23432:				; CODE XREF: TryToGo2B__1+3Cj
		mov	di, [bp+arg_0]
		mov	ss:[di+var_10],	al
		leave
		retn	8
TryToGo2B__1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Pr_WallCheck	proc near		; CODE XREF: AnimateObjects+27Bp
					; AnimateObjects+789p

var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= byte ptr -10h
var_F		= byte ptr -0Fh
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	18h, 0
		mov	[bp+var_10], 0
		mov	ax, [bp+arg_6]
		mov	rrx, ax
		mov	ax, [bp+arg_4]
		mov	rry, ax
		mov	al, byte ptr rrx+1
		xor	ah, ah
		mov	[bp+var_C], ax
		mov	al, byte ptr rry+1
		xor	ah, ah
		mov	[bp+var_E], ax
		mov	ax, [bp+var_C]
		inc	ax
		inc	ax
		mov	[bp+var_12], ax
		mov	ax, [bp+var_C]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_12]
		jle	short loc_23476
		jmp	loc_235EA
; ---------------------------------------------------------------------------

loc_23476:				; CODE XREF: Pr_WallCheck+34j
		mov	[bp+var_8], ax
		jmp	short loc_2347E
; ---------------------------------------------------------------------------

loc_2347B:				; CODE XREF: Pr_WallCheck+1AAj
		inc	[bp+var_8]

loc_2347E:				; CODE XREF: Pr_WallCheck+3Cj
		cmp	[bp+var_8], 0
		jge	short loc_23487
		jmp	loc_235DF
; ---------------------------------------------------------------------------

loc_23487:				; CODE XREF: Pr_WallCheck+45j
		cmp	[bp+var_8], 40h	; '@'
		jl	short loc_23490
		jmp	loc_235DF
; ---------------------------------------------------------------------------

loc_23490:				; CODE XREF: Pr_WallCheck+4Ej
		mov	ax, [bp+var_E]
		inc	ax
		inc	ax
		mov	[bp+var_14], ax
		mov	ax, [bp+var_E]
		dec	ax
		dec	ax
		cmp	ax, [bp+var_14]
		jle	short loc_234A5
		jmp	loc_235DF
; ---------------------------------------------------------------------------

loc_234A5:				; CODE XREF: Pr_WallCheck+63j
		mov	[bp+var_A], ax
		jmp	short loc_234AD
; ---------------------------------------------------------------------------

loc_234AA:				; CODE XREF: Pr_WallCheck+19Fj
		inc	[bp+var_A]

loc_234AD:				; CODE XREF: Pr_WallCheck+6Bj
		cmp	[bp+var_A], 0
		jge	short loc_234B6
		jmp	loc_235D4
; ---------------------------------------------------------------------------

loc_234B6:				; CODE XREF: Pr_WallCheck+74j
		cmp	[bp+var_A], 40h	; '@'
		jl	short loc_234BF
		jmp	loc_235D4
; ---------------------------------------------------------------------------

loc_234BF:				; CODE XREF: Pr_WallCheck+7Dj
		imul	ax, [bp+var_A],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_8],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_18], di
		mov	word ptr [bp+var_18+2],	es
		mov	al, es:[di]
		cmp	al, 56h	; 'V'
		jb	short loc_23539
		cmp	al, 78h	; 'x'
		ja	short loc_23539
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 1
		or	al, al
		jz	short loc_23536
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_8]
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 50h ;	'P'
		jnb	short loc_23536
		imul	ax, [bp+var_A],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_8],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		push	bp
		call	TryToGo__2
		les	di, [bp+var_18]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	[bp+arg_0]
		push	bp
		call	TryToGo2B__1

loc_23536:				; CODE XREF: Pr_WallCheck+B5j
					; Pr_WallCheck+CCj
		jmp	loc_235C8
; ---------------------------------------------------------------------------

loc_23539:				; CODE XREF: Pr_WallCheck+A0j
					; Pr_WallCheck+A4j
		cmp	al, 1
		jb	short loc_23574
		cmp	al, 78h	; 'x'
		ja	short loc_23574
		mov	al, [bp+var_10]
		mov	[bp+var_F], al
		imul	ax, [bp+var_A],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_8],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	es
		push	di
		push	bp
		call	TryToGo__2
		les	di, [bp+var_18]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	[bp+arg_0]
		push	bp
		call	TryToGo2B__1
		jmp	short loc_235C8
; ---------------------------------------------------------------------------

loc_23574:				; CODE XREF: Pr_WallCheck+FEj
					; Pr_WallCheck+102j
		cmp	al, 83h	; 'ƒ'
		jb	short loc_235C8
		cmp	al, 0E2h ; 'â'
		ja	short loc_235C8
		les	di, [bp+var_18]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74C0h]
		cmp	ax, [bp+arg_2]
		jge	short loc_235C8
		les	di, [bp+var_18]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74C2h]
		cmp	ax, [bp+arg_2]
		jle	short loc_235C8
		les	di, [bp+var_18]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		push	word ptr [di+74AEh]
		push	bp
		call	TryToGo2B__1

loc_235C8:				; CODE XREF: Pr_WallCheck:loc_23536j
					; Pr_WallCheck+135j ...
		cmp	[bp+var_10], 0
		jz	short loc_235D4
		mov	[bp+var_1], 1
		jmp	short loc_235EE
; ---------------------------------------------------------------------------

loc_235D4:				; CODE XREF: Pr_WallCheck+76j
					; Pr_WallCheck+7Fj ...
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_14]
		jz	short loc_235DF
		jmp	loc_234AA
; ---------------------------------------------------------------------------

loc_235DF:				; CODE XREF: Pr_WallCheck+47j
					; Pr_WallCheck+50j ...
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_12]
		jz	short loc_235EA
		jmp	loc_2347B
; ---------------------------------------------------------------------------

loc_235EA:				; CODE XREF: Pr_WallCheck+36j
					; Pr_WallCheck+1A8j
		mov	[bp+var_1], 0

loc_235EE:				; CODE XREF: Pr_WallCheck+195j
		mov	al, [bp+var_1]
		leave
		retn	8
Pr_WallCheck	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateRespawnObjects proc far		; CODE XREF: DoGame+18ECP

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	0Ah, 0
		mov	[bp+var_2], 1
		cmp	CLIENT,	0
		jz	short loc_23608
		jmp	locret_23706
; ---------------------------------------------------------------------------

loc_23608:				; CODE XREF: AnimateRespawnObjects+Ej
					; AnimateRespawnObjects:loc_23703j
		mov	ax, ReCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		cmp	dx, bx
		jl	short loc_23625
		jle	short loc_2361E
		jmp	locret_23706
; ---------------------------------------------------------------------------

loc_2361E:				; CODE XREF: AnimateRespawnObjects+24j
		cmp	ax, cx
		jbe	short loc_23625
		jmp	locret_23706
; ---------------------------------------------------------------------------

loc_23625:				; CODE XREF: AnimateRespawnObjects+22j
					; AnimateRespawnObjects+2Bj
		imul	ax, [bp+var_2],	0Ah
		les	di, ReObjects
		add	di, ax
		add	di, 0FFF6h
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	ax, Time
		mov	dx, word_44D6C
		cmp	dx, es:[di+8]
		jg	short loc_23654
		jge	short loc_2364B
		jmp	loc_23700
; ---------------------------------------------------------------------------

loc_2364B:				; CODE XREF: AnimateRespawnObjects+51j
		cmp	ax, es:[di+6]
		ja	short loc_23654
		jmp	loc_23700
; ---------------------------------------------------------------------------

loc_23654:				; CODE XREF: AnimateRespawnObjects+4Fj
					; AnimateRespawnObjects+5Aj
		les	di, [bp+var_6]
		mov	cl, es:[di+4]
		imul	ax, es:[di+2], 0Bh
		mov	dx, ax
		imul	ax, es:[di], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	es:[di], cl
		les	di, [bp+var_6]
		imul	ax, es:[di+2], 0Bh
		mov	dx, ax
		imul	ax, es:[di], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	5
		push	16h
		push	30h ; '0'
		call	AddBlowLight
		push	4Bh ; 'K'
		les	di, [bp+var_6]
		mov	al, es:[di+4]
		push	ax
		push	0
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	0
		call	AddEvent
		mov	ax, [bp+var_2]
		inc	ax
		imul	ax, 0Ah
		les	di, ReObjects
		add	di, ax
		add	di, 0FFF6h
		push	es
		push	di
		imul	ax, [bp+var_2],	0Ah
		les	di, ReObjects
		add	di, ax
		add	di, 0FFF6h
		push	es
		push	di
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, ReCount
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	ReCount
		jmp	short loc_23703
; ---------------------------------------------------------------------------

loc_23700:				; CODE XREF: AnimateRespawnObjects+53j
					; AnimateRespawnObjects+5Cj
		inc	[bp+var_2]

loc_23703:				; CODE XREF: AnimateRespawnObjects+109j
		jmp	loc_23608
; ---------------------------------------------------------------------------

locret_23706:				; CODE XREF: AnimateRespawnObjects+10j
					; AnimateRespawnObjects+26j ...
		leave
		retf
AnimateRespawnObjects endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateObjects	proc far		; CODE XREF: DoGame:loc_D951P
					; DATA XREF: cseg01:A021o

var_18		= word ptr -18h
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_D		= byte ptr -0Dh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_4		= word ptr -4
var_2		= word ptr -2

		enter	18h, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_23716
; ---------------------------------------------------------------------------

loc_23713:				; CODE XREF: AnimateObjects+4Dj
		inc	[bp+var_2]

loc_23716:				; CODE XREF: AnimateObjects+9j
		imul	di, [bp+var_2],	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di+1Ch]
		or	ax, es:[di+1Eh]
		jz	short loc_23751
		cmp	word ptr es:[di+1Ah], 0
		jbe	short loc_23751
		cmp	byte ptr es:[di+16h], 0
		jz	short loc_23751
		mov	ax, t1
		add	es:[di+18h], ax
		mov	ax, es:[di+18h]
		cmp	ax, es:[di+1Ah]
		jb	short loc_23751
		mov	ax, es:[di+1Ah]
		sub	es:[di+18h], ax

loc_23751:				; CODE XREF: AnimateObjects+20j
					; AnimateObjects+27j ...
		cmp	[bp+var_2], 5Fh	; '_'
		jnz	short loc_23713
		mov	[bp+var_2], 1

loc_2375C:				; CODE XREF: AnimateObjects+8A1j
		mov	ax, SCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		cmp	dx, bx
		jl	short loc_23779
		jle	short loc_23772
		jmp	loc_23FAC
; ---------------------------------------------------------------------------

loc_23772:				; CODE XREF: AnimateObjects+65j
		cmp	ax, cx
		jbe	short loc_23779
		jmp	loc_23FAC
; ---------------------------------------------------------------------------

loc_23779:				; CODE XREF: AnimateObjects+63j
					; AnimateObjects+6Cj
		imul	di, [bp+var_2],	16h
		add	di, 0B940h
		push	ds
		pop	es
		mov	word ptr [bp+var_12], di
		mov	word ptr [bp+var_12+2],	es
		imul	di, es:[di+4], 12h
		add	di, 0D044h
		push	ds
		pop	es
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	ax, t1
		shl	ax, 1
		les	di, [bp+var_12]
		assume es:nothing
		add	es:[di], ax
		cmp	word ptr es:[di+4], 46h	; 'F'
		mov	al, 0
		jl	short loc_237AF
		inc	ax

loc_237AF:				; CODE XREF: AnimateObjects+A4j
		mov	[bp+var_D], al
		mov	ax, es:[di+0Ch]
		mov	[bp+var_8], ax
		cmp	word ptr es:[di+12h], 0C180h
		jnz	short loc_237C4
		jmp	loc_23CCE
; ---------------------------------------------------------------------------

loc_237C4:				; CODE XREF: AnimateObjects+B7j
		mov	ax, t1
		shl	ax, 2
		sub	es:[di+12h], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+12h]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		les	di, [bp+var_12]
		add	es:[di+0Ch], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+0Eh]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 5
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+8], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+10h]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 5
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+0Ah], ax
		cmp	word ptr es:[di+8], 200h
		jge	short loc_2383E
		mov	word ptr es:[di+8], 200h

loc_2383E:				; CODE XREF: AnimateObjects+12Ej
		les	di, [bp+var_12]
		cmp	word ptr es:[di+8], 3E00h
		jle	short loc_2384F
		mov	word ptr es:[di+8], 3E00h

loc_2384F:				; CODE XREF: AnimateObjects+13Fj
		les	di, [bp+var_12]
		cmp	word ptr es:[di+0Ah], 200h
		jge	short loc_23860
		mov	word ptr es:[di+0Ah], 200h

loc_23860:				; CODE XREF: AnimateObjects+150j
		les	di, [bp+var_12]
		cmp	word ptr es:[di+0Ah], 3E00h
		jle	short loc_23871
		mov	word ptr es:[di+0Ah], 3E00h

loc_23871:				; CODE XREF: AnimateObjects+161j
		cmp	[bp+var_D], 0
		jz	short loc_2387E
		mov	[bp+var_4], 0Ah
		jmp	short loc_23883
; ---------------------------------------------------------------------------

loc_2387E:				; CODE XREF: AnimateObjects+16Dj
		mov	[bp+var_4], 6

loc_23883:				; CODE XREF: AnimateObjects+174j
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ah]
		shr	ax, 6
		mov	dx, ax
		mov	ax, es:[di+8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_A], ax
		les	di, [bp+var_12]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+9]
		xor	ah, ah
		shl	ax, 6
		les	di, FloorZHi
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_C], ax
		mov	ax, [bp+var_A]
		shl	ax, 7
		mov	[bp+var_A], ax
		mov	ax, [bp+var_C]
		shl	ax, 7
		mov	[bp+var_C], ax
		mov	al, byte ptr takt
		shr	al, 1
		jb	short loc_238E9
		jmp	loc_2396E
; ---------------------------------------------------------------------------

loc_238E9:				; CODE XREF: AnimateObjects+1DCj
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di+8]
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ah]
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	140h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		push	dx
		push	ax
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ch]
		cwd
		mov	cx, 4
		idiv	cx
		cwd
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		push	ax
		push	5
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFEh
		adc	dx, 0FFFFh
		push	ax
		push	5
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFEh
		adc	dx, 0FFFFh
		push	ax
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		push	ax
		push	[bp+var_4]
		call	AddBlow

loc_2396E:				; CODE XREF: AnimateObjects+1DEj
		les	di, [bp+var_12]
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		mov	ax, es:[di+0Ch]
		shr	ax, 2
		push	ax
		push	28h ; '('
		call	Pr_WallCheck
		or	al, al
		jnz	short loc_2398D
		jmp	loc_23A1E
; ---------------------------------------------------------------------------

loc_2398D:				; CODE XREF: AnimateObjects+280j
		les	di, [bp+var_12]
		mov	ax, es:[di+0Eh]
		neg	ax
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		cwd
		mov	cx, 7
		idiv	cx
		mov	es:[di+0Eh], ax
		mov	ax, es:[di+10h]
		neg	ax
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		cwd
		mov	cx, 7
		idiv	cx
		mov	es:[di+10h], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+0Eh]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 2
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+8], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+10h]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 2
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+0Ah], ax
		mov	ax, es:[di+4]
		cwd
		mov	cx, 3
		idiv	cx
		xchg	ax, dx
		cmp	ax, 2
		jnz	short loc_23A1E
		add	word ptr es:[di+14h], 8000h

loc_23A1E:				; CODE XREF: AnimateObjects+282j
					; AnimateObjects+30Ej
		les	di, [bp+var_12]
		cmp	word ptr es:[di+0Ch], 700h
		jle	short loc_23A2C
		jmp	loc_23AAD
; ---------------------------------------------------------------------------

loc_23A2C:				; CODE XREF: AnimateObjects+31Fj
		cmp	[bp+var_8], 700h
		jle	short loc_23AAD
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		push	0
		call	iswater
		or	al, al
		jz	short loc_23AAD
		push	0FFFFh
		les	di, [bp+var_12]
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		push	9
		call	AddVoice
		mov	j, 1
		jmp	short loc_23A66
; ---------------------------------------------------------------------------

loc_23A62:				; CODE XREF: AnimateObjects+3A3j
		inc	j

loc_23A66:				; CODE XREF: AnimateObjects+358j
		les	di, [bp+var_12]
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		push	180h
		push	7
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFDh
		adc	dx, 0FFFFh
		push	ax
		push	7
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFDh
		adc	dx, 0FFFFh
		push	ax
		push	40h ; '@'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 40h	; '@'
		push	ax
		push	0Fh
		call	AddBlow
		cmp	j, 8
		jnz	short loc_23A62

loc_23AAD:				; CODE XREF: AnimateObjects+321j
					; AnimateObjects+329j ...
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ch]
		cmp	ax, [bp+var_A]
		jge	short loc_23AE5
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		push	0
		call	iswater
		or	al, al
		jnz	short loc_23AE5
		push	0FFFFh
		les	di, [bp+var_12]
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		les	di, [bp+var_16]
		push	word ptr es:[di+4]
		call	AddVoice

loc_23AE5:				; CODE XREF: AnimateObjects+3AFj
					; AnimateObjects+3C2j
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ch]
		cmp	ax, [bp+var_C]
		jle	short loc_23B2E
		cmp	word ptr es:[di+12h], 0
		jle	short loc_23B2E
		mov	al, es:[di+0Bh]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+9]
		xor	ah, ah
		mov	di, ax
		shl	di, 6
		add	di, dx
		cmp	byte ptr [di+5EC6h], 3Eh ; '>'
		jz	short loc_23B2E
		les	di, [bp+var_12]
		mov	ax, es:[di+12h]
		neg	ax
		cwd
		mov	cx, 2
		idiv	cx
		mov	es:[di+12h], ax
		mov	ax, [bp+var_C]
		mov	es:[di+0Ch], ax

loc_23B2E:				; CODE XREF: AnimateObjects+3E7j
					; AnimateObjects+3EEj ...
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ch]
		cmp	ax, [bp+var_A]
		jl	short loc_23B3D
		jmp	loc_23CA2
; ---------------------------------------------------------------------------

loc_23B3D:				; CODE XREF: AnimateObjects+430j
		mov	ax, es:[di+12h]
		neg	ax
		cmp	ax, 0C8h ; 'È'
		jle	short loc_23B58
		mov	ax, es:[di+4]
		cwd
		mov	cx, 3
		idiv	cx
		xchg	ax, dx
		cmp	ax, 2
		jz	short loc_23B72

loc_23B58:				; CODE XREF: AnimateObjects+43Ej
		les	di, [bp+var_12]
		mov	ax, es:[di+12h]
		neg	ax
		cmp	ax, 190h
		jg	short loc_23B69
		jmp	loc_23C61
; ---------------------------------------------------------------------------

loc_23B69:				; CODE XREF: AnimateObjects+45Cj
		cmp	[bp+var_D], 0
		jnz	short loc_23B72
		jmp	loc_23C61
; ---------------------------------------------------------------------------

loc_23B72:				; CODE XREF: AnimateObjects+44Ej
					; AnimateObjects+465j
		les	di, [bp+var_12]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+9]
		xor	ah, ah
		mov	di, ax
		shl	di, 6
		add	di, dx
		mov	al, [di+4EC6h]
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-23F0h], 0
		jz	short loc_23C08
		xor	ax, ax
		mov	j, ax
		jmp	short loc_23BA4
; ---------------------------------------------------------------------------

loc_23BA0:				; CODE XREF: AnimateObjects+4FEj
		inc	j

loc_23BA4:				; CODE XREF: AnimateObjects+496j
		push	64h ; 'd'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di+8]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 32h	; '2'
		sbb	dx, 0
		push	ax
		push	64h ; 'd'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ah]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 32h	; '2'
		sbb	dx, 0
		push	ax
		mov	ax, [bp+var_A]
		shr	ax, 2
		push	ax
		push	0
		push	0
		push	8
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 8
		push	ax
		push	0Ah
		call	AddBlow
		cmp	j, 3
		jnz	short loc_23BA0

loc_23C08:				; CODE XREF: AnimateObjects+48Fj
		mov	ax, [bp+var_A]
		inc	ax
		les	di, [bp+var_12]
		mov	es:[di+0Ch], ax
		mov	ax, es:[di+12h]
		neg	ax
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		cwd
		mov	cx, 7
		idiv	cx
		mov	es:[di+12h], ax
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFFh
		adc	dx, 0FFFFh
		les	di, [bp+var_12]
		add	es:[di+0Eh], ax
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFFh
		adc	dx, 0FFFFh
		les	di, [bp+var_12]
		add	es:[di+10h], ax
		mov	ax, t1
		shl	ax, 1
		sub	es:[di], ax
		jmp	short loc_23CA2
; ---------------------------------------------------------------------------

loc_23C61:				; CODE XREF: AnimateObjects+45Ej
					; AnimateObjects+467j
		les	di, [bp+var_12]
		mov	word ptr es:[di+12h], 0C180h
		mov	ax, [bp+var_A]
		mov	es:[di+0Ch], ax
		les	di, [bp+var_16]
		mov	ax, es:[di]
		xor	dx, dx
		mov	cx, 3
		div	cx
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di]
		cwd
		cmp	dx, bx
		jl	short loc_23C95
		jg	short loc_23CA2
		cmp	ax, cx
		jnb	short loc_23CA2

loc_23C95:				; CODE XREF: AnimateObjects+585j
		les	di, [bp+var_16]
		mov	ax, es:[di]
		dec	ax
		les	di, [bp+var_12]
		mov	es:[di], ax

loc_23CA2:				; CODE XREF: AnimateObjects+432j
					; AnimateObjects+557j ...
		les	di, [bp+var_16]
		mov	ax, es:[di]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di]
		cwd
		cmp	dx, bx
		jg	short loc_23CBF
		jl	short loc_23CCB
		cmp	ax, cx
		jb	short loc_23CCB

loc_23CBF:				; CODE XREF: AnimateObjects+5AFj
		les	di, [bp+var_16]
		mov	ax, es:[di]
		les	di, [bp+var_12]
		sub	es:[di], ax

loc_23CCB:				; CODE XREF: AnimateObjects+5B1j
					; AnimateObjects+5B5j
		jmp	loc_23FA6
; ---------------------------------------------------------------------------

loc_23CCE:				; CODE XREF: AnimateObjects+B9j
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ah]
		shr	ax, 6
		mov	dx, ax
		mov	ax, es:[di+8]
		shr	ax, 6
		shl	ax, 8
		les	di, FloorZLo
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		mov	[bp+var_A], ax
		mov	ax, [bp+var_A]
		shl	ax, 7
		mov	[bp+var_A], ax
		les	di, [bp+var_12]
		cmp	byte ptr es:[di+6], 0
		jz	short loc_23D2B
		les	di, [bp+var_16]
		mov	ax, es:[di+2]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di]
		cwd
		cmp	dx, bx
		jl	short loc_23D2B
		jle	short loc_23D24
		jmp	loc_23DDE
; ---------------------------------------------------------------------------

loc_23D24:				; CODE XREF: AnimateObjects+617j
		cmp	ax, cx
		jb	short loc_23D2B
		jmp	loc_23DDE
; ---------------------------------------------------------------------------

loc_23D2B:				; CODE XREF: AnimateObjects+5FDj
					; AnimateObjects+615j ...
		cmp	[bp+var_D], 0
		jz	short loc_23D34
		jmp	loc_23DDE
; ---------------------------------------------------------------------------

loc_23D34:				; CODE XREF: AnimateObjects+627j
		les	di, [bp+var_12]
		mov	al, es:[di+0Bh]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+9]
		xor	ah, ah
		mov	di, ax
		shl	di, 6
		add	di, dx
		mov	al, [di+4EC6h]
		xor	ah, ah
		mov	di, ax
		cmp	byte ptr [di-23F0h], 0
		jnz	short loc_23D5E
		jmp	loc_23DDE
; ---------------------------------------------------------------------------

loc_23D5E:				; CODE XREF: AnimateObjects+651j
		mov	ax, t1
		shr	ax, 1
		mov	[bp+var_18], ax
		mov	ax, 1
		cmp	ax, [bp+var_18]
		ja	short loc_23DDE
		mov	j, ax
		jmp	short loc_23D77
; ---------------------------------------------------------------------------

loc_23D73:				; CODE XREF: AnimateObjects+6D4j
		inc	j

loc_23D77:				; CODE XREF: AnimateObjects+669j
		push	8Ch ; 'Œ'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di+8]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 46h	; 'F'
		sbb	dx, 0
		push	ax
		push	8Ch ; 'Œ'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ah]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 46h	; 'F'
		sbb	dx, 0
		push	ax
		mov	ax, [bp+var_A]
		shr	ax, 2
		push	ax
		push	0
		push	0
		push	8
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 8
		push	ax
		push	0Ah
		call	AddBlow
		mov	ax, j
		cmp	ax, [bp+var_18]
		jnz	short loc_23D73

loc_23DDE:				; CODE XREF: AnimateObjects+619j
					; AnimateObjects+620j ...
		mov	ax, t1
		les	di, [bp+var_12]
		add	es:[di+2], ax
		mov	ax, es:[di+0Ch]
		cmp	ax, [bp+var_A]
		jle	short loc_23DFB
		mov	ax, t1
		shl	ax, 7
		sub	es:[di+0Ch], ax

loc_23DFB:				; CODE XREF: AnimateObjects+6E7j
		les	di, [bp+var_12]
		mov	ax, es:[di+0Ch]
		cmp	ax, [bp+var_A]
		jge	short loc_23E0E
		mov	ax, [bp+var_A]
		mov	es:[di+0Ch], ax

loc_23E0E:				; CODE XREF: AnimateObjects+6FDj
		les	di, [bp+var_12]
		cmp	byte ptr es:[di+6], 0
		jz	short loc_23E1B
		jmp	loc_23EF7
; ---------------------------------------------------------------------------

loc_23E1B:				; CODE XREF: AnimateObjects+70Ej
		mov	ax, es:[di+4]
		cwd
		mov	cx, 3
		idiv	cx
		xchg	ax, dx
		cmp	ax, 2
		jz	short loc_23E34
		cmp	[bp+var_D], 0
		jnz	short loc_23E34
		jmp	loc_23EF7
; ---------------------------------------------------------------------------

loc_23E34:				; CODE XREF: AnimateObjects+721j
					; AnimateObjects+727j
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di+0Eh]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 5
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+8], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+10h]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 5
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+0Ah], ax
		push	word ptr es:[di+8]
		push	word ptr es:[di+0Ah]
		mov	ax, es:[di+0Ch]
		shr	ax, 2
		push	ax
		push	28h ; '('
		call	Pr_WallCheck
		or	al, al
		jz	short loc_23EF7
		les	di, [bp+var_12]
		mov	ax, es:[di+0Eh]
		neg	ax
		mov	es:[di+0Eh], ax
		mov	ax, es:[di+10h]
		neg	ax
		mov	es:[di+10h], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+0Eh]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 5
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+8], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+10h]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 5
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_12]
		add	es:[di+0Ah], ax

loc_23EF7:				; CODE XREF: AnimateObjects+710j
					; AnimateObjects+729j ...
		les	di, [bp+var_12]
		cmp	byte ptr es:[di+6], 0
		jnz	short loc_23F31
		les	di, [bp+var_16]
		mov	ax, es:[di]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di]
		cwd
		cmp	dx, bx
		jg	short loc_23F1E
		jl	short loc_23F2F
		cmp	ax, cx
		jb	short loc_23F2F

loc_23F1E:				; CODE XREF: AnimateObjects+80Ej
		les	di, [bp+var_16]
		mov	ax, es:[di]
		les	di, [bp+var_12]
		sub	es:[di], ax
		mov	byte ptr es:[di+6], 1

loc_23F2F:				; CODE XREF: AnimateObjects+810j
					; AnimateObjects+814j
		jmp	short loc_23F5C
; ---------------------------------------------------------------------------

loc_23F31:				; CODE XREF: AnimateObjects+7F7j
		les	di, [bp+var_16]
		mov	ax, es:[di+2]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_12]
		mov	ax, es:[di]
		cwd
		cmp	dx, bx
		jg	short loc_23F4F
		jl	short loc_23F5C
		cmp	ax, cx
		jb	short loc_23F5C

loc_23F4F:				; CODE XREF: AnimateObjects+83Fj
		les	di, [bp+var_16]
		mov	ax, es:[di+2]
		les	di, [bp+var_12]
		mov	es:[di], ax

loc_23F5C:				; CODE XREF: AnimateObjects:loc_23F2Fj
					; AnimateObjects+841j ...
		les	di, [bp+var_12]
		cmp	word ptr es:[di+2], 36B0h
		jle	short loc_23FA6
		mov	ax, [bp+var_2]
		inc	ax
		imul	di, ax,	16h
		add	di, 0B940h
		push	ds
		push	di
		imul	di, [bp+var_2],	16h
		add	di, 0B940h
		push	ds
		push	di
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, SCount
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 16h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	SCount
		dec	[bp+var_2]

loc_23FA6:				; CODE XREF: AnimateObjects:loc_23CCBj
					; AnimateObjects+85Dj
		inc	[bp+var_2]
		jmp	loc_2375C
; ---------------------------------------------------------------------------

loc_23FAC:				; CODE XREF: AnimateObjects+67j
					; AnimateObjects+6Ej
		mov	[bp+var_2], 1

loc_23FB1:				; CODE XREF: AnimateObjects+91Fj
					; AnimateObjects+988j
		mov	ax, AmCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		cmp	dx, bx
		jl	short loc_23FCE
		jle	short loc_23FC7
		jmp	loc_24093
; ---------------------------------------------------------------------------

loc_23FC7:				; CODE XREF: AnimateObjects+8BAj
		cmp	ax, cx
		jbe	short loc_23FCE
		jmp	loc_24093
; ---------------------------------------------------------------------------

loc_23FCE:				; CODE XREF: AnimateObjects+8B8j
					; AnimateObjects+8C1j
		imul	ax, [bp+var_2],	1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		mov	word ptr [bp+var_12], di
		mov	word ptr [bp+var_12+2],	es
		mov	ax, t1
		add	es:[di+0Ah], ax
		cmp	word ptr es:[di+0Ah], 41A0h
		jbe	short loc_24029
		mov	ax, [bp+var_2]
		inc	ax
		imul	ax, 1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		push	es
		push	di
		imul	ax, [bp+var_2],	1Fh
		les	di, AmmoBags
		add	di, ax
		add	di, 0FFE1h
		push	es
		push	di
		mov	ax, 3Fh	; '?'
		sub	ax, [bp+var_2]
		imul	ax, 1Fh
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		dec	AmCount
		jmp	short loc_23FB1
; ---------------------------------------------------------------------------

loc_24029:				; CODE XREF: AnimateObjects+8E7j
		mov	ax, t1
		shl	ax, 8
		les	di, [bp+var_12]
		add	es:[di+0Ch], ax
		mov	ax, es:[di+4]
		cmp	ax, es:[di+8]
		jle	short loc_2408D
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+6]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		les	di, [bp+var_12]
		add	es:[di+4], ax
		mov	ax, t1
		sub	es:[di+6], ax
		mov	ax, t1
		shl	ax, 8
		add	es:[di+0Ch], ax
		mov	ax, es:[di+4]
		cmp	ax, es:[di+8]
		jge	short loc_2408D
		mov	ax, es:[di+8]
		mov	es:[di+4], ax
		push	0FFFFh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	6
		call	AddVoice

loc_2408D:				; CODE XREF: AnimateObjects+936j
					; AnimateObjects+96Bj
		inc	[bp+var_2]
		jmp	loc_23FB1
; ---------------------------------------------------------------------------

loc_24093:				; CODE XREF: AnimateObjects+8BCj
					; AnimateObjects+8C3j
		cmp	OAnimate, 0
		jnz	short loc_2409C
		jmp	short locret_240F3
; ---------------------------------------------------------------------------

loc_2409C:				; CODE XREF: AnimateObjects+990j
		mov	ax, ObjectsLoaded
		dec	ax
		mov	word ptr [bp+var_12+2],	ax
		xor	ax, ax
		cmp	ax, word ptr [bp+var_12+2]
		jg	short locret_240F3
		mov	[bp+var_2], ax
		jmp	short loc_240B2
; ---------------------------------------------------------------------------

loc_240AF:				; CODE XREF: AnimateObjects+9E9j
		inc	[bp+var_2]

loc_240B2:				; CODE XREF: AnimateObjects+9A5j
		imul	di, [bp+var_2],	0A5h
		add	di, 721Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_16+2],	di
		mov	word ptr [bp+var_12], es
		cmp	byte ptr es:[di+3], 0
		jbe	short loc_240EB
		mov	al, es:[di+3]
		xor	ah, ah
		mov	dx, ax
		mov	al, es:[di+4]
		xor	ah, ah
		inc	ax
		cmp	ax, dx
		jge	short loc_240E3
		inc	byte ptr es:[di+4]
		jmp	short loc_240EB
; ---------------------------------------------------------------------------

loc_240E3:				; CODE XREF: AnimateObjects+9D3j
		les	di, [bp+var_16+2]
		assume es:nothing
		mov	byte ptr es:[di+4], 0

loc_240EB:				; CODE XREF: AnimateObjects+9C0j
					; AnimateObjects+9D9j
		mov	ax, [bp+var_2]
		cmp	ax, word ptr [bp+var_12+2]
		jnz	short loc_240AF

locret_240F3:				; CODE XREF: AnimateObjects+992j
					; AnimateObjects+9A0j
		leave
		retf
AnimateObjects	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FindTarget	proc near		; CODE XREF: AddRocket+F3p

var_32		= dword	ptr -32h
var_2E		= word ptr -2Eh
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	32h, 0
		mov	ax, [bp+arg_0]
		add	ax, 0
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		cwd
		mov	[bp+var_2A], ax
		mov	[bp+var_28], dx
		mov	ax, [bp+arg_0]
		add	ax, 4000h
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		cwd
		mov	[bp+var_2E], ax
		mov	[bp+var_2C], dx
		mov	ax, [bp+arg_0]
		add	ax, 0
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		cwd
		mov	[bp+var_1E], ax
		mov	[bp+var_1C], dx
		mov	ax, [bp+arg_0]
		add	ax, 4000h
		shr	ax, 6
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		neg	ax
		cwd
		mov	[bp+var_1A], ax
		mov	[bp+var_18], dx
		mov	[bp+var_12], 4800h
		mov	[bp+var_10], 1E8h
		mov	[bp+var_E], 0FFFFh
		mov	[bp+var_C], 0FFFFh
		xor	ax, ax
		mov	[bp+var_16], ax
		mov	[bp+var_14], ax
		jmp	short loc_24187
; ---------------------------------------------------------------------------

loc_2417F:				; CODE XREF: FindTarget+1A1j
					; FindTarget+1AAj
		add	[bp+var_16], 1
		adc	[bp+var_14], 0

loc_24187:				; CODE XREF: FindTarget+88j
		imul	di, [bp+var_16], 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_32], di
		mov	word ptr [bp+var_32+2],	es
		cmp	word ptr es:[di+28h], 0
		jg	short loc_241A1
		jmp	loc_24290
; ---------------------------------------------------------------------------

loc_241A1:				; CODE XREF: FindTarget+A7j
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_2]
		cwd
		mov	cx, [bp+var_1E]
		mov	bx, [bp+var_1C]
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		les	di, [bp+var_32]
		assume es:nothing
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_4]
		cwd
		mov	cx, [bp+var_1A]
		mov	bx, [bp+var_18]
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 6
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	[bp+var_22], ax
		mov	[bp+var_20], dx
		les	di, [bp+var_32]
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_4]
		cwd
		mov	cx, [bp+var_1E]
		mov	bx, [bp+var_1C]
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	dx
		push	ax
		les	di, [bp+var_32]
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_2]
		cwd
		mov	cx, [bp+var_1A]
		mov	bx, [bp+var_18]
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_26], ax
		mov	[bp+var_24], dx
		cmp	[bp+var_24], 0
		jg	short loc_2422A
		jl	short loc_24290
		cmp	[bp+var_26], 0
		jbe	short loc_24290

loc_2422A:				; CODE XREF: FindTarget+12Bj
		mov	ax, [bp+var_22]
		mov	dx, [bp+var_20]
		or	dx, dx
		jns	short loc_2423B
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_2423B:				; CODE XREF: FindTarget+13Dj
		cmp	dx, [bp+var_24]
		jl	short loc_24247
		jg	short loc_24290
		cmp	ax, [bp+var_26]
		jnb	short loc_24290

loc_24247:				; CODE XREF: FindTarget+149j
		mov	ax, [bp+var_12]
		mov	dx, [bp+var_10]
		cmp	dx, [bp+var_24]
		jg	short loc_24259
		jl	short loc_24290
		cmp	ax, [bp+var_26]
		jbe	short loc_24290

loc_24259:				; CODE XREF: FindTarget+15Bj
		mov	ax, [bp+var_26]
		mov	dx, [bp+var_24]
		mov	[bp+var_12], ax
		mov	[bp+var_10], dx
		mov	ax, [bp+var_16]
		mov	dx, [bp+var_14]
		add	ax, 0C8h ; 'È'
		adc	dx, 0
		mov	[bp+var_E], ax
		mov	[bp+var_C], dx
		les	di, [bp+var_32]
		mov	ax, es:[di+0Ah]
		cwd
		mov	[bp+var_6], ax
		mov	[bp+var_4], dx
		mov	ax, es:[di+0Ch]
		cwd
		mov	[bp+var_A], ax
		mov	[bp+var_8], dx

loc_24290:				; CODE XREF: FindTarget+A9j
					; FindTarget+12Dj ...
		cmp	[bp+var_14], 0
		jz	short loc_24299
		jmp	loc_2417F
; ---------------------------------------------------------------------------

loc_24299:				; CODE XREF: FindTarget+19Fj
		cmp	[bp+var_16], 7
		jz	short loc_242A2
		jmp	loc_2417F
; ---------------------------------------------------------------------------

loc_242A2:				; CODE XREF: FindTarget+1A8j
		cmp	[bp+var_C], 0
		jg	short loc_242B0
		jl	short loc_242D1
		cmp	[bp+var_E], 0
		jb	short loc_242D1

loc_242B0:				; CODE XREF: FindTarget+1B1j
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_6]
		push	[bp+var_A]
		push	1Ah
		call	PathToMe
		or	al, al
		jnz	short loc_242D1
		mov	[bp+var_E], 0FFFFh
		mov	[bp+var_C], 0FFFFh

loc_242D1:				; CODE XREF: FindTarget+1B3j
					; FindTarget+1B9j ...
		mov	ax, [bp+var_E]
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		leave
		retn	8
FindTarget	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddRocket	proc far		; CODE XREF: DoGame+DA2P DoGame+E29P ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= byte ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h

		enter	4, 0
		cmp	RCount,	3Fh ; '?'
		jbe	short loc_242EC
		jmp	locret_243DB
; ---------------------------------------------------------------------------

loc_242EC:				; CODE XREF: AddRocket+9j
		inc	RCount
		imul	di, RCount, 18h
		add	di, 0B33Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, [bp+arg_C]
		mov	es:[di+0Eh], ax
		mov	ax, [bp+arg_A]
		mov	es:[di+10h], ax
		mov	ax, [bp+arg_8]
		mov	es:[di+12h], ax
		mov	al, [bp+arg_6]
		mov	es:[di+0Ch], al
		mov	ax, [bp+arg_C]
		cwd
		mov	cx, 17Ch
		idiv	cx
		add	ax, [bp+arg_12]
		mov	es:[di+2], ax
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 17Ch
		idiv	cx
		add	ax, [bp+arg_10]
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di], ax
		xor	ax, ax
		mov	es:[di+4], ax
		mov	byte ptr es:[di+0Dh], 0
		mov	ax, [bp+arg_E]
		mov	es:[di+8], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+0Ah], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+16h], ax
		mov	word ptr es:[di+14h], 0FFFFh
		cmp	Skill, 2
		jnz	short loc_24382
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		mov	al, [di-3272h]
		and	al, 8
		or	al, al
		jnz	short loc_24398

loc_24382:				; CODE XREF: AddRocket+8Fj
		les	di, [bp+var_4]
		assume es:nothing
		mov	al, es:[di+0Ch]
		xor	ah, ah
		imul	di, ax,	16h
		mov	al, [di-3272h]
		and	al, 10h
		or	al, al
		jz	short locret_243DB

loc_24398:				; CODE XREF: AddRocket+A2j
		cmp	[bp+arg_0], 0
		jl	short loc_243BE
		cmp	[bp+arg_0], 7
		jg	short loc_243BE
		imul	di, [bp+arg_0],	58h
		cmp	word ptr [di-0FAEh], 0
		jle	short loc_243BE
		mov	ax, [bp+arg_0]
		add	ax, 0C8h ; 'È'
		les	di, [bp+var_4]
		mov	es:[di+14h], ax
		jmp	short locret_243DB
; ---------------------------------------------------------------------------

loc_243BE:				; CODE XREF: AddRocket+BEj
					; AddRocket+C4j ...
		cmp	[bp+arg_0], 0FFh
		jnz	short locret_243DB
		push	[bp+arg_4]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_2]
		call	FindTarget
		les	di, [bp+var_4]
		mov	es:[di+14h], ax

locret_243DB:				; CODE XREF: AddRocket+Bj
					; AddRocket+B8j ...
		leave
		retf	14h
AddRocket	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FindVectorFi	proc far		; CODE XREF: DrawHoles+68P
					; MakePunch+14DP ...

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Ch, 0
		mov	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_A], ax
		mov	ax, [bp+arg_0]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_C], ax
		mov	[bp+var_6], 80h	; '€'
		mov	[bp+var_8], 40h	; '@'
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_2440D
; ---------------------------------------------------------------------------

loc_2440A:				; CODE XREF: FindVectorFi+6Bj
		inc	[bp+var_4]

loc_2440D:				; CODE XREF: FindVectorFi+29j
		push	[bp+var_A]
		push	[bp+var_C]
		mov	ax, [bp+var_6]
		add	ax, 100h
		mov	di, ax
		shl	di, 1
		push	word ptr [di-6390h]
		mov	di, [bp+var_6]
		shl	di, 1
		push	word ptr [di-6390h]
		call	MulVectors__1
		mul	[bp+var_8]
		mov	dx, ax
		mov	ax, [bp+var_6]
		sub	ax, dx
		mov	[bp+var_6], ax
		mov	ax, [bp+var_8]
		cwd
		mov	cx, 2
		idiv	cx
		mov	[bp+var_8], ax
		cmp	[bp+var_4], 6
		jnz	short loc_2440A
		cmp	[bp+arg_2], 0
		jge	short loc_2446A
		cmp	[bp+arg_0], 0
		jge	short loc_2445F
		add	[bp+var_6], 200h
		jmp	short loc_24468
; ---------------------------------------------------------------------------

loc_2445F:				; CODE XREF: FindVectorFi+77j
		mov	ax, 200h
		sub	ax, [bp+var_6]
		mov	[bp+var_6], ax

loc_24468:				; CODE XREF: FindVectorFi+7Ej
		jmp	short loc_24479
; ---------------------------------------------------------------------------

loc_2446A:				; CODE XREF: FindVectorFi+71j
		cmp	[bp+arg_0], 0
		jge	short loc_24479
		mov	ax, 400h
		sub	ax, [bp+var_6]
		mov	[bp+var_6], ax

loc_24479:				; CODE XREF: FindVectorFi:loc_24468j
					; FindVectorFi+8Fj
		mov	ax, [bp+var_6]
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		leave
		retf	4
FindVectorFi	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SendRocketToMe	proc far		; CODE XREF: AnimateMonsters+F79P
					; AnimateMonsters+FD1P	...

var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	1Ah, 0
		mov	ax, Skill
		shl	ax, 2
		mov	dx, ax
		mov	ax, 20h	; ' '
		sub	ax, dx
		mov	[bp+var_6], ax
		cmp	[bp+arg_0], 8
		jge	short loc_244B0
		push	[bp+arg_0]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	0
		call	WeakUpMonstersTo

loc_244B0:				; CODE XREF: SendRocketToMe+18j
		cmp	[bp+arg_0], 8
		jge	short loc_244FE
		imul	di, [bp+arg_0],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di+0Ah]
		mov	[bp+var_E], ax
		mov	ax, es:[di+0Ch]
		mov	[bp+var_10], ax
		mov	ax, es:[di+0Eh]
		shr	ax, 5
		add	ax, 22h	; '"'
		mov	[bp+var_12], ax
		mov	ax, es:[di+12h]
		cwd
		xor	ax, dx
		sub	ax, dx
		shr	ax, 1
		push	ax
		mov	ax, es:[di+14h]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		shr	ax, 2
		add	[bp+var_6], ax
		jmp	short loc_24541
; ---------------------------------------------------------------------------

loc_244FE:				; CODE XREF: SendRocketToMe+2Ej
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		imul	di, ax,	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		mov	word ptr [bp+var_16], di
		mov	word ptr [bp+var_16+2],	es
		mov	ax, es:[di]
		mov	[bp+var_E], ax
		mov	ax, es:[di+2]
		mov	[bp+var_10], ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		mov	ax, es:[di+0Ch]
		shr	ax, 6
		les	di, [bp+var_16]
		assume es:nothing
		add	ax, es:[di+20h]
		mov	[bp+var_12], ax

loc_24541:				; CODE XREF: SendRocketToMe+76j
		mov	ax, [bp+var_E]
		sub	ax, [bp+arg_E]
		mov	[bp+var_8], ax
		mov	ax, [bp+var_10]
		sub	ax, [bp+arg_C]
		mov	[bp+var_A], ax
		push	[bp+var_8]
		push	[bp+var_A]
		call	QPifagorA32__0
		mov	[bp+var_4], ax
		push	[bp+var_8]
		push	[bp+var_A]
		call	FindVectorFi
		mov	[bp+var_2], ax
		imul	di, [bp+arg_4],	16h
		mov	ax, [di-326Eh]
		or	ax, [di-326Ch]
		jz	short loc_24580
		jmp	loc_24633
; ---------------------------------------------------------------------------

loc_24580:				; CODE XREF: SendRocketToMe+F5j
		push	[bp+var_6]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		shr	ax, 1
		mov	dx, ax
		mov	ax, [bp+var_2]
		add	ax, 400h
		add	ax, dx
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		and	ax, 3FFh
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		shl	ax, 2
		mov	[bp+var_8], ax
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [di-6390h]
		shl	ax, 2
		mov	[bp+var_A], ax
		mov	ax, [bp+var_4]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_12]
		shl	ax, 5
		mov	dx, ax
		mov	ax, [bp+arg_A]
		sub	ax, dx
		cwd
		mov	cx, 0FFC0h
		mov	bx, 0FFFFh
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_C], ax
		mov	ax, [bp+var_8]
		cwd
		mov	cx, 400h
		idiv	cx
		add	ax, [bp+arg_E]
		push	ax
		mov	ax, [bp+var_A]
		cwd
		mov	cx, 400h
		idiv	cx
		add	ax, [bp+arg_C]
		push	ax
		push	[bp+arg_A]
		push	[bp+var_8]
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	1
		call	SendFastRocket
		jmp	locret_24716
; ---------------------------------------------------------------------------

loc_24633:				; CODE XREF: SendRocketToMe+F7j
		mov	ax, [bp+var_4]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_8]
		cwd
		mov	cx, 4000h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_8], ax
		mov	ax, [bp+var_4]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_A]
		cwd
		mov	cx, 4000h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_A], ax
		mov	ax, [bp+var_8]
		cwd
		mov	cx, 100h
		idiv	cx
		add	[bp+arg_E], ax
		mov	ax, [bp+var_A]
		cwd
		mov	cx, 100h
		idiv	cx
		add	[bp+arg_C], ax
		imul	di, [bp+arg_4],	16h
		mov	al, [di-3272h]
		and	al, 8
		or	al, al
		jz	short loc_2469C
		cmp	Skill, 2
		jz	short loc_246AA

loc_2469C:				; CODE XREF: SendRocketToMe+20Dj
		imul	di, [bp+arg_4],	16h
		mov	al, [di-3272h]
		and	al, 10h
		or	al, al
		jz	short loc_246B1

loc_246AA:				; CODE XREF: SendRocketToMe+214j
		xor	ax, ax
		mov	[bp+var_C], ax
		jmp	short loc_246DA
; ---------------------------------------------------------------------------

loc_246B1:				; CODE XREF: SendRocketToMe+222j
		mov	ax, [bp+var_4]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_12]
		shl	ax, 5
		mov	dx, ax
		mov	ax, [bp+arg_A]
		sub	ax, dx
		cwd
		mov	cx, 0FFC0h
		mov	bx, 0FFFFh
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_C], ax

loc_246DA:				; CODE XREF: SendRocketToMe+229j
		mov	b0, 0C000h
		mov	ax, [bp+var_2]
		shl	ax, 6
		sub	b0, ax
		mov	ax, [bp+arg_E]
		add	ax, [bp+arg_8]
		push	ax
		mov	ax, [bp+arg_C]
		add	ax, [bp+arg_6]
		push	ax
		push	[bp+arg_A]
		push	[bp+var_8]
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	b0
		push	[bp+arg_0]
		call	AddRocket

locret_24716:				; CODE XREF: SendRocketToMe+1AAj
		leave
		retf	10h
SendRocketToMe	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckSwitchShoot proc far		; CODE XREF: TryToGo+124P
					; TryToGo2B+4AP ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	8, 0
		cmp	[bp+arg_0], 7
		jle	short loc_24726
		jmp	short locret_24772
; ---------------------------------------------------------------------------

loc_24726:				; CODE XREF: CheckSwitchShoot+8j
		mov	ax, LinksCount
		dec	ax
		mov	[bp+var_4], ax
		xor	ax, ax
		cmp	ax, [bp+var_4]
		jg	short locret_24772
		mov	[bp+var_2], ax
		jmp	short loc_2473C
; ---------------------------------------------------------------------------

loc_24739:				; CODE XREF: CheckSwitchShoot+56j
		inc	[bp+var_2]

loc_2473C:				; CODE XREF: CheckSwitchShoot+1Dj
		imul	ax, [bp+var_2],	7
		les	di, PLinks
		add	di, ax
		cmp	byte ptr es:[di], 73h ;	's'
		jnz	short loc_2476A
		mov	ax, es:[di+1]
		cmp	ax, [bp+arg_4]
		jnz	short loc_2476A
		mov	ax, es:[di+3]
		cmp	ax, [bp+arg_2]
		jnz	short loc_2476A
		push	word ptr es:[di+5]
		push	[bp+arg_0]
		call	StartProcess

loc_2476A:				; CODE XREF: CheckSwitchShoot+30j
					; CheckSwitchShoot+39j	...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_24739

locret_24772:				; CODE XREF: CheckSwitchShoot+Aj
					; CheckSwitchShoot+18j
		leave
		retf	6
CheckSwitchShoot endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MakeBlow	proc far		; CODE XREF: AnimateRockets+78EP
					; ExplodeMine+8DP ...

var_26		= dword	ptr -26h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	26h, 0
		cmp	CLIENT,	0
		jnz	short loc_24788
		cmp	PlayDemo, 0
		jz	short loc_2478B

loc_24788:				; CODE XREF: MakeBlow+9j
		jmp	locret_24DA6
; ---------------------------------------------------------------------------

loc_2478B:				; CODE XREF: MakeBlow+10j
		cmp	[bp+arg_0], 8
		jge	short loc_247A1
		push	[bp+arg_0]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	0
		call	WeakUpMonstersTo

loc_247A1:				; CODE XREF: MakeBlow+19j
		cmp	[bp+arg_6], 1000h
		jle	short loc_247AB
		jmp	locret_24DA6
; ---------------------------------------------------------------------------

loc_247AB:				; CODE XREF: MakeBlow+30j
		cmp	[bp+arg_4], 0C8h ; 'È'
		jg	short loc_247B5
		jmp	loc_248FF
; ---------------------------------------------------------------------------

loc_247B5:				; CODE XREF: MakeBlow+3Aj
		xor	ax, ax
		mov	[bp+var_C], ax
		jmp	short loc_247BF
; ---------------------------------------------------------------------------

loc_247BC:				; CODE XREF: MakeBlow+186j
		inc	[bp+var_C]

loc_247BF:				; CODE XREF: MakeBlow+44j
		imul	di, [bp+var_C],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	[bp+var_1E], di
		mov	[bp+var_1C], es
		cmp	word ptr es:[di+28h], 0
		jg	short loc_247D9
		jmp	loc_248F6
; ---------------------------------------------------------------------------

loc_247D9:				; CODE XREF: MakeBlow+5Ej
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_A]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_8]
		push	ax
		call	QPifagorA32__0
		mov	[bp+var_A], ax
		mov	ax, [bp+var_A]
		cmp	ax, [bp+arg_4]
		jl	short loc_247FC
		jmp	loc_248F6
; ---------------------------------------------------------------------------

loc_247FC:				; CODE XREF: MakeBlow+81j
		push	[bp+arg_A]
		push	[bp+arg_8]
		les	di, dword ptr [bp+var_1E]
		assume es:nothing
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	5
		call	PathToMe
		or	al, al
		jnz	short loc_2481B
		jmp	loc_248F6
; ---------------------------------------------------------------------------

loc_2481B:				; CODE XREF: MakeBlow+A0j
		cmp	[bp+var_A], 64h	; 'd'
		jge	short loc_24829
		mov	ax, [bp+arg_2]
		mov	[bp+var_12], ax
		jmp	short loc_24856
; ---------------------------------------------------------------------------

loc_24829:				; CODE XREF: MakeBlow+A9j
		mov	ax, [bp+arg_4]
		sub	ax, 64h	; 'd'
		shr	ax, 2
		cwd
		push	dx
		push	ax
		mov	ax, [bp+arg_4]
		sub	ax, [bp+var_A]
		shr	ax, 2
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_12], ax

loc_24856:				; CODE XREF: MakeBlow+B1j
		les	di, dword ptr [bp+var_1E]
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_A]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_8]
		push	ax
		call	FindVectorFi
		les	di, dword ptr [bp+var_1E]
		mov	es:[di+1Ch], ax
		mov	ax, [bp+arg_2]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_12]
		cwd
		mov	cx, 80h	; '€'
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, dword ptr [bp+var_1E]
		mov	es:[di+1Ah], ax
		cmp	[bp+var_C], 0
		jnz	short loc_248D3
		cmp	word ptr es:[di+1Ah], 20h ; ' '
		jle	short loc_248D3
		mov	ax, es:[di+1Ah]
		mov	ShakeLevel, ax
		mov	ax, es:[di+0Eh]
		add	ax, 100h
		cmp	ax, [bp+arg_6]
		jle	short loc_248C1
		mov	ax, es:[di+1Ah]
		shr	ax, 1
		mov	es:[di+18h], ax

loc_248C1:				; CODE XREF: MakeBlow+13Fj
		les	di, dword ptr [bp+var_1E]
		inc	word ptr es:[di+0Eh]
		mov	ax, es:[di+2Ah]
		or	ax, 100h
		mov	es:[di+2Ah], ax

loc_248D3:				; CODE XREF: MakeBlow+125j
					; MakeBlow+12Cj
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+var_12]
		push	[bp+var_C]
		push	[bp+arg_0]
		call	ShootMe
		les	di, dword ptr [bp+var_1E]
		xor	ax, ax
		mov	es:[di+12h], ax
		xor	ax, ax
		mov	es:[di+14h], ax

loc_248F6:				; CODE XREF: MakeBlow+60j MakeBlow+83j ...
		cmp	[bp+var_C], 7
		jz	short loc_248FF
		jmp	loc_247BC
; ---------------------------------------------------------------------------

loc_248FF:				; CODE XREF: MakeBlow+3Cj
					; MakeBlow+184j
		cmp	[bp+arg_0], 64h	; 'd'
		jle	short loc_2490C
		xor	ax, ax
		mov	[bp+var_16], ax
		jmp	short loc_24912
; ---------------------------------------------------------------------------

loc_2490C:				; CODE XREF: MakeBlow+18Dj
		mov	ax, [bp+arg_0]
		mov	[bp+var_16], ax

loc_24912:				; CODE XREF: MakeBlow+194j
		cmp	[bp+arg_0], 64h	; 'd'
		jle	short loc_24923
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		mov	[bp+var_14], ax
		jmp	short loc_24928
; ---------------------------------------------------------------------------

loc_24923:				; CODE XREF: MakeBlow+1A0j
		mov	[bp+var_14], 0FFh

loc_24928:				; CODE XREF: MakeBlow+1ABj
		cmp	[bp+arg_4], 0C8h ; 'È'
		jg	short loc_24932
		jmp	loc_249FE
; ---------------------------------------------------------------------------

loc_24932:				; CODE XREF: MakeBlow+1B7j
		mov	ax, MCount
		mov	[bp+var_1C], ax
		mov	ax, 1
		cmp	ax, [bp+var_1C]
		jle	short loc_24943
		jmp	loc_249FE
; ---------------------------------------------------------------------------

loc_24943:				; CODE XREF: MakeBlow+1C8j
		mov	[bp+var_C], ax
		jmp	short loc_2494B
; ---------------------------------------------------------------------------

loc_24948:				; CODE XREF: MakeBlow+285j
		inc	[bp+var_C]

loc_2494B:				; CODE XREF: MakeBlow+1D0j
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_14]
		jnz	short loc_24956
		jmp	loc_249F3
; ---------------------------------------------------------------------------

loc_24956:				; CODE XREF: MakeBlow+1DBj
		imul	di, [bp+var_C],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_22+2],	di
		mov	[bp+var_1E], es
		cmp	word ptr es:[di+12h], 0
		jg	short loc_24970
		jmp	loc_249F3
; ---------------------------------------------------------------------------

loc_24970:				; CODE XREF: MakeBlow+1F5j
		mov	ax, es:[di]
		sub	ax, [bp+arg_A]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_8]
		push	ax
		call	QPifagorA32__0
		mov	[bp+var_A], ax
		mov	ax, [bp+var_A]
		cmp	ax, [bp+arg_4]
		jge	short loc_249F3
		push	[bp+arg_A]
		push	[bp+arg_8]
		les	di, [bp+var_22+2]
		assume es:nothing
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	3
		call	PathToMe
		or	al, al
		jz	short loc_249F3
		cmp	[bp+var_A], 64h	; 'd'
		jge	short loc_249B8
		mov	ax, [bp+arg_2]
		mov	[bp+var_12], ax
		jmp	short loc_249D5
; ---------------------------------------------------------------------------

loc_249B8:				; CODE XREF: MakeBlow+238j
		mov	ax, [bp+arg_4]
		sub	ax, 64h	; 'd'
		shr	ax, 2
		mov	cx, ax
		mov	ax, [bp+arg_4]
		sub	ax, [bp+var_A]
		shr	ax, 2
		mul	[bp+arg_2]
		cwd
		idiv	cx
		mov	[bp+var_12], ax

loc_249D5:				; CODE XREF: MakeBlow+240j
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	0
		push	0
		push	[bp+var_C]
		push	[bp+var_12]
		push	[bp+var_12]
		push	[bp+arg_0]
		call	ShootMonster

loc_249F3:				; CODE XREF: MakeBlow+1DDj
					; MakeBlow+1F7j ...
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_1C]
		jz	short loc_249FE
		jmp	loc_24948
; ---------------------------------------------------------------------------

loc_249FE:				; CODE XREF: MakeBlow+1B9j
					; MakeBlow+1CAj ...
		cmp	[bp+arg_4], 0C8h ; 'È'
		jg	short loc_24A08
		jmp	loc_24AD2
; ---------------------------------------------------------------------------

loc_24A08:				; CODE XREF: MakeBlow+28Dj
		cmp	[bp+arg_2], 64h	; 'd'
		jge	short loc_24A11
		jmp	loc_24AD2
; ---------------------------------------------------------------------------

loc_24A11:				; CODE XREF: MakeBlow+296j
		mov	ax, MCount
		mov	[bp+var_1C], ax
		mov	ax, 1
		cmp	ax, [bp+var_1C]
		jle	short loc_24A22
		jmp	loc_24AD2
; ---------------------------------------------------------------------------

loc_24A22:				; CODE XREF: MakeBlow+2A7j
		mov	[bp+var_C], ax
		jmp	short loc_24A2A
; ---------------------------------------------------------------------------

loc_24A27:				; CODE XREF: MakeBlow+359j
		inc	[bp+var_C]

loc_24A2A:				; CODE XREF: MakeBlow+2AFj
		imul	di, [bp+var_C],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_22+2],	di
		mov	[bp+var_1E], es
		cmp	word ptr es:[di+12h], 0
		jz	short loc_24A44
		jmp	loc_24AC7
; ---------------------------------------------------------------------------

loc_24A44:				; CODE XREF: MakeBlow+2C9j
		cmp	byte ptr es:[di+0Bh], 0FFh
		jz	short loc_24AC7
		mov	ax, es:[di]
		sub	ax, [bp+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		add	ax, 96h	; '–'
		mov	[bp+var_10], ax
		mov	ax, [bp+var_10]
		cmp	ax, [bp+arg_4]
		jge	short loc_24AC7
		les	di, [bp+var_22+2]
		assume es:nothing
		mov	ax, es:[di+1Eh]
		add	ax, 800h
		cmp	ax, [bp+arg_6]
		jle	short loc_24AC7
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	3
		call	PathToMe
		or	al, al
		jz	short loc_24AC7
		les	di, [bp+var_22+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	word ptr es:[di+1Eh]
		call	ExplodeMonster
		les	di, [bp+var_22+2]
		mov	byte ptr es:[di+0Bh], 0FFh

loc_24AC7:				; CODE XREF: MakeBlow+2CBj
					; MakeBlow+2D3j ...
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_1C]
		jz	short loc_24AD2
		jmp	loc_24A27
; ---------------------------------------------------------------------------

loc_24AD2:				; CODE XREF: MakeBlow+28Fj
					; MakeBlow+298j ...
		mov	ax, MnCount
		mov	[bp+var_1C], ax
		mov	ax, 1
		cmp	ax, [bp+var_1C]
		jle	short loc_24AE3
		jmp	loc_24B63
; ---------------------------------------------------------------------------

loc_24AE3:				; CODE XREF: MakeBlow+368j
		mov	[bp+var_C], ax
		jmp	short loc_24AEB
; ---------------------------------------------------------------------------

loc_24AE8:				; CODE XREF: MakeBlow+3EBj
		inc	[bp+var_C]

loc_24AEB:				; CODE XREF: MakeBlow+370j
		imul	di, [bp+var_C],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_22+2],	di
		mov	[bp+var_1E], es
		mov	ax, es:[di]
		sub	ax, [bp+arg_A]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_8]
		push	ax
		call	QPifagorA32__0
		add	ax, 28h	; '('
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		cmp	dx, bx
		jg	short loc_24B26
		jl	short loc_24B5B
		cmp	ax, cx
		jbe	short loc_24B5B

loc_24B26:				; CODE XREF: MakeBlow+3A8j
		les	di, [bp+var_22+2]
		assume es:nothing
		mov	ax, es:[di+6]
		sub	ax, [bp+arg_6]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 800h
		jge	short loc_24B5B
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	3
		call	PathToMe
		or	al, al
		jz	short loc_24B5B
		les	di, [bp+var_22+2]
		mov	word ptr es:[di+4], 40Ah

loc_24B5B:				; CODE XREF: MakeBlow+3AAj
					; MakeBlow+3AEj ...
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_1C]
		jnz	short loc_24AE8

loc_24B63:				; CODE XREF: MakeBlow+36Aj
		xor	ax, ax
		mov	[bp+var_2], ax
		cmp	[bp+arg_4], 0
		jnz	short loc_24B75
		mov	[bp+var_12], 3Ch ; '<'
		jmp	short loc_24B7A
; ---------------------------------------------------------------------------

loc_24B75:				; CODE XREF: MakeBlow+3F6j
		mov	[bp+var_12], 56h ; 'V'

loc_24B7A:				; CODE XREF: MakeBlow+3FDj
		mov	al, byte ptr [bp+arg_A+1]
		xor	ah, ah
		add	ax, 3
		mov	[bp+var_1C], ax
		mov	al, byte ptr [bp+arg_A+1]
		xor	ah, ah
		sub	ax, 3
		cmp	ax, [bp+var_1C]
		jle	short loc_24B95
		jmp	locret_24DA6
; ---------------------------------------------------------------------------

loc_24B95:				; CODE XREF: MakeBlow+41Aj
		mov	[bp+var_6], ax
		jmp	short loc_24B9D
; ---------------------------------------------------------------------------

loc_24B9A:				; CODE XREF: MakeBlow+62Dj
		inc	[bp+var_6]

loc_24B9D:				; CODE XREF: MakeBlow+422j
		cmp	[bp+var_6], 0
		jge	short loc_24BA6
		jmp	loc_24D9B
; ---------------------------------------------------------------------------

loc_24BA6:				; CODE XREF: MakeBlow+42Bj
		cmp	[bp+var_6], 3Fh	; '?'
		jle	short loc_24BAF
		jmp	loc_24D9B
; ---------------------------------------------------------------------------

loc_24BAF:				; CODE XREF: MakeBlow+434j
		mov	al, byte ptr [bp+arg_8+1]
		xor	ah, ah
		add	ax, 3
		mov	[bp+var_1E], ax
		mov	al, byte ptr [bp+arg_8+1]
		xor	ah, ah
		sub	ax, 3
		cmp	ax, [bp+var_1E]
		jle	short loc_24BCA
		jmp	loc_24D9B
; ---------------------------------------------------------------------------

loc_24BCA:				; CODE XREF: MakeBlow+44Fj
		mov	[bp+var_8], ax
		jmp	short loc_24BD2
; ---------------------------------------------------------------------------

loc_24BCF:				; CODE XREF: MakeBlow+622j
		inc	[bp+var_8]

loc_24BD2:				; CODE XREF: MakeBlow+457j
		cmp	[bp+var_8], 0
		jge	short loc_24BDB
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24BDB:				; CODE XREF: MakeBlow+460j
		cmp	[bp+var_8], 3Fh	; '?'
		jle	short loc_24BE4
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24BE4:				; CODE XREF: MakeBlow+469j
		cmp	[bp+var_2], 2
		jl	short loc_24BED
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24BED:				; CODE XREF: MakeBlow+472j
		imul	ax, [bp+var_8],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_6],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_22], di
		mov	word ptr [bp+var_22+2],	es
		mov	al, es:[di]
		cmp	al, 78h	; 'x'
		jnz	short loc_24C4E
		mov	ax, es:[di+3]
		add	ax, es:[di+7]
		shr	ax, 1
		sub	ax, [bp+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+5]
		add	ax, es:[di+9]
		shr	ax, 1
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, 100h
		jge	short loc_24C4B
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+arg_0]
		call	CheckSwitchShoot

loc_24C4B:				; CODE XREF: MakeBlow+4C5j
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24C4E:				; CODE XREF: MakeBlow+495j
		cmp	al, 83h	; 'ƒ'
		jnb	short loc_24C55
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24C55:				; CODE XREF: MakeBlow+4DAj
		cmp	al, 0E2h ; 'â'
		jbe	short loc_24C5C
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24C5C:				; CODE XREF: MakeBlow+4E1j
		les	di, [bp+var_22]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_26], di
		mov	word ptr [bp+var_26+2],	es
		les	di, [bp+var_22]
		assume es:nothing
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		shl	ax, 5
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_4]
		shl	ax, 2
		add	ax, [bp+arg_6]
		mov	dx, ax
		les	di, [bp+var_26]
		mov	ax, es:[di+12h]
		add	ax, [bp+var_4]
		cmp	ax, dx
		jl	short loc_24CA7
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24CA7:				; CODE XREF: MakeBlow+52Cj
		mov	ax, [bp+arg_4]
		shl	ax, 2
		mov	dx, ax
		mov	ax, [bp+arg_6]
		sub	ax, dx
		mov	dx, ax
		mov	ax, es:[di+14h]
		add	ax, [bp+var_4]
		cmp	ax, dx
		jg	short loc_24CC4
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24CC4:				; CODE XREF: MakeBlow+549j
		les	di, [bp+var_22]
		mov	ax, es:[di+3]
		sub	ax, [bp+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	dx, ax
		mov	ax, [bp+var_12]
		les	di, [bp+var_26]
		add	ax, es:[di]
		cmp	ax, dx
		jle	short loc_24D03
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+arg_0]
		call	CheckSwitchShoot

loc_24D03:				; CODE XREF: MakeBlow+57Dj
		les	di, [bp+var_26]
		cmp	word ptr es:[di+0Ah], 0
		jg	short loc_24D10
		jmp	loc_24D90
; ---------------------------------------------------------------------------

loc_24D10:				; CODE XREF: MakeBlow+595j
		cmp	[bp+arg_4], 78h	; 'x'
		jl	short loc_24D90
		les	di, [bp+var_22]
		mov	ax, es:[di+3]
		sub	ax, [bp+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+arg_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		mov	dx, ax
		mov	ax, [bp+arg_4]
		les	di, [bp+var_26]
		add	ax, es:[di]
		cmp	ax, dx
		jle	short loc_24D90
		push	[bp+arg_A]
		push	[bp+arg_8]
		les	di, [bp+var_22]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	5
		call	PathToMe
		or	al, al
		jz	short loc_24D90
		mov	ax, [bp+arg_2]
		les	di, [bp+var_22]
		sub	es:[di+9], ax
		cmp	word ptr es:[di+9], 0
		jg	short loc_24D90
		push	[bp+var_6]
		push	[bp+var_8]
		call	Blow3dObjAt
		inc	[bp+var_2]
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+arg_0]
		call	CheckSwitchShoot

loc_24D90:				; CODE XREF: MakeBlow+462j
					; MakeBlow+46Bj ...
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_1E]
		jz	short loc_24D9B
		jmp	loc_24BCF
; ---------------------------------------------------------------------------

loc_24D9B:				; CODE XREF: MakeBlow+42Dj
					; MakeBlow+436j ...
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_1C]
		jz	short locret_24DA6
		jmp	loc_24B9A
; ---------------------------------------------------------------------------

locret_24DA6:				; CODE XREF: MakeBlow:loc_24788j
					; MakeBlow+32j	...
		leave
		retf	0Ch
MakeBlow	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MakeGreatBlow	proc near		; CODE XREF: Blow3dObjAt+384p

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	2, 0
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	140h
		push	3Ch ; '<'
		push	0
		call	MakeBlow
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_24DCD
; ---------------------------------------------------------------------------

loc_24DCA:				; CODE XREF: MakeGreatBlow+59j
		inc	[bp+var_2]

loc_24DCD:				; CODE XREF: MakeGreatBlow+1Ej
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	23h ; '#'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		sub	ax, 11h
		push	ax
		push	23h ; '#'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		sub	ax, 11h
		push	ax
		push	118h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		sub	ax, 26h	; '&'
		push	ax
		push	8
		call	AddBlow
		cmp	[bp+var_2], 1Dh
		jnz	short loc_24DCA
		leave
		retn	6
MakeGreatBlow	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Blow3dObjAt	proc far		; CODE XREF: MakeChanges+76P
					; ExecuteEvent+75P ...

var_2C		= dword	ptr -2Ch
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2Ch, 0
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74B8h], 0
		jnz	short loc_24E35
		jmp	locret_252B5
; ---------------------------------------------------------------------------

loc_24E35:				; CODE XREF: Blow3dObjAt+27j
		mov	ax, LinksCount
		dec	ax
		mov	[bp+var_28], ax
		xor	ax, ax
		cmp	ax, [bp+var_28]
		jg	short loc_24E9A
		mov	[bp+var_1E], ax
		jmp	short loc_24E4B
; ---------------------------------------------------------------------------

loc_24E48:				; CODE XREF: Blow3dObjAt+8Fj
		inc	[bp+var_1E]

loc_24E4B:				; CODE XREF: Blow3dObjAt+3Dj
		imul	ax, [bp+var_1E], 7
		les	di, PLinks
		add	di, ax
		mov	word ptr [bp+var_2C], di
		mov	word ptr [bp+var_2C+2],	es
		cmp	byte ptr es:[di], 64h ;	'd'
		jnz	short loc_24E92
		mov	ax, es:[di+1]
		cmp	ax, [bp+arg_2]
		jnz	short loc_24E92
		mov	ax, es:[di+3]
		cmp	ax, [bp+arg_0]
		jnz	short loc_24E92
		imul	ax, es:[di+5], 1E8h
		les	di, PProc
		add	di, ax
		mov	byte ptr es:[di+2], 0
		les	di, [bp+var_2C]
		push	word ptr es:[di+5]
		push	0FFFFh
		call	StartProcess

loc_24E92:				; CODE XREF: Blow3dObjAt+56j
					; Blow3dObjAt+5Fj ...
		mov	ax, [bp+var_1E]
		cmp	ax, [bp+var_28]
		jnz	short loc_24E48

loc_24E9A:				; CODE XREF: Blow3dObjAt+38j
		mov	[bp+var_14], 0Ah
		mov	[bp+var_6], 3Ch	; '<'
		mov	[bp+var_8], 0Ah
		mov	[bp+var_2], 0FFA6h
		mov	[bp+var_4], 12Ch
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2C+2],	di
		mov	[bp+var_28], es
		mov	ax, es:[di+0Ah]
		mov	[bp+var_A], ax
		cmp	[bp+var_A], 3E8h
		jge	short loc_24EF2
		mov	[bp+var_C], 1
		jmp	short loc_24EFC
; ---------------------------------------------------------------------------

loc_24EF2:				; CODE XREF: Blow3dObjAt+E0j
		sub	[bp+var_A], 3E8h
		xor	ax, ax
		mov	[bp+var_C], ax

loc_24EFC:				; CODE XREF: Blow3dObjAt+E7j
		cmp	[bp+var_A], 64h	; 'd'
		jge	short loc_24F09
		xor	ax, ax
		mov	[bp+var_E], ax
		jmp	short loc_24F12
; ---------------------------------------------------------------------------

loc_24F09:				; CODE XREF: Blow3dObjAt+F7j
		sub	[bp+var_A], 64h	; 'd'
		mov	[bp+var_E], 1

loc_24F12:				; CODE XREF: Blow3dObjAt+FEj
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		assume es:nothing
		add	di, ax
		add	di, dx
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_6], ax
		les	di, [bp+var_2C+2]
		cmp	word ptr es:[di+6], 0
		jge	short loc_24F4B
		cmp	word ptr es:[di+8], 0
		jle	short loc_24F4B
		mov	ax, es:[di+8]
		shr	ax, 5
		mov	[bp+var_6], ax
		jmp	short loc_24F5C
; ---------------------------------------------------------------------------

loc_24F4B:				; CODE XREF: Blow3dObjAt+12Dj
					; Blow3dObjAt+134j
		les	di, [bp+var_2C+2]
		mov	ax, es:[di+12h]
		add	ax, es:[di+14h]
		shr	ax, 6
		add	[bp+var_6], ax

loc_24F5C:				; CODE XREF: Blow3dObjAt+140j
		les	di, [bp+var_2C+2]
		cmp	word ptr es:[di+10h], 0
		jle	short loc_24FA2
		push	0FFFFh
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	word ptr es:[di+3]
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		push	word ptr es:[di+5]
		les	di, [bp+var_2C+2]
		push	word ptr es:[di+10h]
		call	AddVoice

loc_24FA2:				; CODE XREF: Blow3dObjAt+15Bj
		mov	[bp+var_26], 10h
		cmp	SERVER,	0
		jnz	short loc_24FB8
		cmp	RecordDemo, 0
		jnz	short loc_24FB8
		jmp	loc_25040
; ---------------------------------------------------------------------------

loc_24FB8:				; CODE XREF: Blow3dObjAt+1A3j
					; Blow3dObjAt+1AAj
		mov	ax, ChangesCount
		dec	ax
		mov	[bp+var_28], ax
		xor	ax, ax
		cmp	ax, [bp+var_28]
		jg	short loc_25040
		mov	[bp+var_1E], ax
		jmp	short loc_24FCE
; ---------------------------------------------------------------------------

loc_24FCB:				; CODE XREF: Blow3dObjAt+235j
		inc	[bp+var_1E]

loc_24FCE:				; CODE XREF: Blow3dObjAt+1C0j
		mov	ax, [bp+var_1E]
		shl	ax, 2
		les	di, PChanges
		add	di, ax
		mov	ax, es:[di]
		cmp	ax, [bp+arg_2]
		jnz	short loc_25038
		mov	ax, es:[di+2]
		cmp	ax, [bp+arg_0]
		jnz	short loc_25038
		cmp	SERVER,	0
		jz	short loc_25023
		mov	ax, [bp+var_1E]
		and	ax, 7
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		mov	ax, [bp+var_1E]
		shr	ax, 3
		mov	di, ax
		mov	al, [di-0D14h]
		xor	ah, ah
		or	ax, dx
		mov	dl, al
		mov	ax, [bp+var_1E]
		shr	ax, 3
		mov	di, ax
		mov	[di-0D14h], dl
		jmp	short loc_25038
; ---------------------------------------------------------------------------

loc_25023:				; CODE XREF: Blow3dObjAt+1E7j
		push	21h ; '!'
		mov	al, byte ptr [bp+var_1E]
		push	ax
		push	0
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	0
		call	AddEvent

loc_25038:				; CODE XREF: Blow3dObjAt+1D7j
					; Blow3dObjAt+1E0j ...
		mov	ax, [bp+var_1E]
		cmp	ax, [bp+var_28]
		jnz	short loc_24FCB

loc_25040:				; CODE XREF: Blow3dObjAt+1ACj
					; Blow3dObjAt+1BBj
		imul	ax, [bp+arg_0],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_2C+2],	di
		mov	[bp+var_28], es
		inc	byte ptr es:[di]
		cmp	[bp+var_A], 33h	; '3'
		jge	short loc_25065
		jmp	loc_25128
; ---------------------------------------------------------------------------

loc_25065:				; CODE XREF: Blow3dObjAt+257j
		mov	[bp+var_8], 20h	; ' '
		mov	[bp+var_1E], 1
		jmp	short loc_25074
; ---------------------------------------------------------------------------

loc_25071:				; CODE XREF: Blow3dObjAt+319j
		inc	[bp+var_1E]

loc_25074:				; CODE XREF: Blow3dObjAt+266j
		push	14h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C+2]
		mov	ax, es:[di+3]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 0Ah
		sbb	dx, 0
		mov	[bp+var_22], ax
		push	14h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C+2]
		mov	ax, es:[di+5]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 0Ah
		sbb	dx, 0
		mov	[bp+var_24], ax
		cmp	[bp+var_A], 47h	; 'G'
		jnz	short loc_250F3
		push	[bp+var_22]
		push	[bp+var_24]
		push	[bp+var_8]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	28h ; '('
		mov	ax, [bp+var_1E]
		cwd
		mov	cx, 5
		idiv	cx
		add	ax, 47h	; 'G'
		push	ax
		push	0
		call	AddSinglePart
		jmp	short loc_2511C
; ---------------------------------------------------------------------------

loc_250F3:				; CODE XREF: Blow3dObjAt+2B3j
		push	[bp+var_22]
		push	[bp+var_24]
		push	[bp+var_8]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	28h ; '('
		push	[bp+var_A]
		push	0
		call	AddSinglePart

loc_2511C:				; CODE XREF: Blow3dObjAt+2E8j
		cmp	[bp+var_1E], 8
		jz	short loc_25125
		jmp	loc_25071
; ---------------------------------------------------------------------------

loc_25125:				; CODE XREF: Blow3dObjAt+317j
		jmp	locret_252B5
; ---------------------------------------------------------------------------

loc_25128:				; CODE XREF: Blow3dObjAt+259j
		mov	[bp+var_12], 1
		mov	[bp+var_10], 1
		mov	[bp+var_16], 14h
		mov	[bp+var_1A], 28h ; '('
		mov	[bp+var_14], 14h
		mov	[bp+var_18], 28h ; '('
		xor	ax, ax
		mov	[bp+var_2], ax
		mov	[bp+var_26], 10h
		cmp	SERVER,	0
		jnz	short loc_2515E
		cmp	RecordDemo, 0
		jz	short loc_25175

loc_2515E:				; CODE XREF: Blow3dObjAt+34Cj
		les	di, [bp+var_2C+2]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	0Ch
		push	20h ; ' '
		push	84h ; '„'
		call	AddBlowLight

loc_25175:				; CODE XREF: Blow3dObjAt+353j
		cmp	[bp+var_E], 0
		jle	short loc_25190
		les	di, [bp+var_2C+2]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		mov	ax, [bp+var_6]
		shl	ax, 5
		push	ax
		call	MakeGreatBlow

loc_25190:				; CODE XREF: Blow3dObjAt+370j
		cmp	[bp+var_C], 0
		jle	short loc_251A6
		les	di, [bp+var_2C+2]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		call	RemoveLight

loc_251A6:				; CODE XREF: Blow3dObjAt+38Bj
		mov	ax, [bp+var_26]
		mov	word ptr [bp+var_2C], ax
		mov	ax, 1
		cmp	ax, word ptr [bp+var_2C]
		jle	short loc_251B7
		jmp	locret_252B5
; ---------------------------------------------------------------------------

loc_251B7:				; CODE XREF: Blow3dObjAt+3A9j
		mov	[bp+var_1E], ax
		jmp	short loc_251BF
; ---------------------------------------------------------------------------

loc_251BC:				; CODE XREF: Blow3dObjAt+4A9j
		inc	[bp+var_1E]

loc_251BF:				; CODE XREF: Blow3dObjAt+3B1j
		cmp	BCount,	96h ; '–'
		jb	short loc_251CA
		jmp	loc_252AA
; ---------------------------------------------------------------------------

loc_251CA:				; CODE XREF: Blow3dObjAt+3BCj
		push	2Ch ; ','
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 0Ah
		mov	[bp+var_20], ax
		push	20h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C+2]
		mov	ax, es:[di+3]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 10h
		sbb	dx, 0
		mov	[bp+var_22], ax
		push	20h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_2C+2]
		mov	ax, es:[di+5]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 10h
		sbb	dx, 0
		mov	[bp+var_24], ax
		push	[bp+var_22]
		push	[bp+var_24]
		mov	ax, [bp+var_8]
		shl	ax, 5
		push	ax
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		shl	ax, 5
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	[bp+var_18]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_10]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_14]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	[bp+var_1A]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_12]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_16]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	[bp+var_4]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_2]
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	[bp+var_A]
		call	AddBlow

loc_252AA:				; CODE XREF: Blow3dObjAt+3BEj
		mov	ax, [bp+var_1E]
		cmp	ax, word ptr [bp+var_2C]
		jz	short locret_252B5
		jmp	loc_251BC
; ---------------------------------------------------------------------------

locret_252B5:				; CODE XREF: Blow3dObjAt+29j
					; Blow3dObjAt:loc_25125j ...
		leave
		retf	4
Blow3dObjAt	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AnimateBlows	proc far		; CODE XREF: DoGame+16E0P

var_8		= dword	ptr -8
var_4		= dword	ptr -4

		enter	8, 0
		mov	n__0, 1

loc_252C3:				; CODE XREF: AnimateBlows+2C7j
		mov	ax, BCount
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, n__0
		cwd
		cmp	dx, bx
		jl	short loc_252E0
		jle	short loc_252D9
		jmp	locret_25583
; ---------------------------------------------------------------------------

loc_252D9:				; CODE XREF: AnimateBlows+1Bj
		cmp	ax, cx
		jbe	short loc_252E0
		jmp	locret_25583
; ---------------------------------------------------------------------------

loc_252E0:				; CODE XREF: AnimateBlows+19j
					; AnimateBlows+22j
		mov	ax, n__0
		shl	ax, 4
		les	di, BlowsList
		add	di, ax
		add	di, 0FFF0h
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		imul	di, es:[di+2], 3Ah
		add	di, 0D698h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		cmp	OAnimate, 0
		jz	short loc_25386
		les	di, [bp+var_4]
		assume es:nothing
		inc	word ptr es:[di]
		les	di, [bp+var_8]
		mov	al, es:[di+2]
		and	al, 1
		or	al, al
		jz	short loc_25349
		cmp	BCount,	96h ; '–'
		jnb	short loc_25349
		les	di, [bp+var_4]
		push	word ptr es:[di+4]
		push	word ptr es:[di+6]
		mov	ax, es:[di+8]
		add	ax, 80h	; '€'
		push	ax
		push	0
		push	0
		push	6
		push	2
		call	AddBlow

loc_25349:				; CODE XREF: AnimateBlows+66j
					; AnimateBlows+6Ej
		les	di, [bp+var_4]
		cmp	word ptr es:[di+2], 8
		jnz	short loc_25386
		mov	ax, es:[di+0Eh]
		shl	ax, 2
		cwd
		mov	cx, 6
		idiv	cx
		mov	es:[di+0Eh], ax
		mov	ax, es:[di+0Ah]
		shl	ax, 2
		cwd
		mov	cx, 8
		idiv	cx
		mov	es:[di+0Ah], ax
		mov	ax, es:[di+0Ch]
		shl	ax, 2
		cwd
		mov	cx, 8
		idiv	cx
		mov	es:[di+0Ch], ax

loc_25386:				; CODE XREF: AnimateBlows+53j
					; AnimateBlows+98j
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ah]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 4
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_4]
		add	es:[di+4], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+0Ch]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 4
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_4]
		add	es:[di+6], ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, es:[di+0Eh]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 4
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		les	di, [bp+var_4]
		add	es:[di+8], ax
		les	di, [bp+var_8]
		mov	al, es:[di+2]
		and	al, 8
		or	al, al
		jz	short loc_25431
		les	di, [bp+var_4]
		mov	ax, es:[di]
		les	di, [bp+var_8]
		cmp	ax, es:[di]
		jl	short loc_25431
		mov	al, es:[di+2]
		and	al, 2
		or	al, al
		jz	short loc_25424
		les	di, [bp+var_4]
		xor	ax, ax
		mov	es:[di], ax
		jmp	short loc_25431
; ---------------------------------------------------------------------------

loc_25424:				; CODE XREF: AnimateBlows+15Fj
		les	di, [bp+var_8]
		mov	ax, es:[di]
		dec	ax
		les	di, [bp+var_4]
		mov	es:[di], ax

loc_25431:				; CODE XREF: AnimateBlows+147j
					; AnimateBlows+155j ...
		les	di, [bp+var_8]
		mov	al, es:[di+2]
		and	al, 8
		or	al, al
		jz	short loc_254AD
		les	di, [bp+var_4]
		cmp	word ptr es:[di+8], 0
		jg	short loc_254AD
		mov	ax, es:[di+0Eh]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, 46h	; 'F'
		jge	short loc_25464
		les	di, [bp+var_8]
		mov	ax, es:[di]
		les	di, [bp+var_4]
		mov	es:[di], ax
		jmp	short loc_254AD
; ---------------------------------------------------------------------------

loc_25464:				; CODE XREF: AnimateBlows+19Bj
		les	di, [bp+var_4]
		xor	ax, ax
		mov	es:[di+8], ax
		mov	ax, es:[di+0Eh]
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		mov	cx, 3
		idiv	cx
		mov	es:[di+0Eh], ax
		cmp	word ptr es:[di+0Eh], 0A0h ; ' '
		jle	short loc_2548E
		mov	word ptr es:[di+0Eh], 0A0h ; ' '

loc_2548E:				; CODE XREF: AnimateBlows+1CDj
		les	di, [bp+var_4]
		mov	ax, es:[di+0Ah]
		cwd
		mov	cx, 2
		idiv	cx
		mov	es:[di+0Ah], ax
		mov	ax, es:[di+0Ch]
		cwd
		mov	cx, 2
		idiv	cx
		mov	es:[di+0Ch], ax

loc_254AD:				; CODE XREF: AnimateBlows+183j
					; AnimateBlows+18Dj ...
		les	di, [bp+var_8]
		mov	al, es:[di+2]
		and	al, 4
		or	al, al
		jz	short loc_25521
		les	di, [bp+var_4]
		mov	ax, es:[di+0Eh]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, es:[di+8]
		or	ax, ax
		jz	short loc_25521
		mov	ax, t1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		sub	es:[di+0Eh], ax
		cmp	OAnimate, 0
		jz	short loc_25521
		mov	ax, es:[di+0Ah]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+0Ch]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, 4
		jle	short loc_25521
		les	di, [bp+var_4]
		imul	ax, es:[di+0Ah], 0Fh
		cwd
		mov	cx, 10h
		idiv	cx
		mov	es:[di+0Ah], ax
		imul	ax, es:[di+0Ch], 0Fh
		cwd
		mov	cx, 10h
		idiv	cx
		mov	es:[di+0Ch], ax

loc_25521:				; CODE XREF: AnimateBlows+1FFj
					; AnimateBlows+213j ...
		les	di, [bp+var_4]
		mov	ax, es:[di]
		les	di, [bp+var_8]
		cmp	ax, es:[di]
		jl	short loc_2557C
		mov	ax, n__0
		inc	ax
		shl	ax, 4
		les	di, BlowsList
		add	di, ax
		add	di, 0FFF0h
		push	es
		push	di
		mov	ax, n__0
		shl	ax, 4
		les	di, BlowsList
		add	di, ax
		add	di, 0FFF0h
		push	es
		push	di
		mov	ax, n__0
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, BCount
		inc	ax
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 10h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	MoveDB
		dec	n__0
		dec	BCount

loc_2557C:				; CODE XREF: AnimateBlows+274j
		inc	n__0
		jmp	loc_252C3
; ---------------------------------------------------------------------------

locret_25583:				; CODE XREF: AnimateBlows+1Dj
					; AnimateBlows+24j
		leave
		retf
AnimateBlows	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShootMonster	proc far		; CODE XREF: MakePunch+91P
					; MakeBlow+278P ...

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		enter	1Ch, 0
		mov	[bp+var_8], 0FFFFh
		cmp	[bp+arg_0], 64h	; 'd'
		jle	short loc_255A8
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		imul	di, ax,	28h
		mov	al, [di-5AD8h]
		xor	ah, ah
		mov	[bp+var_2], ax
		jmp	short loc_255AD
; ---------------------------------------------------------------------------

loc_255A8:				; CODE XREF: ShootMonster+Dj
		mov	[bp+var_2], 0Ah

loc_255AD:				; CODE XREF: ShootMonster+21j
		imul	di, [bp+arg_6],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_18], di
		mov	word ptr [bp+var_18+2],	es
		mov	al, es:[di+0Ah]
		xor	ah, ah
		cmp	ax, [bp+var_2]
		jnz	short loc_255CB
		jmp	locret_25D06
; ---------------------------------------------------------------------------

loc_255CB:				; CODE XREF: ShootMonster+41j
		cmp	word ptr es:[di+8], 0Eh
		jnz	short loc_255D5
		jmp	locret_25D06
; ---------------------------------------------------------------------------

loc_255D5:				; CODE XREF: ShootMonster+4Bj
		cmp	byte ptr es:[di+26h], 0
		jnz	short loc_25633
		push	[bp+arg_0]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	0FFFFh
		call	WeakUpMonstersTo
		les	di, [bp+var_18]
		assume es:nothing
		xor	ax, ax
		mov	es:[di+6], ax
		mov	word ptr es:[di+8], 9
		mov	byte ptr es:[di+26h], 4
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 0
		mov	ax, [bp+arg_0]
		mov	es:[di+14h], ax
		imul	di, es:[di+14h], 58h
		mov	ax, [di-0FCCh]
		les	di, [bp+var_18]
		mov	es:[di+16h], ax
		imul	di, es:[di+14h], 58h
		mov	ax, [di-0FCAh]
		les	di, [bp+var_18]
		mov	es:[di+18h], ax

loc_25633:				; CODE XREF: ShootMonster+55j
		cmp	[bp+arg_0], 8
		jge	short loc_25645
		mov	ax, [bp+arg_0]
		les	di, [bp+var_18]
		mov	es:[di+14h], ax
		jmp	short loc_25656
; ---------------------------------------------------------------------------

loc_25645:				; CODE XREF: ShootMonster+B2j
		les	di, [bp+var_18]
		cmp	word ptr es:[di+14h], 8
		jge	short loc_25656
		mov	ax, [bp+arg_0]
		mov	es:[di+14h], ax

loc_25656:				; CODE XREF: ShootMonster+BEj
					; ShootMonster+C8j
		mov	ax, 5
		sub	ax, Skill
		mul	[bp+arg_4]
		shr	ax, 2
		mov	[bp+arg_4], ax
		cmp	[bp+arg_4], 64h	; 'd'
		jge	short loc_25692
		push	5
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 6
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 3
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+arg_4], ax

loc_25692:				; CODE XREF: ShootMonster+E5j
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		cmp	al, 6Dh	; 'm'
		jz	short loc_256AF
		cmp	al, 76h	; 'v'
		jb	short loc_256A5
		cmp	al, 78h	; 'x'
		jbe	short loc_256AF

loc_256A5:				; CODE XREF: ShootMonster+11Aj
		mov	ax, [bp+arg_4]
		les	di, [bp+var_18]
		sub	es:[di+12h], ax

loc_256AF:				; CODE XREF: ShootMonster+116j
					; ShootMonster+11Ej
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FC4h]
		mov	[bp+var_6], ax
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FBAh]
		mov	[bp+var_4], ax
		les	di, [bp+var_18]
		cmp	word ptr es:[di+12h], 0
		jg	short loc_25742
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FB4h]
		shl	ax, 1
		mov	dx, ax
		mov	ax, [bp+arg_2]
		mov	si, ax
		shl	ax, 1
		add	ax, si
		cmp	ax, dx
		jl	short loc_25742
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		mov	al, es:[di+0Bh]
		xor	ah, ah
		push	ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+arg_C]
		call	ExplodeMonster
		les	di, [bp+var_18]
		xor	ax, ax
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+26h], 5
		mov	byte ptr es:[di+0Bh], 0FFh
		xor	ax, ax
		mov	es:[di+1Ch], ax
		mov	word ptr es:[di+8], 10h
		jmp	locret_25D06
; ---------------------------------------------------------------------------

loc_25742:				; CODE XREF: ShootMonster+15Aj
					; ShootMonster+179j
		les	di, [bp+var_18]
		cmp	byte ptr es:[di+0Ah], 6Eh ; 'n'
		jnz	short loc_25760
		cmp	word ptr es:[di+12h], 0
		jg	short loc_25760
		cmp	byte ptr es:[di+0Bh], 0FFh
		jz	short loc_25760
		mov	word ptr es:[di+12h], 1

loc_25760:				; CODE XREF: ShootMonster+1C5j
					; ShootMonster+1CCj ...
		les	di, [bp+var_18]
		cmp	word ptr es:[di+12h], 1
		jnz	short loc_257D6
		cmp	byte ptr es:[di+0Ah], 6Eh ; 'n'
		jnz	short loc_257D6
		mov	al, es:[di+0Bh]
		and	al, 4
		or	al, al
		jnz	short loc_257D6
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		mov	si, ax
		shl	ax, 1
		add	ax, si
		inc	ax
		inc	ax
		imul	di, ax,	12h
		mov	ax, [di-2FB6h]
		or	ax, [di-2FB4h]
		jz	short loc_257D6
		mov	ax, [bp+var_4]
		sub	ax, 180h
		cmp	ax, [bp+arg_C]
		jge	short loc_257D6
		les	di, [bp+var_18]
		add	byte ptr es:[di+0Bh], 4
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+arg_2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		push	ax
		push	2
		push	word ptr es:[di+4]
		push	0
		call	AddSepPart
		les	di, [bp+var_18]
		xor	ax, ax
		mov	es:[di+12h], ax

loc_257D6:				; CODE XREF: ShootMonster+1E3j
					; ShootMonster+1EAj ...
		les	di, [bp+var_18]
		cmp	word ptr es:[di+12h], 0
		jg	short loc_25847
		mov	al, es:[di+0Ah]
		cmp	al, 6Ah	; 'j'
		jz	short loc_257FC
		cmp	al, 6Bh	; 'k'
		jz	short loc_257FC
		cmp	al, 67h	; 'g'
		jz	short loc_257FC
		cmp	al, 71h	; 'q'
		jz	short loc_257FC
		cmp	al, 6Dh	; 'm'
		jz	short loc_257FC
		cmp	al, 77h	; 'w'
		jnz	short loc_25847

loc_257FC:				; CODE XREF: ShootMonster+261j
					; ShootMonster+265j ...
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_1C], di
		mov	word ptr [bp+var_1C+2],	es
		les	di, [bp+var_18]
		assume es:nothing
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		les	di, [bp+var_1C]
		mov	ax, es:[di+0Ch]
		shr	ax, 1
		mov	dx, ax
		mov	ax, es:[di+10h]
		shl	ax, 5
		les	di, [bp+var_18]
		add	ax, es:[di+1Eh]
		add	ax, dx
		push	ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		call	AddAmmoBag

loc_25847:				; CODE XREF: ShootMonster+259j
					; ShootMonster+275j
		les	di, [bp+var_18]
		cmp	byte ptr es:[di+26h], 3
		jnz	short loc_25854
		jmp	loc_25B75
; ---------------------------------------------------------------------------

loc_25854:				; CODE XREF: ShootMonster+2CAj
		cmp	byte ptr es:[di+26h], 4
		jnz	short loc_2585E
		jmp	loc_25B75
; ---------------------------------------------------------------------------

loc_2585E:				; CODE XREF: ShootMonster+2D4j
		cmp	word ptr es:[di+8], 0Eh
		jnz	short loc_25868
		jmp	loc_25B75
; ---------------------------------------------------------------------------

loc_25868:				; CODE XREF: ShootMonster+2DEj
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+var_6]
		jg	short loc_25888
		mov	ax, [bp+arg_6]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, takt
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		shr	al, 1
		jb	short loc_25888
		jmp	loc_25B75
; ---------------------------------------------------------------------------

loc_25888:				; CODE XREF: ShootMonster+2E9j
					; ShootMonster+2FEj
		les	di, [bp+var_18]
		cmp	word ptr es:[di+8], 9
		jz	short loc_258F5
		cmp	word ptr es:[di+8], 0Ah
		jz	short loc_258F5
		mov	word ptr es:[di+8], 9
		xor	ax, ax
		mov	es:[di+6], ax
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		or	ax, ax
		jz	short loc_258BA
		mov	ax, [bp+var_6]
		shl	ax, 1
		cmp	ax, [bp+arg_2]
		jge	short loc_258F5

loc_258BA:				; CODE XREF: ShootMonster+329j
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di-8000h]
		or	ax, [di-7FFEh]
		jz	short loc_258F5
		les	di, [bp+var_18]
		xor	ax, ax
		mov	es:[di+6], ax
		mov	word ptr es:[di+8], 0Ah
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0BCh ; '¼'
		mov	[bp+var_8], ax
		mov	word ptr es:[di+1Ch], 0FFFFh

loc_258F5:				; CODE XREF: ShootMonster+30Bj
					; ShootMonster+312j ...
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+var_6]
		jg	short loc_25913
		jmp	loc_25AB6
; ---------------------------------------------------------------------------

loc_25913:				; CODE XREF: ShootMonster+389j
		les	di, [bp+var_18]
		assume es:nothing
		mov	ax, es:[di+20h]
		shl	ax, 5
		mov	dx, ax
		mov	ax, [bp+var_4]
		shr	ax, 1
		sub	ax, 80h	; '€'
		add	ax, dx
		cmp	ax, [bp+arg_C]
		jl	short loc_25931
		jmp	loc_25AB6
; ---------------------------------------------------------------------------

loc_25931:				; CODE XREF: ShootMonster+3A7j
		mov	ax, es:[di+20h]
		shl	ax, 5
		mov	dx, ax
		mov	ax, [bp+var_4]
		sub	ax, 1C0h
		add	ax, dx
		cmp	ax, [bp+arg_C]
		jg	short loc_2594A
		jmp	loc_25AB6
; ---------------------------------------------------------------------------

loc_2594A:				; CODE XREF: ShootMonster+3C0j
		mov	al, es:[di+0Bh]
		and	al, 3
		cmp	al, 3
		jnz	short loc_25957
		jmp	loc_25AB6
; ---------------------------------------------------------------------------

loc_25957:				; CODE XREF: ShootMonster+3CDj
		cmp	[bp+var_6], 14h
		jle	short loc_25961
		sub	[bp+arg_2], 0Ah

loc_25961:				; CODE XREF: ShootMonster+3D6j
		mov	ax, [bp+arg_10]
		les	di, [bp+var_18]
		sub	ax, es:[di]
		mov	[bp+var_12], ax
		mov	ax, [bp+arg_E]
		sub	ax, es:[di+2]
		mov	[bp+var_14], ax
		mov	ax, es:[di+4]
		add	ax, 100h
		and	ax, 3FFh
		mov	di, ax
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 100h
		idiv	cx
		mov	[bp+var_C], ax
		les	di, [bp+var_18]
		mov	di, es:[di+4]
		shl	di, 1
		mov	ax, [di-6390h]
		cwd
		mov	cx, 100h
		idiv	cx
		mov	[bp+var_A], ax
		mov	ax, [bp+var_14]
		mul	[bp+var_C]
		mov	cx, ax
		mov	ax, [bp+var_12]
		mul	[bp+var_A]
		sub	ax, cx
		mov	si, ax
		shl	ax, 1
		add	ax, si
		mov	[bp+var_E], ax
		mov	ax, [bp+var_12]
		mul	[bp+var_C]
		mov	cx, ax
		mov	ax, [bp+var_14]
		mul	[bp+var_A]
		add	ax, cx
		cwd
		xor	ax, dx
		sub	ax, dx
		shl	ax, 1
		mov	[bp+var_10], ax
		les	di, [bp+var_18]
		mov	al, es:[di+0Bh]
		and	al, 2
		or	al, al
		jnz	short loc_25A48
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di-7FFCh]
		or	ax, [di-7FFAh]
		jz	short loc_25A48
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_10]
		jle	short loc_25A48
		les	di, [bp+var_18]
		add	byte ptr es:[di+0Bh], 2
		mov	word ptr es:[di+8], 0Bh
		xor	ax, ax
		mov	es:[di+6], ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0D2h ; 'Ò'
		mov	[bp+var_8], ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+arg_2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		push	ax
		push	0
		push	word ptr es:[di+4]
		push	0
		call	AddSepPart

loc_25A48:				; CODE XREF: ShootMonster+461j
					; ShootMonster+475j ...
		les	di, [bp+var_18]
		mov	al, es:[di+0Bh]
		and	al, 1
		or	al, al
		jnz	short loc_25AB6
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di-7FF8h]
		or	ax, [di-7FF6h]
		jz	short loc_25AB6
		mov	ax, [bp+var_E]
		neg	ax
		cmp	ax, [bp+var_10]
		jle	short loc_25AB6
		les	di, [bp+var_18]
		inc	byte ptr es:[di+0Bh]
		mov	word ptr es:[di+8], 0Ch
		xor	ax, ax
		mov	es:[di+6], ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0D2h ; 'Ò'
		mov	[bp+var_8], ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+arg_2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		push	ax
		push	1
		push	word ptr es:[di+4]
		push	0
		call	AddSepPart

loc_25AB6:				; CODE XREF: ShootMonster+38Bj
					; ShootMonster+3A9j ...
		les	di, [bp+var_18]
		mov	al, es:[di+0Bh]
		and	al, 4
		or	al, al
		jz	short loc_25AC6
		jmp	loc_25B55
; ---------------------------------------------------------------------------

loc_25AC6:				; CODE XREF: ShootMonster+53Cj
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di-7FF4h]
		or	ax, [di-7FF2h]
		jz	short loc_25B55
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		mov	si, ax
		shl	ax, 1
		add	ax, si
		inc	ax
		inc	ax
		imul	di, ax,	12h
		mov	ax, [di-2FB6h]
		or	ax, [di-2FB4h]
		jz	short loc_25B55
		mov	ax, [bp+var_4]
		sub	ax, 180h
		cmp	ax, [bp+arg_C]
		jge	short loc_25B55
		mov	ax, [bp+var_4]
		sub	ax, 0C0h ; 'À'
		cmp	ax, [bp+arg_C]
		jle	short loc_25B55
		les	di, [bp+var_18]
		add	byte ptr es:[di+0Bh], 4
		mov	word ptr es:[di+8], 0Dh
		xor	ax, ax
		mov	es:[di+6], ax
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0D2h ; 'Ò'
		mov	[bp+var_8], ax
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+arg_2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		push	ax
		push	2
		push	word ptr es:[di+4]
		push	0
		call	AddSepPart

loc_25B55:				; CODE XREF: ShootMonster+53Ej
					; ShootMonster+553j ...
		les	di, [bp+var_18]
		mov	byte ptr es:[di+26h], 4
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 0
		cmp	[bp+arg_0], 8
		jge	short loc_25B75
		mov	ax, [bp+arg_0]
		mov	es:[di+14h], ax

loc_25B75:				; CODE XREF: ShootMonster+2CCj
					; ShootMonster+2D6j ...
		les	di, [bp+var_18]
		cmp	word ptr es:[di+12h], 0
		jg	short loc_25BE9
		cmp	byte ptr es:[di+0Ah], 66h ; 'f'
		jz	short loc_25BE9
		cmp	byte ptr es:[di+0Ah], 6Ch ; 'l'
		jz	short loc_25BE9
		mov	al, es:[di+0Bh]
		and	al, 4
		or	al, al
		jnz	short loc_25BE9
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		mov	si, ax
		shl	ax, 1
		add	ax, si
		inc	ax
		inc	ax
		imul	di, ax,	12h
		mov	ax, [di-2FB6h]
		or	ax, [di-2FB4h]
		jz	short loc_25BE9
		mov	ax, [bp+var_4]
		sub	ax, 340h
		cmp	ax, [bp+arg_C]
		jge	short loc_25BE9
		les	di, [bp+var_18]
		add	byte ptr es:[di+0Bh], 4
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+arg_2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		push	ax
		push	2
		push	word ptr es:[di+4]
		push	0
		call	AddSepPart

loc_25BE9:				; CODE XREF: ShootMonster+5F8j
					; ShootMonster+5FFj ...
		cmp	[bp+var_8], 0
		jle	short loc_25C0A
		les	di, [bp+var_18]
		cmp	word ptr es:[di+12h], 0
		jle	short loc_25C0A
		push	0FFFFh
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+var_8]
		call	AddEvVoice

loc_25C0A:				; CODE XREF: ShootMonster+668j
					; ShootMonster+672j
		les	di, [bp+var_18]
		cmp	word ptr es:[di+1Ch], 0FFFFh
		jnz	short loc_25C79
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+var_6]
		jle	short loc_25C70
		mov	ax, [bp+arg_10]
		sub	ax, [bp+arg_A]
		sub	ax, es:[di]
		push	ax
		mov	ax, [bp+arg_E]
		sub	ax, [bp+arg_8]
		sub	ax, es:[di+2]
		push	ax
		call	FindVectorFi
		les	di, [bp+var_18]
		mov	es:[di+1Ah], ax
		cmp	word ptr es:[di+1Ah], 0
		jge	short loc_25C4C
		add	word ptr es:[di+1Ah], 400h
		jmp	short loc_25C5A
; ---------------------------------------------------------------------------

loc_25C4C:				; CODE XREF: ShootMonster+6BDj
		les	di, [bp+var_18]
		mov	ax, es:[di+1Ah]
		and	ax, 3FFh
		mov	es:[di+1Ah], ax

loc_25C5A:				; CODE XREF: ShootMonster+6C5j
		mov	ax, [bp+arg_2]
		shl	ax, 3
		cwd
		idiv	[bp+var_6]
		add	ax, 6
		les	di, [bp+var_18]
		mov	es:[di+1Ch], ax
		jmp	short loc_25C79
; ---------------------------------------------------------------------------

loc_25C70:				; CODE XREF: ShootMonster+695j
		les	di, [bp+var_18]
		xor	ax, ax
		mov	es:[di+1Ch], ax

loc_25C79:				; CODE XREF: ShootMonster+68Dj
					; ShootMonster+6E9j
		les	di, [bp+var_18]
		cmp	word ptr es:[di+12h], 0
		jle	short loc_25C86
		jmp	locret_25D06
; ---------------------------------------------------------------------------

loc_25C86:				; CODE XREF: ShootMonster+6FCj
		cmp	byte ptr es:[di+26h], 5
		jz	short locret_25D06
		xor	ax, ax
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+26h], 5
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 14h
		jbe	short locret_25D06
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di-7FE4h]
		or	ax, [di-7FE2h]
		jz	short locret_25D06
		push	0FFFFh
		les	di, [bp+var_18]
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 0E8h ; 'è'
		push	ax
		call	AddEvVoice
		les	di, [bp+var_18]
		mov	word ptr es:[di+8], 11h
		xor	ax, ax
		mov	es:[di+6], ax
		mov	ax, es:[di+4]
		mov	es:[di+1Ah], ax
		mov	ax, [bp+arg_2]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		cwd
		idiv	[bp+var_6]
		add	ax, 1Ch
		mov	es:[di+1Ch], ax

locret_25D06:				; CODE XREF: ShootMonster+43j
					; ShootMonster+4Dj ...
		leave
		retf	12h
ShootMonster	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckMonsterContact proc far		; CODE XREF: MoveRocket+120P

var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_11		= byte ptr -11h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	18h, 0
		mov	[bp+var_11], 0
		cmp	[bp+arg_8], 8
		jge	short loc_25D20
		mov	ax, [bp+arg_8]
		mov	[bp+var_6], ax
		jmp	short loc_25D32
; ---------------------------------------------------------------------------

loc_25D20:				; CODE XREF: CheckMonsterContact+Cj
		mov	ax, [bp+arg_8]
		sub	ax, 64h	; 'd'
		imul	di, ax,	28h
		mov	al, [di-5AD8h]
		xor	ah, ah
		mov	[bp+var_6], ax

loc_25D32:				; CODE XREF: CheckMonsterContact+14j
		cmp	[bp+arg_8], 8
		jge	short loc_25D3F
		mov	[bp+var_4], 0FFh
		jmp	short loc_25D48
; ---------------------------------------------------------------------------

loc_25D3F:				; CODE XREF: CheckMonsterContact+2Cj
		mov	ax, [bp+arg_8]
		sub	ax, 64h	; 'd'
		mov	[bp+var_4], ax

loc_25D48:				; CODE XREF: CheckMonsterContact+33j
		mov	ax, MCount
		mov	[bp+var_14], ax
		mov	ax, 1
		cmp	ax, [bp+var_14]
		jle	short loc_25D59
		jmp	loc_25E41
; ---------------------------------------------------------------------------

loc_25D59:				; CODE XREF: CheckMonsterContact+4Aj
		mov	[bp+var_8], ax
		jmp	short loc_25D61
; ---------------------------------------------------------------------------

loc_25D5E:				; CODE XREF: CheckMonsterContact+134j
		inc	[bp+var_8]

loc_25D61:				; CODE XREF: CheckMonsterContact+52j
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_8]
		jnz	short loc_25D6C
		jmp	loc_25E36
; ---------------------------------------------------------------------------

loc_25D6C:				; CODE XREF: CheckMonsterContact+5Dj
		imul	di, [bp+var_8],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_18], di
		mov	word ptr [bp+var_18+2],	es
		cmp	word ptr es:[di+12h], 0
		jg	short loc_25D86
		jmp	loc_25E36
; ---------------------------------------------------------------------------

loc_25D86:				; CODE XREF: CheckMonsterContact+77j
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FBCh]
		mov	[bp+var_C], ax
		les	di, [bp+var_18]
		assume es:nothing
		mov	ax, es:[di]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+var_C]
		jl	short loc_25DAD
		jmp	loc_25E36
; ---------------------------------------------------------------------------

loc_25DAD:				; CODE XREF: CheckMonsterContact+9Ej
		mov	ax, es:[di+2]
		sub	ax, [bp+arg_C]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, [bp+var_C]
		jge	short loc_25E36
		lea	di, [bp+var_E]
		push	ss
		push	di
		lea	di, [bp+var_10]
		push	ss
		push	di
		les	di, [bp+var_18]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		push	word ptr es:[di+8]
		push	word ptr es:[di+6]
		call	ScanLowHigh
		mov	ax, [bp+var_E]
		les	di, [bp+var_18]
		add	ax, es:[di+1Eh]
		cmp	ax, [bp+arg_A]
		jge	short loc_25E36
		mov	ax, [bp+var_10]
		add	ax, es:[di+1Eh]
		cmp	ax, [bp+arg_A]
		jle	short loc_25E36
		cmp	[bp+arg_2], 0C8h ; 'È'
		jge	short loc_25E2C
		mov	al, es:[di+0Ah]
		xor	ah, ah
		cmp	ax, [bp+var_6]
		jz	short loc_25E2C
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+var_8]
		push	[bp+arg_0]
		push	[bp+arg_0]
		push	[bp+arg_8]
		call	ShootMonster

loc_25E2C:				; CODE XREF: CheckMonsterContact+F5j
					; CheckMonsterContact+100j
		mov	ax, MCount
		mov	[bp+var_8], ax
		mov	[bp+var_11], 2

loc_25E36:				; CODE XREF: CheckMonsterContact+5Fj
					; CheckMonsterContact+79j ...
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_14]
		jz	short loc_25E41
		jmp	loc_25D5E
; ---------------------------------------------------------------------------

loc_25E41:				; CODE XREF: CheckMonsterContact+4Cj
					; CheckMonsterContact+132j
		xor	ax, ax
		mov	[bp+var_8], ax
		jmp	short loc_25E4B
; ---------------------------------------------------------------------------

loc_25E48:				; CODE XREF: CheckMonsterContact+203j
		inc	[bp+var_8]

loc_25E4B:				; CODE XREF: CheckMonsterContact+13Cj
		mov	ax, [bp+arg_8]
		cmp	ax, [bp+var_8]
		jnz	short loc_25E56
		jmp	loc_25F07
; ---------------------------------------------------------------------------

loc_25E56:				; CODE XREF: CheckMonsterContact+147j
		imul	di, [bp+var_8],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_18+2],	di
		mov	[bp+var_14], es
		cmp	byte ptr es:[di], 0
		jnz	short loc_25E6F
		jmp	loc_25F07
; ---------------------------------------------------------------------------

loc_25E6F:				; CODE XREF: CheckMonsterContact+160j
		cmp	word ptr es:[di+28h], 0
		jg	short loc_25E79
		jmp	loc_25F07
; ---------------------------------------------------------------------------

loc_25E79:				; CODE XREF: CheckMonsterContact+16Aj
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_C]
		cwd
		xor	ax, dx
		sub	ax, dx
		push	ax
		call	Max
		cmp	ax, 50h	; 'P'
		jge	short loc_25F07
		les	di, [bp+var_18+2]
		assume es:nothing
		mov	ax, es:[di+0Eh]
		add	ax, 6C0h
		cmp	ax, [bp+arg_A]
		jle	short loc_25F07
		mov	ax, [bp+arg_A]
		cmp	ax, es:[di+0Eh]
		jle	short loc_25F07
		cmp	word ptr es:[di+52h], 0
		jle	short loc_25EC2
		mov	[bp+var_11], 1Eh
		jmp	short loc_25F07
; ---------------------------------------------------------------------------

loc_25EC2:				; CODE XREF: CheckMonsterContact+1B0j
		mov	[bp+var_11], 3
		cmp	[bp+arg_2], 0C8h ; 'È'
		jge	short loc_25F07
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	[bp+arg_0]
		push	[bp+var_8]
		push	[bp+arg_8]
		call	ShootMe
		les	di, [bp+var_18+2]
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_E]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_C]
		push	ax
		call	FindVectorFi
		les	di, [bp+var_18+2]
		mov	es:[di+1Ch], ax
		mov	ax, [bp+arg_0]
		mov	es:[di+1Ah], ax

loc_25F07:				; CODE XREF: CheckMonsterContact+149j
					; CheckMonsterContact+162j ...
		cmp	[bp+var_8], 7
		jz	short loc_25F10
		jmp	loc_25E48
; ---------------------------------------------------------------------------

loc_25F10:				; CODE XREF: CheckMonsterContact+201j
		mov	al, [bp+var_11]
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retf	10h
CheckMonsterContact endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InsertObject	proc far		; CODE XREF: MapXY+F7P	MapXY+134P ...

var_1E		= dword	ptr -1Eh
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= byte ptr -0Ch
var_B		= byte ptr -0Bh
var_9		= word ptr -9
var_7		= word ptr -7
var_5		= word ptr -5
var_3		= word ptr -3
arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= byte ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	1Eh, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_C]
		lds	si, [bp+arg_6]
		mov	cx, 0Bh
		rep movsb
		mov	ds, bx
		cmp	FCount__0, 186h
		jbe	short loc_25F40
		jmp	locret_26425
; ---------------------------------------------------------------------------

loc_25F40:				; CODE XREF: InsertObject+1Ej
		mov	ax, ehx
		sub	ax, [bp+var_9]
		mov	[bp+var_10], ax
		mov	ax, ehy
		sub	ax, [bp+var_7]
		mov	[bp+var_12], ax
		mov	ax, ehx
		sub	ax, [bp+var_5]
		mov	[bp+var_14], ax
		mov	ax, ehy
		sub	ax, [bp+var_3]
		mov	[bp+var_16], ax
		cmp	[bp+var_C], 78h	; 'x'
		jnb	short loc_25FA0
		mov	al, [bp+var_C]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 4
		or	al, al
		jnz	short loc_25FA0
		mov	ax, [bp+var_14]
		sub	ax, [bp+var_10]
		push	ax
		mov	ax, [bp+var_16]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, [bp+var_10]
		neg	ax
		push	ax
		mov	ax, [bp+var_12]
		neg	ax
		push	ax
		call	MulVectors__1
		cmp	ax, 0FFFFh
		jnz	short loc_25FA0
		jmp	locret_26425
; ---------------------------------------------------------------------------

loc_25FA0:				; CODE XREF: InsertObject+4Bj
					; InsertObject+5Cj ...
		cmp	[bp+var_C], 7Ah	; 'z'
		jnz	short loc_26022
		mov	al, c
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		cmp	word ptr es:[di+0Eh], 0
		jle	short loc_26022
		cmp	byte ptr es:[di+16h], 0
		jnz	short loc_25FCF
		mov	ax, es:[di+20h]
		or	ax, es:[di+22h]
		jnz	short loc_26022

loc_25FCF:				; CODE XREF: InsertObject+A6j
		mov	ax, [bp+var_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_12]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	R__1, ax
		cmp	R__1, 400h
		jge	short loc_26022
		cmp	ObjAmb,	0FFFFh
		jz	short loc_25FFE
		mov	ax, R__1
		cmp	ax, word_45AB4
		jge	short loc_26022

loc_25FFE:				; CODE XREF: InsertObject+D6j
		mov	al, c
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74BCh]
		mov	ObjAmb,	ax
		mov	ax, [bp+var_9]
		mov	word_45AB6, ax
		mov	ax, [bp+var_7]
		mov	word_45AB8, ax
		mov	ax, R__1
		mov	word_45AB4, ax

loc_26022:				; CODE XREF: InsertObject+87j
					; InsertObject+9Fj ...
		mov	ax, [bp+var_12]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+var_10]
		imul	isa
		add	bx, ax
		adc	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		sub	bx, 40h	; '@'
		mov	ty1__0,	bx
		mov	ax, [bp+var_10]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+var_12]
		imul	isa
		sub	bx, ax
		sbb	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		mov	tx1__0,	bx
		cmp	[bp+var_C], 78h	; 'x'
		jbe	short loc_260A7
		cmp	[bp+var_C], 7Ah	; 'z'
		jnz	short loc_26090
		mov	ax, tx1__0
		cwd
		xor	ax, dx
		sub	ax, dx
		shr	ax, 1
		mov	dx, ax
		mov	ax, ty1__0
		add	ax, 320h
		cmp	ax, dx
		jge	short loc_2608E
		jmp	locret_26425
; ---------------------------------------------------------------------------

loc_2608E:				; CODE XREF: InsertObject+16Cj
		jmp	short loc_260A7
; ---------------------------------------------------------------------------

loc_26090:				; CODE XREF: InsertObject+156j
		mov	ax, tx1__0
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	dx, ax
		mov	ax, ty1__0
		add	ax, 400h
		cmp	ax, dx
		jge	short loc_260A7
		jmp	locret_26425
; ---------------------------------------------------------------------------

loc_260A7:				; CODE XREF: InsertObject+150j
					; InsertObject:loc_2608Ej ...
		cmp	[bp+var_C], 78h	; 'x'
		jbe	short loc_260B0
		jmp	loc_2612D
; ---------------------------------------------------------------------------

loc_260B0:				; CODE XREF: InsertObject+18Ej
		mov	ax, [bp+var_16]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+var_14]
		imul	isa
		add	bx, ax
		adc	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		sub	bx, 40h	; '@'
		mov	ty2__0,	bx
		mov	ax, [bp+var_14]
		imul	ica
		mov	bx, ax
		mov	cx, dx
		mov	ax, [bp+var_16]
		imul	isa
		sub	bx, ax
		sbb	cx, dx
		shr	bx, 0Ah
		shl	cx, 6
		or	bx, cx
		mov	tx2__0,	bx
		push	ty1__0
		push	ty2__0
		call	Max
		or	ax, ax
		jge	short loc_2610B
		jmp	locret_26425
; ---------------------------------------------------------------------------

loc_2610B:				; CODE XREF: InsertObject+1E9j
		mov	ax, tx1__0
		add	ax, tx2__0
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	dx, ax
		mov	ax, ty1__0
		add	ax, ty2__0
		add	ax, 800h
		add	ax, 400h
		cmp	ax, dx
		jge	short loc_2612D
		jmp	locret_26425
; ---------------------------------------------------------------------------

loc_2612D:				; CODE XREF: InsertObject+190j
					; InsertObject+20Bj
		inc	FCount__0
		mov	ax, FCount__0
		mov	[bp+var_18], ax
		mov	[bp+var_1A], 190h
		cmp	[bp+var_C], 78h	; 'x'
		ja	short loc_26171
		mov	ax, ty1__0
		add	ax, ty2__0
		cwd
		mov	cx, 2
		idiv	cx
		push	ax
		mov	ax, tx1__0
		add	ax, tx2__0
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		mov	cx, 2
		idiv	cx
		push	ax
		call	QPifagorA32__0
		add	ax, 28h	; '('
		mov	[bp+var_E], ax
		jmp	loc_26312
; ---------------------------------------------------------------------------

loc_26171:				; CODE XREF: InsertObject+223j
		push	ty1__0
		push	tx1__0
		call	QPifagorA32__0
		mov	[bp+var_E], ax
		cmp	[bp+var_C], 7Fh	; ''
		jnz	short loc_2619D
		mov	al, [bp+arg_4]
		xor	ah, ah
		imul	di, ax,	3Ah
		mov	al, [di-2966h]
		and	al, 20h
		or	al, al
		jz	short loc_2619D
		sub	[bp+var_E], 78h	; 'x'

loc_2619D:				; CODE XREF: InsertObject+268j
					; InsertObject+27Aj
		xor	ax, ax
		mov	w, ax
		cmp	[bp+var_C], 7Bh	; '{'
		jnz	short loc_261FB
		mov	al, [bp+var_B]
		xor	ah, ah
		imul	di, ax,	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		mov	word ptr [bp+var_1E], di
		mov	word ptr [bp+var_1E+2],	es
		cmp	word ptr es:[di+1Eh], 8C0h
		jle	short loc_261D1
		mov	w, 1
		mov	[bp+var_1A], 320h
		jmp	short loc_261FB
; ---------------------------------------------------------------------------

loc_261D1:				; CODE XREF: InsertObject+2A5j
		les	di, [bp+var_1E]
		assume es:nothing
		cmp	word ptr es:[di+1Eh], 0
		jle	short loc_261EC
		mov	ax, es:[di+1Eh]
		shr	ax, 5
		mov	w, ax
		mov	[bp+var_1A], 190h
		jmp	short loc_261FB
; ---------------------------------------------------------------------------

loc_261EC:				; CODE XREF: InsertObject+2BCj
		les	di, [bp+var_1E]
		cmp	word ptr es:[di+12h], 0
		jnz	short loc_261FB
		add	[bp+var_E], 80h	; '€'

loc_261FB:				; CODE XREF: InsertObject+289j
					; InsertObject+2B2j ...
		cmp	[bp+var_C], 7Ah	; 'z'
		jnz	short loc_26225
		mov	al, [bp+arg_0]
		xor	ah, ah
		imul	ax, 0Bh
		mov	dx, ax
		mov	al, [bp+arg_2]
		xor	ah, ah
		imul	ax, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di+2]
		xor	ah, ah
		mov	w, ax

loc_26225:				; CODE XREF: InsertObject+2E2j
		cmp	[bp+var_C], 79h	; 'y'
		jnz	short loc_2624F
		mov	al, [bp+arg_0]
		xor	ah, ah
		imul	ax, 0Bh
		mov	dx, ax
		mov	al, [bp+arg_2]
		xor	ah, ah
		imul	ax, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di+2]
		xor	ah, ah
		mov	w, ax

loc_2624F:				; CODE XREF: InsertObject+30Cj
		cmp	[bp+var_C], 80h	; '€'
		jnz	short loc_2626D
		mov	al, [bp+var_B]
		xor	ah, ah
		imul	ax, 1Fh
		les	di, AmmoBags
		add	di, ax
		mov	ax, es:[di-17h]
		shr	ax, 5
		mov	w, ax

loc_2626D:				; CODE XREF: InsertObject+336j
		cmp	[bp+var_C], 7Dh	; '}'
		jnz	short loc_26285
		mov	al, [bp+var_B]
		xor	ah, ah
		imul	di, ax,	0Ah
		mov	ax, [di-43EEh]
		shr	ax, 5
		mov	w, ax

loc_26285:				; CODE XREF: InsertObject+354j
		cmp	[bp+var_C], 81h	; ''
		jnz	short loc_2629D
		mov	al, [bp+var_B]
		xor	ah, ah
		imul	di, ax,	58h
		mov	ax, [di-0FC8h]
		shr	ax, 5
		mov	w, ax

loc_2629D:				; CODE XREF: InsertObject+36Cj
		cmp	[bp+var_C], 7Eh	; '~'
		jnz	short loc_262B5
		mov	al, [bp+var_B]
		xor	ah, ah
		imul	di, ax,	16h
		mov	ax, [di-46B4h]
		shr	ax, 7
		mov	w, ax

loc_262B5:				; CODE XREF: InsertObject+384j
		cmp	w, 0
		jbe	short loc_26312
		cmp	[bp+var_C], 81h	; ''
		jnz	short loc_262EA
		mov	ax, ehz
		shr	ax, 5
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, w
		xor	dx, dx
		cmp	dx, bx
		jl	short loc_262DC
		jg	short loc_262E3
		cmp	ax, cx
		jnb	short loc_262E3

loc_262DC:				; CODE XREF: InsertObject+3B7j
		sub	[bp+var_E], 0C8h ; 'È'
		jmp	short loc_262E8
; ---------------------------------------------------------------------------

loc_262E3:				; CODE XREF: InsertObject+3B9j
					; InsertObject+3BDj
		add	[bp+var_E], 0C8h ; 'È'

loc_262E8:				; CODE XREF: InsertObject+3C4j
		jmp	short loc_26312
; ---------------------------------------------------------------------------

loc_262EA:				; CODE XREF: InsertObject+3A3j
		mov	ax, ehz
		shr	ax, 5
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, w
		xor	dx, dx
		cmp	dx, bx
		jl	short loc_26304
		jg	short loc_2630C
		cmp	ax, cx
		jnb	short loc_2630C

loc_26304:				; CODE XREF: InsertObject+3DFj
		mov	ax, [bp+var_1A]
		sub	[bp+var_E], ax
		jmp	short loc_26312
; ---------------------------------------------------------------------------

loc_2630C:				; CODE XREF: InsertObject+3E1j
					; InsertObject+3E5j
		mov	ax, [bp+var_1A]
		add	[bp+var_E], ax

loc_26312:				; CODE XREF: InsertObject+251j
					; InsertObject+39Dj ...
		cmp	[bp+var_18], 1
		jle	short loc_26333
		mov	ax, [bp+var_18]
		dec	ax
		imul	ax, 0Eh
		les	di, FramesList
		add	di, ax
		mov	ax, es:[di-6]
		cmp	ax, [bp+var_E]
		jle	short loc_26333
		dec	[bp+var_18]
		jmp	short loc_26312
; ---------------------------------------------------------------------------

loc_26333:				; CODE XREF: InsertObject+3F9j
					; InsertObject+40Fj
		mov	ax, FCount__0
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_18]
		cwd
		cmp	dx, bx
		jnz	short loc_26348
		cmp	ax, cx
		jz	short loc_2638A

loc_26348:				; CODE XREF: InsertObject+425j
		imul	ax, [bp+var_18], 0Eh
		les	di, FramesList
		add	di, ax
		add	di, 0FFF2h
		push	es
		push	di
		mov	ax, [bp+var_18]
		inc	ax
		imul	ax, 0Eh
		les	di, FramesList
		add	di, ax
		add	di, 0FFF2h
		push	es
		push	di
		mov	ax, [bp+var_18]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, FCount__0
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, 0Eh
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		call	Movxb

loc_2638A:				; CODE XREF: InsertObject+429j
		imul	ax, [bp+var_18], 0Eh
		les	di, FramesList
		add	di, ax
		add	di, 0FFF2h
		mov	word ptr [bp+var_1E], di
		mov	word ptr [bp+var_1E+2],	es
		cmp	[bp+var_C], 78h	; 'x'
		ja	short loc_263E4
		mov	ax, tx1__0
		mov	es:[di], ax
		mov	ax, ty1__0
		mov	es:[di+2], ax
		mov	ax, tx2__0
		mov	es:[di+4], ax
		mov	ax, ty2__0
		mov	es:[di+6], ax
		mov	al, [bp+var_C]
		mov	es:[di+0Ah], al
		mov	al, [bp+arg_4]
		mov	es:[di+0Dh], al
		mov	al, [bp+arg_2]
		mov	es:[di+0Bh], al
		mov	al, [bp+arg_0]
		mov	es:[di+0Ch], al
		mov	ax, [bp+var_E]
		mov	es:[di+8], ax
		jmp	short locret_26425
; ---------------------------------------------------------------------------

loc_263E4:				; CODE XREF: InsertObject+485j
		mov	ax, tx1__0
		les	di, [bp+var_1E]
		mov	es:[di], ax
		mov	ax, ty1__0
		mov	es:[di+2], ax
		mov	ax, [bp+var_14]
		mov	es:[di+4], ax
		mov	ax, [bp+var_16]
		mov	es:[di+6], ax
		mov	al, [bp+var_C]
		mov	es:[di+0Ah], al
		mov	al, [bp+var_B]
		mov	es:[di+0Dh], al
		mov	al, [bp+arg_2]
		mov	es:[di+0Bh], al
		mov	al, [bp+arg_0]
		mov	es:[di+0Ch], al
		mov	ax, [bp+var_E]
		mov	es:[di+8], ax

locret_26425:				; CODE XREF: InsertObject+20j
					; InsertObject+80j ...
		leave
		retf	0Ah
InsertObject	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InsertMonsters	proc far		; CODE XREF: DoGame+172CP

var_14		= dword	ptr -14h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= byte ptr -0Ch
var_B		= byte ptr -0Bh
var_9		= word ptr -9
var_7		= word ptr -7
var_5		= word ptr -5
var_3		= word ptr -3

		enter	14h, 0
		xor	ax, ax
		mov	WXSize,	ax
		mov	ax, MCount
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jle	short loc_26443
		jmp	loc_264DE
; ---------------------------------------------------------------------------

loc_26443:				; CODE XREF: InsertMonsters+15j
		mov	[bp+var_E], ax
		jmp	short loc_2644B
; ---------------------------------------------------------------------------

loc_26448:				; CODE XREF: InsertMonsters+B2j
		inc	[bp+var_E]

loc_2644B:				; CODE XREF: InsertMonsters+1Dj
		imul	di, [bp+var_E],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_14], di
		mov	word ptr [bp+var_14+2],	es
		cmp	byte ptr es:[di+0Bh], 0FFh
		jz	short loc_264D3
		mov	ax, ehy
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_264D3
		mov	ax, ehx
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_264D3
		cmp	word ptr es:[di+12h], 0
		jg	short loc_2649D
		mov	ax, ehx
		cmp	ax, es:[di]
		jnz	short loc_2649D
		mov	ax, ehy
		cmp	ax, es:[di+2]
		jz	short loc_264D3

loc_2649D:				; CODE XREF: InsertMonsters+61j
					; InsertMonsters+69j
		les	di, [bp+var_14]
		assume es:nothing
		mov	ax, es:[di]
		mov	[bp+var_9], ax
		mov	ax, es:[di+2]
		mov	[bp+var_7], ax
		mov	ax, [bp+var_9]
		mov	[bp+var_5], ax
		mov	ax, [bp+var_7]
		mov	[bp+var_3], ax
		mov	[bp+var_C], 7Bh	; '{'
		mov	al, byte ptr [bp+var_E]
		mov	[bp+var_B], al
		lea	di, [bp+var_C]
		push	ss
		push	di
		push	0
		push	0
		push	0
		call	InsertObject

loc_264D3:				; CODE XREF: InsertMonsters+37j
					; InsertMonsters+49j ...
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_10]
		jz	short loc_264DE
		jmp	loc_26448
; ---------------------------------------------------------------------------

loc_264DE:				; CODE XREF: InsertMonsters+17j
					; InsertMonsters+B0j
		mov	ax, MnCount
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jg	short loc_2655C
		mov	[bp+var_E], ax
		jmp	short loc_264F4
; ---------------------------------------------------------------------------

loc_264F1:				; CODE XREF: InsertMonsters+131j
		inc	[bp+var_E]

loc_264F4:				; CODE XREF: InsertMonsters+C6j
		imul	di, [bp+var_E],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, ehy
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_26554
		mov	ax, ehx
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_26554
		mov	ax, es:[di]
		mov	[bp+var_9], ax
		mov	ax, es:[di+2]
		mov	[bp+var_7], ax
		mov	ax, [bp+var_9]
		mov	[bp+var_5], ax
		mov	ax, [bp+var_7]
		mov	[bp+var_3], ax
		mov	[bp+var_C], 7Dh	; '}'
		mov	al, byte ptr [bp+var_E]
		mov	[bp+var_B], al
		lea	di, [bp+var_C]
		push	ss
		push	di
		push	0
		push	0
		push	0
		call	InsertObject

loc_26554:				; CODE XREF: InsertMonsters+E5j
					; InsertMonsters+F6j
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_10]
		jnz	short loc_264F1

loc_2655C:				; CODE XREF: InsertMonsters+C1j
		mov	ax, RCount
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jg	short loc_265DC
		mov	[bp+var_E], ax
		jmp	short loc_26572
; ---------------------------------------------------------------------------

loc_2656F:				; CODE XREF: InsertMonsters+1B1j
		inc	[bp+var_E]

loc_26572:				; CODE XREF: InsertMonsters+144j
		imul	di, [bp+var_E],	18h
		add	di, 0B33Eh
		push	ds
		pop	es
		mov	ax, ehy
		sub	ax, es:[di+6]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_265D4
		mov	ax, ehx
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_265D4
		mov	ax, es:[di+2]
		mov	[bp+var_9], ax
		mov	ax, es:[di+6]
		mov	[bp+var_7], ax
		mov	ax, [bp+var_9]
		mov	[bp+var_5], ax
		mov	ax, [bp+var_7]
		mov	[bp+var_3], ax
		mov	[bp+var_C], 7Ch	; '|'
		mov	al, byte ptr [bp+var_E]
		mov	[bp+var_B], al
		lea	di, [bp+var_C]
		push	ss
		push	di
		push	0
		push	0
		push	0
		call	InsertObject

loc_265D4:				; CODE XREF: InsertMonsters+163j
					; InsertMonsters+175j
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_10]
		jnz	short loc_2656F

loc_265DC:				; CODE XREF: InsertMonsters+13Fj
		mov	ax, SCount
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jg	short loc_2665C
		mov	[bp+var_E], ax
		jmp	short loc_265F2
; ---------------------------------------------------------------------------

loc_265EF:				; CODE XREF: InsertMonsters+231j
		inc	[bp+var_E]

loc_265F2:				; CODE XREF: InsertMonsters+1C4j
		imul	di, [bp+var_E],	16h
		add	di, 0B940h
		push	ds
		pop	es
		mov	ax, ehy
		sub	ax, es:[di+0Ah]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_26654
		mov	ax, ehx
		sub	ax, es:[di+8]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_26654
		mov	ax, es:[di+8]
		mov	[bp+var_9], ax
		mov	ax, es:[di+0Ah]
		mov	[bp+var_7], ax
		mov	ax, [bp+var_9]
		mov	[bp+var_5], ax
		mov	ax, [bp+var_7]
		mov	[bp+var_3], ax
		mov	[bp+var_C], 7Eh	; '~'
		mov	al, byte ptr [bp+var_E]
		mov	[bp+var_B], al
		lea	di, [bp+var_C]
		push	ss
		push	di
		push	0
		push	0
		push	0
		call	InsertObject

loc_26654:				; CODE XREF: InsertMonsters+1E3j
					; InsertMonsters+1F5j
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_10]
		jnz	short loc_265EF

loc_2665C:				; CODE XREF: InsertMonsters+1BFj
		mov	ax, AmCount
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jg	short loc_266DE
		mov	[bp+var_E], ax
		jmp	short loc_26672
; ---------------------------------------------------------------------------

loc_2666F:				; CODE XREF: InsertMonsters+2B3j
		inc	[bp+var_E]

loc_26672:				; CODE XREF: InsertMonsters+244j
		imul	ax, [bp+var_E],	1Fh
		les	di, AmmoBags
		assume es:nothing
		add	di, ax
		add	di, 0FFE1h
		mov	ax, ehy
		sub	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_266D6
		mov	ax, ehx
		sub	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_266D6
		mov	ax, es:[di]
		mov	[bp+var_9], ax
		mov	ax, es:[di+2]
		mov	[bp+var_7], ax
		mov	ax, [bp+var_9]
		mov	[bp+var_5], ax
		mov	ax, [bp+var_7]
		mov	[bp+var_3], ax
		mov	[bp+var_C], 80h	; '€'
		mov	al, byte ptr [bp+var_E]
		mov	[bp+var_B], al
		lea	di, [bp+var_C]
		push	ss
		push	di
		push	0
		push	0
		push	0
		call	InsertObject

loc_266D6:				; CODE XREF: InsertMonsters+267j
					; InsertMonsters+278j
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_10]
		jnz	short loc_2666F

loc_266DE:				; CODE XREF: InsertMonsters+23Fj
		mov	ax, BCount
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jle	short loc_266EF
		jmp	locret_26773
; ---------------------------------------------------------------------------

loc_266EF:				; CODE XREF: InsertMonsters+2C1j
		mov	[bp+var_E], ax
		jmp	short loc_266F7
; ---------------------------------------------------------------------------

loc_266F4:				; CODE XREF: InsertMonsters+348j
		inc	[bp+var_E]

loc_266F7:				; CODE XREF: InsertMonsters+2C9j
		mov	ax, [bp+var_E]
		shl	ax, 4
		les	di, BlowsList
		add	di, ax
		add	di, 0FFF0h
		mov	word ptr [bp+var_14], di
		mov	word ptr [bp+var_14+2],	es
		mov	ax, ehy
		sub	ax, es:[di+6]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_2676B
		mov	ax, ehx
		sub	ax, es:[di+4]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, MapR
		jge	short loc_2676B
		mov	ax, es:[di+4]
		mov	[bp+var_9], ax
		mov	ax, es:[di+6]
		mov	[bp+var_7], ax
		mov	ax, [bp+var_9]
		mov	[bp+var_5], ax
		mov	ax, [bp+var_7]
		mov	[bp+var_3], ax
		mov	[bp+var_C], 7Fh	; ''
		mov	al, byte ptr [bp+var_E]
		mov	[bp+var_B], al
		lea	di, [bp+var_C]
		push	ss
		push	di
		les	di, [bp+var_14]
		mov	al, es:[di+2]
		push	ax
		push	0
		push	0
		call	InsertObject

loc_2676B:				; CODE XREF: InsertMonsters+2F4j
					; InsertMonsters+306j
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_10]
		jnz	short loc_266F4

locret_26773:				; CODE XREF: InsertMonsters+2C3j
		leave
		retf
InsertMonsters	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SCalcBPoint	proc near		; CODE XREF: SendFastRocket+142p
					; SendFastRocket+28Cp ...

var_36		= word ptr -36h
var_34		= word ptr -34h
var_32		= word ptr -32h
var_30		= word ptr -30h
var_2E		= word ptr -2Eh
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	36h, 0
		mov	ax, [bp+arg_A]
		sub	ax, [bp+arg_E]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	[bp+var_6], ax
		mov	[bp+var_4], bx
		mov	[bp+var_2], dx
		mov	ax, [bp+arg_8]
		sub	ax, [bp+arg_C]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	[bp+var_C], ax
		mov	[bp+var_A], bx
		mov	[bp+var_8], dx
		mov	ax, [bp+arg_2]
		sub	ax, [bp+arg_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	[bp+var_12], ax
		mov	[bp+var_10], bx
		mov	[bp+var_E], dx
		mov	ax, [bp+arg_0]
		sub	ax, [bp+arg_4]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	[bp+var_18], ax
		mov	[bp+var_16], bx
		mov	[bp+var_14], dx
		mov	ax, [bp+arg_C]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_6]
		mov	si, [bp+var_4]
		mov	di, [bp+var_2]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+arg_E]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_C]
		mov	si, [bp+var_A]
		mov	di, [bp+var_8]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		mov	[bp+var_1E], ax
		mov	[bp+var_1C], bx
		mov	[bp+var_1A], dx
		mov	ax, [bp+arg_4]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_12]
		mov	si, [bp+var_10]
		mov	di, [bp+var_E]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+arg_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_18]
		mov	si, [bp+var_16]
		mov	di, [bp+var_14]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		mov	[bp+var_24], ax
		mov	[bp+var_22], bx
		mov	[bp+var_20], dx
		mov	ax, [bp+var_6]
		mov	bx, [bp+var_4]
		mov	dx, [bp+var_2]
		and	dh, 7Fh
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_C]
		mov	bx, [bp+var_A]
		mov	dx, [bp+var_8]
		and	dh, 7Fh
		pop	cx
		pop	si
		pop	di
		call	@__Cmp$q4Realt1	; Compare two reals
		ja	short loc_26879
		jmp	loc_26954
; ---------------------------------------------------------------------------

loc_26879:				; CODE XREF: SCalcBPoint+FFj
		mov	ax, [bp+var_6]
		mov	bx, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, [bp+var_18]
		mov	si, [bp+var_16]
		mov	di, [bp+var_14]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, [bp+var_C]
		mov	si, [bp+var_A]
		mov	di, [bp+var_8]
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_30], ax
		mov	[bp+var_2E], bx
		mov	[bp+var_2C], dx
		mov	ax, [bp+var_1E]
		mov	bx, [bp+var_1C]
		mov	dx, [bp+var_1A]
		mov	cx, [bp+var_18]
		mov	si, [bp+var_16]
		mov	di, [bp+var_14]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, [bp+var_C]
		mov	si, [bp+var_A]
		mov	di, [bp+var_8]
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_36], ax
		mov	[bp+var_34], bx
		mov	[bp+var_32], dx
		mov	ax, [bp+var_30]
		mov	bx, [bp+var_2E]
		mov	dx, [bp+var_2C]
		mov	cx, [bp+var_12]
		mov	si, [bp+var_10]
		mov	di, [bp+var_E]
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_24]
		mov	bx, [bp+var_22]
		mov	dx, [bp+var_20]
		mov	cx, [bp+var_36]
		mov	si, [bp+var_34]
		mov	di, [bp+var_32]
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	bpy, ax
		mov	ax, bpy
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_6]
		mov	si, [bp+var_4]
		mov	di, [bp+var_2]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, [bp+var_1E]
		mov	si, [bp+var_1C]
		mov	di, [bp+var_1A]
		call	@$brplu$q4Realt1 ; Real(AX:BX:DX)+=Real(CX:SI:DI)
		mov	cx, [bp+var_C]
		mov	si, [bp+var_A]
		mov	di, [bp+var_8]
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	bpx, ax
		jmp	locret_26A2C
; ---------------------------------------------------------------------------

loc_26954:				; CODE XREF: SCalcBPoint+101j
		mov	ax, [bp+var_C]
		mov	bx, [bp+var_A]
		mov	dx, [bp+var_8]
		mov	cx, [bp+var_12]
		mov	si, [bp+var_10]
		mov	di, [bp+var_E]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, [bp+var_6]
		mov	si, [bp+var_4]
		mov	di, [bp+var_2]
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_2A], ax
		mov	[bp+var_28], bx
		mov	[bp+var_26], dx
		mov	ax, [bp+var_1E]
		mov	bx, [bp+var_1C]
		mov	dx, [bp+var_1A]
		mov	cx, [bp+var_12]
		mov	si, [bp+var_10]
		mov	di, [bp+var_E]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, [bp+var_6]
		mov	si, [bp+var_4]
		mov	di, [bp+var_2]
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_36], ax
		mov	[bp+var_34], bx
		mov	[bp+var_32], dx
		mov	ax, [bp+var_2A]
		mov	bx, [bp+var_28]
		mov	dx, [bp+var_26]
		mov	cx, [bp+var_18]
		mov	si, [bp+var_16]
		mov	di, [bp+var_14]
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_36]
		mov	bx, [bp+var_34]
		mov	dx, [bp+var_32]
		mov	cx, [bp+var_24]
		mov	si, [bp+var_22]
		mov	di, [bp+var_20]
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	bpx, ax
		mov	ax, bpx
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_C]
		mov	si, [bp+var_A]
		mov	di, [bp+var_8]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, [bp+var_1E]
		mov	si, [bp+var_1C]
		mov	di, [bp+var_1A]
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		mov	cx, [bp+var_6]
		mov	si, [bp+var_4]
		mov	di, [bp+var_2]
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	bpy, ax

locret_26A2C:				; CODE XREF: SCalcBPoint+1DCj
		leave
		retn	10h
SCalcBPoint	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddHole		proc far		; CODE XREF: SendFastRocket+AC0P
					; SendFastRocket+B17P

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	8, 0
		cmp	[bp+arg_0], 1000h
		jle	short loc_26A3E
		jmp	locret_26B4E
; ---------------------------------------------------------------------------

loc_26A3E:				; CODE XREF: AddHole+9j
		cmp	HolCount, 3Eh ;	'>'
		jb	short loc_26A6E
		les	di, HolesList
		push	es
		les	di, HolesList
		add	di, 14h
		push	di
		les	di, HolesList
		push	es
		les	di, HolesList
		push	di
		imul	ax, HolCount, 14h
		shr	ax, 1
		push	ax
		call	movsw
		dec	HolCount

loc_26A6E:				; CODE XREF: AddHole+13j
		inc	HolCount
		imul	ax, HolCount, 14h
		les	di, HolesList
		add	di, ax
		add	di, 0FFECh
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		xor	ax, ax
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di+8], ax
		mov	ax, [bp+arg_8]
		mov	es:[di+0Ah], ax
		mov	ax, [bp+arg_6]
		mov	es:[di+0Ch], ax
		cmp	[bp+arg_8], 0FFFFh
		jz	short loc_26B17
		imul	ax, [bp+arg_6],	0Bh
		mov	dx, ax
		imul	ax, [bp+arg_8],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, es:[di+7]
		sub	ax, es:[di+3]
		push	ax
		mov	ax, es:[di+9]
		sub	ax, es:[di+5]
		push	ax
		call	QPifagorA32__0
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		les	di, [bp+var_8]
		mov	ax, es:[di+3]
		sub	ax, [bp+arg_4]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+arg_2]
		push	ax
		call	QPifagorA32__0
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		pop	cx
		pop	si
		pop	di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		les	di, [bp+var_4]
		mov	es:[di+0Eh], ax
		mov	es:[di+10h], bx
		mov	es:[di+12h], dx

loc_26B17:				; CODE XREF: AddHole+75j
		cmp	[bp+arg_8], 0FFFFh
		jnz	short loc_26B37
		les	di, [bp+var_4]
		inc	word ptr es:[di+8]
		cmp	[bp+arg_0], 800h
		jle	short loc_26B32
		mov	[bp+arg_0], 1000h
		jmp	short loc_26B37
; ---------------------------------------------------------------------------

loc_26B32:				; CODE XREF: AddHole+F9j
		xor	ax, ax
		mov	[bp+arg_0], ax

loc_26B37:				; CODE XREF: AddHole+EBj AddHole+100j
		mov	ax, [bp+arg_4]
		les	di, [bp+var_4]
		mov	es:[di], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+2], ax
		mov	ax, [bp+arg_0]
		mov	es:[di+4], ax

locret_26B4E:				; CODE XREF: AddHole+Bj
		leave
		retf	0Ah
AddHole		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CalcRZ		proc near		; CODE XREF: SendFastRocket+180p
					; SendFastRocket+2CAp ...

var_2		= word ptr -2
arg_0		= word ptr  4
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h
arg_10		= word ptr  14h
arg_12		= word ptr  16h

		enter	2, 0
		mov	di, [bp+arg_0]
		cmp	ss:[di+arg_8], 0
		jnz	short loc_26B63
		jmp	loc_26C02
; ---------------------------------------------------------------------------

loc_26B63:				; CODE XREF: CalcRZ+Cj
		mov	ax, ss:[di+arg_A]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, ss:[di+arg_C]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jle	short loc_26BBD
		mov	ax, ss:[di+arg_C]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		cwd
		push	dx
		push	ax
		mov	ax, bpx
		sub	ax, ss:[di+arg_12]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, ss:[di+arg_8]
		shl	ax, 2
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+arg_E]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_2], ax
		jmp	short loc_26C00
; ---------------------------------------------------------------------------

loc_26BBD:				; CODE XREF: CalcRZ+27j
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+arg_A]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		cwd
		push	dx
		push	ax
		mov	ax, bpy
		sub	ax, ss:[di+arg_10]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, ss:[di+arg_8]
		shl	ax, 2
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+arg_E]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_2], ax

loc_26C00:				; CODE XREF: CalcRZ+69j
		jmp	short loc_26C0C
; ---------------------------------------------------------------------------

loc_26C02:				; CODE XREF: CalcRZ+Ej
		mov	di, [bp+arg_0]
		mov	ax, ss:[di+arg_E]
		mov	[bp+var_2], ax

loc_26C0C:				; CODE XREF: CalcRZ:loc_26C00j
		mov	ax, [bp+var_2]
		leave
		retn	2
CalcRZ		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SendFastRocket	proc far		; CODE XREF: DoGame+E72P DoGame+F72P ...

var_36		= dword	ptr -36h
var_32		= dword	ptr -32h
var_2D		= byte ptr -2Dh
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		enter	36h, 0
		mov	[bp+var_1A], 0FFFFh
		mov	[bp+var_1C], 0FFFFh
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	[bp+var_2], 0FFFFh
		mov	[bp+var_8], 0FFFFh
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 200h
		idiv	cx
		add	ax, [bp+arg_10]
		mov	[bp+arg_10], ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 200h
		idiv	cx
		add	ax, [bp+arg_E]
		mov	[bp+arg_E], ax
		mov	ax, [bp+arg_10]
		add	ax, [bp+arg_A]
		mov	[bp+var_1E], ax
		mov	ax, [bp+arg_E]
		add	ax, [bp+arg_8]
		mov	[bp+var_20], ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 100h
		idiv	cx
		mov	[bp+var_E], ax
		mov	ax, [bp+arg_A]
		neg	ax
		cwd
		mov	cx, 100h
		idiv	cx
		mov	[bp+var_10], ax
		xor	ax, ax
		mov	bpx, ax
		xor	ax, ax
		mov	bpy, ax
		imul	di, [bp+arg_4],	16h
		mov	ax, [di-327Ch]
		mov	[bp+var_A], ax
		mov	ax, MCount
		mov	word ptr [bp+var_32+2],	ax
		mov	ax, 1
		cmp	ax, word ptr [bp+var_32+2]
		jle	short loc_26CA0
		jmp	loc_26DF2
; ---------------------------------------------------------------------------

loc_26CA0:				; CODE XREF: SendFastRocket+88j
		mov	[bp+var_4], ax
		jmp	short loc_26CA8
; ---------------------------------------------------------------------------

loc_26CA5:				; CODE XREF: SendFastRocket+1DCj
		inc	[bp+var_4]

loc_26CA8:				; CODE XREF: SendFastRocket+90j
		imul	di, [bp+var_4],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_36+2],	di
		mov	word ptr [bp+var_32], es
		cmp	word ptr es:[di+12h], 0
		jg	short loc_26CC2
		jmp	loc_26DE7
; ---------------------------------------------------------------------------

loc_26CC2:				; CODE XREF: SendFastRocket+AAj
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FBCh]
		mov	[bp+var_12], ax
		mov	ax, [bp+var_10]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_E]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_12], ax
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_36+2]
		assume es:nothing
		mov	ax, es:[di]
		add	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		add	ax, [bp+var_14]
		push	ax
		mov	ax, es:[di]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+var_14]
		push	ax
		call	Test2Vectors__0
		or	al, al
		jnz	short loc_26D28
		jmp	loc_26DE7
; ---------------------------------------------------------------------------

loc_26D28:				; CODE XREF: SendFastRocket+110j
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_36+2]
		mov	ax, es:[di]
		add	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		add	ax, [bp+var_14]
		push	ax
		mov	ax, es:[di]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+var_14]
		push	ax
		call	SCalcBPoint
		mov	ax, bpy
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, bpx
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	bx, ax
		mov	ax, [bp+var_20]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_1E]
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_26DE7
		push	bp
		call	CalcRZ
		mov	[bp+var_18], ax
		lea	di, [bp+var_2A]
		push	ss
		push	di
		lea	di, [bp+var_2C]
		push	ss
		push	di
		les	di, [bp+var_36+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		push	ax
		push	word ptr es:[di+8]
		push	word ptr es:[di+6]
		call	ScanLowHigh
		mov	ax, [bp+var_2A]
		les	di, [bp+var_36+2]
		add	ax, es:[di+1Eh]
		cmp	ax, [bp+var_18]
		jge	short loc_26DE7
		mov	ax, [bp+var_2C]
		add	ax, es:[di+1Eh]
		cmp	ax, [bp+var_18]
		jle	short loc_26DE7
		mov	ax, bpx
		mov	[bp+var_1E], ax
		mov	ax, bpy
		mov	[bp+var_20], ax
		mov	ax, [bp+var_4]
		mov	[bp+var_6], ax

loc_26DE7:				; CODE XREF: SendFastRocket+ACj
					; SendFastRocket+112j ...
		mov	ax, [bp+var_4]
		cmp	ax, word ptr [bp+var_32+2]
		jz	short loc_26DF2
		jmp	loc_26CA5
; ---------------------------------------------------------------------------

loc_26DF2:				; CODE XREF: SendFastRocket+8Aj
					; SendFastRocket+1DAj
		mov	ax, MnCount
		mov	word ptr [bp+var_32+2],	ax
		mov	ax, 1
		cmp	ax, word ptr [bp+var_32+2]
		jle	short loc_26E03
		jmp	loc_26F20
; ---------------------------------------------------------------------------

loc_26E03:				; CODE XREF: SendFastRocket+1EBj
		mov	[bp+var_4], ax
		jmp	short loc_26E0B
; ---------------------------------------------------------------------------

loc_26E08:				; CODE XREF: SendFastRocket+30Aj
		inc	[bp+var_4]

loc_26E0B:				; CODE XREF: SendFastRocket+1F3j
		imul	di, [bp+var_4],	0Ah
		add	di, 0BC0Ch
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_36+2],	di
		mov	word ptr [bp+var_32], es
		mov	[bp+var_12], 20h ; ' '
		mov	ax, [bp+var_10]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_E]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_12], ax
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		mov	ax, es:[di]
		add	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		add	ax, [bp+var_14]
		push	ax
		mov	ax, es:[di]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+var_14]
		push	ax
		call	Test2Vectors__0
		or	al, al
		jnz	short loc_26E72
		jmp	loc_26F15
; ---------------------------------------------------------------------------

loc_26E72:				; CODE XREF: SendFastRocket+25Aj
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_36+2]
		assume es:nothing
		mov	ax, es:[di]
		add	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		add	ax, [bp+var_14]
		push	ax
		mov	ax, es:[di]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, [bp+var_14]
		push	ax
		call	SCalcBPoint
		mov	ax, bpy
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, bpx
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	bx, ax
		mov	ax, [bp+var_20]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_1E]
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_26F15
		push	bp
		call	CalcRZ
		mov	[bp+var_18], ax
		les	di, [bp+var_36+2]
		mov	ax, es:[di+6]
		sub	ax, 80h	; '€'
		cmp	ax, [bp+var_18]
		jge	short loc_26F15
		mov	ax, es:[di+6]
		add	ax, 140h
		cmp	ax, [bp+var_18]
		jle	short loc_26F15
		mov	ax, bpx
		mov	[bp+var_1E], ax
		mov	ax, bpy
		mov	[bp+var_20], ax
		mov	ax, [bp+var_4]
		mov	[bp+var_8], ax
		xor	ax, ax
		mov	[bp+var_6], ax

loc_26F15:				; CODE XREF: SendFastRocket+25Cj
					; SendFastRocket+2C7j ...
		mov	ax, [bp+var_4]
		cmp	ax, word ptr [bp+var_32+2]
		jz	short loc_26F20
		jmp	loc_26E08
; ---------------------------------------------------------------------------

loc_26F20:				; CODE XREF: SendFastRocket+1EDj
					; SendFastRocket+308j
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_26F2A
; ---------------------------------------------------------------------------

loc_26F27:				; CODE XREF: SendFastRocket+46Ej
		inc	[bp+var_4]

loc_26F2A:				; CODE XREF: SendFastRocket+312j
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_26F35
		jmp	loc_2707B
; ---------------------------------------------------------------------------

loc_26F35:				; CODE XREF: SendFastRocket+31Dj
		imul	di, [bp+var_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_32], di
		mov	word ptr [bp+var_32+2],	es
		cmp	byte ptr es:[di], 0
		jnz	short loc_26F4E
		jmp	loc_2707B
; ---------------------------------------------------------------------------

loc_26F4E:				; CODE XREF: SendFastRocket+336j
		cmp	word ptr es:[di+28h], 0
		jg	short loc_26F58
		jmp	loc_2707B
; ---------------------------------------------------------------------------

loc_26F58:				; CODE XREF: SendFastRocket+340j
		mov	ax, word_42154
		mov	[bp+var_12], ax
		mov	ax, [bp+var_10]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_E]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_12], ax
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		mov	ax, es:[di+0Ah]
		add	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+0Ch]
		add	ax, [bp+var_14]
		push	ax
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+var_14]
		push	ax
		call	Test2Vectors__0
		or	al, al
		jnz	short loc_26FB2
		jmp	loc_2707B
; ---------------------------------------------------------------------------

loc_26FB2:				; CODE XREF: SendFastRocket+39Aj
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_32]
		assume es:nothing
		mov	ax, es:[di+0Ah]
		add	ax, [bp+var_E]
		push	ax
		mov	ax, es:[di+0Ch]
		add	ax, [bp+var_10]
		push	ax
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+var_E]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+var_10]
		push	ax
		call	SCalcBPoint
		mov	ax, bpy
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, bpx
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	bx, ax
		mov	ax, [bp+var_20]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_1E]
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_2707B
		push	bp
		call	CalcRZ
		mov	[bp+var_18], ax
		lea	di, [bp+var_2A]
		push	ss
		push	di
		lea	di, [bp+var_2C]
		push	ss
		push	di
		push	64h ; 'd'
		les	di, [bp+var_32]
		mov	al, es:[di+24h]
		xor	ah, ah
		push	ax
		push	word ptr es:[di+22h]
		call	ScanLowHigh
		mov	ax, [bp+var_2A]
		les	di, [bp+var_32]
		add	ax, es:[di+0Eh]
		cmp	ax, [bp+var_18]
		jge	short loc_2707B
		mov	ax, [bp+var_2C]
		add	ax, es:[di+0Eh]
		cmp	ax, [bp+var_18]
		jle	short loc_2707B
		mov	ax, bpx
		mov	[bp+var_1E], ax
		mov	ax, bpy
		mov	[bp+var_20], ax
		mov	ax, [bp+var_4]
		mov	[bp+var_2], ax
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	[bp+var_8], 0FFFFh

loc_2707B:				; CODE XREF: SendFastRocket+31Fj
					; SendFastRocket+338j ...
		cmp	[bp+var_4], 7
		jz	short loc_27084
		jmp	loc_26F27
; ---------------------------------------------------------------------------

loc_27084:				; CODE XREF: SendFastRocket+46Cj
		cmp	[bp+arg_A], 0
		jl	short loc_270B7
		mov	al, byte ptr [bp+arg_10+1]
		xor	ah, ah
		dec	ax
		dec	ax
		mov	[bp+var_22], ax
		cmp	[bp+var_22], 0
		jge	short loc_2709F
		xor	ax, ax
		mov	[bp+var_22], ax

loc_2709F:				; CODE XREF: SendFastRocket+485j
		cmp	[bp+var_22], 28h ; '('
		jle	short loc_270AC
		mov	[bp+var_24], 3Fh ; '?'
		jmp	short loc_270B5
; ---------------------------------------------------------------------------

loc_270AC:				; CODE XREF: SendFastRocket+490j
		mov	ax, [bp+var_22]
		add	ax, 17h
		mov	[bp+var_24], ax

loc_270B5:				; CODE XREF: SendFastRocket+497j
		jmp	short loc_270E2
; ---------------------------------------------------------------------------

loc_270B7:				; CODE XREF: SendFastRocket+475j
		mov	al, byte ptr [bp+arg_10+1]
		xor	ah, ah
		inc	ax
		inc	ax
		mov	[bp+var_24], ax
		cmp	[bp+var_24], 3Fh ; '?'
		jle	short loc_270CC
		mov	[bp+var_24], 3Fh ; '?'

loc_270CC:				; CODE XREF: SendFastRocket+4B2j
		cmp	[bp+var_24], 17h
		jge	short loc_270D9
		xor	ax, ax
		mov	[bp+var_22], ax
		jmp	short loc_270E2
; ---------------------------------------------------------------------------

loc_270D9:				; CODE XREF: SendFastRocket+4BDj
		mov	ax, [bp+var_24]
		sub	ax, 17h
		mov	[bp+var_22], ax

loc_270E2:				; CODE XREF: SendFastRocket:loc_270B5j
					; SendFastRocket+4C4j
		cmp	[bp+arg_8], 0
		jl	short loc_27115
		mov	al, byte ptr [bp+arg_E+1]
		xor	ah, ah
		dec	ax
		dec	ax
		mov	[bp+var_26], ax
		cmp	[bp+var_26], 0
		jge	short loc_270FD
		xor	ax, ax
		mov	[bp+var_26], ax

loc_270FD:				; CODE XREF: SendFastRocket+4E3j
		cmp	[bp+var_26], 28h ; '('
		jle	short loc_2710A
		mov	[bp+var_28], 3Fh ; '?'
		jmp	short loc_27113
; ---------------------------------------------------------------------------

loc_2710A:				; CODE XREF: SendFastRocket+4EEj
		mov	ax, [bp+var_26]
		add	ax, 17h
		mov	[bp+var_28], ax

loc_27113:				; CODE XREF: SendFastRocket+4F5j
		jmp	short loc_27140
; ---------------------------------------------------------------------------

loc_27115:				; CODE XREF: SendFastRocket+4D3j
		mov	al, byte ptr [bp+arg_E+1]
		xor	ah, ah
		inc	ax
		inc	ax
		mov	[bp+var_28], ax
		cmp	[bp+var_28], 3Fh ; '?'
		jle	short loc_2712A
		mov	[bp+var_28], 3Fh ; '?'

loc_2712A:				; CODE XREF: SendFastRocket+510j
		cmp	[bp+var_28], 17h
		jge	short loc_27137
		xor	ax, ax
		mov	[bp+var_26], ax
		jmp	short loc_27140
; ---------------------------------------------------------------------------

loc_27137:				; CODE XREF: SendFastRocket+51Bj
		mov	ax, [bp+var_28]
		sub	ax, 17h
		mov	[bp+var_26], ax

loc_27140:				; CODE XREF: SendFastRocket:loc_27113j
					; SendFastRocket+522j
		mov	ax, [bp+var_24]
		mov	word ptr [bp+var_32+2],	ax
		mov	ax, [bp+var_22]
		cmp	ax, word ptr [bp+var_32+2]
		jle	short loc_27151
		jmp	loc_27446
; ---------------------------------------------------------------------------

loc_27151:				; CODE XREF: SendFastRocket+539j
		mov	x__0, ax
		jmp	short loc_2715A
; ---------------------------------------------------------------------------

loc_27156:				; CODE XREF: SendFastRocket+830j
		inc	x__0

loc_2715A:				; CODE XREF: SendFastRocket+541j
		mov	ax, [bp+var_28]
		mov	word ptr [bp+var_32], ax
		mov	ax, [bp+var_26]
		cmp	ax, word ptr [bp+var_32]
		jle	short loc_2716B
		jmp	loc_2743B
; ---------------------------------------------------------------------------

loc_2716B:				; CODE XREF: SendFastRocket+553j
		mov	y, ax
		jmp	short loc_27174
; ---------------------------------------------------------------------------

loc_27170:				; CODE XREF: SendFastRocket+825j
		inc	y

loc_27174:				; CODE XREF: SendFastRocket+55Bj
		imul	ax, y, 0Bh
		mov	dx, ax
		imul	ax, x__0, 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_36], di
		mov	word ptr [bp+var_36+2],	es
		mov	al, es:[di]
		cmp	al, 1
		jnb	short loc_27199
		jmp	loc_27279
; ---------------------------------------------------------------------------

loc_27199:				; CODE XREF: SendFastRocket+581j
		cmp	al, 78h	; 'x'
		jbe	short loc_271A0
		jmp	loc_27279
; ---------------------------------------------------------------------------

loc_271A0:				; CODE XREF: SendFastRocket+588j
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 2
		or	al, al
		jnz	short loc_271B4
		jmp	loc_27276
; ---------------------------------------------------------------------------

loc_271B4:				; CODE XREF: SendFastRocket+59Cj
		mov	dx, y
		mov	ax, x__0
		shl	ax, 6
		les	di, Flags
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 3Ch ;	'<'
		jb	short loc_271CF
		jmp	loc_27276
; ---------------------------------------------------------------------------

loc_271CF:				; CODE XREF: SendFastRocket+5B7j
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_36]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	word ptr es:[di+7]
		push	word ptr es:[di+9]
		call	Test2Vectors__0
		or	al, al
		jnz	short loc_271F8
		jmp	loc_27276
; ---------------------------------------------------------------------------

loc_271F8:				; CODE XREF: SendFastRocket+5E0j
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_36]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	word ptr es:[di+7]
		push	word ptr es:[di+9]
		call	SCalcBPoint
		mov	ax, bpy
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, bpx
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	bx, ax
		mov	ax, [bp+var_20]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_1E]
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_27276
		mov	ax, bpx
		mov	[bp+var_1E], ax
		mov	ax, bpy
		mov	[bp+var_20], ax
		mov	ax, x__0
		mov	[bp+var_1A], ax
		mov	ax, y
		mov	[bp+var_1C], ax
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	[bp+var_2], 0FFFFh

loc_27276:				; CODE XREF: SendFastRocket+59Ej
					; SendFastRocket+5B9j ...
		jmp	loc_27430
; ---------------------------------------------------------------------------

loc_27279:				; CODE XREF: SendFastRocket+583j
					; SendFastRocket+58Aj
		cmp	al, 83h	; 'ƒ'
		jnb	short loc_27280
		jmp	loc_27430
; ---------------------------------------------------------------------------

loc_27280:				; CODE XREF: SendFastRocket+668j
		cmp	al, 0E2h ; 'â'
		jbe	short loc_27287
		jmp	loc_27430
; ---------------------------------------------------------------------------

loc_27287:				; CODE XREF: SendFastRocket+66Fj
		les	di, [bp+var_36]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74AEh], 0
		jg	short loc_2729F
		jmp	loc_27430
; ---------------------------------------------------------------------------

loc_2729F:				; CODE XREF: SendFastRocket+687j
		les	di, [bp+var_36]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74AEh]
		mov	[bp+var_12], ax
		mov	ax, [bp+var_10]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_E]
		mul	[bp+var_12]
		cwd
		mov	cx, 40h	; '@'
		idiv	cx
		mov	[bp+var_12], ax
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_36]
		mov	ax, es:[di+3]
		add	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+5]
		add	ax, [bp+var_14]
		push	ax
		mov	ax, es:[di+3]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+var_14]
		push	ax
		call	Test2Vectors__0
		or	al, al
		jnz	short loc_2730B
		jmp	loc_27430
; ---------------------------------------------------------------------------

loc_2730B:				; CODE XREF: SendFastRocket+6F3j
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_1E]
		push	[bp+var_20]
		les	di, [bp+var_36]
		mov	ax, es:[di+3]
		add	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+5]
		add	ax, [bp+var_14]
		push	ax
		mov	ax, es:[di+3]
		sub	ax, [bp+var_12]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, [bp+var_14]
		push	ax
		call	SCalcBPoint
		mov	ax, bpy
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, bpx
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	bx, ax
		mov	ax, [bp+var_20]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_1E]
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jg	short loc_2737A
		jmp	loc_27430
; ---------------------------------------------------------------------------

loc_2737A:				; CODE XREF: SendFastRocket+762j
		les	di, [bp+var_36]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	al, [di+74AEh]
		shr	al, 1
		jnb	short loc_273B9
		mov	ax, [bp+var_14]
		shl	ax, 2
		cwd
		mov	cx, 3
		idiv	cx
		add	ax, bpx
		mov	bpx, ax
		mov	ax, [bp+var_12]
		shl	ax, 2
		cwd
		mov	cx, 3
		idiv	cx
		mov	dx, ax
		mov	ax, bpy
		sub	ax, dx
		mov	bpy, ax

loc_273B9:				; CODE XREF: SendFastRocket+77Bj
		les	di, [bp+var_36]
		mov	al, es:[di+2]
		xor	ah, ah
		mov	[bp+var_16], ax
		mov	ax, [bp+var_16]
		shl	ax, 5
		mov	[bp+var_16], ax
		push	bp
		call	CalcRZ
		mov	[bp+var_18], ax
		les	di, [bp+var_36]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74C0h]
		add	ax, [bp+var_16]
		cmp	ax, [bp+var_18]
		jge	short loc_27430
		les	di, [bp+var_36]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		mov	ax, [di+74C2h]
		add	ax, [bp+var_16]
		cmp	ax, [bp+var_18]
		jle	short loc_27430
		mov	ax, bpx
		mov	[bp+var_1E], ax
		mov	ax, bpy
		mov	[bp+var_20], ax
		mov	[bp+var_2], 0FFFFh
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	[bp+var_8], 0FFFFh
		mov	ax, x__0
		mov	[bp+var_1A], ax
		mov	ax, y
		mov	[bp+var_1C], ax

loc_27430:				; CODE XREF: SendFastRocket:loc_27276j
					; SendFastRocket+66Aj ...
		mov	ax, y
		cmp	ax, word ptr [bp+var_32]
		jz	short loc_2743B
		jmp	loc_27170
; ---------------------------------------------------------------------------

loc_2743B:				; CODE XREF: SendFastRocket+555j
					; SendFastRocket+823j
		mov	ax, x__0
		cmp	ax, word ptr [bp+var_32+2]
		jz	short loc_27446
		jmp	loc_27156
; ---------------------------------------------------------------------------

loc_27446:				; CODE XREF: SendFastRocket+53Bj
					; SendFastRocket+82Ej
		cmp	bpx, 0
		jnz	short loc_27457
		cmp	bpy, 0
		jnz	short loc_27457
		jmp	locret_27979
; ---------------------------------------------------------------------------

loc_27457:				; CODE XREF: SendFastRocket+838j
					; SendFastRocket+83Fj
		cmp	[bp+arg_6], 0FFF0h
		jl	short loc_27460
		jmp	loc_27525
; ---------------------------------------------------------------------------

loc_27460:				; CODE XREF: SendFastRocket+848j
		mov	ax, [bp+arg_6]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 100h
		idiv	cx
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_C]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_10]
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	bpx, ax
		mov	ax, [bp+arg_6]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 100h
		idiv	cx
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_C]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_E]
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	bpy, ax
		mov	ax, bpy
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, bpx
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	bx, ax
		mov	ax, [bp+var_20]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_1E]
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_27525
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	[bp+var_2], 0FFFFh
		mov	[bp+var_8], 0FFFFh
		mov	ax, bpx
		mov	[bp+var_1E], ax
		mov	ax, bpy
		mov	[bp+var_20], ax
		mov	[bp+var_1A], 0FFFFh
		mov	[bp+var_1C], 0FFFFh

loc_27525:				; CODE XREF: SendFastRocket+84Aj
					; SendFastRocket+8EBj
		cmp	[bp+arg_6], 10h
		jg	short loc_2752E
		jmp	loc_27643
; ---------------------------------------------------------------------------

loc_2752E:				; CODE XREF: SendFastRocket+916j
		mov	ax, 1000h
		sub	ax, [bp+arg_C]
		mov	[bp+arg_C], ax
		mov	ax, [bp+arg_6]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 100h
		idiv	cx
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_C]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_10]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	bpx, ax
		mov	ax, [bp+arg_6]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 100h
		idiv	cx
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_C]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_E]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	bpy, ax
		mov	ax, 1000h
		sub	ax, [bp+arg_C]
		mov	[bp+arg_C], ax
		mov	ax, bpy
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, bpx
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		mov	bx, ax
		mov	ax, [bp+var_20]
		sub	ax, [bp+arg_E]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_1E]
		sub	ax, [bp+arg_10]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_27643
		mov	al, byte ptr bpy+1
		xor	ah, ah
		mov	dx, ax
		mov	al, byte ptr bpx+1
		xor	ah, ah
		mov	di, ax
		shl	di, 6
		add	di, dx
		cmp	byte ptr [di+5EC6h], 3Eh ; '>'
		jz	short loc_27621
		mov	ax, bpx
		mov	[bp+var_1E], ax
		mov	ax, bpy
		mov	[bp+var_20], ax
		mov	[bp+var_1A], 0FFFFh
		mov	[bp+var_1C], 0FFFFh
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	[bp+var_2], 0FFFFh
		mov	[bp+var_8], 0FFFFh
		jmp	short loc_27643
; ---------------------------------------------------------------------------

loc_27621:				; CODE XREF: SendFastRocket+9E5j
		cmp	[bp+var_1A], 0FFFFh
		jz	short loc_27640
		imul	ax, [bp+var_1C], 0Bh
		mov	dx, ax
		imul	ax, [bp+var_1A], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 83h ;	'ƒ'
		jnb	short loc_27643

loc_27640:				; CODE XREF: SendFastRocket+A12j
		jmp	locret_27979
; ---------------------------------------------------------------------------

loc_27643:				; CODE XREF: SendFastRocket+918j
					; SendFastRocket+9CBj ...
		mov	ax, [bp+var_1E]
		mov	bpx, ax
		mov	ax, [bp+var_20]
		mov	bpy, ax
		push	bp
		call	CalcRZ
		mov	[bp+arg_C], ax
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_27684
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 100h
		idiv	cx
		mov	dx, ax
		mov	ax, [bp+var_1E]
		sub	ax, dx
		mov	[bp+var_1E], ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 100h
		idiv	cx
		mov	dx, ax
		mov	ax, [bp+var_20]
		sub	ax, dx
		mov	[bp+var_20], ax
		jmp	short loc_276AA
; ---------------------------------------------------------------------------

loc_27684:				; CODE XREF: SendFastRocket+A47j
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 384h
		idiv	cx
		mov	dx, ax
		mov	ax, [bp+var_1E]
		sub	ax, dx
		mov	[bp+var_1E], ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 384h
		idiv	cx
		mov	dx, ax
		mov	ax, [bp+var_20]
		sub	ax, dx
		mov	[bp+var_20], ax

loc_276AA:				; CODE XREF: SendFastRocket+A6Fj
		cmp	[bp+var_2], 0FFFFh
		jnz	short loc_276D8
		cmp	[bp+var_6], 0
		jnz	short loc_276D8
		cmp	[bp+var_8], 0FFFFh
		jnz	short loc_276D8
		cmp	[bp+var_1A], 0FFFFh
		jnz	short loc_276D8
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	bpx
		push	bpy
		push	[bp+arg_C]
		call	AddHole

loc_276D8:				; CODE XREF: SendFastRocket+A9Bj
					; SendFastRocket+AA1j ...
		cmp	[bp+var_1A], 0FFFFh
		jz	short loc_276EC
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	[bp+arg_2]
		call	CheckSwitchShoot

loc_276EC:				; CODE XREF: SendFastRocket+AC9j
		cmp	[bp+var_1A], 0FFFFh
		jnz	short loc_276F5
		jmp	loc_27784
; ---------------------------------------------------------------------------

loc_276F5:				; CODE XREF: SendFastRocket+ADDj
		imul	ax, [bp+var_1C], 0Bh
		mov	dx, ax
		imul	ax, [bp+var_1A], 2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_32], di
		mov	word ptr [bp+var_32+2],	es
		mov	al, es:[di]
		cmp	al, 1
		jb	short loc_27731
		cmp	al, 56h	; 'V'
		ja	short loc_27731
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	bpx
		push	bpy
		push	[bp+arg_C]
		call	AddHole
		jmp	short loc_27784
; ---------------------------------------------------------------------------

loc_27731:				; CODE XREF: SendFastRocket+B00j
					; SendFastRocket+B04j
		cmp	al, 83h	; 'ƒ'
		jb	short loc_27784
		cmp	al, 0E2h ; 'â'
		ja	short loc_27784
		les	di, [bp+var_32]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74B8h], 0
		jle	short loc_27784
		les	di, [bp+var_32]
		mov	al, es:[di]
		xor	ah, ah
		sub	ax, 83h	; 'ƒ'
		imul	di, ax,	24h
		cmp	word ptr [di+74BAh], 0
		jle	short loc_27784
		imul	di, [bp+arg_4],	16h
		mov	ax, [di-3274h]
		les	di, [bp+var_32]
		sub	es:[di+9], ax
		cmp	word ptr es:[di+9], 0
		jg	short loc_27784
		push	[bp+var_1A]
		push	[bp+var_1C]
		call	Blow3dObjAt

loc_27784:				; CODE XREF: SendFastRocket+ADFj
					; SendFastRocket+B1Cj ...
		imul	di, [bp+arg_4],	16h
		add	di, 0CD84h
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, es:[di+8]
		mov	[bp+var_C], ax
		cmp	[bp+var_A], 3
		jnz	short loc_277C7
		mov	ax, [bp+arg_E]
		sub	ax, [bp+var_20]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_10]
		sub	ax, [bp+var_1E]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		shr	ax, 3
		add	ax, 64h	; 'd'
		mov	cx, ax
		imul	ax, [bp+var_C],	64h
		cwd
		idiv	cx
		mov	[bp+var_C], ax

loc_277C7:				; CODE XREF: SendFastRocket+B86j
		cmp	[bp+var_6], 0
		jle	short loc_277FF
		push	[bp+var_1E]
		push	[bp+var_20]
		push	[bp+arg_C]
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 100h
		idiv	cx
		push	ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 100h
		idiv	cx
		push	ax
		push	[bp+var_6]
		push	[bp+var_C]
		mov	ax, [bp+var_C]
		mul	[bp+arg_0]
		push	ax
		push	[bp+arg_2]
		call	ShootMonster

loc_277FF:				; CODE XREF: SendFastRocket+BB8j
		cmp	[bp+var_8], 0
		jle	short loc_2780D
		push	[bp+var_8]
		call	ExplodeMine

loc_2780D:				; CODE XREF: SendFastRocket+BF0j
		cmp	[bp+var_2], 0FFFFh
		jle	short loc_2785A
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+var_C]
		push	[bp+var_2]
		push	[bp+arg_2]
		call	ShootMe
		imul	di, [bp+var_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	word ptr [bp+var_36], di
		mov	word ptr [bp+var_36+2],	es
		mov	ax, es:[di+0Ah]
		sub	ax, [bp+arg_10]
		push	ax
		mov	ax, es:[di+0Ch]
		sub	ax, [bp+arg_E]
		push	ax
		call	FindVectorFi
		les	di, [bp+var_36]
		assume es:nothing
		mov	es:[di+1Ch], ax
		mov	ax, [bp+var_C]
		mov	es:[di+1Ah], ax

loc_2785A:				; CODE XREF: SendFastRocket+BFEj
		cmp	[bp+var_A], 3
		jnz	short loc_27886
		cmp	[bp+var_2], 0FFFFh
		jle	short loc_27886
		imul	di, [bp+var_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr es:[di+18h], 20h ; ' '
		add	word ptr es:[di+0Eh], 2
		mov	ax, es:[di+2Ah]
		or	ax, 100h
		mov	es:[di+2Ah], ax

loc_27886:				; CODE XREF: SendFastRocket+C4Bj
					; SendFastRocket+C51j
		cmp	[bp+var_A], 1
		jz	short loc_2788F
		jmp	locret_27979
; ---------------------------------------------------------------------------

loc_2788F:				; CODE XREF: SendFastRocket+C77j
		imul	di, [bp+arg_4],	16h
		add	di, 0CD84h
		push	ds
		pop	es
		cmp	[bp+arg_C], 200h
		jge	short loc_278BD
		push	[bp+var_1E]
		push	[bp+var_20]
		push	0
		call	iswater
		or	al, al
		jz	short loc_278BD
		cmp	[bp+var_6], 0
		jnz	short loc_278BD
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_278C1

loc_278BD:				; CODE XREF: SendFastRocket+C8Bj
					; SendFastRocket+C9Cj ...
		mov	al, 0
		jmp	short loc_278C3
; ---------------------------------------------------------------------------

loc_278C1:				; CODE XREF: SendFastRocket+CA8j
		mov	al, 1

loc_278C3:				; CODE XREF: SendFastRocket+CACj
		mov	[bp+var_2D], al
		cmp	[bp+var_6], 0
		jnz	short loc_278D2
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_278E6

loc_278D2:				; CODE XREF: SendFastRocket+CB7j
		push	[bp+var_1E]
		push	[bp+var_20]
		push	[bp+arg_C]
		push	0Bh
		push	5
		call	BlowSpark
		jmp	short loc_2790C
; ---------------------------------------------------------------------------

loc_278E6:				; CODE XREF: SendFastRocket+CBDj
		mov	ax, [bp+arg_A]
		cwd
		mov	cx, 7D0h
		idiv	cx
		add	ax, [bp+var_1E]
		push	ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, 7D0h
		idiv	cx
		add	ax, [bp+var_20]
		push	ax
		push	[bp+arg_C]
		mov	al, [bp+var_2D]
		push	ax
		call	BlowShootSmoke

loc_2790C:				; CODE XREF: SendFastRocket+CD1j
		push	[bp+var_1E]
		push	[bp+var_20]
		push	[bp+arg_C]
		push	0
		push	0
		push	[bp+arg_2]
		call	MakeBlow
		push	[bp+var_1E]
		push	[bp+var_20]
		push	8
		push	20h ; ' '
		push	20h ; ' '
		call	AddBlowLight
		cmp	[bp+var_6], 0
		jnz	short locret_27979
		cmp	[bp+var_2], 0FFFFh
		jnz	short locret_27979
		cmp	[bp+var_2D], 0
		jz	short loc_27955
		push	0FFFFh
		push	[bp+var_1E]
		push	[bp+var_20]
		push	0Bh
		call	AddEvVoice
		jmp	short locret_27979
; ---------------------------------------------------------------------------

loc_27955:				; CODE XREF: SendFastRocket+D2Fj
		push	0Bh
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 7
		jbe	short locret_27979
		push	0FFFFh
		push	[bp+var_1E]
		push	[bp+var_20]
		push	2
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 4Eh	; 'N'
		push	ax
		call	AddEvVoice

locret_27979:				; CODE XREF: SendFastRocket+841j
					; SendFastRocket:loc_27640j ...
		leave
		retf	12h
SendFastRocket	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetBrightAt	proc far		; CODE XREF: ExpandObject+25P
					; Expand3dObject+3CP ...

var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	ax, [bp+arg_2]
		shr	ax, 6
		mov	[bp+arg_2], ax
		mov	ax, [bp+arg_0]
		shr	ax, 6
		mov	[bp+arg_0], ax
		mov	ax, ShadowSeg
		push	ax
		mov	ax, [bp+arg_0]
		shl	ax, 8
		add	ax, [bp+arg_2]
		mov	di, ax
		pop	es
		assume es:nothing
		mov	al, es:[di]
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retf	4
GetBrightAt	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetSmoothBrightAt proc far		; CODE XREF: EndPaint+1BFP
					; ExpandPlayer+68P ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	ax, [bp+arg_2]
		sub	ax, 10h
		push	ax
		mov	ax, [bp+arg_0]
		sub	ax, 10h
		push	ax
		call	GetBrightAt
		xor	ah, ah
		push	ax
		mov	ax, [bp+arg_2]
		sub	ax, 10h
		push	ax
		mov	ax, [bp+arg_0]
		add	ax, 10h
		push	ax
		call	GetBrightAt
		xor	ah, ah
		push	ax
		mov	ax, [bp+arg_2]
		add	ax, 10h
		push	ax
		mov	ax, [bp+arg_0]
		sub	ax, 10h
		push	ax
		call	GetBrightAt
		xor	ah, ah
		push	ax
		mov	ax, [bp+arg_2]
		add	ax, 10h
		push	ax
		mov	ax, [bp+arg_0]
		add	ax, 10h
		push	ax
		call	GetBrightAt
		xor	ah, ah
		pop	dx
		add	ax, dx
		pop	dx
		add	ax, dx
		pop	dx
		add	ax, dx
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		leave
		retf	4
GetSmoothBrightAt endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PathToMe	proc far		; CODE XREF: AnimateRockets+126P
					; AnimateRockets+1C9P ...

var_20		= dword	ptr -20h
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	20h, 0
		mov	ax, [bp+arg_0]
		shl	ax, 8
		mov	bx, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_8]
		sub	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_27A4F
		mov	[bp+var_1], 0
		jmp	loc_27B86
; ---------------------------------------------------------------------------

loc_27A4F:				; CODE XREF: PathToMe+28j
		mov	al, byte ptr [bp+arg_8+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		mov	al, byte ptr [bp+arg_4+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		call	Min
		mov	[bp+var_4], ax
		mov	al, byte ptr [bp+arg_8+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		mov	al, byte ptr [bp+arg_4+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		call	Max
		mov	[bp+var_8], ax
		mov	al, byte ptr [bp+arg_6+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		mov	al, byte ptr [bp+arg_2+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		call	Min
		mov	[bp+var_6], ax
		mov	al, byte ptr [bp+arg_6+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		mov	al, byte ptr [bp+arg_2+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		call	Max
		mov	[bp+var_A], ax
		cmp	[bp+var_4], 0
		jge	short loc_27ABE
		xor	ax, ax
		mov	[bp+var_4], ax

loc_27ABE:				; CODE XREF: PathToMe+99j
		cmp	[bp+var_8], 3Fh	; '?'
		jle	short loc_27AC9
		mov	[bp+var_8], 3Fh	; '?'

loc_27AC9:				; CODE XREF: PathToMe+A4j
		cmp	[bp+var_6], 0
		jge	short loc_27AD4
		xor	ax, ax
		mov	[bp+var_6], ax

loc_27AD4:				; CODE XREF: PathToMe+AFj
		cmp	[bp+var_A], 3Fh	; '?'
		jle	short loc_27ADF
		mov	[bp+var_A], 3Fh	; '?'

loc_27ADF:				; CODE XREF: PathToMe+BAj
		mov	[bp+var_1], 1
		mov	ax, [bp+var_8]
		mov	[bp+var_1A], ax
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_1A]
		jle	short loc_27AF4
		jmp	loc_27B86
; ---------------------------------------------------------------------------

loc_27AF4:				; CODE XREF: PathToMe+D1j
		mov	[bp+var_C], ax
		jmp	short loc_27AFC
; ---------------------------------------------------------------------------

loc_27AF9:				; CODE XREF: PathToMe+165j
		inc	[bp+var_C]

loc_27AFC:				; CODE XREF: PathToMe+D9j
		mov	ax, [bp+var_A]
		mov	[bp+var_1C], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_1C]
		jg	short loc_27B7B
		mov	[bp+var_E], ax
		jmp	short loc_27B12
; ---------------------------------------------------------------------------

loc_27B0F:				; CODE XREF: PathToMe+15Bj
		inc	[bp+var_E]

loc_27B12:				; CODE XREF: PathToMe+EFj
		imul	ax, [bp+var_E],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_C],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_20], di
		mov	word ptr [bp+var_20+2],	es
		mov	al, es:[di]
		cmp	al, 1
		jb	short loc_27B73
		cmp	al, 77h	; 'w'
		ja	short loc_27B73
		mov	al, es:[di]
		xor	ah, ah
		mov	di, ax
		mov	al, [di+71A1h]
		and	al, 2
		or	al, al
		jbe	short loc_27B73
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		les	di, [bp+var_20]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	word ptr es:[di+7]
		push	word ptr es:[di+9]
		call	Test2Vectors__0
		or	al, al
		jz	short loc_27B73
		mov	[bp+var_1], 0
		jmp	short loc_27B86
; ---------------------------------------------------------------------------

loc_27B73:				; CODE XREF: PathToMe+112j
					; PathToMe+116j ...
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_1C]
		jnz	short loc_27B0F

loc_27B7B:				; CODE XREF: PathToMe+EAj
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_1A]
		jz	short loc_27B86
		jmp	loc_27AF9
; ---------------------------------------------------------------------------

loc_27B86:				; CODE XREF: PathToMe+2Ej PathToMe+D3j ...
		mov	al, [bp+var_1]
		leave
		retf	0Ah
PathToMe	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LookToMe	proc far		; CODE XREF: GetTarget+15AP
					; GetTarget+1E5P ...

var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	20h, 0
		mov	ax, [bp+arg_0]
		shl	ax, 8
		mov	bx, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_8]
		sub	ax, [bp+arg_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, bx
		jle	short loc_27BBE
		mov	[bp+var_1], 0
		jmp	loc_27CD5
; ---------------------------------------------------------------------------

loc_27BBE:				; CODE XREF: LookToMe+28j
		mov	al, byte ptr [bp+arg_8+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		mov	al, byte ptr [bp+arg_4+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		call	Min
		mov	[bp+var_4], ax
		mov	al, byte ptr [bp+arg_8+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		mov	al, byte ptr [bp+arg_4+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		call	Max
		mov	[bp+var_8], ax
		mov	al, byte ptr [bp+arg_6+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		mov	al, byte ptr [bp+arg_2+1]
		xor	ah, ah
		add	ax, 0FFFEh
		push	ax
		call	Min
		mov	[bp+var_6], ax
		mov	al, byte ptr [bp+arg_6+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		mov	al, byte ptr [bp+arg_2+1]
		xor	ah, ah
		inc	ax
		inc	ax
		push	ax
		call	Max
		mov	[bp+var_A], ax
		cmp	[bp+var_4], 0
		jge	short loc_27C2D
		xor	ax, ax
		mov	[bp+var_4], ax

loc_27C2D:				; CODE XREF: LookToMe+99j
		cmp	[bp+var_8], 3Fh	; '?'
		jle	short loc_27C38
		mov	[bp+var_8], 3Fh	; '?'

loc_27C38:				; CODE XREF: LookToMe+A4j
		cmp	[bp+var_6], 0
		jge	short loc_27C43
		xor	ax, ax
		mov	[bp+var_6], ax

loc_27C43:				; CODE XREF: LookToMe+AFj
		cmp	[bp+var_A], 3Fh	; '?'
		jle	short loc_27C4E
		mov	[bp+var_A], 3Fh	; '?'

loc_27C4E:				; CODE XREF: LookToMe+BAj
		mov	[bp+var_1], 1
		mov	ax, [bp+var_8]
		mov	[bp+var_1A], ax
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_1A]
		jg	short loc_27CD5
		mov	[bp+var_C], ax
		jmp	short loc_27C68
; ---------------------------------------------------------------------------

loc_27C65:				; CODE XREF: LookToMe+146j
		inc	[bp+var_C]

loc_27C68:				; CODE XREF: LookToMe+D6j
		mov	ax, [bp+var_A]
		mov	[bp+var_1C], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_1C]
		jg	short loc_27CCD
		mov	[bp+var_E], ax
		jmp	short loc_27C7E
; ---------------------------------------------------------------------------

loc_27C7B:				; CODE XREF: LookToMe+13Ej
		inc	[bp+var_E]

loc_27C7E:				; CODE XREF: LookToMe+ECj
		imul	ax, [bp+var_E],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_C],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	al, es:[di]
		cmp	al, 1
		jb	short loc_27CC5
		cmp	al, 55h	; 'U'
		ja	short loc_27CC5
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	word ptr es:[di+3]
		push	word ptr es:[di+5]
		push	word ptr es:[di+7]
		push	word ptr es:[di+9]
		call	Test2Vectors__0
		or	al, al
		jz	short loc_27CC5
		mov	[bp+var_1], 0
		jmp	short loc_27CD5
; ---------------------------------------------------------------------------

loc_27CC5:				; CODE XREF: LookToMe+109j
					; LookToMe+10Dj ...
		mov	ax, [bp+var_E]
		cmp	ax, [bp+var_1C]
		jnz	short loc_27C7B

loc_27CCD:				; CODE XREF: LookToMe+E7j
		mov	ax, [bp+var_C]
		cmp	ax, [bp+var_1A]
		jnz	short loc_27C65

loc_27CD5:				; CODE XREF: LookToMe+2Ej LookToMe+D1j ...
		mov	al, [bp+var_1]
		leave
		retf	0Ah
LookToMe	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

WeakUpMonstersTo proc far		; CODE XREF: AnimateMonsters+1EEP
					; AnimateMonsters+14AEP ...

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	8, 0
		mov	ax, MCount
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jle	short loc_27CF1
		jmp	locret_27D9C
; ---------------------------------------------------------------------------

loc_27CF1:				; CODE XREF: WeakUpMonstersTo+10j
		mov	[bp+var_2], ax
		jmp	short loc_27CF9
; ---------------------------------------------------------------------------

loc_27CF6:				; CODE XREF: WeakUpMonstersTo+BDj
		inc	[bp+var_2]

loc_27CF9:				; CODE XREF: WeakUpMonstersTo+18j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_0]
		jnz	short loc_27D04
		jmp	loc_27D91
; ---------------------------------------------------------------------------

loc_27D04:				; CODE XREF: WeakUpMonstersTo+23j
		imul	di, [bp+var_2],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		cmp	byte ptr es:[di+26h], 0
		jnz	short loc_27D91
		cmp	word ptr es:[di+8], 0Eh
		jz	short loc_27D91
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	8
		call	LookToMe
		or	al, al
		jz	short loc_27D91
		push	0FFFFh
		les	di, [bp+var_8]
		assume es:nothing
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		sub	ax, 64h	; 'd'
		add	ax, 64h	; 'd'
		push	ax
		call	AddVoice
		les	di, [bp+var_8]
		mov	byte ptr es:[di+26h], 2
		xor	ax, ax
		mov	es:[di+22h], ax
		mov	byte ptr es:[di+24h], 0
		mov	byte ptr es:[di+25h], 0
		mov	ax, [bp+arg_6]
		mov	es:[di+14h], ax
		xor	ax, ax
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di+8], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+16h], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+18h], ax

loc_27D91:				; CODE XREF: WeakUpMonstersTo+25j
					; WeakUpMonstersTo+3Dj	...
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jz	short locret_27D9C
		jmp	loc_27CF6
; ---------------------------------------------------------------------------

locret_27D9C:				; CODE XREF: WeakUpMonstersTo+12j
					; WeakUpMonstersTo+BBj
		leave
		retf	8
WeakUpMonstersTo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetWeapon	proc far		; CODE XREF: LoadServerPatch+406P
					; LoadServerPatch+481P	...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		dec	ax
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		imul	di, MyNetN, 58h
		mov	al, [di-0FB1h]
		xor	ah, ah
		and	ax, dx
		or	ax, ax
		jnz	short loc_27DC5
		jmp	short locret_27DE8
; ---------------------------------------------------------------------------

loc_27DC5:				; CODE XREF: SetWeapon+21j
		mov	ax, [bp+arg_0]
		imul	di, MyNetN, 58h
		mov	[di-0F8Eh], ax
		xor	ax, ax
		mov	WeaponFTime, ax
		xor	ax, ax
		mov	WeaponPhase, ax
		cmp	GunShift, 0
		jnz	short locret_27DE8
		mov	GunShift, 1

locret_27DE8:				; CODE XREF: SetWeapon+23j
					; SetWeapon+40j
		leave
		retf	2
SetWeapon	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddAmmoToPlayer	proc far		; CODE XREF: CheckFloorLinks+2A4P
					; DoGame+13A4P

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	6, 0
		imul	di, [bp+arg_4],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		cmp	[bp+arg_0], 0
		jnz	short loc_27E08
		jmp	short locret_27E6D
; ---------------------------------------------------------------------------

loc_27E08:				; CODE XREF: AddAmmoToPlayer+18j
		mov	ax, [bp+arg_2]
		les	di, [bp+var_6]
		assume es:nothing
		add	di, ax
		mov	al, es:[di+2Dh]
		xor	ah, ah
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_4]
		cmp	ax, MyNetN
		jnz	short loc_27E3C
		cmp	[bp+var_2], 0
		jnz	short loc_27E3C
		les	di, [bp+var_6]
		mov	ax, es:[di+48h]
		cmp	ax, [bp+arg_2]
		jge	short loc_27E3C
		push	[bp+arg_2]
		call	SetWeapon

loc_27E3C:				; CODE XREF: AddAmmoToPlayer+34j
					; AddAmmoToPlayer+3Aj ...
		mov	ax, [bp+arg_0]
		add	[bp+var_2], ax
		mov	ax, [bp+var_2]
		mov	di, [bp+arg_2]
		shl	di, 5
		cmp	ax, [di-1BBAh]
		jle	short loc_27E5E
		mov	di, [bp+arg_2]
		shl	di, 5
		mov	ax, [di-1BBAh]
		mov	[bp+var_2], ax

loc_27E5E:				; CODE XREF: AddAmmoToPlayer+63j
		mov	dl, byte ptr [bp+var_2]
		mov	ax, [bp+arg_2]
		les	di, [bp+var_6]
		add	di, ax
		mov	es:[di+2Dh], dl

locret_27E6D:				; CODE XREF: AddAmmoToPlayer+1Aj
		leave
		retf	6
AddAmmoToPlayer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CenterView	proc far		; CODE XREF: ProcessDevices+59BP
		push	bp
		mov	bp, sp
		cmp	LookVz,	0
		jnz	short loc_27E82
		mov	VCenterMode, 0
		jmp	short locret_27EEB
; ---------------------------------------------------------------------------

loc_27E82:				; CODE XREF: CenterView+8j
		cmp	LookVz,	0
		jle	short loc_27E92
		mov	ax, t1
		sub	lvz, ax
		jmp	short loc_27E99
; ---------------------------------------------------------------------------

loc_27E92:				; CODE XREF: CenterView+16j
		mov	ax, t1
		add	lvz, ax

loc_27E99:				; CODE XREF: CenterView+1Fj
		mov	ax, LookVz
		mov	n__0, ax
		mov	ax, t1
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, lvz
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 2
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		add	LookVz,	ax
		push	n__0
		call	Sgn
		push	ax
		push	LookVz
		call	Sgn
		pop	dx
		cmp	al, dl
		jz	short loc_27EE6
		xor	ax, ax
		mov	LookVz,	ax
		xor	ax, ax
		mov	lvz, ax
		mov	VCenterMode, 0

loc_27EE6:				; CODE XREF: CenterView+64j
		call	ReInitViewConst

locret_27EEB:				; CODE XREF: CenterView+Fj
		leave
		retf
CenterView	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RespawnMonster	proc far		; CODE XREF: ExecConsole+53DP
					; AnimateMonsters+60EP

var_4		= dword	ptr -4
arg_0		= word ptr  6

		enter	4, 0
		imul	di, [bp+arg_0],	28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	byte ptr es:[di+0Ah], 64h ; 'd'
		jnz	short loc_27F0A
		jmp	short locret_27F74
; ---------------------------------------------------------------------------

loc_27F0A:				; CODE XREF: RespawnMonster+19j
		les	di, [bp+var_4]
		assume es:nothing
		mov	byte ptr es:[di+26h], 0
		mov	byte ptr es:[di+0Bh], 0
		mov	word ptr es:[di+14h], 0FFFFh
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di-7FF0h]
		or	ax, [di-7FEEh]
		jz	short loc_27F3C
		les	di, [bp+var_4]
		mov	word ptr es:[di+8], 0Eh
		jmp	short loc_27F45
; ---------------------------------------------------------------------------

loc_27F3C:				; CODE XREF: RespawnMonster+42j
		les	di, [bp+var_4]
		mov	word ptr es:[di+8], 2

loc_27F45:				; CODE XREF: RespawnMonster+4Dj
		les	di, [bp+var_4]
		mov	al, es:[di+0Ah]
		xor	ah, ah
		imul	di, ax,	0A2h
		mov	ax, [di+7FB4h]
		les	di, [bp+var_4]
		mov	es:[di+12h], ax
		mov	byte ptr es:[di+24h], 0
		xor	ax, ax
		mov	es:[di+6], ax
		xor	ax, ax
		mov	es:[di+1Ah], ax
		xor	ax, ax
		mov	es:[di+1Ch], ax

locret_27F74:				; CODE XREF: RespawnMonster+1Bj
		leave
		retf	2
RespawnMonster	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_27F78	proc far		; CODE XREF: PROGRAM+23P
		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	CelSaved, ax
		leave
		retf
sub_27F78	endp

; ---------------------------------------------------------------------------
		align 10h
cseg06		ends

; Segment Number    : 7
; Alloc	Size	    : 2CE5h
; Offset in the	file: 2F300h  Length: 2CE5h
; Attributes  (1D10): CODE Moveable Relocations	Discardable DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg07		segment	para public 'CODE' use16
		assume cs:cseg07
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    7
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CreateRecolorMap proc far		; CODE XREF: Draw3DObject+5FDP
					; UpDateMenu+D29P

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	di, [bp+arg_0]
		mov	al, [di+28Dh]
		xor	ah, ah
		mov	[bp+arg_0], ax
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_27FAC
; ---------------------------------------------------------------------------

loc_27FA8:				; CODE XREF: CreateRecolorMap+33j
		inc	n__0

loc_27FAC:				; CODE XREF: CreateRecolorMap+14j
		mov	ax, n__0
		add	ax, [bp+arg_0]
		mov	dl, al
		mov	ax, n__0
		add	ax, 0E0h ; 'à'
		mov	di, ax
		mov	[di+1358h], dl
		cmp	n__0, 0Fh
		jnz	short loc_27FA8
		leave
		retf	2
CreateRecolorMap endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutIcon		proc near		; CODE XREF: PutIconD+55p
					; UpDateMenu+1EFp ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= byte ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	4, 0
		les	di, [bp+arg_0]
		mov	ax, es
		mov	[bp+var_2], ax
		mov	ax, di
		mov	[bp+var_4], ax
		mov	cx, 0
		mov	ax, [bp+arg_6]
		mov	es, ax
		xor	ebx, ebx
		mov	di, [bp+arg_C]
		shl	di, 2
		mov	bx, [bp+arg_E]
		add	ebx, [di-6E84h]

loc_27FF5:				; CODE XREF: PutIcon+60j
		push	cx
		mov	si, [bp+var_4]
		mov	cx, [bp+arg_A]
		push	ebx
		push	ds
		mov	ax, [bp+var_2]
		mov	ds, ax
		mov	ah, [bp+arg_4]

loc_28007:				; CODE XREF: PutIcon+4Bj
		mov	al, [si]
		cmp	al, 0
		jz	short loc_28013
		add	al, ah
		mov	es:[ebx], al

loc_28013:				; CODE XREF: PutIcon+40j
		inc	si
		inc	ebx
		loop	loc_28007
		pop	ds
		pop	ebx
		add	ebx, VideoBPL
		pop	cx
		mov	ax, [bp+arg_A]
		add	[bp+var_4], ax
		inc	cx
		cmp	cx, [bp+arg_8]
		jb	short loc_27FF5
		leave
		retn	10h
PutIcon		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutIconDark	proc near		; CODE XREF: PutIconD+1Fp PutIconD+3Cp

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	4, 0
		les	di, [bp+arg_0]
		mov	ax, es
		mov	[bp+var_2], ax
		mov	ax, di
		mov	[bp+var_4], ax
		xor	edi, edi
		mov	di, [bp+arg_E]
		mov	bx, [bp+arg_C]
		shl	bx, 2
		add	edi, [bx-6E84h]
		mov	cx, 0
		mov	ax, [bp+arg_6]
		mov	es, ax
		mov	bx, 1AC6h
		mov	ax, [bp+arg_4]
		shl	ax, 8
		add	bx, ax
		mov	ax, [bp+var_2]
		mov	fs, ax

loc_2806B:				; CODE XREF: PutIconDark+6Aj
		push	cx
		mov	si, [bp+var_4]
		mov	cx, [bp+arg_A]
		push	edi

loc_28074:				; CODE XREF: PutIconDark+56j
		mov	al, fs:[si]
		cmp	al, 0
		jz	short loc_28084
		mov	al, es:[edi]
		xlat
		mov	es:[edi], al

loc_28084:				; CODE XREF: PutIconDark+48j
		inc	si
		inc	edi
		loop	loc_28074
		pop	edi
		add	edi, VideoBPL
		pop	cx
		mov	ax, [bp+arg_A]
		add	[bp+var_4], ax
		inc	cx
		cmp	cx, [bp+arg_8]
		jb	short loc_2806B
		leave
		retn	10h
PutIconDark	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutIconRecolor	proc near		; CODE XREF: UpDateMenu+D41p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		enter	4, 0
		les	di, [bp+arg_0]
		mov	ax, es
		mov	[bp+var_2], ax
		mov	ax, di
		mov	[bp+var_4], ax
		xor	edi, edi
		mov	di, [bp+arg_A]
		mov	bx, [bp+arg_8]
		shl	bx, 2
		add	edi, [bx-6E84h]
		mov	cx, 0
		mov	ax, VgaSeg
		mov	es, ax
		mov	bx, 1358h
		mov	ax, [bp+var_2]
		mov	fs, ax

loc_280D3:				; CODE XREF: PutIconRecolor+5Ej
		push	cx
		mov	si, [bp+var_4]
		mov	cx, [bp+arg_6]
		push	edi

loc_280DC:				; CODE XREF: PutIconRecolor+4Aj
		mov	al, fs:[si]
		cmp	al, 0
		jz	short loc_280E8
		xlat
		mov	es:[edi], al

loc_280E8:				; CODE XREF: PutIconRecolor+40j
		inc	si
		inc	edi
		loop	loc_280DC
		pop	edi
		add	edi, VideoBPL
		pop	cx
		mov	ax, [bp+arg_6]
		add	[bp+var_4], ax
		inc	cx
		cmp	cx, [bp+arg_4]
		jb	short loc_280D3
		leave
		retn	0Ch
PutIconRecolor	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutIconFF2Sub	proc near		; CODE XREF: PutString+E9p
					; PutStringFloat+BAp ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		enter	4, 0
		les	di, [bp+arg_0]
		mov	ax, es
		mov	[bp+var_2], ax
		mov	ax, di
		mov	[bp+var_4], ax
		mov	cx, 0
		mov	ax, [bp+arg_4]
		mov	es, ax
		mov	dl, ColorShift
		mov	dh, ColorZero
		xor	ebx, ebx
		mov	di, [bp+arg_C]
		shl	di, 2
		mov	bx, [bp+arg_E]
		add	ebx, [di-6E84h]

loc_28137:				; CODE XREF: PutIconFF2Sub+69j
		push	cx
		mov	si, [bp+var_4]
		mov	cx, [bp+arg_A]
		push	ebx
		push	ds
		mov	ax, [bp+var_2]
		mov	ds, ax

loc_28146:				; CODE XREF: PutIconFF2Sub+54j
		mov	al, [si]
		cmp	al, 0FFh
		jz	short loc_28156
		cmp	al, dh
		jz	short loc_28152
		add	ax, dx

loc_28152:				; CODE XREF: PutIconFF2Sub+49j
		mov	es:[ebx], al

loc_28156:				; CODE XREF: PutIconFF2Sub+45j
		inc	si
		inc	ebx
		loop	loc_28146
		pop	ds
		pop	ebx
		pop	cx
		add	ebx, VideoBPL
		mov	ax, [bp+arg_6]
		add	[bp+var_4], ax
		inc	cx
		cmp	cx, [bp+arg_8]
		jb	short loc_28137
		leave
		retn	10h
PutIconFF2Sub	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutIconD	proc near		; CODE XREF: UpDateMenu+1A8p
					; UpDateMenu+2CFp ...

arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_C]
		dec	ax
		dec	ax
		push	ax
		mov	ax, [bp+arg_A]
		dec	ax
		dec	ax
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	14h
		les	di, [bp+arg_0]
		push	es
		push	di
		call	PutIconDark
		mov	ax, [bp+arg_C]
		dec	ax
		push	ax
		mov	ax, [bp+arg_A]
		dec	ax
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	28h ; '('
		les	di, [bp+arg_0]
		push	es
		push	di
		call	PutIconDark
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	0
		les	di, [bp+arg_0]
		push	es
		push	di
		call	PutIcon
		leave
		retn	0Eh
PutIconD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutString	proc far		; CODE XREF: UpDateConsole+112P
					; UpDateConsole+1B7P ...

var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= byte ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	108h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_2]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	ax, [bp+arg_6]
		add	ax, 5
		xor	dx, dx
		cmp	dx, word_44DA0
		jg	short loc_28201
		jl	short loc_28204
		cmp	ax, VideoH
		jbe	short loc_28204

loc_28201:				; CODE XREF: PutString+27j
		jmp	locret_282F1
; ---------------------------------------------------------------------------

loc_28204:				; CODE XREF: PutString+29j
					; PutString+2Fj
		cmp	[bp+arg_0], 0
		jz	short loc_28211
		cmp	Console, 0
		jnz	short loc_28215

loc_28211:				; CODE XREF: PutString+38j
		mov	al, 0
		jmp	short loc_28217
; ---------------------------------------------------------------------------

loc_28215:				; CODE XREF: PutString+3Fj
		mov	al, 1

loc_28217:				; CODE XREF: PutString+43j
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 0
		jz	short loc_28227
		mov	ColorShift, 22h	; '"'
		jmp	short loc_2822C
; ---------------------------------------------------------------------------

loc_28227:				; CODE XREF: PutString+4Ej
		mov	ColorShift, 2

loc_2822C:				; CODE XREF: PutString+55j
		cmp	[bp+arg_0], 0
		jz	short loc_28239
		mov	ColorZero, 0
		jmp	short loc_2823E
; ---------------------------------------------------------------------------

loc_28239:				; CODE XREF: PutString+60j
		mov	ColorZero, 0FFh

loc_2823E:				; CODE XREF: PutString+67j
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_108], ax
		mov	ax, 1
		cmp	ax, [bp+var_108]
		jbe	short loc_28254
		jmp	locret_282F1
; ---------------------------------------------------------------------------

loc_28254:				; CODE XREF: PutString+7Fj
		mov	[bp+var_102], ax
		jmp	short loc_2825E
; ---------------------------------------------------------------------------

loc_2825A:				; CODE XREF: PutString+11Ej
		inc	[bp+var_102]

loc_2825E:				; CODE XREF: PutString+88j
		mov	di, [bp+var_102]
		cmp	[bp+di+var_100], 20h ; ' '
		jz	short loc_282E0
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		and	al, 0Fh
		xor	ah, ah
		mov	[bp+var_104], ax
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		shr	ax, 4
		mov	[bp+var_106], ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	9
		push	7
		push	100h
		push	VgaSeg
		mov	ax, [bp+var_104]
		shl	ax, 4
		mov	dx, ax
		imul	ax, [bp+var_106], 0A00h
		add	ax, dx
		inc	ax
		inc	ax
		add	ax, 200h
		les	di, Fonts
		add	di, ax
		push	es
		push	di
		call	PutIconFF2Sub
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-1DA0h]
		add	[bp+arg_8], ax
		mov	ax, WinEX
		sub	ax, 8
		cmp	ax, [bp+arg_8]
		jnb	short loc_282DE
		jmp	short locret_282F1
; ---------------------------------------------------------------------------

loc_282DE:				; CODE XREF: PutString+10Aj
		jmp	short loc_282E4
; ---------------------------------------------------------------------------

loc_282E0:				; CODE XREF: PutString+97j
		add	[bp+arg_8], 4

loc_282E4:				; CODE XREF: PutString:loc_282DEj
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_108]
		jz	short locret_282F1
		jmp	loc_2825A
; ---------------------------------------------------------------------------

locret_282F1:				; CODE XREF: PutString:loc_28201j
					; PutString+81j ...
		leave
		retf	0Ah
PutString	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutStringFloat	proc far		; CODE XREF: UpDateRanking+F4P
					; UpDateRanking+127P ...

var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= byte ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	108h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	ax, [bp+arg_6]
		add	ax, 5
		xor	dx, dx
		cmp	dx, word_44DA0
		jg	short loc_28326
		jl	short loc_28329
		cmp	ax, VideoH
		jbe	short loc_28329

loc_28326:				; CODE XREF: PutStringFloat+27j
		jmp	locret_283DA
; ---------------------------------------------------------------------------

loc_28329:				; CODE XREF: PutStringFloat+29j
					; PutStringFloat+2Fj
		mov	al, [bp+arg_4]
		mov	ColorShift, al
		mov	ColorZero, 0
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_108], ax
		mov	ax, 1
		cmp	ax, [bp+var_108]
		jbe	short loc_2834A
		jmp	locret_283DA
; ---------------------------------------------------------------------------

loc_2834A:				; CODE XREF: PutStringFloat+50j
		mov	[bp+var_102], ax
		jmp	short loc_28354
; ---------------------------------------------------------------------------

loc_28350:				; CODE XREF: PutStringFloat+E2j
		inc	[bp+var_102]

loc_28354:				; CODE XREF: PutStringFloat+59j
		mov	di, [bp+var_102]
		cmp	[bp+di+var_100], 20h ; ' '
		jz	short loc_283C9
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		and	al, 0Fh
		xor	ah, ah
		mov	[bp+var_104], ax
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		shr	ax, 4
		mov	[bp+var_106], ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	9
		push	7
		push	100h
		push	VgaSeg
		mov	ax, [bp+var_104]
		shl	ax, 4
		mov	dx, ax
		imul	ax, [bp+var_106], 0A00h
		add	ax, dx
		inc	ax
		inc	ax
		add	ax, 200h
		les	di, Fonts
		add	di, ax
		push	es
		push	di
		call	PutIconFF2Sub
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-1DA0h]
		add	[bp+arg_8], ax
		jmp	short loc_283CD
; ---------------------------------------------------------------------------

loc_283C9:				; CODE XREF: PutStringFloat+68j
		add	[bp+arg_8], 4

loc_283CD:				; CODE XREF: PutStringFloat+D2j
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_108]
		jz	short locret_283DA
		jmp	loc_28350
; ---------------------------------------------------------------------------

locret_283DA:				; CODE XREF: PutStringFloat:loc_28326j
					; PutStringFloat+52j ...
		leave
		retf	0Ah
PutStringFloat	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutChar		proc far		; CODE XREF: UpDateInfo+346P
					; PutScroller+22P ...

var_6		= word ptr -6
var_4		= word ptr -4
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	6, 0
		mov	ax, VideoH
		sub	ax, 5
		cmp	ax, [bp+arg_2]
		jnb	short loc_283EF
		jmp	short locret_2843E
; ---------------------------------------------------------------------------

loc_283EF:				; CODE XREF: PutChar+Dj
		mov	ColorShift, 0
		mov	ColorZero, 0FFh
		mov	al, [bp+arg_0]
		and	al, 0Fh
		xor	ah, ah
		mov	[bp+var_4], ax
		mov	al, [bp+arg_0]
		xor	ah, ah
		shr	ax, 4
		mov	[bp+var_6], ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	0Ah
		push	7
		push	100h
		push	VgaSeg
		mov	ax, [bp+var_4]
		shl	ax, 4
		mov	dx, ax
		imul	ax, [bp+var_6],	0A00h
		add	ax, dx
		inc	ax
		inc	ax
		add	ax, 200h
		les	di, Fonts
		add	di, ax
		push	es
		push	di
		call	PutIconFF2Sub

locret_2843E:				; CODE XREF: PutChar+Fj
		leave
		retf	6
PutChar		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutStr		proc far		; CODE XREF: EndPaint+371P
					; PlayBrifing+47FP ...

var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	108h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	ax, [bp+arg_4]
		add	ax, 5
		xor	dx, dx
		cmp	dx, word_44DA0
		jg	short loc_28473
		jl	short loc_28476
		cmp	ax, VideoH
		jbe	short loc_28476

loc_28473:				; CODE XREF: PutStr+27j
		jmp	locret_28526
; ---------------------------------------------------------------------------

loc_28476:				; CODE XREF: PutStr+29j PutStr+2Fj
		mov	ColorShift, 1
		mov	ColorZero, 0FFh
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_108], ax
		mov	ax, 1
		cmp	ax, [bp+var_108]
		jbe	short loc_28496
		jmp	locret_28526
; ---------------------------------------------------------------------------

loc_28496:				; CODE XREF: PutStr+4Fj
		mov	[bp+var_102], ax
		jmp	short loc_284A0
; ---------------------------------------------------------------------------

loc_2849C:				; CODE XREF: PutStr+E1j
		inc	[bp+var_102]

loc_284A0:				; CODE XREF: PutStr+58j
		mov	di, [bp+var_102]
		cmp	[bp+di+var_100], 20h ; ' '
		jz	short loc_28515
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		and	al, 0Fh
		xor	ah, ah
		mov	[bp+var_104], ax
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		shr	ax, 4
		mov	[bp+var_106], ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	0Ah
		push	7
		push	100h
		push	VgaSeg
		mov	ax, [bp+var_104]
		shl	ax, 4
		mov	dx, ax
		imul	ax, [bp+var_106], 0A00h
		add	ax, dx
		inc	ax
		inc	ax
		add	ax, 200h
		les	di, Fonts
		add	di, ax
		push	es
		push	di
		call	PutIconFF2Sub
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-1DA0h]
		add	[bp+arg_6], ax
		jmp	short loc_28519
; ---------------------------------------------------------------------------

loc_28515:				; CODE XREF: PutStr+67j
		add	[bp+arg_6], 4

loc_28519:				; CODE XREF: PutStr+D1j
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_108]
		jz	short locret_28526
		jmp	loc_2849C
; ---------------------------------------------------------------------------

locret_28526:				; CODE XREF: PutStr:loc_28473j
					; PutStr+51j ...
		leave
		retf	8
PutStr		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutStrFix	proc near		; CODE XREF: UpDateMenu+97Cp
					; UpDateMenu+9AFp

var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	108h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	ax, [bp+arg_4]
		add	ax, 5
		xor	dx, dx
		cmp	dx, word_44DA0
		jg	short loc_2855B
		jl	short loc_2855E
		cmp	ax, VideoH
		jbe	short loc_2855E

loc_2855B:				; CODE XREF: PutStrFix+27j
		jmp	locret_285ED
; ---------------------------------------------------------------------------

loc_2855E:				; CODE XREF: PutStrFix+29j
					; PutStrFix+2Fj
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_108], ax
		mov	ax, 1
		cmp	ax, [bp+var_108]
		ja	short locret_285ED
		mov	[bp+var_102], ax
		jmp	short loc_2857B
; ---------------------------------------------------------------------------

loc_28577:				; CODE XREF: PutStrFix+C1j
		inc	[bp+var_102]

loc_2857B:				; CODE XREF: PutStrFix+4Bj
		mov	di, [bp+var_102]
		cmp	[bp+di+var_100], 20h ; ' '
		jz	short loc_285DF
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		and	al, 0Fh
		xor	ah, ah
		mov	[bp+var_104], ax
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		shr	ax, 4
		mov	[bp+var_106], ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	9
		push	7
		push	100h
		push	VgaSeg
		mov	ax, [bp+var_104]
		shl	ax, 4
		mov	dx, ax
		imul	ax, [bp+var_106], 0A00h
		add	ax, dx
		inc	ax
		inc	ax
		add	ax, 200h
		les	di, Fonts
		add	di, ax
		push	es
		push	di
		call	PutIconFF2Sub
		add	[bp+arg_6], 8
		jmp	short loc_285E3
; ---------------------------------------------------------------------------

loc_285DF:				; CODE XREF: PutStrFix+5Aj
		add	[bp+arg_6], 8

loc_285E3:				; CODE XREF: PutStrFix+B3j
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_108]
		jnz	short loc_28577

locret_285ED:				; CODE XREF: PutStrFix:loc_2855Bj
					; PutStrFix+45j
		leave
		retn	8
PutStrFix	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutStrOn	proc near		; CODE XREF: PutStrBackOn+40p
					; UpDateMenu+400p

var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	108h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	ax, [bp+arg_4]
		add	ax, 5
		xor	dx, dx
		cmp	dx, word_44DA0
		jg	short loc_28622
		jl	short loc_28625
		cmp	ax, VideoH
		jbe	short loc_28625

loc_28622:				; CODE XREF: PutStrOn+27j
		jmp	locret_286D5
; ---------------------------------------------------------------------------

loc_28625:				; CODE XREF: PutStrOn+29j PutStrOn+2Fj
		mov	ColorShift, 21h	; '!'
		mov	ColorZero, 0
		mov	al, [bp+var_100]
		xor	ah, ah
		mov	[bp+var_108], ax
		mov	ax, 1
		cmp	ax, [bp+var_108]
		jbe	short loc_28645
		jmp	locret_286D5
; ---------------------------------------------------------------------------

loc_28645:				; CODE XREF: PutStrOn+4Fj
		mov	[bp+var_102], ax
		jmp	short loc_2864F
; ---------------------------------------------------------------------------

loc_2864B:				; CODE XREF: PutStrOn+E1j
		inc	[bp+var_102]

loc_2864F:				; CODE XREF: PutStrOn+58j
		mov	di, [bp+var_102]
		cmp	[bp+di+var_100], 20h ; ' '
		jz	short loc_286C4
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		and	al, 0Fh
		xor	ah, ah
		mov	[bp+var_104], ax
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		shr	ax, 4
		mov	[bp+var_106], ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	9
		push	7
		push	100h
		push	VgaSeg
		mov	ax, [bp+var_104]
		shl	ax, 4
		mov	dx, ax
		imul	ax, [bp+var_106], 0A00h
		add	ax, dx
		inc	ax
		inc	ax
		add	ax, 200h
		les	di, Fonts
		add	di, ax
		push	es
		push	di
		call	PutIconFF2Sub
		mov	di, [bp+var_102]
		mov	al, [bp+di+var_100]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-1DA0h]
		add	[bp+arg_6], ax
		jmp	short loc_286C8
; ---------------------------------------------------------------------------

loc_286C4:				; CODE XREF: PutStrOn+67j
		add	[bp+arg_6], 4

loc_286C8:				; CODE XREF: PutStrOn+D1j
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_108]
		jz	short locret_286D5
		jmp	loc_2864B
; ---------------------------------------------------------------------------

locret_286D5:				; CODE XREF: PutStrOn:loc_28622j
					; PutStrOn+51j	...
		leave
		retn	8
PutStrOn	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutStrBack	proc near		; CODE XREF: UpDateMenu+48Bp
					; UpDateMenu+4A5p ...

var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	100h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	CalcStringLen
		sub	[bp+arg_6], ax
		cmp	[bp+arg_6], 0
		jnb	short loc_2870D
		xor	ax, ax
		mov	[bp+arg_6], ax

loc_2870D:				; CODE XREF: PutStrBack+2Dj
		push	[bp+arg_6]
		push	[bp+arg_4]
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	PutStr
		leave
		retn	8
PutStrBack	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutStrCenter	proc far		; CODE XREF: UpDateRanking+68P
					; UpDateMenu+182P ...

var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	100h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	CalcStringLen
		shr	ax, 1
		sub	[bp+arg_6], ax
		cmp	[bp+arg_6], 0
		jnb	short loc_28758
		xor	ax, ax
		mov	[bp+arg_6], ax

loc_28758:				; CODE XREF: PutStrCenter+2Fj
		push	[bp+arg_6]
		push	[bp+arg_4]
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	PutStr
		leave
		retf	8
PutStrCenter	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutStrBackOn	proc near		; CODE XREF: UpDateMenu+4CDp
					; UpDateMenu+5FEp ...

var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	100h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	CalcStringLen
		sub	[bp+arg_6], ax
		cmp	[bp+arg_6], 0
		jnb	short loc_287A1
		xor	ax, ax
		mov	[bp+arg_6], ax

loc_287A1:				; CODE XREF: PutStrBackOn+2Dj
		push	[bp+arg_6]
		push	[bp+arg_4]
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	PutStrOn
		leave
		retn	8
PutStrBackOn	endp

; ---------------------------------------------------------------------------
asc_287B4	db 1,'>'                ; DATA XREF: UpDateConsole+133o
a__8		db 1,'_'                ; DATA XREF: UpDateConsole+18Eo
aNew_0		db 3,'New'              ; DATA XREF: UpDateConsole:loc_289D4o
aGoToGame	db 10,'Go to GAME'      ; DATA XREF: UpDateConsole+222o
aMonitor_0	db 7,'Monitor'          ; DATA XREF: UpDateConsole:loc_28A44o
aDisplay	db 7,'Display'          ; DATA XREF: UpDateConsole+2A3o
aQuit_0		db 4,'Quit'             ; DATA XREF: UpDateConsole+2CBo
aContrast	db 8,'Contrast'         ; DATA XREF: UpDateConsole+35Fo
aColor_0	db 5,'Color'            ; DATA XREF: UpDateConsole+387o
aBright		db 6,'Bright'           ; DATA XREF: UpDateConsole+3AFo
aSkill_0	db 9,'- SKILL -'        ; DATA XREF: UpDateConsole+51Eo
aEazy		db 4,'Eazy'             ; DATA XREF: UpDateConsole+533o
aNormal		db 6,'Normal'           ; DATA XREF: UpDateConsole+55Bo
aHard		db 4,'Hard'             ; DATA XREF: UpDateConsole+583o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDateConsole	proc far		; CODE XREF: ShowVesaConsole+46P
					; ShowScreen+41P

var_206		= byte ptr -206h
var_108		= word ptr -108h
var_106		= byte ptr -106h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	206h, 0
		cmp	ConsDY,	0
		jge	short loc_2881D
		mov	byte_44A34, 0

loc_2881D:				; CODE XREF: UpDateConsole+9j
		cmp	ConsDY,	0
		jge	short loc_2882B
		mov	ax, HistCnt
		inc	ax
		mov	CurHist, ax

loc_2882B:				; CODE XREF: UpDateConsole+15j
		cmp	ConsDY,	0
		jle	short loc_2884D
		mov	ax, t1
		shl	ax, 1
		add	ConsY, ax
		cmp	ConsY, 4Ch ; 'L'
		jle	short loc_2884D
		mov	ConsY, 4Ch ; 'L'
		xor	ax, ax
		mov	ConsDY,	ax

loc_2884D:				; CODE XREF: UpDateConsole+23j
					; UpDateConsole+33j
		cmp	ConsDY,	0
		jge	short loc_28876
		mov	ax, t1
		shl	ax, 1
		sub	ConsY, ax
		cmp	ConsY, 0
		jg	short loc_28876
		xor	ax, ax
		mov	ConsY, ax
		xor	ax, ax
		mov	ConsDY,	ax
		mov	Console, 0
		jmp	locret_28E64
; ---------------------------------------------------------------------------

loc_28876:				; CODE XREF: UpDateConsole+45j
					; UpDateConsole+55j
		mov	ax, ConsY
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoH
		mov	dx, word_44DA0
		add	ax, 6
		adc	dx, 0
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_2], ax
		mov	ax, ConsY
		dec	ax
		mov	[bp+var_108], ax
		xor	ax, ax
		cmp	ax, [bp+var_108]
		jg	short loc_288F9
		mov	[bp+var_4], ax
		jmp	short loc_288AA
; ---------------------------------------------------------------------------

loc_288A7:				; CODE XREF: UpDateConsole+EAj
		inc	[bp+var_4]

loc_288AA:				; CODE XREF: UpDateConsole+98j
		les	di, ConsolePtr
		push	es
		imul	ax, [bp+var_4],	140h
		cwd
		push	dx
		push	ax
		push	VgaSeg
		mov	ax, ConsY
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, cx
		sbb	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_4]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	di, ax
		shl	di, 2
		push	word ptr [di-6E82h]
		push	word ptr [di-6E84h]
		push	0
		push	50h ; 'P'
		call	MovsED
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_108]
		jnz	short loc_288A7

loc_288F9:				; CODE XREF: UpDateConsole+93j
		mov	WinEX, 13Ch
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_28909
; ---------------------------------------------------------------------------

loc_28906:				; CODE XREF: UpDateConsole+11Bj
		inc	[bp+var_4]

loc_28909:				; CODE XREF: UpDateConsole+F7j
		push	64h ; 'd'
		imul	ax, [bp+var_4],	9
		add	ax, [bp+var_2]
		push	ax
		imul	di, [bp+var_4],	29h
		add	di, 0E6EEh
		push	ds
		push	di
		push	0
		call	PutString
		cmp	[bp+var_4], 5
		jnz	short loc_28906
		mov	ax, VideoW
		mov	dx, word_44DA4
		sub	ax, 1
		sbb	dx, 0
		mov	WinEX, ax
		lea	di, [bp+var_206]
		push	ss
		push	di
		mov	di, offset asc_287B4 ; ">"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset byte_44A34
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_106]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	ConsMode, 1
		jnz	short loc_289B3
		mov	ax, Time
		mov	dx, word_44D6C
		mov	cx, 50h	; 'P'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		cmp	dx, 0
		jg	short loc_2898A
		jl	short loc_289B3
		cmp	ax, 28h	; '('
		jbe	short loc_289B3

loc_2898A:				; CODE XREF: UpDateConsole+174j
		lea	di, [bp+var_206]
		push	ss
		push	di
		lea	di, [bp+var_106]
		push	ss
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset a__8	; "_"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_106]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_289B3:				; CODE XREF: UpDateConsole+15Aj
					; UpDateConsole+176j ...
		push	64h ; 'd'
		mov	ax, [bp+var_2]
		add	ax, 3Ah	; ':'
		push	ax
		lea	di, [bp+var_106]
		push	ss
		push	di
		push	1
		call	PutString
		mov	ax, ConsMenu
		cmp	ax, 0
		jz	short loc_289D4
		jmp	loc_28B57
; ---------------------------------------------------------------------------

loc_289D4:				; CODE XREF: UpDateConsole+1C2j
		mov	di, offset aNew_0 ; "New"
		push	cs
		push	di
		lea	di, [bp+var_106]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	NETMonitor, 0
		jnz	short loc_28A15
		push	0Ch
		push	[bp+var_2]
		lea	di, [bp+var_106]
		push	ss
		push	di
		cmp	ConsMainY, 0
		jnz	short loc_28A07
		cmp	ConsMode, 0
		jz	short loc_28A0B

loc_28A07:				; CODE XREF: UpDateConsole+1F1j
		mov	al, 0
		jmp	short loc_28A0D
; ---------------------------------------------------------------------------

loc_28A0B:				; CODE XREF: UpDateConsole+1F8j
		mov	al, 1

loc_28A0D:				; CODE XREF: UpDateConsole+1FCj
		push	ax
		call	PutString
		jmp	short loc_28A28
; ---------------------------------------------------------------------------

loc_28A15:				; CODE XREF: UpDateConsole+1DFj
		push	0Ch
		push	[bp+var_2]
		push	0FEh ; 'þ'
		lea	di, [bp+var_106]
		push	ss
		push	di
		call	PutStringFloat

loc_28A28:				; CODE XREF: UpDateConsole+206j
		cmp	NETMonitor, 0
		jz	short loc_28A44
		mov	di, offset aGoToGame ; "Go to GAME"
		push	cs
		push	di
		lea	di, [bp+var_106]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_28A57
; ---------------------------------------------------------------------------

loc_28A44:				; CODE XREF: UpDateConsole+220j
		mov	di, offset aMonitor_0 ;	"Monitor"
		push	cs
		push	di
		lea	di, [bp+var_106]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_28A57:				; CODE XREF: UpDateConsole+235j
		cmp	VESAPresent, 0
		jz	short loc_28A90
		cmp	SERVER,	0
		jz	short loc_28A90
		push	0Ch
		mov	ax, [bp+var_2]
		add	ax, 0Bh
		push	ax
		lea	di, [bp+var_106]
		push	ss
		push	di
		cmp	ConsMainY, 1
		jnz	short loc_28A82
		cmp	ConsMode, 0
		jz	short loc_28A86

loc_28A82:				; CODE XREF: UpDateConsole+26Cj
		mov	al, 0
		jmp	short loc_28A88
; ---------------------------------------------------------------------------

loc_28A86:				; CODE XREF: UpDateConsole+273j
		mov	al, 1

loc_28A88:				; CODE XREF: UpDateConsole+277j
		push	ax
		call	PutString
		jmp	short loc_28AA7
; ---------------------------------------------------------------------------

loc_28A90:				; CODE XREF: UpDateConsole+24Fj
					; UpDateConsole+256j
		push	0Ch
		mov	ax, [bp+var_2]
		add	ax, 0Bh
		push	ax
		push	0FEh ; 'þ'
		lea	di, [bp+var_106]
		push	ss
		push	di
		call	PutStringFloat

loc_28AA7:				; CODE XREF: UpDateConsole+281j
		push	0Ch
		mov	ax, [bp+var_2]
		add	ax, 16h
		push	ax
		mov	di, offset aDisplay ; "Display"
		push	cs
		push	di
		cmp	ConsMainY, 2
		jnz	short loc_28AC3
		cmp	ConsMode, 0
		jz	short loc_28AC7

loc_28AC3:				; CODE XREF: UpDateConsole+2ADj
		mov	al, 0
		jmp	short loc_28AC9
; ---------------------------------------------------------------------------

loc_28AC7:				; CODE XREF: UpDateConsole+2B4j
		mov	al, 1

loc_28AC9:				; CODE XREF: UpDateConsole+2B8j
		push	ax
		call	PutString
		push	0Ch
		mov	ax, [bp+var_2]
		add	ax, 21h	; '!'
		push	ax
		mov	di, offset aQuit_0 ; "Quit"
		push	cs
		push	di
		cmp	ConsMainY, 3
		jnz	short loc_28AEB
		cmp	ConsMode, 0
		jz	short loc_28AEF

loc_28AEB:				; CODE XREF: UpDateConsole+2D5j
		mov	al, 0
		jmp	short loc_28AF1
; ---------------------------------------------------------------------------

loc_28AEF:				; CODE XREF: UpDateConsole+2DCj
		mov	al, 1

loc_28AF1:				; CODE XREF: UpDateConsole+2E0j
		push	ax
		call	PutString
		imul	ax, ConsMainY, 0Bh
		mov	dx, ax
		mov	ax, [bp+var_2]
		dec	ax
		add	ax, dx
		mov	[bp+var_6], ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 0Ah
		sbb	dx, 0
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		cmp	dx, bx
		jl	short loc_28B26
		jg	short loc_28B54
		cmp	ax, cx
		jnb	short loc_28B54

loc_28B26:				; CODE XREF: UpDateConsole+311j
		push	6
		push	[bp+var_6]
		push	56h ; 'V'
		mov	ax, [bp+var_6]
		add	ax, 8
		push	ax
		push	14h
		push	1
		call	DrawBrKey
		push	7
		mov	ax, [bp+var_6]
		inc	ax
		push	ax
		push	55h ; 'U'
		mov	ax, [bp+var_6]
		add	ax, 7
		push	ax
		push	0Bh
		call	BrightBar

loc_28B54:				; CODE XREF: UpDateConsole+313j
					; UpDateConsole+317j
		jmp	locret_28E64
; ---------------------------------------------------------------------------

loc_28B57:				; CODE XREF: UpDateConsole+1C4j
		cmp	ax, 4
		jz	short loc_28B5F
		jmp	loc_28D1A
; ---------------------------------------------------------------------------

loc_28B5F:				; CODE XREF: UpDateConsole+34Dj
		add	[bp+var_2], 2
		push	0Ah
		mov	ax, [bp+var_2]
		add	ax, 0
		push	ax
		mov	di, offset aContrast ; "Contrast"
		push	cs
		push	di
		cmp	ConsMainY, 0
		jnz	short loc_28B7F
		cmp	ConsMode, 0
		jz	short loc_28B83

loc_28B7F:				; CODE XREF: UpDateConsole+369j
		mov	al, 0
		jmp	short loc_28B85
; ---------------------------------------------------------------------------

loc_28B83:				; CODE XREF: UpDateConsole+370j
		mov	al, 1

loc_28B85:				; CODE XREF: UpDateConsole+374j
		push	ax
		call	PutString
		push	0Ah
		mov	ax, [bp+var_2]
		add	ax, 14h
		push	ax
		mov	di, offset aColor_0 ; "Color"
		push	cs
		push	di
		cmp	ConsMainY, 1
		jnz	short loc_28BA7
		cmp	ConsMode, 0
		jz	short loc_28BAB

loc_28BA7:				; CODE XREF: UpDateConsole+391j
		mov	al, 0
		jmp	short loc_28BAD
; ---------------------------------------------------------------------------

loc_28BAB:				; CODE XREF: UpDateConsole+398j
		mov	al, 1

loc_28BAD:				; CODE XREF: UpDateConsole+39Cj
		push	ax
		call	PutString
		push	0Ah
		mov	ax, [bp+var_2]
		add	ax, 28h	; '('
		push	ax
		mov	di, offset aBright ; "Bright"
		push	cs
		push	di
		cmp	ConsMainY, 2
		jnz	short loc_28BCF
		cmp	ConsMode, 0
		jz	short loc_28BD3

loc_28BCF:				; CODE XREF: UpDateConsole+3B9j
		mov	al, 0
		jmp	short loc_28BD5
; ---------------------------------------------------------------------------

loc_28BD3:				; CODE XREF: UpDateConsole+3C0j
		mov	al, 1

loc_28BD5:				; CODE XREF: UpDateConsole+3C4j
		push	ax
		call	PutString
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_28BE5
; ---------------------------------------------------------------------------

loc_28BE2:				; CODE XREF: UpDateConsole+4ACj
		inc	[bp+var_4]

loc_28BE5:				; CODE XREF: UpDateConsole+3D3j
		imul	ax, [bp+var_4],	14h
		add	ax, [bp+var_2]
		cmp	ax, 0BEh ; '¾'
		jl	short loc_28BF4
		jmp	loc_28CB3
; ---------------------------------------------------------------------------

loc_28BF4:				; CODE XREF: UpDateConsole+3E2j
		mov	di, [bp+var_4]
		shl	di, 1
		imul	ax, [di-17DEh],	45h
		cwd
		mov	cx, 0Eh
		idiv	cx
		add	ax, 9
		mov	[bp+var_6], ax
		push	8
		imul	ax, [bp+var_4],	14h
		mov	dx, ax
		mov	ax, [bp+var_2]
		add	ax, 0Bh
		add	ax, dx
		push	ax
		push	53h ; 'S'
		imul	ax, [bp+var_4],	14h
		mov	dx, ax
		mov	ax, [bp+var_2]
		add	ax, 0Fh
		add	ax, dx
		push	ax
		push	14h
		push	8
		call	DrawKey
		push	9
		imul	ax, [bp+var_4],	14h
		mov	dx, ax
		mov	ax, [bp+var_2]
		add	ax, 0Ch
		add	ax, dx
		push	ax
		push	52h ; 'R'
		imul	ax, [bp+var_4],	14h
		mov	dx, ax
		mov	ax, [bp+var_2]
		add	ax, 0Eh
		add	ax, dx
		push	ax
		push	0Ah
		push	11h
		call	DrawKey
		push	[bp+var_6]
		imul	ax, [bp+var_4],	14h
		add	ax, 9
		add	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+var_6]
		add	ax, 3
		push	ax
		imul	ax, [bp+var_4],	14h
		add	ax, 11h
		add	ax, [bp+var_2]
		push	ax
		push	1Ah
		push	5
		call	DrawKey
		mov	ax, [bp+var_6]
		inc	ax
		push	ax
		imul	ax, [bp+var_4],	14h
		add	ax, 0Ah
		add	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+var_6]
		inc	ax
		inc	ax
		push	ax
		imul	ax, [bp+var_4],	14h
		add	ax, 10h
		add	ax, [bp+var_2]
		push	ax
		push	14h
		push	10h
		call	DrawKey

loc_28CB3:				; CODE XREF: UpDateConsole+3E4j
		cmp	[bp+var_4], 2
		jz	short loc_28CBC
		jmp	loc_28BE2
; ---------------------------------------------------------------------------

loc_28CBC:				; CODE XREF: UpDateConsole+4AAj
		imul	ax, ConsMainY, 14h
		mov	dx, ax
		mov	ax, [bp+var_2]
		dec	ax
		add	ax, dx
		mov	[bp+var_6], ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 0Ah
		sbb	dx, 0
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		cmp	dx, bx
		jl	short loc_28CEB
		jg	short loc_28D17
		cmp	ax, cx
		jnb	short loc_28D17

loc_28CEB:				; CODE XREF: UpDateConsole+4D6j
		push	6
		push	[bp+var_6]
		push	56h ; 'V'
		mov	ax, [bp+var_6]
		add	ax, 8
		push	ax
		push	14h
		push	1
		call	DrawBrKey
		push	7
		push	[bp+var_6]
		push	55h ; 'U'
		mov	ax, [bp+var_6]
		add	ax, 7
		push	ax
		push	0Bh
		call	BrightBar

loc_28D17:				; CODE XREF: UpDateConsole+4D8j
					; UpDateConsole+4DCj
		jmp	locret_28E64
; ---------------------------------------------------------------------------

loc_28D1A:				; CODE XREF: UpDateConsole+34Fj
		cmp	ax, 0Ah
		jz	short loc_28D22
		jmp	locret_28E64
; ---------------------------------------------------------------------------

loc_28D22:				; CODE XREF: UpDateConsole+510j
		push	0Ah
		mov	ax, [bp+var_2]
		add	ax, 0
		push	ax
		mov	di, offset aSkill_0 ; "- SKILL -"
		push	cs
		push	di
		push	0
		call	PutString
		push	0Ah
		mov	ax, [bp+var_2]
		add	ax, 10h
		push	ax
		mov	di, offset aEazy ; "Eazy"
		push	cs
		push	di
		cmp	ConsMainY, 0
		jnz	short loc_28D53
		cmp	ConsMode, 0
		jz	short loc_28D57

loc_28D53:				; CODE XREF: UpDateConsole+53Dj
		mov	al, 0
		jmp	short loc_28D59
; ---------------------------------------------------------------------------

loc_28D57:				; CODE XREF: UpDateConsole+544j
		mov	al, 1

loc_28D59:				; CODE XREF: UpDateConsole+548j
		push	ax
		call	PutString
		push	0Ah
		mov	ax, [bp+var_2]
		add	ax, 1Bh
		push	ax
		mov	di, offset aNormal ; "Normal"
		push	cs
		push	di
		cmp	ConsMainY, 1
		jnz	short loc_28D7B
		cmp	ConsMode, 0
		jz	short loc_28D7F

loc_28D7B:				; CODE XREF: UpDateConsole+565j
		mov	al, 0
		jmp	short loc_28D81
; ---------------------------------------------------------------------------

loc_28D7F:				; CODE XREF: UpDateConsole+56Cj
		mov	al, 1

loc_28D81:				; CODE XREF: UpDateConsole+570j
		push	ax
		call	PutString
		push	0Ah
		mov	ax, [bp+var_2]
		add	ax, 26h	; '&'
		push	ax
		mov	di, offset aHard ; "Hard"
		push	cs
		push	di
		cmp	ConsMainY, 2
		jnz	short loc_28DA3
		cmp	ConsMode, 0
		jz	short loc_28DA7

loc_28DA3:				; CODE XREF: UpDateConsole+58Dj
		mov	al, 0
		jmp	short loc_28DA9
; ---------------------------------------------------------------------------

loc_28DA7:				; CODE XREF: UpDateConsole+594j
		mov	al, 1

loc_28DA9:				; CODE XREF: UpDateConsole+598j
		push	ax
		call	PutString
		mov	ax, [bp+var_2]
		add	ax, 8
		mov	[bp+var_6], ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 0Ah
		sbb	dx, 0
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		cmp	dx, bx
		jl	short loc_28DD7
		jg	short loc_28E04
		cmp	ax, cx
		jnb	short loc_28E04

loc_28DD7:				; CODE XREF: UpDateConsole+5C2j
		push	6
		push	[bp+var_6]
		push	56h ; 'V'
		mov	ax, [bp+var_6]
		inc	ax
		inc	ax
		push	ax
		push	0
		push	0Fh
		call	DrawBrKey
		push	7
		mov	ax, [bp+var_6]
		add	ax, 0
		push	ax
		push	55h ; 'U'
		mov	ax, [bp+var_6]
		inc	ax
		push	ax
		push	6
		call	BrightBar

loc_28E04:				; CODE XREF: UpDateConsole+5C4j
					; UpDateConsole+5C8j
		imul	ax, ConsMainY, 0Bh
		mov	dx, ax
		mov	ax, [bp+var_2]
		dec	ax
		add	ax, dx
		add	ax, 10h
		mov	[bp+var_6], ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 0Ah
		sbb	dx, 0
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		cmp	dx, bx
		jl	short loc_28E36
		jg	short locret_28E64
		cmp	ax, cx
		jnb	short locret_28E64

loc_28E36:				; CODE XREF: UpDateConsole+621j
		push	6
		push	[bp+var_6]
		push	56h ; 'V'
		mov	ax, [bp+var_6]
		add	ax, 8
		push	ax
		push	14h
		push	1
		call	DrawBrKey
		push	7
		mov	ax, [bp+var_6]
		inc	ax
		push	ax
		push	55h ; 'U'
		mov	ax, [bp+var_6]
		add	ax, 7
		push	ax
		push	0Bh
		call	BrightBar

locret_28E64:				; CODE XREF: UpDateConsole+66j
					; UpDateConsole:loc_28B54j ...
		leave
		retf
UpDateConsole	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawMenuBar	proc near		; CODE XREF: UpDateMenu+3AEp
					; UpDateMenu+434p ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_6]
		inc	ax
		push	ax
		mov	ax, [bp+arg_4]
		inc	ax
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, [bp+arg_2]
		dec	ax
		dec	ax
		push	ax
		mov	ax, [bp+arg_4]
		add	ax, [bp+arg_0]
		dec	ax
		push	ax
		push	18h
		call	BrightBar
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	ax, [bp+arg_6]
		add	ax, [bp+arg_2]
		dec	ax
		push	ax
		mov	ax, [bp+arg_4]
		add	ax, [bp+arg_0]
		push	ax
		push	1Ch
		push	10h
		call	DrawBrKey
		leave
		retn	8
DrawMenuBar	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawMenuRect	proc far		; CODE XREF: UpDateRanking+57P
					; UpDateMenu+1BP ...

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	0Eh, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_8]
		lds	si, [bp+arg_0]
		mov	cx, 8
		rep movsb
		mov	ds, bx
		mov	ax, [bp+var_6]
		add	ax, 4
		mov	MnSY, ax
		mov	ax, [bp+var_2]
		mov	[bp+var_E], ax
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_E]
		jle	short loc_28EDF
		jmp	loc_28F6C
; ---------------------------------------------------------------------------

loc_28EDF:				; CODE XREF: DrawMenuRect+2Dj
		mov	y, ax
		jmp	short loc_28EE8
; ---------------------------------------------------------------------------

loc_28EE4:				; CODE XREF: DrawMenuRect+BCj
		inc	y

loc_28EE8:				; CODE XREF: DrawMenuRect+35j
		mov	ax, [bp+var_4]
		sub	ax, [bp+var_8]
		inc	ax
		mov	w, ax
		mov	ax, [bp+var_8]
		cwd
		mov	di, y
		shl	di, 2
		add	ax, [di-6E84h]
		adc	dx, [di-6E82h]
		mov	[bp+var_C], ax
		mov	[bp+var_A], dx

loc_28F0B:				; CODE XREF: DrawMenuRect+B2j
		cmp	w, 0
		jbe	short loc_28F61
		cmp	w, 40h ; '@'
		jbe	short loc_28F21
		mov	j, 40h ; '@'
		jmp	short loc_28F27
; ---------------------------------------------------------------------------

loc_28F21:				; CODE XREF: DrawMenuRect+6Aj
		mov	ax, w
		mov	j, ax

loc_28F27:				; CODE XREF: DrawMenuRect+72j
		les	di, MenuTiler
		push	es
		mov	ax, y
		and	ax, 3Fh
		shl	ax, 6
		cwd
		push	dx
		push	ax
		push	VgaSeg
		push	[bp+var_A]
		push	[bp+var_C]
		mov	ax, j
		shr	ax, 1
		xor	dx, dx
		push	dx
		push	ax
		call	MovsEW
		mov	ax, j
		sub	w, ax
		add	[bp+var_C], 40h	; '@'
		adc	[bp+var_A], 0
		jmp	short loc_28F0B
; ---------------------------------------------------------------------------

loc_28F61:				; CODE XREF: DrawMenuRect+63j
		mov	ax, y
		cmp	ax, [bp+var_E]
		jz	short loc_28F6C
		jmp	loc_28EE4
; ---------------------------------------------------------------------------

loc_28F6C:				; CODE XREF: DrawMenuRect+2Fj
					; DrawMenuRect+BAj
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_28F77
; ---------------------------------------------------------------------------

loc_28F73:				; CODE XREF: DrawMenuRect+F8j
		inc	n__0

loc_28F77:				; CODE XREF: DrawMenuRect+C4j
		mov	ax, [bp+var_8]
		add	ax, n__0
		push	ax
		mov	ax, [bp+var_6]
		add	ax, n__0
		push	ax
		mov	ax, [bp+var_4]
		sub	ax, n__0
		push	ax
		mov	ax, [bp+var_2]
		sub	ax, n__0
		push	ax
		push	1
		push	10h
		call	DrawBrKey
		cmp	n__0, 1
		jnz	short loc_28F73
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_28FB2
; ---------------------------------------------------------------------------

loc_28FAE:				; CODE XREF: DrawMenuRect+13Fj
		inc	n__0

loc_28FB2:				; CODE XREF: DrawMenuRect+FFj
		mov	ax, [bp+var_8]
		add	ax, n__0
		add	ax, 6
		push	ax
		mov	ax, [bp+var_6]
		add	ax, n__0
		add	ax, 0Dh
		push	ax
		mov	ax, [bp+var_4]
		sub	ax, n__0
		sub	ax, 6
		push	ax
		mov	ax, [bp+var_2]
		sub	ax, n__0
		sub	ax, 5
		push	ax
		push	10h
		push	1
		call	DrawBrKey
		cmp	n__0, 1
		jnz	short loc_28FAE
		mov	n__0, 1
		jmp	short loc_28FFA
; ---------------------------------------------------------------------------

loc_28FF6:				; CODE XREF: DrawMenuRect+19Ej
		inc	n__0

loc_28FFA:				; CODE XREF: DrawMenuRect+147j
		mov	ax, [bp+var_8]
		sub	ax, n__0
		push	ax
		mov	ax, [bp+var_6]
		sub	ax, n__0
		push	ax
		mov	ax, [bp+var_4]
		add	ax, n__0
		dec	ax
		push	ax
		mov	ax, [bp+var_2]
		add	ax, n__0
		push	ax
		mov	ax, n__0
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		mov	dx, ax
		mov	ax, 1Dh
		sub	ax, dx
		push	ax
		mov	ax, n__0
		mov	si, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, si
		mov	dx, ax
		mov	ax, 1Dh
		sub	ax, dx
		push	ax
		call	DrawBrKey
		cmp	n__0, 4
		jnz	short loc_28FF6
		leave
		retf	4
DrawMenuRect	endp

; ---------------------------------------------------------------------------
unk_29051	db    9			; DATA XREF: PutScroller+9o
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutScroller	proc near		; CODE XREF: UpDateMenu+60Ap
					; UpDateMenu+616p ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_4]
		push	[bp+arg_2]
		mov	di, offset unk_29051
		push	cs
		push	di
		call	PutStr
		mov	ax, [bp+arg_0]
		shl	ax, 2
		add	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_2]
		push	3
		call	PutChar
		leave
		retn	6
PutScroller	endp

; ---------------------------------------------------------------------------
unk_29086	db    9			; DATA XREF: PutScroller15+9o
		db    1
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutScroller15	proc near		; CODE XREF: UpDateMenu+557p
					; UpDateMenu+566p ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_4]
		push	[bp+arg_2]
		mov	di, offset unk_29086
		push	cs
		push	di
		call	PutStr
		mov	ax, [bp+arg_0]
		shl	ax, 2
		imul	ax, 38h
		cwd
		mov	cx, 3Ch	; '<'
		idiv	cx
		add	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_2]
		push	3
		call	PutChar
		leave
		retn	6
PutScroller15	endp

; ---------------------------------------------------------------------------
a?		db 1,'?'                ; DATA XREF: UpDateMenu+712o
aOrMouse1	db 10,' or Mouse1'      ; DATA XREF: UpDateMenu+760o
aOrMouse2	db 10,' or Mouse2'      ; DATA XREF: UpDateMenu+792o
aOrMouse3	db 10,' or Mouse3'      ; DATA XREF: UpDateMenu+7C4o
unk_290E7	db    1			; DATA XREF: UpDateMenu+90Bo
		db  10h
unk_290E9	db    1			; DATA XREF: UpDateMenu+921o
		db  11h
aVesa2_0NotFoun	db 19,'VESA 2.0 not found.' ; DATA XREF: UpDateMenu+937o
aVesa2_0Complia	db 27,'VESA 2.0 compliant adapter.' ; DATA XREF: UpDateMenu+948o
aCom		db 3,'COM'              ; DATA XREF: UpDateMenu+B81o
					; UpDateMenu+E62o
asc_2911F	db 6,'######'           ; DATA XREF: UpDateMenu+BBEo
					; UpDateMenu+E9Eo
a__9		db 1,'_'                ; DATA XREF: UpDateMenu+CFDo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDateMenu	proc far		; CODE XREF: ShowScreen+4DP

var_200		= byte ptr -200h
var_100		= byte ptr -100h
var_2		= word ptr -2

		enter	200h, 0
		mov	Ranking, 0
		mov	ax, MenuMode
		cmp	ax, 0Eh
		jnz	short loc_2914B
		les	di, PM
		add	di, 1C2h
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_2914B:				; CODE XREF: UpDateMenu+Fj
		cmp	ax, 18h
		jnz	short loc_29162
		les	di, PM
		add	di, 70Ah
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_29162:				; CODE XREF: UpDateMenu+26j
		cmp	ax, 19h
		jnz	short loc_29179
		les	di, PM
		add	di, 232h
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_29179:				; CODE XREF: UpDateMenu+3Dj
		cmp	ax, 1Ah
		jnz	short loc_29190
		les	di, PM
		add	di, 28h	; '('
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_29190:				; CODE XREF: UpDateMenu+54j
		cmp	ax, 1Bh
		jnz	short loc_291A7
		les	di, PM
		add	di, 548h
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_291A7:				; CODE XREF: UpDateMenu+6Bj
		cmp	ax, 0Fh
		jnz	short loc_291BE
		les	di, PM
		add	di, 792h
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_291BE:				; CODE XREF: UpDateMenu+82j
		cmp	ax, 0Ch
		jz	short loc_291C8
		cmp	ax, 0Dh
		jnz	short loc_291DA

loc_291C8:				; CODE XREF: UpDateMenu+99j
		les	di, PM
		add	di, 68h	; 'h'
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_291DA:				; CODE XREF: UpDateMenu+9Ej
		cmp	ax, 0
		jnz	short loc_291F1
		les	di, PM
		add	di, 10h
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_291F1:				; CODE XREF: UpDateMenu+B5j
		cmp	ax, 0Ah
		jnz	short loc_29208
		les	di, PM
		add	di, 7FAh
		push	es
		push	di
		call	DrawMenuRect
		jmp	loc_29292
; ---------------------------------------------------------------------------

loc_29208:				; CODE XREF: UpDateMenu+CCj
		cmp	ax, 0Bh
		jnz	short loc_2921E
		les	di, PM
		add	di, 40h	; '@'
		push	es
		push	di
		call	DrawMenuRect
		jmp	short loc_29292
; ---------------------------------------------------------------------------

loc_2921E:				; CODE XREF: UpDateMenu+E3j
		cmp	ax, 6Fh	; 'o'
		jnz	short loc_2924E
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		imul	ax, [di+278h], 0Bh
		add	ax, 89h	; '‰'
		les	di, PM
		mov	es:[di+898h], ax
		les	di, PM
		add	di, 892h
		push	es
		push	di
		call	DrawMenuRect
		jmp	short loc_29292
; ---------------------------------------------------------------------------

loc_2924E:				; CODE XREF: UpDateMenu+F9j
		cmp	ax, 70h	; 'p'
		jnz	short loc_2927E
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		imul	ax, [di+278h], 0Bh
		add	ax, 72h	; 'r'
		les	di, PM
		mov	es:[di+972h], ax
		les	di, PM
		add	di, 96Ch
		push	es
		push	di
		call	DrawMenuRect
		jmp	short loc_29292
; ---------------------------------------------------------------------------

loc_2927E:				; CODE XREF: UpDateMenu+129j
		cmp	ax, 71h	; 'q'
		jnz	short loc_29292
		les	di, PM
		add	di, 9C8h
		push	es
		push	di
		call	DrawMenuRect

loc_29292:				; CODE XREF: UpDateMenu+20j
					; UpDateMenu+37j ...
		mov	ax, MenuMode
		cmp	ax, 0
		jz	short loc_2929D
		jmp	loc_29364
; ---------------------------------------------------------------------------

loc_2929D:				; CODE XREF: UpDateMenu+170j
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		push	es
		push	di
		call	PutStrCenter
		mov	ax, 0A0h ; ' '
		sub	ax, word_37572
		push	ax
		mov	ax, MnSY
		add	ax, 10h
		push	ax
		push	MainMenu
		push	word_37570
		push	VgaSeg
		les	di, dword_37574
		push	es
		push	di
		call	PutIconD
		mov	ax, 0A0h ; ' '
		sub	ax, word_37572
		push	ax
		imul	ax, MenuMainY, 14h
		mov	dx, ax
		mov	ax, MnSY
		add	ax, 10h
		add	ax, dx
		push	ax
		push	MainMenu
		push	0Ch
		push	VgaSeg
		push	40h ; '@'
		les	di, dword_37574
		mov	ax, es
		push	ax
		mov	ax, MainMenu
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		imul	ax, MenuMainY, 14h
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	di, ax
		pop	es
		push	es
		push	di
		call	PutIcon
		cmp	SERVER,	0
		jnz	short loc_2932F
		cmp	CLIENT,	0
		jnz	short loc_2932F
		cmp	PlayDemo, 0
		jz	short loc_29361

loc_2932F:				; CODE XREF: UpDateMenu+1F7j
					; UpDateMenu+1FEj
		mov	ax, 0A0h ; ' '
		sub	ax, word_37572
		push	ax
		mov	ax, MnSY
		add	ax, 10h
		add	ax, 28h	; '('
		push	ax
		push	MainMenu
		push	0Ch
		push	VgaSeg
		push	5Fh ; '_'
		les	di, dword_37574
		mov	ax, es
		push	ax
		imul	ax, MainMenu, 28h
		mov	di, ax
		pop	es
		push	es
		push	di
		call	PutIcon

loc_29361:				; CODE XREF: UpDateMenu+205j
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29364:				; CODE XREF: UpDateMenu+172j
		cmp	ax, 0Ah
		jnz	short loc_293B8
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 79Ah
		push	es
		push	di
		call	PutStrCenter
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2938A
; ---------------------------------------------------------------------------

loc_29386:				; CODE XREF: UpDateMenu+28Bj
		inc	n__0

loc_2938A:				; CODE XREF: UpDateMenu+25Cj
		push	0A0h ; ' '
		imul	ax, n__0, 0Ch
		add	ax, 50h	; 'P'
		push	ax
		mov	ax, n__0
		inc	ax
		shl	ax, 5
		les	di, PM
		add	di, ax
		add	di, 79Ah
		push	es
		push	di
		call	PutStrCenter
		cmp	n__0, 1
		jnz	short loc_29386
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_293B8:				; CODE XREF: UpDateMenu+23Fj
		cmp	ax, 0Bh
		jz	short loc_293C0
		jmp	loc_29484
; ---------------------------------------------------------------------------

loc_293C0:				; CODE XREF: UpDateMenu+293j
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 30h	; '0'
		push	es
		push	di
		call	PutStrCenter
		mov	ax, 0A0h ; ' '
		sub	ax, word_37586
		push	ax
		mov	ax, MnSY
		add	ax, 10h
		push	ax
		push	NetMenu
		push	word_37584
		push	VgaSeg
		les	di, dword_37588
		push	es
		push	di
		call	PutIconD
		mov	ax, 0A0h ; ' '
		sub	ax, word_37586
		push	ax
		imul	ax, MenuMainY, 14h
		mov	dx, ax
		mov	ax, MnSY
		add	ax, 10h
		add	ax, dx
		push	ax
		push	NetMenu
		push	0Ch
		push	VgaSeg
		push	40h ; '@'
		les	di, dword_37588
		mov	ax, es
		push	ax
		mov	ax, NetMenu
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		imul	ax, MenuMainY, 14h
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	di, ax
		pop	es
		push	es
		push	di
		call	PutIcon
		cmp	VESAPresent, 0
		jz	short loc_2944F
		cmp	SERVER,	0
		jnz	short loc_29481

loc_2944F:				; CODE XREF: UpDateMenu+31Ej
		mov	ax, 0A0h ; ' '
		sub	ax, word_37586
		push	ax
		mov	ax, MnSY
		add	ax, 10h
		add	ax, 3Ch	; '<'
		push	ax
		push	NetMenu
		push	0Ch
		push	VgaSeg
		push	5Fh ; '_'
		les	di, dword_37588
		mov	ax, es
		push	ax
		imul	ax, NetMenu, 3Ch
		mov	di, ax
		pop	es
		push	es
		push	di
		call	PutIcon

loc_29481:				; CODE XREF: UpDateMenu+325j
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29484:				; CODE XREF: UpDateMenu+295j
		cmp	ax, 0Ch
		jz	short loc_29491
		cmp	ax, 0Dh
		jz	short loc_29491
		jmp	loc_2952E
; ---------------------------------------------------------------------------

loc_29491:				; CODE XREF: UpDateMenu+35Fj
					; UpDateMenu+364j
		cmp	MenuMode, 0Ch
		jnz	short loc_294B0
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 48h	; 'H'
		push	es
		push	di
		call	PutStrCenter
		jmp	short loc_294C6
; ---------------------------------------------------------------------------

loc_294B0:				; CODE XREF: UpDateMenu+36Ej
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 58h	; 'X'
		push	es
		push	di
		call	PutStrCenter

loc_294C6:				; CODE XREF: UpDateMenu+386j
		push	3Ch ; '<'
		imul	ax, MenuMainY, 0Ah
		add	ax, 28h	; '('
		push	ax
		push	0C8h ; 'È'
		push	9
		call	DrawMenuBar
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_294E4
; ---------------------------------------------------------------------------

loc_294E0:				; CODE XREF: UpDateMenu+3E2j
		inc	n__0

loc_294E4:				; CODE XREF: UpDateMenu+3B6j
		push	50h ; 'P'
		imul	ax, n__0, 0Ah
		add	ax, 2Ah	; '*'
		push	ax
		imul	ax, n__0, 28h
		les	di, PM
		add	di, ax
		add	di, 0F50h
		push	es
		push	di
		call	PutStr
		cmp	n__0, 9
		jnz	short loc_294E0
		push	50h ; 'P'
		imul	ax, MenuMainY, 0Ah
		add	ax, 2Ah	; '*'
		push	ax
		imul	ax, MenuMainY, 28h
		les	di, PM
		add	di, ax
		add	di, 0F50h
		push	es
		push	di
		call	PutStrOn
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_2952E:				; CODE XREF: UpDateMenu+366j
		cmp	ax, 0Eh
		jz	short loc_29536
		jmp	loc_296A3
; ---------------------------------------------------------------------------

loc_29536:				; CODE XREF: UpDateMenu+409j
		cmp	MenuMainY, 0Bh
		jnz	short loc_29545
		mov	i__0, 2Ch ; ','
		jmp	short loc_2954B
; ---------------------------------------------------------------------------

loc_29545:				; CODE XREF: UpDateMenu+413j
		mov	i__0, 27h ; '''

loc_2954B:				; CODE XREF: UpDateMenu+41Bj
		push	38h ; '8'
		imul	ax, MenuMainY, 0Ah
		add	ax, i__0
		push	ax
		push	88h ; 'ˆ'
		push	9
		call	DrawMenuBar
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 70h	; 'p'
		push	es
		push	di
		call	PutStrCenter
		push	36h ; '6'
		push	97h ; '—'
		push	10Eh
		push	98h ; '˜'
		push	14h
		push	2
		call	DrawBrKey
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_29594
; ---------------------------------------------------------------------------

loc_29590:				; CODE XREF: UpDateMenu+493j
		inc	n__0

loc_29594:				; CODE XREF: UpDateMenu+466j
		push	0BAh ; 'º'
		imul	ax, n__0, 0Ah
		add	ax, 29h	; ')'
		push	ax
		mov	ax, n__0
		inc	ax
		imul	ax, 1Ah
		les	di, PM
		add	di, ax
		add	di, 70h	; 'p'
		push	es
		push	di
		call	PutStrBack
		cmp	n__0, 0Ah
		jnz	short loc_29590
		push	0BAh ; 'º'
		push	9Ch ; 'œ'
		les	di, PM
		add	di, 1A8h
		push	es
		push	di
		call	PutStrBack
		push	0BAh ; 'º'
		imul	ax, MenuMainY, 0Ah
		mov	dx, ax
		mov	ax, i__0
		inc	ax
		inc	ax
		add	ax, dx
		push	ax
		mov	ax, MenuMainY
		inc	ax
		imul	ax, 1Ah
		les	di, PM
		add	di, ax
		add	di, 70h	; 'p'
		push	es
		push	di
		call	PutStrBackOn
		push	0C0h ; 'À'
		push	51h ; 'Q'
		mov	al, AlwaysRun
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	PutStr
		push	0C0h ; 'À'
		push	5Bh ; '['
		mov	al, Cocpit
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	PutStr
		push	0C0h ; 'À'
		push	65h ; 'e'
		mov	al, ReverseMouse
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	PutStr
		push	0C0h ; 'À'
		push	6Fh ; 'o'
		mov	al, EpisodeReset
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	PutStr
		push	0C4h ; 'Ä'
		push	79h ; 'y'
		mov	al, FXVolume
		xor	ah, ah
		push	ax
		call	PutScroller15
		push	0C4h ; 'Ä'
		push	83h ; 'ƒ'
		mov	al, CDVolume
		xor	ah, ah
		push	ax
		call	PutScroller15
		push	0C4h ; 'Ä'
		push	8Dh ; ''
		mov	al, MSsens
		xor	ah, ah
		push	ax
		call	PutScroller15
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_296A3:				; CODE XREF: UpDateMenu+40Bj
		cmp	ax, 19h
		jz	short loc_296AB
		jmp	loc_29750
; ---------------------------------------------------------------------------

loc_296AB:				; CODE XREF: UpDateMenu+57Ej
		push	48h ; 'H'
		imul	ax, MenuMainY, 0Bh
		add	ax, 40h	; '@'
		push	ax
		push	5Ch ; '\'
		push	9
		call	DrawMenuBar
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 1CAh
		push	es
		push	di
		call	PutStrCenter
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_296DE
; ---------------------------------------------------------------------------

loc_296DA:				; CODE XREF: UpDateMenu+5DDj
		inc	n__0

loc_296DE:				; CODE XREF: UpDateMenu+5B0j
		push	0A0h ; ' '
		imul	ax, n__0, 0Bh
		add	ax, 42h	; 'B'
		push	ax
		mov	ax, n__0
		inc	ax
		imul	ax, 1Ah
		les	di, PM
		add	di, ax
		add	di, 1CAh
		push	es
		push	di
		call	PutStrBack
		cmp	n__0, 2
		jnz	short loc_296DA
		push	0A0h ; ' '
		imul	ax, MenuMainY, 0Bh
		add	ax, 42h	; 'B'
		push	ax
		mov	ax, MenuMainY
		inc	ax
		imul	ax, 1Ah
		les	di, PM
		add	di, ax
		add	di, 1CAh
		push	es
		push	di
		call	PutStrBackOn
		push	0AAh ; 'ª'
		push	42h ; 'B'
		push	Contrast
		call	PutScroller
		push	0AAh ; 'ª'
		push	4Dh ; 'M'
		push	Color
		call	PutScroller
		push	0AAh ; 'ª'
		push	58h ; 'X'
		push	Bright
		call	PutScroller
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29750:				; CODE XREF: UpDateMenu+580j
		cmp	ax, 0Fh
		jnz	short loc_297A4
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 712h
		push	es
		push	di
		call	PutStrCenter
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_29776
; ---------------------------------------------------------------------------

loc_29772:				; CODE XREF: UpDateMenu+677j
		inc	n__0

loc_29776:				; CODE XREF: UpDateMenu+648j
		push	0A0h ; ' '
		imul	ax, n__0, 0Ch
		add	ax, 46h	; 'F'
		push	ax
		mov	ax, n__0
		inc	ax
		shl	ax, 5
		les	di, PM
		add	di, ax
		add	di, 712h
		push	es
		push	di
		call	PutStrCenter
		cmp	n__0, 2
		jnz	short loc_29772
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_297A4:				; CODE XREF: UpDateMenu+62Bj
		cmp	ax, 18h
		jz	short loc_297AC
		jmp	loc_29928
; ---------------------------------------------------------------------------

loc_297AC:				; CODE XREF: UpDateMenu+67Fj
		push	22h ; '"'
		imul	ax, MenuMainY, 9
		add	ax, 20h	; ' '
		push	ax
		push	7Ch ; '|'
		push	7
		call	DrawMenuBar
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 550h
		push	es
		push	di
		call	PutStrCenter
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_297DF
; ---------------------------------------------------------------------------

loc_297DB:				; CODE XREF: UpDateMenu+7FAj
		inc	n__0

loc_297DF:				; CODE XREF: UpDateMenu+6B1j
		push	9Bh ; '›'
		imul	ax, n__0, 9
		add	ax, 21h	; '!'
		push	ax
		mov	ax, n__0
		inc	ax
		imul	ax, 1Ah
		les	di, PM
		add	di, ax
		add	di, 550h
		push	es
		push	di
		call	PutStrBack
		push	9Bh ; '›'
		imul	ax, MenuMainY, 9
		add	ax, 21h	; '!'
		push	ax
		mov	ax, MenuMainY
		inc	ax
		imul	ax, 1Ah
		les	di, PM
		add	di, ax
		add	di, 550h
		push	es
		push	di
		call	PutStrBackOn
		mov	ax, n__0
		cmp	ax, KbWait
		jnz	short loc_29847
		push	0A6h ; '¦'
		imul	ax, n__0, 9
		add	ax, 23h	; '#'
		push	ax
		push	20h ; ' '
		mov	di, offset a?	; "?"
		push	cs
		push	di
		call	PutStringFloat
		jmp	loc_2991B
; ---------------------------------------------------------------------------

loc_29847:				; CODE XREF: UpDateMenu+702j
		mov	di, n__0
		mov	al, [di-1360h]
		xor	ah, ah
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 9C0h
		push	es
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	al, Ms1ID
		xor	ah, ah
		cmp	ax, n__0
		jnz	short loc_2989F
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aOrMouse1 ; " or Mouse1"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_2989F:				; CODE XREF: UpDateMenu+74Ej
		mov	al, Ms2ID
		xor	ah, ah
		cmp	ax, n__0
		jnz	short loc_298D1
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aOrMouse2 ; " or Mouse2"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_298D1:				; CODE XREF: UpDateMenu+780j
		mov	al, ms3id
		xor	ah, ah
		cmp	ax, n__0
		jnz	short loc_29903
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aOrMouse3 ; " or Mouse3"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_29903:				; CODE XREF: UpDateMenu+7B2j
		push	0A6h ; '¦'
		imul	ax, n__0, 9
		add	ax, 21h	; '!'
		push	ax
		push	50h ; 'P'
		mov	di, offset S
		push	ds
		push	di
		call	PutStringFloat

loc_2991B:				; CODE XREF: UpDateMenu+71Cj
		cmp	n__0, 0Fh
		jz	short loc_29925
		jmp	loc_297DB
; ---------------------------------------------------------------------------

loc_29925:				; CODE XREF: UpDateMenu+7F8j
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29928:				; CODE XREF: UpDateMenu+681j
		cmp	ax, 1Ah
		jz	short loc_29930
		jmp	loc_299B4
; ---------------------------------------------------------------------------

loc_29930:				; CODE XREF: UpDateMenu+803j
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 18h
		push	es
		push	di
		call	PutStrCenter
		mov	ax, 0A0h ; ' '
		sub	ax, word_3757C
		push	ax
		mov	ax, MnSY
		add	ax, 10h
		push	ax
		push	SklMenu
		push	word_3757A
		push	VgaSeg
		les	di, dword_3757E
		push	es
		push	di
		call	PutIconD
		mov	ax, 0A0h ; ' '
		sub	ax, word_3757C
		push	ax
		imul	ax, MenuMainY, 14h
		mov	dx, ax
		mov	ax, MnSY
		add	ax, 10h
		add	ax, dx
		push	ax
		push	SklMenu
		push	0Ch
		push	VgaSeg
		push	40h ; '@'
		les	di, dword_3757E
		mov	ax, es
		push	ax
		mov	ax, SklMenu
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		imul	ax, MenuMainY, 14h
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	di, ax
		pop	es
		push	es
		push	di
		call	PutIcon
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_299B4:				; CODE XREF: UpDateMenu+805j
		cmp	ax, 1Bh
		jz	short loc_299BC
		jmp	loc_29ADD
; ---------------------------------------------------------------------------

loc_299BC:				; CODE XREF: UpDateMenu+88Fj
		push	3Ah ; ':'
		imul	ax, MenuMainY, 0Ah
		add	ax, 31h	; '1'
		push	ax
		push	0CCh ; 'Ì'
		push	8
		call	DrawMenuBar
		push	3Ah ; ':'
		push	2Dh ; '-'
		push	106h
		push	2Eh ; '.'
		push	14h
		push	2
		call	DrawBrKey
		push	3Ah ; ':'
		push	0A0h ; ' '
		push	106h
		push	0A1h ; '¡'
		push	14h
		push	2
		call	DrawBrKey
		mov	ColorShift, 1
		mov	ColorZero, 0FFh
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 23Ah
		push	es
		push	di
		call	PutStrCenter
		push	42h ; 'B'
		push	24h ; '$'
		les	di, PM
		add	di, 268h
		push	es
		push	di
		call	PutStr
		push	3Eh ; '>'
		imul	ax, CurVideoMode, 0Ah
		add	ax, 28h	; '('
		push	ax
		mov	di, offset unk_290E7
		push	cs
		push	di
		call	PutStr
		push	0F8h ; 'ø'
		imul	ax, CurVideoMode, 0Ah
		add	ax, 28h	; '('
		push	ax
		mov	di, offset unk_290E9
		push	cs
		push	di
		call	PutStr
		cmp	VESA20Compliant, 0
		jnz	short loc_29A6B
		push	3Eh ; '>'
		push	0A5h ; '¥'
		mov	di, offset aVesa2_0NotFoun ; "VESA 2.0 not found."
		push	cs
		push	di
		call	PutStr
		jmp	short loc_29A7A
; ---------------------------------------------------------------------------

loc_29A6B:				; CODE XREF: UpDateMenu+930j
		push	3Eh ; '>'
		push	0A5h ; '¥'
		mov	di, offset aVesa2_0Complia ; "VESA 2.0 compliant adapter."
		push	cs
		push	di
		call	PutStr

loc_29A7A:				; CODE XREF: UpDateMenu+941j
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_29A85
; ---------------------------------------------------------------------------

loc_29A81:				; CODE XREF: UpDateMenu+984j
		inc	n__0

loc_29A85:				; CODE XREF: UpDateMenu+957j
		push	4Ch ; 'L'
		imul	ax, n__0, 0Ah
		add	ax, 32h	; '2'
		push	ax
		mov	ax, n__0
		inc	ax
		inc	ax
		imul	ax, 2Eh
		les	di, PM
		add	di, ax
		add	di, 23Ah
		push	es
		push	di
		call	PutStrFix
		cmp	n__0, 0Ah
		jnz	short loc_29A81
		mov	ColorShift, 21h	; '!'
		mov	ColorZero, 0
		push	4Ch ; 'L'
		imul	ax, MenuMainY, 0Ah
		add	ax, 32h	; '2'
		push	ax
		mov	ax, MenuMainY
		inc	ax
		inc	ax
		imul	ax, 2Eh
		les	di, PM
		add	di, ax
		add	di, 23Ah
		push	es
		push	di
		call	PutStrFix
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29ADD:				; CODE XREF: UpDateMenu+891j
		cmp	ax, 6Fh	; 'o'
		jz	short loc_29AE5
		jmp	loc_29D22
; ---------------------------------------------------------------------------

loc_29AE5:				; CODE XREF: UpDateMenu+9B8j
		mov	i__0, 3Ch ; '<'
		cmp	MenuMainY, 5
		jl	short loc_29AF8
		mov	i__0, 42h ; 'B'

loc_29AF8:				; CODE XREF: UpDateMenu+9C8j
		push	3Ch ; '<'
		imul	ax, MenuMainY, 0Bh
		mov	dx, ax
		mov	ax, i__0
		dec	ax
		dec	ax
		add	ax, dx
		push	ax
		push	56h ; 'V'
		push	9
		call	DrawMenuBar
		push	3Ah ; ':'
		push	72h ; 'r'
		push	0E0h ; 'à'
		push	1
		call	HBrline
		push	3Ah ; ':'
		push	74h ; 't'
		push	0E0h ; 'à'
		push	14h
		call	HBrline
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 802h
		push	es
		push	di
		call	PutStrCenter
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_29B4D
; ---------------------------------------------------------------------------

loc_29B49:				; CODE XREF: UpDateMenu+A4Cj
		inc	n__0

loc_29B4D:				; CODE XREF: UpDateMenu+A1Fj
		push	90h ; ''
		imul	ax, n__0, 0Bh
		add	ax, 3Ch	; '<'
		push	ax
		mov	ax, n__0
		inc	ax
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 802h
		push	es
		push	di
		call	PutStrBack
		cmp	n__0, 4
		jnz	short loc_29B49
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+278h]
		add	ax, 5
		mov	[bp+var_2], ax
		mov	ax, 5
		cmp	ax, [bp+var_2]
		jg	short loc_29BC4
		mov	n__0, ax
		jmp	short loc_29B9A
; ---------------------------------------------------------------------------

loc_29B96:				; CODE XREF: UpDateMenu+A9Aj
		inc	n__0

loc_29B9A:				; CODE XREF: UpDateMenu+A6Cj
		push	90h ; ''
		imul	ax, n__0, 0Bh
		add	ax, 42h	; 'B'
		push	ax
		mov	ax, n__0
		inc	ax
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 802h
		push	es
		push	di
		call	PutStrBack
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jnz	short loc_29B96

loc_29BC4:				; CODE XREF: UpDateMenu+A67j
		push	90h ; ''
		imul	ax, MenuMainY, 0Bh
		add	ax, i__0
		push	ax
		mov	ax, MenuMainY
		inc	ax
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 802h
		push	es
		push	di
		call	PutStrBackOn
		push	96h ; '–'
		push	47h ; 'G'
		push	50h ; 'P'
		mov	al, NGMode
		xor	ah, ah
		imul	ax, 16h
		les	di, PM
		add	di, ax
		add	di, 89Ah
		push	es
		push	di
		call	PutStringFloat
		push	96h ; '–'
		push	52h ; 'R'
		push	50h ; 'P'
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	al, NGTeam
		xor	ah, ah
		mov	di, ax
		mov	si, di
		shl	di, 1
		shl	di, 1
		add	di, si
		add	di, 296h
		push	ds
		push	di
		call	Trim
		call	PutStringFloat
		push	96h ; '–'
		push	5Dh ; ']'
		push	50h ; 'P'
		mov	al, NGSkill
		xor	ah, ah
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 8DCh
		push	es
		push	di
		call	PutStringFloat
		push	96h ; '–'
		push	68h ; 'h'
		push	50h ; 'P'
		mov	al, NGLevel
		xor	ah, ah
		shl	ax, 5
		les	di, ShortNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		call	PutStringFloat
		push	96h ; '–'
		push	79h ; 'y'
		push	8Fh ; ''
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 3
		add	di, 256h
		push	ds
		push	di
		call	PutStringFloat
		cmp	NGCard,	0
		ja	short loc_29C9A
		jmp	loc_29D1F
; ---------------------------------------------------------------------------

loc_29C9A:				; CODE XREF: UpDateMenu+B6Dj
		push	96h ; '–'
		push	84h ; '„'
		push	8Fh ; ''
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aCom	; "COM"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	al, NGPort
		xor	ah, ah
		add	ax, 31h	; '1'
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStringFloat
		push	96h ; '–'
		push	8Fh ; ''
		push	8Fh ; ''
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset asc_2911F ; "######"
		push	cs
		push	di
		mov	al, NGBaud
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+26Eh]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0C200h
		mov	dx, 1
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	Trim
		call	PutStringFloat

loc_29D1F:				; CODE XREF: UpDateMenu+B6Fj
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29D22:				; CODE XREF: UpDateMenu+9BAj
		cmp	ax, 71h	; 'q'
		jz	short loc_29D2A
		jmp	loc_29E6F
; ---------------------------------------------------------------------------

loc_29D2A:				; CODE XREF: UpDateMenu+BFDj
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 974h
		push	es
		push	di
		call	PutStrCenter
		push	4Ch ; 'L'
		mov	ax, MenuMainY
		shl	ax, 4
		add	ax, 36h	; '6'
		push	ax
		push	4Eh ; 'N'
		push	9
		call	DrawMenuBar
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_29D5E
; ---------------------------------------------------------------------------

loc_29D5A:				; CODE XREF: UpDateMenu+C5Ej
		inc	n__0

loc_29D5E:				; CODE XREF: UpDateMenu+C30j
		push	96h ; '–'
		mov	ax, n__0
		shl	ax, 4
		add	ax, 38h	; '8'
		push	ax
		mov	ax, n__0
		inc	ax
		imul	ax, 15h
		les	di, PM
		add	di, ax
		add	di, 974h
		push	es
		push	di
		call	PutStrBack
		cmp	n__0, 2
		jnz	short loc_29D5A
		push	96h ; '–'
		mov	ax, MenuMainY
		shl	ax, 4
		add	ax, 38h	; '8'
		push	ax
		mov	ax, MenuMainY
		inc	ax
		imul	ax, 15h
		les	di, PM
		add	di, ax
		add	di, 974h
		push	es
		push	di
		call	PutStrBackOn
		push	0A0h ; ' '
		push	47h ; 'G'
		push	0F2h ; 'ò'
		push	4Fh ; 'O'
		push	14h
		call	BrightBar
		push	9Fh ; 'Ÿ'
		push	46h ; 'F'
		push	0F3h ; 'ó'
		push	50h ; 'P'
		push	0
		push	2
		call	DrawKey
		push	0A0h ; ' '
		push	57h ; 'W'
		push	0D8h ; 'Ø'
		push	7Eh ; '~'
		push	14h
		call	BrightBar
		push	9Fh ; 'Ÿ'
		push	56h ; 'V'
		push	0D9h ; 'Ù'
		push	7Fh ; ''
		push	0
		push	2
		call	DrawKey
		mov	di, offset NGNick
		push	ds
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	MenuMainY, 1
		jnz	short loc_29E3C
		mov	al, byte ptr Time
		and	al, 7Fh
		cmp	al, 40h	; '@'
		jbe	short loc_29E3C
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset a__9	; "_"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_29E3C:				; CODE XREF: UpDateMenu+CE2j
					; UpDateMenu+CEBj
		push	0A2h ; '¢'
		push	48h ; 'H'
		mov	di, offset S
		push	ds
		push	di
		call	PutStr
		mov	al, NGColor
		xor	ah, ah
		push	ax
		call	CreateRecolorMap
		push	0A0h ; ' '
		push	59h ; 'Y'
		push	PTors
		push	word_37598
		les	di, dword_3759C
		push	es
		push	di
		call	PutIconRecolor
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29E6F:				; CODE XREF: UpDateMenu+BFFj
		cmp	ax, 70h	; 'p'
		jz	short loc_29E77
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29E77:				; CODE XREF: UpDateMenu+D4Aj
		mov	i__0, 50h ; 'P'
		cmp	MenuMainY, 1
		jl	short loc_29E8A
		mov	i__0, 56h ; 'V'

loc_29E8A:				; CODE XREF: UpDateMenu+D5Aj
		push	3Ch ; '<'
		imul	ax, MenuMainY, 0Bh
		mov	dx, ax
		mov	ax, i__0
		dec	ax
		dec	ax
		add	ax, dx
		push	ax
		push	56h ; 'V'
		push	9
		call	DrawMenuBar
		push	3Ah ; ':'
		push	5Ah ; 'Z'
		push	0E0h ; 'à'
		push	1
		call	HBrline
		push	3Ah ; ':'
		push	5Ch ; '\'
		push	0E0h ; 'à'
		push	14h
		call	HBrline
		push	0A0h ; ' '
		push	MnSY
		les	di, PM
		add	di, 90Ch
		push	es
		push	di
		call	PutStrCenter
		push	90h ; ''
		push	50h ; 'P'
		les	di, PM
		add	di, 91Ch
		push	es
		push	di
		call	PutStrBack
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+278h]
		inc	ax
		mov	[bp+var_2], ax
		mov	ax, 1
		cmp	ax, [bp+var_2]
		jg	short loc_29F32
		mov	n__0, ax
		jmp	short loc_29F08
; ---------------------------------------------------------------------------

loc_29F04:				; CODE XREF: UpDateMenu+E08j
		inc	n__0

loc_29F08:				; CODE XREF: UpDateMenu+DDAj
		push	90h ; ''
		imul	ax, n__0, 0Bh
		add	ax, 56h	; 'V'
		push	ax
		mov	ax, n__0
		inc	ax
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 90Ch
		push	es
		push	di
		call	PutStrBack
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jnz	short loc_29F04

loc_29F32:				; CODE XREF: UpDateMenu+DD5j
		push	90h ; ''
		imul	ax, MenuMainY, 0Bh
		add	ax, i__0
		push	ax
		mov	ax, MenuMainY
		inc	ax
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 90Ch
		push	es
		push	di
		call	PutStrBackOn
		push	96h ; '–'
		push	61h ; 'a'
		push	8Fh ; ''
		mov	al, NGCard
		xor	ah, ah
		mov	di, ax
		shl	di, 3
		add	di, 256h
		push	ds
		push	di
		call	PutStringFloat
		cmp	NGCard,	0
		ja	short loc_29F7C
		jmp	locret_29FFF
; ---------------------------------------------------------------------------

loc_29F7C:				; CODE XREF: UpDateMenu+E4Fj
		push	96h ; '–'
		push	6Ch ; 'l'
		push	8Fh ; ''
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aCom	; "COM"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	al, NGPort
		xor	ah, ah
		add	ax, 31h	; '1'
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutStringFloat
		push	96h ; '–'
		push	77h ; 'w'
		push	8Fh ; ''
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset asc_2911F ; "######"
		push	cs
		push	di
		mov	al, NGBaud
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di+26Eh]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 0C200h
		mov	dx, 1
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	Trim
		call	PutStringFloat

locret_29FFF:				; CODE XREF: UpDateMenu:loc_29361j
					; UpDateMenu+28Dj ...
		leave
		retf
UpDateMenu	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpdatePause	proc far		; CODE XREF: ShowVesaScreen+BP
					; ShowScreen+18P
		push	bp
		mov	bp, sp
		mov	ax, VideoCX
		sub	ax, word_37590
		push	ax
		mov	ax, VideoCY
		sub	ax, 1Eh
		push	ax
		push	m_pause
		push	word_3758E
		push	VgaSeg
		push	0
		les	di, dword_37592
		push	es
		push	di
		call	PutIcon
		leave
		retf
UpdatePause	endp

; ---------------------------------------------------------------------------

ShiftRect:
		push	bp
		mov	bp, sp
		mov	di, [bp+4]
		mov	ax, ss:[di-2]
		les	di, [bp+6]
		add	es:[di], ax
		mov	di, [bp+4]
		mov	ax, ss:[di-4]
		les	di, [bp+6]
		add	es:[di+2], ax
		mov	di, [bp+4]
		mov	ax, ss:[di-2]
		les	di, [bp+6]
		add	es:[di+4], ax
		mov	di, [bp+4]
		mov	ax, ss:[di-4]
		les	di, [bp+6]
		add	es:[di+6], ax
		leave
		retn	6

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CorrectMenuPos	proc far		; CODE XREF: ProcessMenu+671P
		enter	4, 0
		jmp	locret_2A126
; ---------------------------------------------------------------------------
		db 0A1h	; ¡
		db  46h	; F
		db 0F5h	; õ
		db  3Bh	; ;
		db    6
		db  48h	; H
		db 0F5h	; õ
		db  75h	; u
		db    3
		db 0E9h	; é
		db 0A9h	; ©
		db    0
		db  83h	; ƒ
		db  3Eh	; >
		db  46h	; F
		db 0F5h	; õ
		db    2
		db  75h	; u
		db  0Ch
		db 0C7h	; Ç
		db  46h	; F
		db 0FEh	; þ
		db 0A0h	;  
		db    0
		db 0C7h	; Ç
		db  46h	; F
		db 0FCh	; ü
		db  3Ch	; <
		db    0
		db 0EBh	; ë
		db  0Ah
		db 0C7h	; Ç
		db  46h	; F
		db 0FEh	; þ
		db  60h	; `
		db 0FFh
		db 0C7h	; Ç
		db  46h	; F
		db 0FCh	; ü
		db 0C4h	; Ä
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  10h
		db    0
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  84h	; „
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  28h	; (
		db    0
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  76h	; v
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  40h	; @
		db    0
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  68h	; h
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  68h	; h
		db    0
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  5Ah	; Z
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db 0C2h	; Â
		db    1
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  4Ch	; L
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  32h	; 2
		db    2
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  3Eh	; >
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  0Ah
		db    7
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  30h	; 0
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  92h	; ’
		db    7
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  22h	; "
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db 0FAh	; ú
		db    7
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db  14h
		db 0FFh
		db 0C4h	; Ä
		db  3Eh	; >
		db  1Ah
		db  13h
		db  81h	; 
		db 0C7h	; Ç
		db  92h	; ’
		db    8
		db    6
		db  57h	; W
		db  55h	; U
		db 0E8h	; è
		db    6
		db 0FFh
; ---------------------------------------------------------------------------

locret_2A126:				; CODE XREF: CorrectMenuPos+4j
		leave
		retf
CorrectMenuPos	endp

; ---------------------------------------------------------------------------
a____1		db 4,' ...'             ; DATA XREF: ScanSavedNames:loc_2A149o
					; ScanSavedNames+F9o
a@_20		db 2,'@#'               ; DATA XREF: ScanSavedNames+40o
					; ScanSavedNames+8Do
aChasm_3	db 5,'CHASM'            ; DATA XREF: ScanSavedNames+30o
					; ScanSavedNames+7Do
a_sav_1		db 4,'.SAV'             ; DATA XREF: ScanSavedNames+5Bo
					; ScanSavedNames+A8o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScanSavedNames	proc far		; CODE XREF: ProcessMenu+53FP
					; ProcessPreKeyboard+151P ...

var_482		= byte ptr -482h
var_382		= byte ptr -382h
var_282		= byte ptr -282h
var_182		= byte ptr -182h
var_82		= byte ptr -82h
var_2		= word ptr -2

		enter	482h, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2A149
; ---------------------------------------------------------------------------

loc_2A146:				; CODE XREF: ScanSavedNames+11Bj
		inc	[bp+var_2]

loc_2A149:				; CODE XREF: ScanSavedNames+9j
		mov	di, offset a____1 ; " ..."
		push	cs
		push	di
		imul	ax, [bp+var_2],	28h
		les	di, PM
		add	di, ax
		add	di, 0F50h
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_282]
		push	ss
		push	di
		mov	di, offset aChasm_3 ; "CHASM"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_182]
		push	ss
		push	di
		mov	di, offset a@_20 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_2]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_sav_1 ; ".SAV"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	ExistFile
		or	al, al
		jnz	short loc_2A1AC
		jmp	loc_2A250
; ---------------------------------------------------------------------------

loc_2A1AC:				; CODE XREF: ScanSavedNames+6Cj
		lea	di, [bp+var_82]
		push	ss
		push	di
		lea	di, [bp+var_482]
		push	ss
		push	di
		mov	di, offset aChasm_3 ; "CHASM"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_382]
		push	ss
		push	di
		mov	di, offset a@_20 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+var_2]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset a_sav_1 ; ".SAV"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		lea	di, [bp+var_82]
		push	ss
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		lea	di, [bp+var_82]
		push	ss
		push	di
		imul	ax, [bp+var_2],	28h
		les	di, PM
		add	di, ax
		add	di, 0F50h
		push	es
		push	di
		push	28h ; '('
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_82]
		push	ss
		push	di
		call	@Close$qm4File	; Close(var f: File)
		call	@IOResult$qv	; IOResult: Word{AX}
		or	ax, ax
		jz	short loc_2A250
		mov	di, offset a____1 ; " ..."
		push	cs
		push	di
		imul	ax, [bp+var_2],	28h
		les	di, PM
		add	di, ax
		add	di, 0F50h
		push	es
		push	di
		push	27h ; '''
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_2A250:				; CODE XREF: ScanSavedNames+6Ej
					; ScanSavedNames+F7j
		cmp	[bp+var_2], 9
		jz	short locret_2A259
		jmp	loc_2A146
; ---------------------------------------------------------------------------

locret_2A259:				; CODE XREF: ScanSavedNames+119j
		leave
		retf
ScanSavedNames	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadPicFromCel	proc near		; CODE XREF: LoadMenuResourses+862p
					; LoadMenuResourses+86Fp ...

var_104		= dword	ptr -104h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		enter	104h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_4]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		les	di, [bp+arg_0]
		mov	word ptr [bp+var_104], di
		mov	word ptr [bp+var_104+2], es
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_104]
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_104]
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_104]
		add	di, 2
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_104]
		mov	ax, es:[di]
		shr	ax, 1
		mov	es:[di+4], ax
		add	di, 6
		push	es
		push	di
		les	di, [bp+var_104]
		mov	ax, es:[di]
		mul	word ptr es:[di+2]
		push	ax
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_104]
		les	di, es:[di+6]
		push	es
		push	di
		les	di, [bp+var_104]
		mov	ax, es:[di]
		mul	word ptr es:[di+2]
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		leave
		retn	8
LoadPicFromCel	endp

; ---------------------------------------------------------------------------
aMenuMenu_txt	db 13,'MENU\menu.txt'   ; DATA XREF: LoadMenuResourses+16o
aMenuM_tile1_ce	db 16,'menu\m_tile1.cel' ; DATA XREF: LoadMenuResourses+6EBo
asc_2A360	db 6,'##:   '           ; DATA XREF: LoadMenuResourses+75Bo
asc_2A367	db 3,'###'              ; DATA XREF: LoadMenuResourses+777o
unk_2A36B	db    1			; DATA XREF: LoadMenuResourses+797o
		db  12h
asc_2A36D	db 5,'###  '            ; DATA XREF: LoadMenuResourses+7A7o
aFlat		db 6,' FLAT '           ; DATA XREF: LoadMenuResourses+7EEo
aBanked		db 6,'BANKED'           ; DATA XREF: LoadMenuResourses+817o
aMenuM_main_cel	db 15,'menu\m_main.cel' ; DATA XREF: LoadMenuResourses:loc_2AC2Ao
aMenuM_new_cel	db 14,'menu\m_new.cel'  ; DATA XREF: LoadMenuResourses+865o
aMenuM_netwrk_c	db 17,'menu\m_netwrk.cel' ; DATA XREF: LoadMenuResourses+872o
aMenuM_pause_ce	db 16,'menu\m_pause.cel' ; DATA XREF: LoadMenuResourses+87Fo
aMenuPtors_cel	db 14,'menu\ptors.cel'  ; DATA XREF: LoadMenuResourses+88Co

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadMenuResourses proc near		; CODE XREF: sub_2AC6D+3p

var_306		= byte ptr -306h
var_206		= byte ptr -206h
var_106		= byte ptr -106h
var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	306h, 0
		mov	di, offset PM
		push	ds
		push	di
		push	10E0h
		call	GetMem16
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, offset aMenuMenu_txt ; "MENU\\menu.txt"
		push	cs
		push	di
		call	TOpen
		les	di, PM
		add	di, 10h
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset Ft
		push	ds
		push	di
		les	di, PM
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, PM
		add	di, 28h	; '('
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset Ft
		push	ds
		push	di
		les	di, PM
		add	di, 18h
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, PM
		add	di, 40h	; '@'
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset Ft
		push	ds
		push	di
		les	di, PM
		add	di, 30h	; '0'
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, PM
		add	di, 68h	; 'h'
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset Ft
		push	ds
		push	di
		les	di, PM
		add	di, 48h	; 'H'
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset Ft
		push	ds
		push	di
		les	di, PM
		add	di, 58h	; 'X'
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		les	di, PM
		add	di, 1C2h
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A5E3
; ---------------------------------------------------------------------------

loc_2A5DF:				; CODE XREF: LoadMenuResourses+238j
		inc	n__0

loc_2A5E3:				; CODE XREF: LoadMenuResourses+20Bj
		mov	di, offset Ft
		push	ds
		push	di
		imul	ax, n__0, 1Ah
		les	di, PM
		add	di, ax
		add	di, 70h	; 'p'
		push	es
		push	di
		push	19h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 0Ch
		jnz	short loc_2A5DF
		les	di, PM
		add	di, 232h
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A65E
; ---------------------------------------------------------------------------

loc_2A65A:				; CODE XREF: LoadMenuResourses+2B3j
		inc	n__0

loc_2A65E:				; CODE XREF: LoadMenuResourses+286j
		mov	di, offset Ft
		push	ds
		push	di
		imul	ax, n__0, 1Ah
		les	di, PM
		add	di, ax
		add	di, 1CAh
		push	es
		push	di
		push	19h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 3
		jnz	short loc_2A65A
		les	di, PM
		add	di, 548h
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A6D9
; ---------------------------------------------------------------------------

loc_2A6D5:				; CODE XREF: LoadMenuResourses+32Ej
		inc	n__0

loc_2A6D9:				; CODE XREF: LoadMenuResourses+301j
		mov	di, offset Ft
		push	ds
		push	di
		imul	ax, n__0, 2Eh
		les	di, PM
		add	di, ax
		add	di, 23Ah
		push	es
		push	di
		push	2Dh ; '-'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 0Ch
		jnz	short loc_2A6D5
		les	di, PM
		add	di, 70Ah
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A754
; ---------------------------------------------------------------------------

loc_2A750:				; CODE XREF: LoadMenuResourses+3A9j
		inc	n__0

loc_2A754:				; CODE XREF: LoadMenuResourses+37Cj
		mov	di, offset Ft
		push	ds
		push	di
		imul	ax, n__0, 1Ah
		les	di, PM
		add	di, ax
		add	di, 550h
		push	es
		push	di
		push	19h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 10h
		jnz	short loc_2A750
		les	di, PM
		add	di, 792h
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A7CF
; ---------------------------------------------------------------------------

loc_2A7CB:				; CODE XREF: LoadMenuResourses+425j
		inc	n__0

loc_2A7CF:				; CODE XREF: LoadMenuResourses+3F7j
		mov	di, offset Ft
		push	ds
		push	di
		mov	ax, n__0
		shl	ax, 5
		les	di, PM
		add	di, ax
		add	di, 712h
		push	es
		push	di
		push	1Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 3
		jnz	short loc_2A7CB
		les	di, PM
		add	di, 7FAh
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A84B
; ---------------------------------------------------------------------------

loc_2A847:				; CODE XREF: LoadMenuResourses+4A1j
		inc	n__0

loc_2A84B:				; CODE XREF: LoadMenuResourses+473j
		mov	di, offset Ft
		push	ds
		push	di
		mov	ax, n__0
		shl	ax, 5
		les	di, PM
		add	di, ax
		add	di, 79Ah
		push	es
		push	di
		push	1Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 2
		jnz	short loc_2A847
		les	di, PM
		add	di, 892h
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A8C7
; ---------------------------------------------------------------------------

loc_2A8C3:				; CODE XREF: LoadMenuResourses+51Dj
		inc	n__0

loc_2A8C7:				; CODE XREF: LoadMenuResourses+4EFj
		mov	di, offset Ft
		push	ds
		push	di
		mov	ax, n__0
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 802h
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 8
		jnz	short loc_2A8C3
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A8FC
; ---------------------------------------------------------------------------

loc_2A8F8:				; CODE XREF: LoadMenuResourses+551j
		inc	n__0

loc_2A8FC:				; CODE XREF: LoadMenuResourses+524j
		mov	di, offset Ft
		push	ds
		push	di
		imul	ax, n__0, 16h
		les	di, PM
		add	di, ax
		add	di, 89Ah
		push	es
		push	di
		push	15h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 2
		jnz	short loc_2A8F8
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A930
; ---------------------------------------------------------------------------

loc_2A92C:				; CODE XREF: LoadMenuResourses+586j
		inc	n__0

loc_2A930:				; CODE XREF: LoadMenuResourses+558j
		mov	di, offset Ft
		push	ds
		push	di
		mov	ax, n__0
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 8DCh
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 2
		jnz	short loc_2A92C
		les	di, PM
		add	di, 96Ch
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2A9AC
; ---------------------------------------------------------------------------

loc_2A9A8:				; CODE XREF: LoadMenuResourses+602j
		inc	n__0

loc_2A9AC:				; CODE XREF: LoadMenuResourses+5D4j
		mov	di, offset Ft
		push	ds
		push	di
		mov	ax, n__0
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 90Ch
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 5
		jnz	short loc_2A9A8
		les	di, PM
		add	di, 9C8h
		mov	word ptr [bp+var_6+2], di
		mov	[bp+var_2], es
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_6+2]
		mov	es:[di+6], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2AA28
; ---------------------------------------------------------------------------

loc_2AA24:				; CODE XREF: LoadMenuResourses+67Dj
		inc	n__0

loc_2AA28:				; CODE XREF: LoadMenuResourses+650j
		mov	di, offset Ft
		push	ds
		push	di
		imul	ax, n__0, 15h
		les	di, PM
		add	di, ax
		add	di, 974h
		push	es
		push	di
		push	14h
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 3
		jnz	short loc_2AA24
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	n__0, 1
		jmp	short loc_2AA67
; ---------------------------------------------------------------------------

loc_2AA63:				; CODE XREF: LoadMenuResourses+6BDj
		inc	n__0

loc_2AA67:				; CODE XREF: LoadMenuResourses+68Fj
		mov	di, offset Ft
		push	ds
		push	di
		mov	ax, n__0
		shl	ax, 4
		les	di, PM
		add	di, ax
		add	di, 9C0h
		push	es
		push	di
		push	0Fh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	n__0, 58h ; 'X'
		jnz	short loc_2AA63
		mov	di, offset Ft
		push	ds
		push	di
		call	@Close$qm4Text	; Close(var f: Text)
		call	ChI
		call	ScanSavedNames
		mov	KbWait,	0FFFFh
		mov	di, offset MenuTiler
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aMenuM_tile1_ce ; "menu\\m_tile1.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, MenuTiler
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		mov	ax, ModesList
		mov	[bp+var_2], ax
		mov	ax, 1
		cmp	ax, [bp+var_2]
		jle	short loc_2AB0D
		jmp	loc_2AC2A
; ---------------------------------------------------------------------------

loc_2AB0D:				; CODE XREF: LoadMenuResourses+736j
		mov	n__0, ax
		jmp	short loc_2AB16
; ---------------------------------------------------------------------------

loc_2AB12:				; CODE XREF: LoadMenuResourses+855j
		inc	n__0

loc_2AB16:				; CODE XREF: LoadMenuResourses+73Ej
		imul	di, n__0, 0Dh
		add	di, 0F42Fh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset asc_2A360 ; "##:   "
		push	cs
		push	di
		mov	ax, n__0
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		lea	di, [bp+var_206]
		push	ss
		push	di
		mov	di, offset asc_2A367 ; "###"
		push	cs
		push	di
		les	di, [bp+var_6]
		assume es:nothing
		mov	ax, es:[di+2]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset unk_2A36B
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_306]
		push	ss
		push	di
		mov	di, offset asc_2A36D ; "###  "
		push	cs
		push	di
		les	di, [bp+var_6]
		mov	ax, es:[di+4]
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_6]
		cmp	byte ptr es:[di+0Ch], 0
		jz	short loc_2ABD9
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aFlat ; " FLAT "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short loc_2AC00
; ---------------------------------------------------------------------------

loc_2ABD9:				; CODE XREF: LoadMenuResourses+7DCj
		lea	di, [bp+var_106]
		push	ss
		push	di
		mov	di, offset S
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset aBanked ; "BANKED"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_2AC00:				; CODE XREF: LoadMenuResourses+805j
		mov	di, offset S
		push	ds
		push	di
		mov	ax, n__0
		inc	ax
		imul	ax, 2Eh
		les	di, PM
		add	di, ax
		add	di, 23Ah
		push	es
		push	di
		push	2Dh ; '-'
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	ax, n__0
		cmp	ax, [bp+var_2]
		jz	short loc_2AC2A
		jmp	loc_2AB12
; ---------------------------------------------------------------------------

loc_2AC2A:				; CODE XREF: LoadMenuResourses+738j
					; LoadMenuResourses+853j
		mov	di, offset aMenuM_main_cel ; "menu\\m_main.cel"
		push	cs
		push	di
		mov	di, offset MainMenu
		push	ds
		push	di
		call	LoadPicFromCel
		mov	di, offset aMenuM_new_cel ; "menu\\m_new.cel"
		push	cs
		push	di
		mov	di, offset SklMenu
		push	ds
		push	di
		call	LoadPicFromCel
		mov	di, offset aMenuM_netwrk_c ; "menu\\m_netwrk.cel"
		push	cs
		push	di
		mov	di, offset NetMenu
		push	ds
		push	di
		call	LoadPicFromCel
		mov	di, offset aMenuM_pause_ce ; "menu\\m_pause.cel"
		push	cs
		push	di
		mov	di, offset m_pause
		push	ds
		push	di
		call	LoadPicFromCel
		mov	di, offset aMenuPtors_cel ; "menu\\ptors.cel"
		push	cs
		push	di
		mov	di, offset PTors
		push	ds
		push	di
		call	LoadPicFromCel
		leave
		retn
LoadMenuResourses endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2AC6D	proc far		; CODE XREF: PROGRAM+1EP
		push	bp
		mov	bp, sp
		call	LoadMenuResourses
		leave
		retf
sub_2AC6D	endp

; ---------------------------------------------------------------------------
		align 10h
cseg07		ends

; Segment Number    : 8
; Alloc	Size	    : 6C46h
; Offset in the	file: 32A00h  Length: 6C46h
; Attributes  (1D10): CODE Moveable Relocations	Discardable DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg08		segment	para public 'CODE' use16
		assume cs:cseg08
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    8
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MovsED		proc far		; CODE XREF: PlayBrifing+41AP
					; UpDateInfo+C7P ...

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= dword	ptr  10h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		push	ds
		mov	ds, [bp+arg_E]
		mov	esi, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	es, ax
		mov	edi, [bp+arg_4]
		mov	ecx, [bp+arg_0]
		cld
		rep movs dword ptr es:[edi], dword ptr [esi]
		pop	ds
		leave
		retf	10h
MovsED		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

MovsEW		proc far		; CODE XREF: StartLoading+B1P
					; NextLoading+9BP ...

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= dword	ptr  10h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		push	ds
		mov	ds, [bp+arg_E]
		mov	esi, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	es, ax
		mov	edi, [bp+arg_4]
		mov	ecx, [bp+arg_0]
		cld
		rep movs word ptr es:[edi], word ptr [esi]
		pop	ds
		leave
		retf	10h
MovsEW		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

VESAGetDosMem	proc near		; CODE XREF: InitVideo+50p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= dword	ptr  6

		enter	4, 0
		cmp	[bp+arg_0], 400h
		jnb	short loc_2ACD5
		mov	[bp+arg_0], 400h

loc_2ACD5:				; CODE XREF: VESAGetDosMem+9j
		mov	ax, [bp+arg_0]
		xor	dx, dx
		push	dx
		push	ax
		call	KERNEL_184
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		xor	cx, cx
		mov	bx, 1
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	ax, cx
		mov	dx, bx
		mov	dx, ax
		xor	ax, ax
		les	di, [bp+arg_2]
		mov	es:[di], ax
		mov	es:[di+2], dx
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		les	di, [bp+arg_2]
		mov	es:[di+4], ax
		xor	ax, ax
		mov	es:[di+6], ax
		leave
		retn	6
VESAGetDosMem	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

VESAFreeDosMem	proc near		; CODE XREF: InitVideo+240p

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		les	di, [bp+arg_0]
		les	di, es:[di]
		push	es
		call	KERNEL_185
		leave
		retn	4
VESAFreeDosMem	endp


; =============== S U B	R O U T	I N E =======================================


ProcedError	proc near		; CODE XREF: GetVESAInfo+31p
					; GetModeInfo+3Dp ...
		mov	VESAError, 0
		cmp	al, 4Fh	; 'O'
		jnz	short loc_2AD52
		cmp	ah, 0
		jz	short locret_2AD59
		mov	VESAError, 2
		jmp	short locret_2AD59
; ---------------------------------------------------------------------------

loc_2AD52:				; CODE XREF: ProcedError+7j
		mov	VESAError, 1
		jmp	short $+2

locret_2AD59:				; CODE XREF: ProcedError+Cj
					; ProcedError+13j
		retn
ProcedError	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RealInt10h	proc near		; CODE XREF: GetVESAInfo+2Bp
					; GetModeInfo+37p

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		mov	bx, 10h
		xor	cx, cx
		les	di, [bp+arg_0]
		mov	ax, 300h
		int	31h		; DPMI Services	  ax=func xxxxh
					; SIMULATE REAL	MODE INTERRUPT
					; BL=interrupt number
					; CX=number of words to	copy from protected mode to real mode stack
					; ES:DI	/ ES:EDI = selector:offset of real mode	call structure
					; Return: CF set on error
					; CF clear if ok
		leave
		retn	4
RealInt10h	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetVESAInfo	proc near		; CODE XREF: InitVideo+59p

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		les	di, [bp+arg_0]
		mov	ax, es:[di+4]
		mov	word_4577E, ax
		mov	ax, es:[di+6]
		xor	dx, dx
		mov	DRegs__0, ax
		mov	word_4575E, dx
		mov	word_45778, 4F00h
		mov	word_4577A, 0
		mov	di, offset DRegs__0
		push	ds
		push	di
		call	RealInt10h
		mov	ax, word_45778
		call	ProcedError
		leave
		retn	4
GetVESAInfo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetModeInfo	proc near		; CODE XREF: InitVideo+C8p
					; InitVideo+1B5p

arg_0		= word ptr  4
arg_2		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	di, [bp+arg_2]
		mov	ax, es:[di+4]
		mov	word_4577E, ax
		mov	ax, es:[di+6]
		xor	dx, dx
		mov	DRegs__0, ax
		mov	word_4575E, dx
		mov	word_45778, 4F01h
		mov	word_4577A, 0
		mov	ax, [bp+arg_0]
		xor	dx, dx
		mov	word_45774, ax
		mov	word_45776, dx
		mov	di, offset DRegs__0
		push	ds
		push	di
		call	RealInt10h
		mov	ax, word_45778
		call	ProcedError
		leave
		retn	6
GetModeInfo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetVESAMode	proc far		; CODE XREF: InitVESAMonitor+58P
					; Init_HiMode+28P ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, 4F02h
		mov	bx, [bp+arg_0]
		int	10h		; - VIDEO - VESA SuperVGA BIOS -  SET SuperVGA VIDEO MODE
					; BX = mode, bit 15 set	means don't clear video memory
					; BX = bit 15 set means	don't clear video memory
					; Return: AL = 4Fh function supported
					; AH = 00h successful, 01h failed
		call	ProcedError
		mov	VESABank, 0
		leave
		retf	2
SetVESAMode	endp


; =============== S U B	R O U T	I N E =======================================


SwitchBank	proc far		; CODE XREF: ShowValue+EP
					; VESA_PutImage+1AP ...
		mov	ax, 4F05h
		mov	bx, 0
		shl	dx, 0FFh
		int	10h		; - VIDEO - VESA SuperVGA BIOS -  VESA SuperVGA	BIOS - CPU VIDEO MEMORY	CONTROL
					; BL = 00h window A, 01h window	B
					; Return: AL = 4Fh function supported
					; AH = 00h successful, 01h failed
					; BH = subfunctionselect video memory window
		shr	dx, 0FFh
		mov	VESABank, dx
		retf
SwitchBank	endp


; =============== S U B	R O U T	I N E =======================================


OnlySwitchBank	proc near		; CODE XREF: VESA_PutImage+5Ap
					; VESA_PutImage+7Cp
		mov	ax, 4F05h
		mov	bx, 0
		shl	dx, 0FFh
		int	10h		; - VIDEO - VESA SuperVGA BIOS -  VESA SuperVGA	BIOS - CPU VIDEO MEMORY	CONTROL
					; BL = 00h window A, 01h window	B
					; Return: AL = 4Fh function supported
					; AH = 00h successful, 01h failed
					; BH = subfunctionselect video memory window
		shr	dx, 0FFh
		retn
OnlySwitchBank	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddMode		proc near		; CODE XREF: InitVideo+2Cp
					; InitVideo+221p

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_2		= byte ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		enter	0Ah, 0
		cmp	ModesList, 0Bh
		jb	short loc_2AE32
		jmp	locret_2AF26
; ---------------------------------------------------------------------------

loc_2AE32:				; CODE XREF: AddMode+9j
		cmp	ModesList, 0
		jbe	short loc_2AE74
		mov	ax, ModesList
		mov	[bp+var_8], ax
		mov	ax, 1
		cmp	ax, [bp+var_8]
		ja	short loc_2AE74
		mov	[bp+var_2], ax
		jmp	short loc_2AE4F
; ---------------------------------------------------------------------------

loc_2AE4C:				; CODE XREF: AddMode+4Ej
		inc	[bp+var_2]

loc_2AE4F:				; CODE XREF: AddMode+26j
		imul	di, [bp+var_2],	0Dh
		mov	ax, [di-0BCFh]
		cmp	ax, [bp+arg_8]
		jnz	short loc_2AE6C
		imul	di, [bp+var_2],	0Dh
		mov	ax, [di-0BCDh]
		cmp	ax, [bp+arg_6]
		jnz	short loc_2AE6C
		jmp	locret_2AF26
; ---------------------------------------------------------------------------

loc_2AE6C:				; CODE XREF: AddMode+36j AddMode+43j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jnz	short loc_2AE4C

loc_2AE74:				; CODE XREF: AddMode+13j AddMode+21j
		inc	ModesList
		mov	ax, ModesList
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_6]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	[bp+var_6], ax
		mov	[bp+var_4], dx

loc_2AE97:				; CODE XREF: AddMode+97j
		cmp	[bp+var_2], 1
		jbe	short loc_2AEBD
		mov	ax, [bp+var_2]
		dec	ax
		imul	di, ax,	0Dh
		mov	ax, [di-0BC9h]
		mov	dx, [di-0BC7h]
		cmp	dx, [bp+var_4]
		jg	short loc_2AEB8
		jl	short loc_2AEBD
		cmp	ax, [bp+var_6]
		jbe	short loc_2AEBD

loc_2AEB8:				; CODE XREF: AddMode+8Bj
		dec	[bp+var_2]
		jmp	short loc_2AE97
; ---------------------------------------------------------------------------

loc_2AEBD:				; CODE XREF: AddMode+77j AddMode+8Dj ...
		mov	ax, [bp+var_2]
		cmp	ax, ModesList
		jz	short loc_2AEEC
		imul	di, [bp+var_2],	0Dh
		add	di, 0F42Fh
		push	ds
		push	di
		mov	ax, [bp+var_2]
		inc	ax
		imul	di, ax,	0Dh
		add	di, 0F42Fh
		push	ds
		push	di
		mov	ax, ModesList
		sub	ax, [bp+var_2]
		imul	ax, 0Dh
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)

loc_2AEEC:				; CODE XREF: AddMode+A0j
		imul	di, [bp+var_2],	0Dh
		add	di, 0F42Fh
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, [bp+arg_8]
		mov	es:[di+2], ax
		mov	ax, [bp+arg_6]
		mov	es:[di+4], ax
		mov	ax, [bp+arg_A]
		mov	es:[di], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+6], ax
		mov	ax, [bp+var_6]
		mov	dx, [bp+var_4]
		mov	es:[di+8], ax
		mov	es:[di+0Ah], dx
		mov	al, [bp+arg_2]
		mov	es:[di+0Ch], al

locret_2AF26:				; CODE XREF: AddMode+Bj AddMode+45j
		leave
		retn	0Ch
AddMode		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitVideo	proc near		; CODE XREF: sub_317C3+3p

var_312		= dword	ptr -312h
var_30A		= byte ptr -30Ah
var_306		= word ptr -306h
var_2FA		= word ptr -2FAh
var_2F8		= word ptr -2F8h
var_2F6		= word ptr -2F6h
var_2F2		= byte ptr -2F2h
var_2F1		= byte ptr -2F1h
var_2E2		= word ptr -2E2h
var_2E0		= word ptr -2E0h
var_208		= word ptr -208h
var_206		= word ptr -206h
var_204		= word ptr -204h
var_1F6		= word ptr -1F6h
var_8		= word ptr -8
var_6		= word ptr -6
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	312h, 0
		mov	VESAPresent, 0
		mov	VESA20Compliant, 0
		xor	ax, ax
		mov	VESAVersion, ax
		mov	TotalMemory, 100h
		xor	ax, ax
		mov	ModesList, ax
		push	0
		push	140h
		push	0C8h ; 'È'
		push	140h
		push	1
		push	bp
		call	AddMode
		mov	ax, cs
		push	ax
		call	KERNEL_175
		mov	[bp+var_8], ax
		push	[bp+var_8]
		push	0
		push	0FA00h
		call	KERNEL_189
		lea	di, [bp+var_312]
		push	ss
		push	di
		push	400h
		call	VESAGetDosMem
		lea	di, [bp+var_312]
		push	ss
		push	di
		call	GetVESAInfo
		les	di, [bp+var_312]
		assume es:nothing
		push	es
		push	di
		lea	di, [bp+var_208]
		push	ss
		push	di
		push	200h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		cmp	VESAError, 0
		jnz	short loc_2AFC1
		cmp	[bp+var_206], 4153h
		jnz	short loc_2AFB1
		cmp	[bp+var_208], 4556h
		jz	short loc_2AFC5

loc_2AFB1:				; CODE XREF: InitVideo+7Dj
		cmp	[bp+var_206], 3245h
		jnz	short loc_2AFC1
		cmp	[bp+var_208], 4256h
		jz	short loc_2AFC5

loc_2AFC1:				; CODE XREF: InitVideo+75j
					; InitVideo+8Dj
		mov	al, 0
		jmp	short loc_2AFC7
; ---------------------------------------------------------------------------

loc_2AFC5:				; CODE XREF: InitVideo+85j
					; InitVideo+95j
		mov	al, 1

loc_2AFC7:				; CODE XREF: InitVideo+99j
		mov	[bp+var_3], al
		cmp	[bp+var_3], 0
		jnz	short loc_2AFD3
		jmp	locret_2B175
; ---------------------------------------------------------------------------

loc_2AFD3:				; CODE XREF: InitVideo+A4j
		mov	VESAPresent, 1
		mov	ax, [bp+var_204]
		mov	VESAVersion, ax
		mov	ax, [bp+var_1F6]
		shl	ax, 6
		mov	TotalMemory, ax
		lea	di, [bp+var_312]
		push	ss
		push	di
		push	100h
		call	GetModeInfo
		les	di, [bp+var_312]
		push	es
		push	di
		lea	di, [bp+var_30A]
		push	ss
		push	di
		push	102h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		mov	ax, [bp+var_2E2]
		mov	dx, [bp+var_2E0]
		mov	VESA20Addr, ax
		mov	word_45688, dx
		cmp	VESAVersion, 200h
		jb	short loc_2B054
		mov	ax, VESA20Addr
		or	ax, word_45688
		jz	short loc_2B054
		mov	ax, ds
		push	ax
		call	KERNEL_175
		mov	FLATSelector, ax
		push	FLATSelector
		push	word_45688
		push	VESA20Addr
		call	KERNEL_187
		mov	ax, 8
		mov	bx, FLATSelector
		mov	cx, 10h
		mov	dx, 0
		int	31h		; DPMI Services	  ax=func xxxxh
					; SET SEGMENT LIMIT
					; BX = selector, CX:DX = segment limit
					; Return: CF set on error
					; CF clear if successful

loc_2B054:				; CODE XREF: InitVideo+F4j
					; InitVideo+FDj
		cmp	[bp+var_306], 0
		jnz	short loc_2B061
		mov	[bp+var_306], 40h ; '@'

loc_2B061:				; CODE XREF: InitVideo+12Fj
		mov	[bp+var_2], 0
		mov	ax, 40h	; '@'
		xor	dx, dx
		div	[bp+var_306]
		mov	[bp+var_1], al

loc_2B071:				; CODE XREF: InitVideo+160j
		cmp	[bp+var_1], 0
		jz	short loc_2B08C
		cmp	[bp+var_1], 1
		jz	short loc_2B08C
		mov	al, [bp+var_1]
		xor	ah, ah
		shr	ax, 1
		mov	[bp+var_1], al
		inc	[bp+var_2]
		jmp	short loc_2B071
; ---------------------------------------------------------------------------

loc_2B08C:				; CODE XREF: InitVideo+14Bj
					; InitVideo+151j
		mov	al, [bp+var_2]
		xor	ah, ah
		mov	VESABankShift, ax
		mov	dl, [bp+var_2]
		mov	ax, [bp+var_8]
		push	ax
		mov	di, 18Ah
		pop	es
		mov	es:[di], dl
		mov	dl, [bp+var_2]
		mov	ax, [bp+var_8]
		push	ax
		mov	di, 18Fh
		pop	es
		mov	es:[di], dl
		mov	dl, [bp+var_2]
		mov	ax, [bp+var_8]
		push	ax
		mov	di, 19Dh
		pop	es
		mov	es:[di], dl
		mov	dl, [bp+var_2]
		mov	ax, [bp+var_8]
		push	ax
		mov	di, 1A2h
		pop	es
		mov	es:[di], dl
		mov	[bp+var_6], 100h
		jmp	short loc_2B0D6
; ---------------------------------------------------------------------------

loc_2B0D3:				; CODE XREF: InitVideo+22Bj
		inc	[bp+var_6]

loc_2B0D6:				; CODE XREF: InitVideo+1A7j
		lea	di, [bp+var_312]
		push	ss
		push	di
		push	[bp+var_6]
		call	GetModeInfo
		les	di, [bp+var_312]
		push	es
		push	di
		lea	di, [bp+var_30A]
		push	ss
		push	di
		push	102h
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		cmp	[bp+var_2F1], 8
		jnz	short loc_2B14E
		mov	ax, [bp+var_2FA]
		cmp	ax, [bp+var_2F8]
		jb	short loc_2B14E
		cmp	[bp+var_2F8], 280h
		ja	short loc_2B14E
		cmp	[bp+var_2F6], 1E0h
		ja	short loc_2B14E
		cmp	[bp+var_2F2], 1
		jnz	short loc_2B14E
		mov	ax, [bp+var_2E2]
		or	ax, [bp+var_2E0]
		jz	short loc_2B12D
		mov	VESA20Compliant, 1

loc_2B12D:				; CODE XREF: InitVideo+1FCj
		push	[bp+var_6]
		push	[bp+var_2F8]
		push	[bp+var_2F6]
		push	[bp+var_2FA]
		mov	ax, [bp+var_2E2]
		or	ax, [bp+var_2E0]
		mov	al, 0
		jz	short loc_2B149
		inc	ax

loc_2B149:				; CODE XREF: InitVideo+21Cj
		push	ax
		push	bp
		call	AddMode

loc_2B14E:				; CODE XREF: InitVideo+1D1j
					; InitVideo+1DBj ...
		cmp	[bp+var_6], 200h
		jz	short loc_2B158
		jmp	loc_2B0D3
; ---------------------------------------------------------------------------

loc_2B158:				; CODE XREF: InitVideo+229j
		cmp	ModesList, 5
		jnb	short loc_2B164
		mov	VESA20Compliant, 0

loc_2B164:				; CODE XREF: InitVideo+233j
		lea	di, [bp+var_312]
		push	ss
		push	di
		call	VESAFreeDosMem
		push	[bp+var_8]
		call	KERNEL_176

locret_2B175:				; CODE XREF: InitVideo+A6j
		leave
		retn
InitVideo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

VESA_PutImage	proc far		; CODE XREF: ShowVesaScreen+BDP
					; ShowVESATime+13AP ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		enter	4, 0
		cld
		push	ds
		mov	ax, 280h
		mul	[bp+arg_A]
		add	ax, [bp+arg_C]
		adc	dx, 0
		mov	di, ax
		cmp	dx, VESABank
		jz	short loc_2B196
		call	SwitchBank

loc_2B196:				; CODE XREF: VESA_PutImage+18j
		mov	ax, SegA000
		mov	es, ax
		lds	si, [bp+arg_0]
		mov	ax, [bp+arg_8]
		mov	bx, [bp+arg_4]
		sub	bx, ax
		mov	[bp+var_4], bx
		mov	bx, 280h
		sub	bx, ax
		mov	[bp+var_2], bx
		mov	ax, [bp+arg_6]

loc_2B1B4:				; CODE XREF: VESA_PutImage+79j
					; VESA_PutImage+7Fj
		mov	cx, [bp+arg_8]
		mov	ax, di
		add	ax, cx
		jnb	short loc_2B1D5
		push	ax
		sub	cx, ax
		push	cx
		shr	cx, 2
		rep movsd
		pop	cx
		and	cx, 3
		jz	short loc_2B1D0
		rep movsb

loc_2B1D0:				; CODE XREF: VESA_PutImage+55j
		inc	dx
		call	OnlySwitchBank
		pop	cx

loc_2B1D5:				; CODE XREF: VESA_PutImage+44j
		push	cx
		shr	cx, 2
		rep movsd
		pop	cx
		and	cx, 3
		jz	short loc_2B1E5
		rep movsb

loc_2B1E5:				; CODE XREF: VESA_PutImage+6Aj
		dec	[bp+arg_6]
		jz	short loc_2B1F8
		add	si, [bp+var_4]
		add	di, [bp+var_2]
		jnb	short loc_2B1B4
		inc	dx
		call	OnlySwitchBank
		jmp	short loc_2B1B4
; ---------------------------------------------------------------------------

loc_2B1F8:				; CODE XREF: VESA_PutImage+71j
		pop	ds
		mov	VESABank, dx
		leave
		retf	0Eh
VESA_PutImage	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

VESA_Line	proc far		; CODE XREF: vesa_DrawKey+3FP
					; vesa_DrawKey+60P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	ax, SegA000
		mov	es, ax
		mov	ax, 280h
		mul	[bp+arg_4]
		add	ax, [bp+arg_6]
		adc	dx, 0
		mov	di, ax
		cmp	dx, VESABank
		jz	short loc_2B222
		call	SwitchBank

loc_2B222:				; CODE XREF: VESA_Line+1Aj
		mov	ax, [bp+arg_6]
		cmp	ax, [bp+arg_2]
		jz	short loc_2B25B
		mov	cx, [bp+arg_2]
		sub	cx, [bp+arg_6]
		js	short locret_2B27E
		mov	ax, di
		add	ax, cx
		jb	short loc_2B241
		inc	cx
		mov	al, VESA_CurrColor
		cld
		rep stosb
		jmp	short loc_2B259
; ---------------------------------------------------------------------------

loc_2B241:				; CODE XREF: VESA_Line+35j
		inc	cx
		mov	al, VESA_CurrColor

loc_2B245:				; CODE XREF: VESA_Line+4Bj
					; VESA_Line+56j
		mov	es:[di], al
		dec	cx
		jz	short loc_2B259
		inc	di
		jnz	short loc_2B245
		inc	dx
		call	SwitchBank
		mov	al, VESA_CurrColor
		jmp	short loc_2B245
; ---------------------------------------------------------------------------

loc_2B259:				; CODE XREF: VESA_Line+3Ej
					; VESA_Line+48j
		jmp	short locret_2B27E
; ---------------------------------------------------------------------------

loc_2B25B:				; CODE XREF: VESA_Line+27j
		mov	cx, [bp+arg_0]
		sub	cx, [bp+arg_4]
		js	short locret_2B27E
		inc	cx
		mov	al, VESA_CurrColor

loc_2B267:				; CODE XREF: VESA_Line+70j
					; VESA_Line+7Bj
		mov	es:[di], al
		dec	cx
		jz	short locret_2B27E
		add	di, 280h
		jnb	short loc_2B267
		inc	dx
		call	SwitchBank
		mov	al, VESA_CurrColor
		jmp	short loc_2B267
; ---------------------------------------------------------------------------

locret_2B27E:				; CODE XREF: VESA_Line+2Fj
					; VESA_Line:loc_2B259j	...
		leave
		retf	8
VESA_Line	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ClearMonitorWindow proc	near		; CODE XREF: ClearUnusedScreens+2Ep
					; InitVESAMonitor+ADp

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	0Ah, 0
		mov	di, [bp+arg_0]
		shl	di, 2
		add	di, 27Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, WinH
		mov	[bp+var_4], ax
		mov	di, [bp+arg_0]
		shl	di, 2
		mov	ax, [di+280h]
		mov	[bp+var_6], ax

loc_2B2A5:				; CODE XREF: ClearMonitorWindow+65j
		cmp	[bp+var_4], 40h	; '@'
		jle	short loc_2B2B2
		mov	[bp+var_2], 40h	; '@'
		jmp	short loc_2B2B8
; ---------------------------------------------------------------------------

loc_2B2B2:				; CODE XREF: ClearMonitorWindow+27j
		mov	ax, [bp+var_4]
		mov	[bp+var_2], ax

loc_2B2B8:				; CODE XREF: ClearMonitorWindow+2Ej
		mov	di, [bp+arg_0]
		shl	di, 2
		push	word ptr [di+27Eh]
		push	[bp+var_6]
		push	130h
		push	[bp+var_2]
		push	140h
		les	di, Ground
		assume es:nothing
		push	es
		push	di
		call	VESA_PutImage
		add	[bp+var_6], 40h	; '@'
		mov	ax, [bp+var_2]
		sub	[bp+var_4], ax
		cmp	[bp+var_4], 0
		jnz	short loc_2B2A5
		leave
		retn	2
ClearMonitorWindow endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ClearUnusedScreens proc	far		; CODE XREF: LoadClientPatch+101P
					; LoadClientPatch+326P	...

var_2		= word ptr -2

		enter	2, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2B2FB
; ---------------------------------------------------------------------------

loc_2B2F8:				; CODE XREF: ClearUnusedScreens+35j
		inc	[bp+var_2]

loc_2B2FB:				; CODE XREF: ClearUnusedScreens+9j
		mov	di, [bp+var_2]
		mov	al, [di-0AC0h]
		xor	ah, ah
		imul	di, ax,	58h
		cmp	byte ptr [di-0FD6h], 0
		jz	short loc_2B318
		mov	di, [bp+var_2]
		cmp	byte ptr [di-0AC0h], 0
		jnz	short loc_2B31E

loc_2B318:				; CODE XREF: ClearUnusedScreens+1Fj
		push	[bp+var_2]
		call	ClearMonitorWindow

loc_2B31E:				; CODE XREF: ClearUnusedScreens+29j
		cmp	[bp+var_2], 3
		jnz	short loc_2B2F8
		leave
		retf
ClearUnusedScreens endp

; ---------------------------------------------------------------------------
aServerStartNet	db 25,'SERVER START NET MONITOR.' ; DATA XREF: InitVESAMonitor+81o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitVESAMonitor	proc far		; CODE XREF: SwitchMonitor+FP
					; DoGame+203P

var_4		= dword	ptr -4

		enter	4, 0
		mov	ax, CurVideoMode
		mov	ServerSaved, ax
		mov	ax, word_45284
		mov	word_4579C, ax
		mov	ax, word_45286
		mov	word_4579E, ax
		mov	ax, word_45288
		mov	word_457A0, ax
		push	word_45284
		push	word_45286
		push	6
		push	1Ah
		push	60h ; '`'
		call	AddBlowLight
		mov	word_45284, 280h
		mov	ax, word_45284
		mov	word_45286, ax
		mov	CurVideoMode, 1
		call	AllocVideo
		call	SetVideoMode
		call	ReInitViewConst
		mov	Console, 1
		push	100h
		call	SetVESAMode
		push	word ptr VesaTiler+2
		push	word ptr VesaTiler
		call	VESA_TileScreen
		push	148h
		push	147h
		push	277h
		push	18Bh
		push	2
		push	4
		push	1
		call	vesa_DrawKey
		mov	di, offset aServerStartNet ; "SERVER START NET MONITOR."
		push	cs
		push	di
		call	PutConsMessage3
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2B3D6
; ---------------------------------------------------------------------------

loc_2B3D2:				; CODE XREF: InitVESAMonitor+D9j
		inc	n__0

loc_2B3D6:				; CODE XREF: InitVESAMonitor+90j
		mov	di, n__0
		shl	di, 2
		add	di, 27Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		push	n__0
		call	ClearMonitorWindow
		les	di, [bp+var_4]
		assume es:nothing
		push	word ptr es:[di]
		push	word ptr es:[di+2]
		mov	ax, es:[di]
		add	ax, 12Fh
		push	ax
		mov	ax, es:[di+2]
		add	ax, 95h	; '•'
		push	ax
		push	3
		push	1
		push	4
		call	vesa_DrawKey
		cmp	n__0, 3
		jnz	short loc_2B3D2
		leave
		retf
InitVESAMonitor	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

VESA_TileScreen	proc far		; CODE XREF: InitVESAMonitor+65P

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	0Ah, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		mov	[bp+var_6], 190h

loc_2B42B:				; CODE XREF: VESA_TileScreen+5Aj
		cmp	[bp+var_6], 40h	; '@'
		jbe	short loc_2B438
		mov	[bp+var_4], 40h	; '@'
		jmp	short loc_2B43E
; ---------------------------------------------------------------------------

loc_2B438:				; CODE XREF: VESA_TileScreen+12j
		mov	ax, [bp+var_6]
		mov	[bp+var_4], ax

loc_2B43E:				; CODE XREF: VESA_TileScreen+19j
		xor	ax, ax
		mov	[bp+var_8], ax
		jmp	short loc_2B448
; ---------------------------------------------------------------------------

loc_2B445:				; CODE XREF: VESA_TileScreen+4Aj
		inc	[bp+var_8]

loc_2B448:				; CODE XREF: VESA_TileScreen+26j
		mov	ax, [bp+var_8]
		shl	ax, 6
		push	ax
		push	[bp+var_2]
		push	40h ; '@'
		push	[bp+var_4]
		push	40h ; '@'
		les	di, [bp+arg_0]
		push	es
		push	di
		call	VESA_PutImage
		cmp	[bp+var_8], 9
		jnz	short loc_2B445
		add	[bp+var_2], 40h	; '@'
		mov	ax, [bp+var_4]
		sub	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jnz	short loc_2B42B
		leave
		retf	4
VESA_TileScreen	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

vesa_DrawKey	proc far		; CODE XREF: RedrawWindowSelection+46P
					; RedrawWindowSelection+81P ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		enter	4, 0
		mov	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	ax, 1
		cmp	ax, [bp+var_4]
		jle	short loc_2B492
		jmp	locret_2B535
; ---------------------------------------------------------------------------

loc_2B492:				; CODE XREF: vesa_DrawKey+10j
		mov	[bp+var_2], ax
		jmp	short loc_2B49A
; ---------------------------------------------------------------------------

loc_2B497:				; CODE XREF: vesa_DrawKey+B5j
		inc	[bp+var_2]

loc_2B49A:				; CODE XREF: vesa_DrawKey+18j
		mov	al, [bp+arg_2]
		mov	VESA_CurrColor,	al
		mov	ax, [bp+arg_C]
		sub	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_A]
		sub	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_8]
		add	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_A]
		sub	ax, [bp+var_2]
		push	ax
		call	VESA_Line
		mov	ax, [bp+arg_C]
		sub	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_A]
		sub	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_C]
		sub	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, [bp+var_2]
		push	ax
		call	VESA_Line
		mov	al, [bp+arg_0]
		mov	VESA_CurrColor,	al
		mov	ax, [bp+arg_C]
		sub	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_8]
		add	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, [bp+var_2]
		push	ax
		call	VESA_Line
		mov	ax, [bp+arg_8]
		add	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_A]
		sub	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_8]
		add	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, [bp+var_2]
		push	ax
		call	VESA_Line
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jz	short locret_2B535
		jmp	loc_2B497
; ---------------------------------------------------------------------------

locret_2B535:				; CODE XREF: vesa_DrawKey+12j
					; vesa_DrawKey+B3j
		leave
		retf	0Eh
vesa_DrawKey	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReDrawGround	proc far		; CODE XREF: DoGame+22BP PROGRAM+D01P	...

var_92		= word ptr -92h
var_90		= word ptr -90h
var_8E		= word ptr -8Eh
var_8C		= word ptr -8Ch
var_8A		= word ptr -8Ah
var_88		= word ptr -88h
var_86		= word ptr -86h
var_84		= word ptr -84h

		enter	92h, 0
		mov	ax, VideoEY
		mov	[bp+var_92], ax
		xor	ax, ax
		cmp	ax, [bp+var_92]
		jbe	short loc_2B54F
		jmp	locret_2B5F9
; ---------------------------------------------------------------------------

loc_2B54F:				; CODE XREF: ReDrawGround+11j
		mov	[bp+var_8C], ax
		jmp	short loc_2B559
; ---------------------------------------------------------------------------

loc_2B555:				; CODE XREF: ReDrawGround+BDj
		inc	[bp+var_8C]

loc_2B559:				; CODE XREF: ReDrawGround+1Aj
		mov	ax, word ptr VideoBPL
		mov	[bp+var_8E], ax
		mov	di, [bp+var_8C]
		shl	di, 2
		mov	ax, [di-6E84h]
		mov	dx, [di-6E82h]
		mov	[bp+var_8A], ax
		mov	[bp+var_88], dx
		mov	ax, [bp+var_8C]
		and	ax, 3Fh
		imul	ax, 140h
		xor	dx, dx
		mov	[bp+var_86], ax
		mov	[bp+var_84], dx

loc_2B58C:				; CODE XREF: ReDrawGround+B1j
		cmp	[bp+var_8E], 0
		jbe	short loc_2B5EC
		cmp	[bp+var_8E], 140h
		jbe	short loc_2B5A3
		mov	[bp+var_90], 140h
		jmp	short loc_2B5AB
; ---------------------------------------------------------------------------

loc_2B5A3:				; CODE XREF: ReDrawGround+60j
		mov	ax, [bp+var_8E]
		mov	[bp+var_90], ax

loc_2B5AB:				; CODE XREF: ReDrawGround+68j
		les	di, Ground
		push	es
		push	[bp+var_84]
		push	[bp+var_86]
		push	VgaSeg
		push	[bp+var_88]
		push	[bp+var_8A]
		mov	ax, [bp+var_90]
		shr	ax, 2
		xor	dx, dx
		push	dx
		push	ax
		call	MovsED
		mov	ax, [bp+var_90]
		sub	[bp+var_8E], ax
		mov	ax, [bp+var_90]
		xor	dx, dx
		add	[bp+var_8A], ax
		adc	[bp+var_88], dx
		jmp	short loc_2B58C
; ---------------------------------------------------------------------------

loc_2B5EC:				; CODE XREF: ReDrawGround+58j
		mov	ax, [bp+var_8C]
		cmp	ax, [bp+var_92]
		jz	short locret_2B5F9
		jmp	loc_2B555
; ---------------------------------------------------------------------------

locret_2B5F9:				; CODE XREF: ReDrawGround+13j
					; ReDrawGround+BBj
		leave
		retf
ReDrawGround	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowVideoBuffer	proc far		; CODE XREF: PlayBrifing+48BP
					; PlayBrifing+532P ...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	6, 0
		cmp	CurVideoMode, 1
		jnz	short loc_2B61D
		push	VgaSeg
		push	0
		push	SegA000
		push	0
		push	3E80h
		call	movsD__0
		jmp	locret_2B6C1
; ---------------------------------------------------------------------------

loc_2B61D:				; CODE XREF: ShowVideoBuffer+9j
		cmp	VideoIsFlat, 0
		jz	short loc_2B64E
		push	VgaSeg
		push	0
		push	0
		push	FLATSelector
		push	0
		push	0
		mov	ax, VPSize
		mov	dx, word_44D9C
		mov	cx, 2
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		push	dx
		push	ax
		call	MovsED
		jmp	short locret_2B6C1
; ---------------------------------------------------------------------------

loc_2B64E:				; CODE XREF: ShowVideoBuffer+27j
		mov	ax, VPSize
		mov	dx, word_44D9C
		mov	cx, 2
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		xor	ax, ax
		mov	VESABank, ax

loc_2B66A:				; CODE XREF: ShowVideoBuffer+C4j
		cmp	[bp+var_2], 0
		jg	short loc_2B679
		jl	short loc_2B680
		cmp	[bp+var_4], 4000h
		jbe	short loc_2B680

loc_2B679:				; CODE XREF: ShowVideoBuffer+73j
		mov	[bp+var_6], 4000h
		jmp	short loc_2B686
; ---------------------------------------------------------------------------

loc_2B680:				; CODE XREF: ShowVideoBuffer+75j
					; ShowVideoBuffer+7Cj
		mov	ax, [bp+var_4]
		mov	[bp+var_6], ax

loc_2B686:				; CODE XREF: ShowVideoBuffer+83j
		mov	dx, VESABank
		call	SwitchBank
		mov	ax, VESABank
		shl	ax, 3
		add	ax, VgaSeg
		push	ax
		push	0
		push	SegA000
		push	0
		push	[bp+var_6]
		call	movsD__0
		mov	ax, [bp+var_6]
		xor	dx, dx
		sub	[bp+var_4], ax
		sbb	[bp+var_2], dx
		inc	VESABank
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_2B66A

locret_2B6C1:				; CODE XREF: ShowVideoBuffer+1Fj
					; ShowVideoBuffer+51j
		leave
		retf
ShowVideoBuffer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Init320x200	proc near		; CODE XREF: SetVideoMode+Cp
		push	bp
		mov	bp, sp
		mov	ax, 13h
		int	10h		; - VIDEO - SET	VIDEO MODE
					; AL = mode
		mov	VideoW,	140h
		mov	word_44DA4, 0
		mov	VideoH,	0C8h ; 'È'
		mov	word_44DA0, 0
		mov	word ptr VideoBPL, 140h
		mov	word ptr VideoBPL+2, 0
		mov	FloorDiv, 0Ah
		mov	VideoIsFlat, 0
		leave
		retn
Init320x200	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Init_HiMode	proc near		; CODE XREF: SetVideoMode:loc_2B78Dp

var_4		= dword	ptr -4

		enter	4, 0
		imul	di, CurVideoMode, 0Dh
		add	di, 0F42Fh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	VideoIsFlat, 0
		cmp	VideoIsFlat, 0
		jz	short loc_2B72B
		mov	ax, es:[di]
		add	ax, 4000h
		push	ax
		call	SetVESAMode
		jmp	short loc_2B736
; ---------------------------------------------------------------------------

loc_2B72B:				; CODE XREF: Init_HiMode+1Fj
		les	di, [bp+var_4]
		assume es:nothing
		push	word ptr es:[di]
		call	SetVESAMode

loc_2B736:				; CODE XREF: Init_HiMode+2Dj
		les	di, [bp+var_4]
		mov	ax, es:[di+2]
		xor	dx, dx
		mov	VideoW,	ax
		mov	word_44DA4, dx
		mov	ax, es:[di+4]
		xor	dx, dx
		mov	VideoH,	ax
		mov	word_44DA0, dx
		mov	ax, es:[di+6]
		xor	dx, dx
		mov	word ptr VideoBPL, ax
		mov	word ptr VideoBPL+2, dx
		mov	ax, es:[di+2]
		add	ax, 10h
		shr	ax, 5
		mov	FloorDiv, ax
		leave
		retn
Init_HiMode	endp

; ---------------------------------------------------------------------------
asc_2B76F	db 3,'###'              ; DATA XREF: SetVideoMode+EAo
					; SetVideoMode+118o
aMode		db 6,'Mode: '           ; DATA XREF: SetVideoMode+DAo
asc_2B77A	db 1,'x'                ; DATA XREF: SetVideoMode+108o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetVideoMode	proc far		; CODE XREF: DeinitMonitor+17P
					; SwitchMonitor+46P ...

var_304		= byte ptr -304h
var_204		= byte ptr -204h
var_104		= byte ptr -104h
var_4		= word ptr -4
var_2		= word ptr -2

		enter	304h, 0
		mov	ax, CurVideoMode
		cmp	ax, 1
		jnz	short loc_2B78D
		call	Init320x200
		jmp	short loc_2B790
; ---------------------------------------------------------------------------

loc_2B78D:				; CODE XREF: SetVideoMode+Aj
		call	Init_HiMode

loc_2B790:				; CODE XREF: SetVideoMode+Fj
		mov	ax, VideoW
		mov	dx, word_44DA4
		sub	ax, 1
		sbb	dx, 0
		mov	VideoEX, ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		sub	ax, 1
		sbb	dx, 0
		mov	VideoEY, ax
		mov	ax, VideoW
		mov	dx, word_44DA4
		mov	cx, 1
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	VideoCX, ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		mov	cx, 1
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	VideoCY, ax
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		mov	cx, VideoH
		mov	bx, word_44DA0
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	VPSize,	ax
		mov	word_44D9C, dx
		xor	ax, ax
		mov	[bp+var_4], ax
		mov	[bp+var_2], ax
		jmp	short loc_2B805
; ---------------------------------------------------------------------------

loc_2B7FD:				; CODE XREF: SetVideoMode+AEj
					; SetVideoMode+B5j
		add	[bp+var_4], 1
		adc	[bp+var_2], 0

loc_2B805:				; CODE XREF: SetVideoMode+7Fj
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, word ptr VideoBPL
		mov	bx, word ptr VideoBPL+2
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	di, [bp+var_4]
		shl	di, 2
		mov	[di-6E84h], ax
		mov	[di-6E82h], dx
		cmp	[bp+var_2], 0
		jnz	short loc_2B7FD
		cmp	[bp+var_4], 2BCh
		jnz	short loc_2B7FD
		les	di, dword ptr LinesBUF
		push	es
		push	di
		push	2400h
		push	0FFFFh
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		call	SetPalette
		push	0C8h ; 'È'
		call	Delay
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset aMode ; "Mode: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_104]
		push	ss
		push	di
		mov	di, offset asc_2B76F ; "###"
		push	cs
		push	di
		mov	ax, VideoW
		mov	dx, word_44DA4
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2B77A ; "x"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_304]
		push	ss
		push	di
		mov	di, offset asc_2B76F ; "###"
		push	cs
		push	di
		mov	ax, VideoH
		mov	dx, word_44DA0
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	PutConsMessage2
		leave
		retf
SetVideoMode	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

QPifagorA32__0	proc far		; CODE XREF: AnimateRockets+106P
					; AnimateRockets+1A8P ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		xor	ecx, ecx
		mov	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	si, ax
		mov	ax, [bp+arg_0]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	di, ax
		mov	cx, si
		add	cx, di
		push	cx
		xor	eax, eax
		mov	ax, si
		xor	ebx, ebx
		mov	bx, di
		imul	ebx
		cmp	eax, 0
		jz	short loc_2B909
		mov	bx, 7
		imul	ebx
		mov	bx, cx
		shl	ebx, 3
		sub	ebx, ecx
		sub	ebx, ecx
		xor	edx, edx
		div	ebx
		pop	bx
		sub	bx, ax
		push	bx

loc_2B909:				; CODE XREF: QPifagorA32__0+32j
		pop	ax
		leave
		retf	4
QPifagorA32__0	endp


; =============== S U B	R O U T	I N E =======================================


getmousestate	proc far		; CODE XREF: GetMouseStatus:loc_22D0AP
					; CheckMouse+9P
		mov	cx, 0FFFFh
		mov	dx, 0FFFFh
		mov	ax, 3
		int	33h		; - MS MOUSE - RETURN POSITION AND BUTTON STATUS
					; Return: BX = button status, CX = column, DX =	row
		mov	MsButt,	bx
		shr	cx, 1
		mov	MsX, cx
		mov	MsY, dx
		retf
getmousestate	endp


; =============== S U B	R O U T	I N E =======================================


GetJoyX		proc far		; CODE XREF: GetJoyStatus+4EP
					; CheckJoyStick+13P ...
		mov	dx, 201h
		mov	ah, 1
		out	dx, al		; Game I/O port
					; bits 0-3: Coordinates	(resistive, time-dependent inputs)
					; bits 4-7: Buttons/Triggers (digital inputs)
		mov	bx, 0
		mov	cx, 0FA00h
		push	ax
		pop	ax
		cli

loc_2B937:				; CODE XREF: GetJoyX+1Bj
		push	ax
		pop	ax
		push	ax
		pop	ax
		push	ax
		pop	ax
		in	al, dx		; Game I/O port
					; bits 0-3: Coordinates	(resistive, time-dependent inputs)
					; bits 4-7: Buttons/Triggers (digital inputs)
		test	ah, al
		jz	short loc_2B945
		inc	bx
		loop	loc_2B937

loc_2B945:				; CODE XREF: GetJoyX+18j
		sti
		shr	bx, 1
		mov	JoyX, bx
		retf
GetJoyX		endp


; =============== S U B	R O U T	I N E =======================================


GetJoyY		proc far		; CODE XREF: GetJoyStatus+5AP
					; CheckJoyStick+1FP ...
		mov	dx, 201h
		mov	ah, 2
		out	dx, al		; Game I/O port
					; bits 0-3: Coordinates	(resistive, time-dependent inputs)
					; bits 4-7: Buttons/Triggers (digital inputs)
		mov	bx, 0
		mov	cx, 0FA00h
		push	ax
		pop	ax
		cli

loc_2B95C:				; CODE XREF: GetJoyY+1Bj
		push	ax
		pop	ax
		push	ax
		pop	ax
		push	ax
		pop	ax
		in	al, dx		; Game I/O port
					; bits 0-3: Coordinates	(resistive, time-dependent inputs)
					; bits 4-7: Buttons/Triggers (digital inputs)
		test	ah, al
		jz	short loc_2B96A
		inc	bx
		loop	loc_2B95C

loc_2B96A:				; CODE XREF: GetJoyY+18j
		sti
		shr	bx, 1
		mov	JoyY, bx
		retf
GetJoyY		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StosW		proc far		; CODE XREF: ExpandFrame+278P
					; DoGame+9F4P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		cld
		mov	ax, [bp+arg_6]
		mov	es, ax
		mov	di, [bp+arg_4]
		mov	cx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		rep stosw
		leave
		retf	8
StosW		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StosEW		proc far		; CODE XREF: UpDateInfo+4DCP

arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= dword	ptr  0Ch
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		cld
		mov	ax, [bp+arg_A]
		mov	es, ax
		mov	edi, [bp+arg_6]
		mov	ecx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		rep stos word ptr es:[edi]
		leave
		retf	0Ch
StosEW		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

movsw		proc far		; CODE XREF: LoadServerPatch+32P
					; ShowVESATime+96P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		mov	ds, [bp+arg_8]
		mov	si, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	es, ax
		mov	di, [bp+arg_2]
		mov	cx, [bp+arg_0]
		cld
		rep movsw
		pop	ds
		leave
		retf	0Ah
movsw		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ExistFile	proc far		; CODE XREF: ScanSavedNames+65P
					; FOpen+53P ...

var_116		= word ptr -116h
var_110		= word ptr -110h
var_108		= word ptr -108h
var_104		= byte ptr -104h
var_102		= byte ptr -102h
var_101		= byte ptr -101h
var_1		= byte ptr -1
arg_0		= dword	ptr  6

		enter	116h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_102]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		cmp	[bp+var_102], 0
		jnz	short loc_2B9EA
		mov	[bp+var_1], 0
		jmp	short loc_2BA34
; ---------------------------------------------------------------------------

loc_2B9EA:				; CODE XREF: ExistFile+20j
		inc	[bp+var_102]
		mov	al, [bp+var_102]
		xor	ah, ah
		mov	di, ax
		mov	[bp+di+var_102], 0
		mov	[bp+var_116], 4300h
		mov	ax, ss
		mov	[bp+var_108], ax
		lea	ax, [bp+var_101]
		mov	[bp+var_110], ax
		lea	di, [bp+var_116]
		push	ss
		push	di
		call	MsDos
		mov	al, [bp+var_104]
		shr	al, 1
		jb	short loc_2BA2B
		call	@IOResult$qv	; IOResult: Word{AX}
		or	ax, ax
		jz	short loc_2BA2F

loc_2BA2B:				; CODE XREF: ExistFile+5Ej
		mov	al, 0
		jmp	short loc_2BA31
; ---------------------------------------------------------------------------

loc_2BA2F:				; CODE XREF: ExistFile+67j
		mov	al, 1

loc_2BA31:				; CODE XREF: ExistFile+6Bj
		mov	[bp+var_1], al

loc_2BA34:				; CODE XREF: ExistFile+26j
		mov	al, [bp+var_1]
		leave
		retf	4
ExistFile	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TextSeek	proc near		; CODE XREF: TOpen+1A7p

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		enter	0Ah, 0
		les	di, [bp+arg_4]
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	[bp+var_1], 0
		cmp	word ptr es:[di+2], 0D7B1h
		jz	short loc_2BA57
		jmp	loc_2BB21
; ---------------------------------------------------------------------------

loc_2BA57:				; CODE XREF: TextSeek+17j
		mov	Regs, 4201h
		les	di, [bp+var_A]
		mov	ax, es:[di]
		mov	word_4520C, ax
		xor	ax, ax
		mov	word_4520E, ax
		xor	ax, ax
		mov	word_45210, ax
		mov	di, offset Regs
		push	ds
		push	di
		call	MsDos
		mov	al, byte_4521C
		shr	al, 1
		jnb	short loc_2BA84
		jmp	loc_2BB21
; ---------------------------------------------------------------------------

loc_2BA84:				; CODE XREF: TextSeek+44j
		mov	ax, word_45210
		mov	[bp+var_4], ax
		mov	ax, Regs
		mov	[bp+var_6], ax
		les	di, [bp+var_A]
		mov	ax, es:[di+0Ah]
		xor	dx, dx
		sub	[bp+var_6], ax
		sbb	[bp+var_4], dx
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		sub	ax, [bp+var_6]
		sbb	dx, [bp+var_4]
		mov	[bp+var_6], ax
		mov	[bp+var_4], dx
		cmp	[bp+var_4], 0
		jg	short loc_2BABF
		jl	short loc_2BAE0
		cmp	[bp+var_6], 0
		jb	short loc_2BAE0

loc_2BABF:				; CODE XREF: TextSeek+7Aj
		les	di, [bp+var_A]
		mov	ax, es:[di+0Ah]
		xor	dx, dx
		cmp	dx, [bp+var_4]
		jg	short loc_2BAD4
		jl	short loc_2BAE0
		cmp	ax, [bp+var_6]
		jbe	short loc_2BAE0

loc_2BAD4:				; CODE XREF: TextSeek+90j
		mov	ax, [bp+var_6]
		les	di, [bp+var_A]
		mov	es:[di+8], ax
		jmp	short loc_2BB1D
; ---------------------------------------------------------------------------

loc_2BAE0:				; CODE XREF: TextSeek+7Cj TextSeek+82j ...
		mov	Regs, 4200h
		les	di, [bp+var_A]
		mov	ax, es:[di]
		mov	word_4520C, ax
		mov	ax, [bp+arg_2]
		mov	word_4520E, ax
		mov	ax, [bp+arg_0]
		mov	word_45210, ax
		mov	di, offset Regs
		push	ds
		push	di
		call	MsDos
		mov	al, byte_4521C
		shr	al, 1
		jnb	short loc_2BB0E
		jmp	short loc_2BB21
; ---------------------------------------------------------------------------

loc_2BB0E:				; CODE XREF: TextSeek+CFj
		les	di, [bp+var_A]
		xor	ax, ax
		mov	es:[di+0Ah], ax
		xor	ax, ax
		mov	es:[di+8], ax

loc_2BB1D:				; CODE XREF: TextSeek+A3j
		mov	[bp+var_1], 1

loc_2BB21:				; CODE XREF: TextSeek+19j TextSeek+46j ...
		mov	al, [bp+var_1]
		leave
		retn	8
TextSeek	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

movsD__0	proc far		; CODE XREF: RestoreLights+18DP
					; RestoreLights+1B3P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		mov	ds, [bp+arg_8]
		mov	si, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	es, ax
		mov	di, [bp+arg_2]
		mov	cx, [bp+arg_0]
		cld
		rep movsd
		pop	ds
		leave
		retf	0Ah
movsD__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

settimer	proc far		; CODE XREF: PROGRAM+C9CP DoHalt+3AP

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	al, 36h	; '6'
		out	43h, al		; Timer	8253-5 (AT: 8254.2).
		mov	ax, [bp+arg_0]
		out	40h, al		; Timer	8253-5 (AT: 8254.2).
		mov	al, ah
		out	40h, al		; Timer	8253-5 (AT: 8254.2).
		leave
		retf	2
settimer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Beep		proc far		; CODE XREF: LoadServerPatch+144P
					; LoadServerPatch+184P

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_2]
		call	Sound
		imul	ax, [bp+arg_0],	0Ah
		push	ax
		call	Delay
		call	NoSound
		leave
		retf	4
Beep		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FSeek		proc far		; CODE XREF: LoadVoice+FFP
					; PlayBrifing+C0P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		cmp	Internal, 0
		jz	short loc_2BBA0
		les	di, [bp+arg_4]
		push	es
		push	di
		mov	ax, es:[di+80h]
		mov	dx, es:[di+82h]
		add	ax, [bp+arg_0]
		adc	dx, [bp+arg_2]
		push	dx
		push	ax
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)
		jmp	short locret_2BBB0
; ---------------------------------------------------------------------------

loc_2BBA0:				; CODE XREF: FSeek+8j
		les	di, [bp+arg_4]
		push	es
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)

locret_2BBB0:				; CODE XREF: FSeek+26j
		leave
		retf	8
FSeek		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FClose		proc far		; CODE XREF: LoadVoice+1EBP
					; PlayBrifing+E1P ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	di, [bp+arg_0]
		push	es
		push	di
		call	@Close$qm4File	; Close(var f: File)
		les	di, [bp+arg_0]
		xor	ax, ax
		mov	es:[di+80h], ax
		mov	es:[di+82h], ax
		xor	ax, ax
		mov	es:[di+84h], ax
		mov	es:[di+86h], ax
		leave
		retf	4
FClose		endp

; ---------------------------------------------------------------------------
a@_21		db 3,'@##'              ; DATA XREF: FOpen+D9o FOpen+31Do
aIOError	db 11,'I/O Error #'     ; DATA XREF: FOpen+C9o FOpen+30Do
aFile		db 7,' (File:'          ; DATA XREF: FOpen+F5o FOpen+339o
asc_2BBF8	db 1,')'                ; DATA XREF: FOpen+109o FOpen+27Eo ...
aFseekErrorInFi	db 20,'FSeek error in file '
aCsm_binOpenErr	db 26,'CSM.BIN Open Error. (File:' ; DATA XREF: FOpen+26Ao
aChasmdat	db 9,'CHASMDAT\'        ; DATA XREF: FOpen+2AEo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FOpen		proc far		; CODE XREF: LoadVoice+B1P
					; PlayBrifing+B1P ...

var_404		= byte ptr -404h
var_304		= byte ptr -304h
var_204		= byte ptr -204h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	404h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	byte ptr UserMaps, 0
		jnz	short loc_2BC6C
		jmp	loc_2BD4F
; ---------------------------------------------------------------------------

loc_2BC6C:				; CODE XREF: FOpen+33j
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset AddonPath
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	ExistFile
		or	al, al
		jnz	short loc_2BC93
		jmp	loc_2BD4F
; ---------------------------------------------------------------------------

loc_2BC93:				; CODE XREF: FOpen+5Aj
		les	di, [bp+arg_4]
		push	es
		push	di
		lea	di, [bp+var_304]
		push	ss
		push	di
		mov	di, offset AddonPath
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		les	di, [bp+arg_4]
		push	es
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		les	di, [bp+arg_4]
		xor	ax, ax
		mov	es:[di+80h], ax
		mov	es:[di+82h], ax
		push	es
		push	di
		call	@FileSize$qm4File ; FileSize(var f): Longint{DX:AX}
		les	di, [bp+arg_4]
		mov	es:[di+84h], ax
		mov	es:[di+86h], dx
		call	@IOResult$qv	; IOResult: Word{AX}
		mov	[bp+var_102], ax
		cmp	[bp+var_102], 0
		jz	short loc_2BD4C
		lea	di, [bp+var_404]
		push	ss
		push	di
		mov	di, offset aIOError ; "I/O Error #"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_304]
		push	ss
		push	di
		mov	di, offset a@_21 ; "@##"
		push	cs
		push	di
		mov	ax, [bp+var_102]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aFile ; " (File:"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2BBF8 ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_2BD4C:				; CODE XREF: FOpen+C1j
		jmp	locret_2BF90
; ---------------------------------------------------------------------------

loc_2BD4F:				; CODE XREF: FOpen+35j	FOpen+5Cj
		cmp	Internal, 0
		jnz	short loc_2BD59
		jmp	loc_2BEC4
; ---------------------------------------------------------------------------

loc_2BD59:				; CODE XREF: FOpen+120j
		lea	di, [bp+var_304]
		push	ss
		push	di
		lea	di, [bp+var_204]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	JustFilename
		call	StUpcase
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	[bp+var_104], 0FFFFh
		mov	ax, intFCnt
		mov	[bp+var_106], ax
		xor	ax, ax
		cmp	ax, [bp+var_106]
		jle	short loc_2BDAE
		jmp	loc_2BE91
; ---------------------------------------------------------------------------

loc_2BDAE:				; CODE XREF: FOpen+175j
		mov	[bp+var_102], ax
		jmp	short loc_2BDB8
; ---------------------------------------------------------------------------

loc_2BDB4:				; CODE XREF: FOpen+25Aj
		inc	[bp+var_102]

loc_2BDB8:				; CODE XREF: FOpen+17Ej
		imul	ax, [bp+var_102], 15h
		les	di, FileTable
		add	di, ax
		push	es
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_2BDD5
		jmp	loc_2BE84
; ---------------------------------------------------------------------------

loc_2BDD5:				; CODE XREF: FOpen+19Cj
		les	di, [bp+arg_4]
		push	es
		push	di
		mov	di, offset BaseFile
		push	ds
		push	di
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		les	di, [bp+arg_4]
		push	es
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		imul	ax, [bp+var_102], 15h
		les	di, FileTable
		add	di, ax
		mov	ax, es:[di+11h]
		mov	dx, es:[di+13h]
		les	di, [bp+arg_4]
		mov	es:[di+80h], ax
		mov	es:[di+82h], dx
		imul	ax, [bp+var_102], 15h
		les	di, FileTable
		add	di, ax
		mov	ax, es:[di+0Dh]
		mov	dx, es:[di+0Fh]
		les	di, [bp+arg_4]
		mov	es:[di+84h], ax
		mov	es:[di+86h], dx
		push	es
		push	di
		push	word ptr es:[di+82h]
		push	word ptr es:[di+80h]
		call	@Seek$qm4File7Longint ;	Seek(var f; n: Longint)
		mov	[bp+var_104], 1
		jmp	short loc_2BE91
; ---------------------------------------------------------------------------
		db 0C4h	; Ä
		db  7Eh	; ~
		db  0Ah
		db    6
		db  57h	; W
		db  9Ah	; š
		dd @FilePos$qm4File	; FilePos(var f): Longint{DX:AX}
		db 0C4h	; Ä
		db  7Eh	; ~
		db  0Ah
		db  26h	; &
		db  3Bh	; ;
		db  95h	; •
		db  82h	; ‚
		db    0
		db  75h	; u
		db    7
		db  26h	; &
		db  3Bh	; ;
		db  85h	; …
		db  80h	; €
		db    0
		db  74h	; t
		db  20h
		db  8Dh	; 
		db 0BEh	; ¾
		db 0FAh	; ú
		db 0FDh	; ý
		db  16h
		db  57h	; W
		db 0BFh	; ¿
		db  7Ah	; z
		db  0Fh
		db  0Eh
		db  57h	; W
		db  9Ah	; š
		dd @$basg$qm6Stringt1	; Load string
		db  8Dh	; 
		db 0BEh	; ¾
		db    0
		db 0FFh
		db  16h
		db  57h	; W
		db  9Ah	; š
		dd @Concat$qm6Stringt1	; Concat(dst, src: String): String
		db  9Ah	; š
		dd DoHalt
; ---------------------------------------------------------------------------

loc_2BE84:				; CODE XREF: FOpen+19Ej
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_106]
		jz	short loc_2BE91
		jmp	loc_2BDB4
; ---------------------------------------------------------------------------

loc_2BE91:				; CODE XREF: FOpen+177j FOpen+213j ...
		cmp	[bp+var_104], 0FFFFh
		jnz	short loc_2BEC1
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset aCsm_binOpenErr ; "CSM.BIN Open Error. (File:"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2BBF8 ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_2BEC1:				; CODE XREF: FOpen+262j
		jmp	locret_2BF90
; ---------------------------------------------------------------------------

loc_2BEC4:				; CODE XREF: FOpen+122j
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+arg_4]
		push	es
		push	di
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset aChasmdat ; "CHASMDAT\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		les	di, [bp+arg_4]
		push	es
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		les	di, [bp+arg_4]
		xor	ax, ax
		mov	es:[di+80h], ax
		mov	es:[di+82h], ax
		push	es
		push	di
		call	@FileSize$qm4File ; FileSize(var f): Longint{DX:AX}
		les	di, [bp+arg_4]
		mov	es:[di+84h], ax
		mov	es:[di+86h], dx
		call	@IOResult$qv	; IOResult: Word{AX}
		mov	[bp+var_102], ax
		cmp	[bp+var_102], 0
		jz	short locret_2BF90
		lea	di, [bp+var_304]
		push	ss
		push	di
		mov	di, offset aIOError ; "I/O Error #"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset a@_21 ; "@##"
		push	cs
		push	di
		mov	ax, [bp+var_102]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aFile ; " (File:"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2BBF8 ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

locret_2BF90:				; CODE XREF: FOpen:loc_2BD4Cj
					; FOpen:loc_2BEC1j ...
		leave
		retf	8
FOpen		endp

; ---------------------------------------------------------------------------
a@_22		db 3,'@##'              ; DATA XREF: TOpen+B4o TOpen+244o
aIOError_0	db 11,'I/O Error #'     ; DATA XREF: TOpen+A4o TOpen+234o
aFile_0		db 7,' (File:'          ; DATA XREF: TOpen+D0o TOpen+260o
asc_2BFAC	db 1,')'                ; DATA XREF: TOpen+E4o TOpen+1DDo ...
aCsm_binOpenE_0	db 26,'CSM.BIN Open Error. (File:' ; DATA XREF: TOpen+1C9o
aChasmdat_0	db 9,'CHASMDAT\'        ; DATA XREF: TOpen+1FAo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TOpen		proc far		; CODE XREF: PlayBrifing+17EP
					; ReloadResources+5FP ...

var_404		= byte ptr -404h
var_304		= byte ptr -304h
var_204		= byte ptr -204h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	404h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	byte ptr UserMaps, 0
		jnz	short loc_2C00B
		jmp	loc_2C0C9
; ---------------------------------------------------------------------------

loc_2C00B:				; CODE XREF: TOpen+33j
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset AddonPath
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	ExistFile
		or	al, al
		jnz	short loc_2C032
		jmp	loc_2C0C9
; ---------------------------------------------------------------------------

loc_2C032:				; CODE XREF: TOpen+5Aj
		les	di, [bp+arg_4]
		push	es
		push	di
		lea	di, [bp+var_304]
		push	ss
		push	di
		mov	di, offset AddonPath
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Textm6String	; Assign(var f:	Text; name: String)
		les	di, [bp+arg_4]
		push	es
		push	di
		call	@Reset$qm4Text	; Reset(var f: Text)
		call	@IOResult$qv	; IOResult: Word{AX}
		mov	[bp+var_102], ax
		cmp	[bp+var_102], 0
		jz	short loc_2C0C6
		lea	di, [bp+var_404]
		push	ss
		push	di
		mov	di, offset aIOError_0 ;	"I/O Error #"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_304]
		push	ss
		push	di
		mov	di, offset a@_22 ; "@##"
		push	cs
		push	di
		mov	ax, [bp+var_102]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aFile_0 ; " (File:"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2BFAC ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_2C0C6:				; CODE XREF: TOpen+9Cj
		jmp	locret_2C256
; ---------------------------------------------------------------------------

loc_2C0C9:				; CODE XREF: TOpen+35j	TOpen+5Cj
		cmp	Internal, 0
		jnz	short loc_2C0D3
		jmp	loc_2C1C2
; ---------------------------------------------------------------------------

loc_2C0D3:				; CODE XREF: TOpen+FBj
		lea	di, [bp+var_304]
		push	ss
		push	di
		lea	di, [bp+var_204]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	JustFilename
		call	StUpcase
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset LastFName
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	[bp+var_104], 0FFFFh
		mov	ax, intFCnt
		mov	[bp+var_106], ax
		xor	ax, ax
		cmp	ax, [bp+var_106]
		jg	short loc_2C18F
		mov	[bp+var_102], ax
		jmp	short loc_2C12F
; ---------------------------------------------------------------------------

loc_2C12B:				; CODE XREF: TOpen+1BAj
		inc	[bp+var_102]

loc_2C12F:				; CODE XREF: TOpen+156j
		imul	ax, [bp+var_102], 15h
		les	di, FileTable
		add	di, ax
		push	es
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2C185
		les	di, [bp+arg_4]
		push	es
		push	di
		mov	di, offset BaseFile
		push	ds
		push	di
		call	@Assign$qm4Textm6String	; Assign(var f:	Text; name: String)
		les	di, [bp+arg_4]
		push	es
		push	di
		call	@Reset$qm4Text	; Reset(var f: Text)
		les	di, [bp+arg_4]
		push	es
		push	di
		imul	ax, [bp+var_102], 15h
		les	di, FileTable
		add	di, ax
		push	word ptr es:[di+13h]
		push	word ptr es:[di+11h]
		call	TextSeek
		mov	[bp+var_104], 1
		jmp	short loc_2C18F
; ---------------------------------------------------------------------------

loc_2C185:				; CODE XREF: TOpen+174j
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_106]
		jnz	short loc_2C12B

loc_2C18F:				; CODE XREF: TOpen+150j TOpen+1B0j
		cmp	[bp+var_104], 0FFFFh
		jnz	short loc_2C1BF
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset aCsm_binOpenE_0 ; "CSM.BIN Open Error. (File:"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2BFAC ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_2C1BF:				; CODE XREF: TOpen+1C1j
		jmp	locret_2C256
; ---------------------------------------------------------------------------

loc_2C1C2:				; CODE XREF: TOpen+FDj
		les	di, [bp+arg_4]
		push	es
		push	di
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset aChasmdat_0 ; "CHASMDAT\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	@Assign$qm4Textm6String	; Assign(var f:	Text; name: String)
		les	di, [bp+arg_4]
		push	es
		push	di
		call	@Reset$qm4Text	; Reset(var f: Text)
		call	@IOResult$qv	; IOResult: Word{AX}
		mov	[bp+var_102], ax
		cmp	[bp+var_102], 0
		jz	short locret_2C256
		lea	di, [bp+var_304]
		push	ss
		push	di
		mov	di, offset aIOError_0 ;	"I/O Error #"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset a@_22 ; "@##"
		push	cs
		push	di
		mov	ax, [bp+var_102]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aFile_0 ; " (File:"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2BFAC ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

locret_2C256:				; CODE XREF: TOpen:loc_2C0C6j
					; TOpen:loc_2C1BFj ...
		leave
		retf	8
TOpen		endp

; ---------------------------------------------------------------------------
aChasmdat_1	db 9,'CHASMDAT\'        ; DATA XREF: FExistFile+79o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FExistFile	proc far		; CODE XREF: PlayBrifing+32P
					; GetNextDemoNumber+4EP ...

var_206		= byte ptr -206h
var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= byte ptr -102h
var_1		= byte ptr -1
arg_0		= dword	ptr  6

		enter	206h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_102]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_206]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	StUpcase
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	byte ptr UserMaps, 0
		jz	short loc_2C2D0
		lea	di, [bp+var_206]
		push	ss
		push	di
		mov	di, offset AddonPath
		push	ds
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	ExistFile
		or	al, al
		jz	short loc_2C2D0
		mov	[bp+var_1], 1
		jmp	loc_2C366
; ---------------------------------------------------------------------------

loc_2C2D0:				; CODE XREF: FExistFile+3Fj
					; FExistFile+63j
		cmp	Internal, 0
		jnz	short loc_2C2FC
		lea	di, [bp+var_206]
		push	ss
		push	di
		mov	di, offset aChasmdat_1 ; "CHASMDAT\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	ExistFile
		mov	[bp+var_1], al
		jmp	short loc_2C366
; ---------------------------------------------------------------------------

loc_2C2FC:				; CODE XREF: FExistFile+71j
		lea	di, [bp+var_206]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	JustFilename
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	[bp+var_106], 0FFFFh
		mov	[bp+var_1], 0
		mov	ax, intFCnt
		mov	[bp+var_108], ax
		xor	ax, ax
		cmp	ax, [bp+var_108]
		jg	short loc_2C366
		mov	[bp+var_104], ax
		jmp	short loc_2C33E
; ---------------------------------------------------------------------------

loc_2C33A:				; CODE XREF: FExistFile+100j
		inc	[bp+var_104]

loc_2C33E:				; CODE XREF: FExistFile+D4j
		imul	ax, [bp+var_104], 15h
		les	di, FileTable
		add	di, ax
		push	es
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2C35C
		mov	[bp+var_1], 1

loc_2C35C:				; CODE XREF: FExistFile+F2j
		mov	ax, [bp+var_104]
		cmp	ax, [bp+var_108]
		jnz	short loc_2C33A

loc_2C366:				; CODE XREF: FExistFile+69j
					; FExistFile+96j ...
		mov	al, [bp+var_1]
		leave
		retf	4
FExistFile	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

WriteS		proc near		; CODE XREF: ShowFinalScreen+31p
					; ShowFinalScreen+3Ep ...

var_100		= byte ptr -100h
arg_2		= dword	ptr  6
arg_6		= byte ptr  0Ah
arg_8		= byte ptr  0Ch

		enter	100h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_2]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	al, [bp+arg_8]
		push	ax
		mov	al, [bp+arg_6]
		push	ax
		call	GotoXY
		mov	di, offset Output
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		leave
		retn	0Ah
WriteS		endp

; ---------------------------------------------------------------------------
aChasmTheRift_0	db 35,'            CHASM - The Rift. V1.04' ; DATA XREF: ShowFinalScreen+2Bo
aCMegamediaCo_0	db 43,'      (C) Megamedia Corp, Action Forms Ltd.'
					; DATA XREF: ShowFinalScreen+38o
aPublishedByMeg	db 40,'          Published by Megamedia Corp.  '
					; DATA XREF: ShowFinalScreen+45o
aDevelopedByAct	db 39,'         Developed by Action Forms Ltd.'
					; DATA XREF: ShowFinalScreen+52o
asc_2C451	db 73,'ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ'
					; DATA XREF: ShowFinalScreen+5Fo
					; ShowFinalScreen+E1o
		db 'ÄÄÄÄÄÄÄÄÄÄÄ'
aProgrammingOle	db 32,' Programming      :  Oleg Slusar' ; DATA XREF: ShowFinalScreen+6Co
aArtworkYarosla	db 41,' Artwork          :  Yaroslav Kravchenko,'
					; DATA XREF: ShowFinalScreen+79o
aAlexeySerhiy	db 35,'                     Alexey Serhiy,' ; DATA XREF: ShowFinalScreen+86o
aAlexeyPivtorak	db 36,'                     Alexey Pivtorak'
					; DATA XREF: ShowFinalScreen+93o
aSfxAndMusicAle	db 29,' SFX and Music    :  Alex Kot' ; DATA XREF: ShowFinalScreen+A0o
aLevelDesignYar	db 59,' Level Design     :  Yaroslav Kravchenko, Denis Vereschagin'
					; DATA XREF: ShowFinalScreen+ADo
aAndreySharanev	db 58,'                     Andrey Sharanevitch, Alexey Pechenkin'
					; DATA XREF: ShowFinalScreen+BAo
aDirectedByIgor	db 50,' Directed by      :  Igor Karev, Denis Vereschagin'
					; DATA XREF: ShowFinalScreen+C7o
aSpecialThanksT	db 52,' Special thanks to:  Alexander Soroka, Peter M.Kolos'
					; DATA XREF: ShowFinalScreen+D4o
aEMailChasm@meg	db 33,' E-mail     : chasm@megamedia.com' ; DATA XREF: ShowFinalScreen+EEo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowFinalScreen	proc near		; CODE XREF: DoHalt+7Dp
		push	bp
		mov	bp, sp
		push	4
		push	3
		push	4Ch ; 'L'
		push	14h
		call	Window
		mov	TextAttr, 70h ;	'p'
		call	ClrScr
		push	1
		push	1
		push	50h ; 'P'
		push	19h
		call	Window
		push	0Eh
		push	4
		mov	di, offset aChasmTheRift_0 ; "		  CHASM	- The Rift. V1.04"
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Eh
		push	5
		mov	di, offset aCMegamediaCo_0 ; "	    (C)	Megamedia Corp,	Action Forms "...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Eh
		push	6
		mov	di, offset aPublishedByMeg ; "		Published by Megamedia Corp. "...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Eh
		push	7
		mov	di, offset aDevelopedByAct ; "	       Developed by Action Forms Ltd."
		push	cs
		push	di
		push	bp
		call	WriteS
		push	4
		push	8
		mov	di, offset asc_2C451 ; "ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ"...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	9
		mov	di, offset aProgrammingOle ; " Programming	:  Oleg	Slusar"
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	0Ah
		mov	di, offset aArtworkYarosla ; " Artwork		:  Yaroslav Kravchenk"...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	0Bh
		mov	di, offset aAlexeySerhiy ; "			 Alexey	Serhiy,"
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	0Ch
		mov	di, offset aAlexeyPivtorak ; "			   Alexey Pivtorak"
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	0Dh
		mov	di, offset aSfxAndMusicAle ; " SFX and Music	:  Alex	Kot"
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	0Eh
		mov	di, offset aLevelDesignYar ; " Level Design	:  Yaroslav Kravchenk"...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	0Fh
		mov	di, offset aAndreySharanev ; "			   Andrey Sharanevitc"...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	10h
		mov	di, offset aDirectedByIgor ; " Directed	by	:  Igor	Karev, Denis "...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	11h
		mov	di, offset aSpecialThanksT ; " Special thanks to:  Alexander Soroka, "...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	4
		push	12h
		mov	di, offset asc_2C451 ; "ÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ"...
		push	cs
		push	di
		push	bp
		call	WriteS
		push	0Ch
		push	13h
		mov	di, offset aEMailChasm@meg ; " E-mail	  : chasm@megamedia.com"
		push	cs
		push	di
		push	bp
		call	WriteS
		push	1
		push	18h
		call	GotoXY
		leave
		retn
ShowFinalScreen	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Wait_R		proc near		; CODE XREF: FadeOut+7Ep FadeIn+85p
		push	bp
		mov	bp, sp

loc_2C753:				; CODE XREF: Wait_R+14j
		mov	dx, 3DAh
		in	al, dx		; Video	status bits:
					; 0: retrace.  1=display is in vert or horiz retrace.
					; 1: 1=light pen is triggered; 0=armed
					; 2: 1=light pen switch	is open; 0=closed
					; 3: 1=vertical	sync pulse is occurring.
		and	al, 8
		or	al, al
		jnz	short locret_2C766
		cmp	CurTime, 4
		jnb	short locret_2C766
		jmp	short loc_2C753
; ---------------------------------------------------------------------------

locret_2C766:				; CODE XREF: Wait_R+Bj	Wait_R+12j
		leave
		retn
Wait_R		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FadeOut		proc far		; CODE XREF: PlayBrifing+40P
					; PlayBrifing+528P

var_304		= word ptr -304h
var_302		= word ptr -302h
var_300		= byte ptr -300h
arg_0		= word ptr  6

		enter	306h, 0
		mov	ax, [bp+arg_0]
		dec	ax
		or	ax, ax
		jge	short loc_2C777
		jmp	locret_2C7FB
; ---------------------------------------------------------------------------

loc_2C777:				; CODE XREF: FadeOut+Aj
		mov	n__0, ax
		jmp	short loc_2C780
; ---------------------------------------------------------------------------

loc_2C77C:				; CODE XREF: FadeOut+91j
		dec	n__0

loc_2C780:				; CODE XREF: FadeOut+12j
		mov	[bp+var_302], 1
		jmp	short loc_2C78C
; ---------------------------------------------------------------------------

loc_2C788:				; CODE XREF: FadeOut+70j
		inc	[bp+var_302]

loc_2C78C:				; CODE XREF: FadeOut+1Ej
		mov	[bp+var_304], 1
		jmp	short loc_2C798
; ---------------------------------------------------------------------------

loc_2C794:				; CODE XREF: FadeOut+68j
		inc	[bp+var_304]

loc_2C798:				; CODE XREF: FadeOut+2Aj
		mov	ax, [bp+var_304]
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	al, [di-20A4h]
		cbw
		mul	n__0
		cwd
		idiv	[bp+arg_0]
		mov	dl, al
		mov	ax, [bp+var_304]
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	byte ptr [bp+di+var_304], dl
		cmp	[bp+var_304], 3
		jnz	short loc_2C794
		cmp	[bp+var_302], 100h
		jnz	short loc_2C788
		xor	ax, ax
		mov	CurTime, ax

loc_2C7DF:				; CODE XREF: FadeOut+7Cj
		cmp	CurTime, 0
		jbe	short loc_2C7DF
		call	Wait_R
		lea	di, [bp+var_300]
		push	ss
		push	di
		call	DoSetPalette
		cmp	n__0, 0
		jnz	short loc_2C77C

locret_2C7FB:				; CODE XREF: FadeOut+Cj
		leave
		retf	2
FadeOut		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FadeIn		proc far		; CODE XREF: PlayBrifing+499P

var_308		= word ptr -308h
var_304		= word ptr -304h
var_302		= word ptr -302h
var_300		= byte ptr -300h
arg_0		= word ptr  6

		enter	308h, 0
		mov	ax, [bp+arg_0]
		mov	[bp+var_308], ax
		xor	ax, ax
		cmp	ax, [bp+var_308]
		jle	short loc_2C815
		jmp	locret_2C89E
; ---------------------------------------------------------------------------

loc_2C815:				; CODE XREF: FadeIn+11j
		mov	n__0, ax
		jmp	short loc_2C81E
; ---------------------------------------------------------------------------

loc_2C81A:				; CODE XREF: FadeIn+9Cj
		inc	n__0

loc_2C81E:				; CODE XREF: FadeIn+19j
		mov	[bp+var_302], 1
		jmp	short loc_2C82A
; ---------------------------------------------------------------------------

loc_2C826:				; CODE XREF: FadeIn+77j
		inc	[bp+var_302]

loc_2C82A:				; CODE XREF: FadeIn+25j
		mov	[bp+var_304], 1
		jmp	short loc_2C836
; ---------------------------------------------------------------------------

loc_2C832:				; CODE XREF: FadeIn+6Fj
		inc	[bp+var_304]

loc_2C836:				; CODE XREF: FadeIn+31j
		mov	ax, [bp+var_304]
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	al, [di-20A4h]
		cbw
		mul	n__0
		cwd
		idiv	[bp+arg_0]
		mov	dl, al
		mov	ax, [bp+var_304]
		mov	di, [bp+var_302]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	byte ptr [bp+di+var_304], dl
		cmp	[bp+var_304], 3
		jnz	short loc_2C832
		cmp	[bp+var_302], 100h
		jnz	short loc_2C826
		xor	ax, ax
		mov	CurTime, ax

loc_2C87D:				; CODE XREF: FadeIn+83j
		cmp	CurTime, 0
		jbe	short loc_2C87D
		call	Wait_R
		lea	di, [bp+var_300]
		push	ss
		push	di
		call	DoSetPalette
		mov	ax, n__0
		cmp	ax, [bp+var_308]
		jz	short locret_2C89E
		jmp	loc_2C81A
; ---------------------------------------------------------------------------

locret_2C89E:				; CODE XREF: FadeIn+13j FadeIn+9Aj
		leave
		retf	2
FadeIn		endp

; ---------------------------------------------------------------------------
aNquit_0	db 5,'NQUIT'            ; DATA XREF: DoHalt+71o

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

DoHalt		proc near		; CODE XREF: AnimateSwitches+69P
					; CheckQuit+244P ...

var_100		= byte ptr -100h
arg_2		= dword	ptr  6

		enter	100h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_2]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	ax, KbdInt
		or	ax, word_44BCC
		jz	short loc_2C8DB
		push	9
		push	word_44BCC
		push	KbdInt
		call	SetIntVec

loc_2C8DB:				; CODE XREF: DoHalt+22j
		call	DeInitSoundSystem
		push	0
		call	settimer
		mov	ax, TimerInt
		or	ax, word_44BC8
		jz	short loc_2C8FF
		push	8
		push	word_44BC8
		push	TimerInt
		call	SetIntVec

loc_2C8FF:				; CODE XREF: DoHalt+46j
		sti
		mov	ax, 3
		int	10h		; - VIDEO - SET	VIDEO MODE
					; AL = mode
		mov	TextAttr, 7
		call	@IOResult$qv	; IOResult: Word{AX}
		or	ax, ax
		jz	short $+2
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset aNquit_0 ; "NQUIT"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2C92A
		call	ShowFinalScreen
		jmp	short loc_2C941
; ---------------------------------------------------------------------------

loc_2C92A:				; CODE XREF: DoHalt+7Bj
		mov	di, offset Output
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)

loc_2C941:				; CODE XREF: DoHalt+80j DoHalt+A7j
		call	KeyPressed
		or	al, al
		jz	short loc_2C951
		call	ReadKey
		jmp	short loc_2C941
; ---------------------------------------------------------------------------

loc_2C951:				; CODE XREF: DoHalt+A0j
		xor	ax, ax
		call	far ptr	@Halt$q4Word ; Halt(exitcode: Word{AX})
DoHalt		endp

; ---------------------------------------------------------------------------
		db 0C9h	; É
		db 0CAh	; Ê
		db    4
		db    0
a@_23		db 3,'@##'              ; DATA XREF: ChI+28o
aIOError_1	db 11,'I/O Error #'     ; DATA XREF: ChI+18o
aFile_1		db 7,' (File:'          ; DATA XREF: ChI+43o
asc_2C974	db 1,')'                ; DATA XREF: ChI+57o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ChI		proc far		; CODE XREF: LoadConfig+50P
					; LoadConfig+2B0P ...

var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_2		= word ptr -2

		enter	202h, 0
		call	@IOResult$qv	; IOResult: Word{AX}
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jz	short locret_2C9DC
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset aIOError_1 ;	"I/O Error #"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_102]
		push	ss
		push	di
		mov	di, offset a@_23 ; "@##"
		push	cs
		push	di
		mov	ax, [bp+var_2]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aFile_1 ; " (File:"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2C974 ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

locret_2C9DC:				; CODE XREF: ChI+10j
		leave
		retf
ChI		endp

; ---------------------------------------------------------------------------
a@_24		db 2,'@#'               ; DATA XREF: GetMem16+4Eo GetMem16+7Do ...
aMemoryAllocati	db 36,'Memory allocation error.  (Request: ' ; DATA XREF: GetMem16+3Eo
aAvailable	db 12,' Available: '    ; DATA XREF: GetMem16+6Do
asc_2CA13	db 1,'('                ; DATA XREF: GetMem16+A3o
asc_2CA15	db 1,')'                ; DATA XREF: GetMem16+D9o
aInternalMemory	db 33,'Internal memory allocation error.' ; DATA XREF: GetMem16+103o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetMem16	proc far		; CODE XREF: ConnectIPXProcessor+91P
					; LoadVoice+178P ...

var_400		= byte ptr -400h
var_300		= byte ptr -300h
var_200		= byte ptr -200h
var_100		= byte ptr -100h
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	400h, 0
		cmp	[bp+arg_0], 400h
		jnb	short loc_2CA49
		mov	[bp+arg_0], 400h

loc_2CA49:				; CODE XREF: GetMem16+9j
		add	mem0, 1
		adc	word_44D74, 0
		call	MAXAVAIL	; MaxAvail: Longint{DX:AX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_0]
		xor	dx, dx
		cmp	dx, bx
		jg	short loc_2CA71
		jge	short loc_2CA6A
		jmp	loc_2CB21
; ---------------------------------------------------------------------------

loc_2CA6A:				; CODE XREF: GetMem16+2Cj
		cmp	ax, cx
		ja	short loc_2CA71
		jmp	loc_2CB21
; ---------------------------------------------------------------------------

loc_2CA71:				; CODE XREF: GetMem16+2Aj GetMem16+33j
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aMemoryAllocati ; "Memory allocation	error.	(Request: "
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset a@_24 ; "@#"
		push	cs
		push	di
		mov	ax, [bp+arg_0]
		shr	ax, 0Ah
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aAvailable ;	" Available: "
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_300]
		push	ss
		push	di
		mov	di, offset a@_24 ; "@#"
		push	cs
		push	di
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2CA13 ; "("
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_400]
		push	ss
		push	di
		mov	di, offset a@_24 ; "@#"
		push	cs
		push	di
		call	MAXAVAIL	; MaxAvail: Longint{DX:AX}
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset asc_2CA15 ; ")"
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_2CB21:				; CODE XREF: GetMem16+2Ej GetMem16+35j
		push	[bp+arg_0]
		call	@GetMem$q4Word	; GetMem(var p:	Pointer{DX:AX};	size: Word)
		les	di, [bp+arg_2]
		mov	es:[di], ax
		mov	es:[di+2], dx
		les	di, es:[di]
		mov	ax, di
		or	ax, ax
		jz	short locret_2CB46
		mov	di, offset aInternalMemory ; "Internal memory allocation error."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

locret_2CB46:				; CODE XREF: GetMem16+101j
		leave
		retf	6
GetMem16	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FreeMem16	proc far		; CODE XREF: DeInitBrifing+CP
					; DeInitBrifing+43P ...

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		cmp	[bp+arg_0], 400h
		jnb	short loc_2CB59
		mov	[bp+arg_0], 400h

loc_2CB59:				; CODE XREF: FreeMem16+8j
		les	di, [bp+arg_2]
		push	word ptr es:[di+2]
		push	word ptr es:[di]
		push	[bp+arg_0]
		call	@FreeMem$qm7Pointer4Word ; FreeMem(var p: Pointer; size: Word)
		les	di, [bp+arg_2]
		xor	ax, ax
		mov	es:[di], ax
		mov	es:[di+2], ax
		leave
		retf	6
FreeMem16	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CalcDir		proc far		; CODE XREF: ReinitPlayer+141P
					; LoadServerPatch+28BP	...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_0]
		add	HFi, ax
		mov	ax, HFi
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	sa, ax
		mov	word_448E8, bx
		mov	word_448EA, dx
		mov	ax, HFi
		xor	dx, dx
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 91h	; '‘'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	far ptr	@Sin$q4Real ; Sin(x: Real): Real
		mov	ca, ax
		mov	word_448E2, bx
		mov	word_448E4, dx
		leave
		retf	2
CalcDir		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Max		proc far		; CODE XREF: ProcessDevices+665P
					; ProcessDevices+6AAP ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+arg_0]
		jle	short loc_2CC20
		mov	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		jmp	short loc_2CC26
; ---------------------------------------------------------------------------

loc_2CC20:				; CODE XREF: Max+Aj
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax

loc_2CC26:				; CODE XREF: Max+12j
		mov	ax, [bp+var_2]
		leave
		retf	4
Max		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Min		proc far		; CODE XREF: DoGame+478P DoGame+693P ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+arg_0]
		jge	short loc_2CC41
		mov	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		jmp	short loc_2CC47
; ---------------------------------------------------------------------------

loc_2CC41:				; CODE XREF: Min+Aj
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax

loc_2CC47:				; CODE XREF: Min+12j
		mov	ax, [bp+var_2]
		leave
		retf	4
Min		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Sgn		proc far		; CODE XREF: EndPaint+22CP
					; AnimateMonsters+C2FP	...

var_1		= byte ptr -1
arg_0		= word ptr  6

		enter	2, 0
		cmp	[bp+arg_0], 0
		jge	short loc_2CC5E
		mov	[bp+var_1], 0FFh
		jmp	short loc_2CC62
; ---------------------------------------------------------------------------

loc_2CC5E:				; CODE XREF: Sgn+8j
		mov	[bp+var_1], 1

loc_2CC62:				; CODE XREF: Sgn+Ej
		mov	al, [bp+var_1]
		leave
		retf	2
Sgn		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetCurPicTo	proc far		; CODE XREF: ExpandBlow+73P

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	8, 0
		mov	ax, [bp+arg_0]
		shl	ax, 1
		les	di, [bp+arg_2]
		add	di, ax
		mov	ax, es:[di+2]
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		les	di, [bp+arg_2]
		les	di, es:[di+32h]
		add	di, ax
		mov	al, es:[di]
		xor	ah, ah
		mov	CurPic,	ax
		mov	ax, [bp+var_2]
		inc	ax
		inc	ax
		les	di, [bp+arg_2]
		les	di, es:[di+32h]
		add	di, ax
		mov	al, es:[di]
		xor	ah, ah
		mov	word_37CEC, ax
		mov	ax, [bp+var_2]
		add	ax, 4
		les	di, [bp+arg_2]
		les	di, es:[di+32h]
		add	di, ax
		mov	al, es:[di]
		xor	ah, ah
		mov	word_37CEE, ax
		mov	ax, [bp+var_2]
		add	ax, 6
		mov	[bp+var_4], ax
		les	di, [bp+arg_2]
		les	di, es:[di+32h]
		push	es
		call	KERNEL_186
		mov	[bp+var_8], ax
		mov	[bp+var_6], dx
		mov	ax, [bp+var_4]
		xor	dx, dx
		add	[bp+var_8], ax
		adc	[bp+var_6], dx
		push	CurPicSeg
		push	[bp+var_6]
		push	[bp+var_8]
		call	KERNEL_187
		xor	ax, ax
		mov	dx, CurPicSeg
		mov	word_37CF0, ax
		mov	word_37CF2, dx
		leave
		retf	6
SetCurPicTo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadPic		proc far		; CODE XREF: LoadBMPObjects+16FP

var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	4, 0
		les	di, [bp+arg_0]
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		les	di, [bp+arg_4]
		push	es
		push	di
		les	di, [bp+var_4]
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+arg_4]
		push	es
		push	di
		les	di, [bp+var_4]
		add	di, 2
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+arg_4]
		push	es
		push	di
		les	di, [bp+var_4]
		add	di, 4
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_4]
		add	di, 6
		push	es
		push	di
		les	di, [bp+var_4]
		mov	ax, es:[di]
		mul	word ptr es:[di+2]
		push	ax
		call	GetMem16
		les	di, [bp+arg_4]
		push	es
		push	di
		les	di, [bp+var_4]
		les	di, es:[di+6]
		push	es
		push	di
		les	di, [bp+var_4]
		mov	ax, es:[di]
		mul	word ptr es:[di+2]
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		leave
		retf	8
LoadPic		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadPicsPacket	proc near		; CODE XREF: LoadBlows+15Ap

var_194		= word ptr -194h
var_192		= dword	ptr -192h
var_18E		= byte ptr -18Eh
var_10A		= word ptr -10Ah
var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		enter	194h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_4]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_18E]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FOpen
		lea	di, [bp+var_18E]
		push	ss
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	ax, [bp+var_10A]
		mov	dx, [bp+var_108]
		sub	ax, 2
		sbb	dx, 0
		mov	[bp+var_102], ax
		les	di, [bp+arg_0]
		add	di, 32h	; '2'
		push	es
		push	di
		push	[bp+var_102]
		call	GetMem16
		lea	di, [bp+var_18E]
		push	ss
		push	di
		les	di, [bp+arg_0]
		les	di, es:[di+32h]
		push	es
		push	di
		push	[bp+var_102]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_18E]
		push	ss
		push	di
		call	FClose
		call	ChI
		les	di, [bp+arg_0]
		add	di, 2
		push	es
		push	di
		push	30h ; '0'
		push	0FFFFh
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		xor	ax, ax
		mov	[bp+var_106], ax
		les	di, [bp+arg_0]
		mov	word ptr [bp+var_192], di
		mov	word ptr [bp+var_192+2], es
		les	di, [bp+arg_0]
		mov	ax, es:[di]
		dec	ax
		mov	[bp+var_194], ax
		xor	ax, ax
		cmp	ax, [bp+var_194]
		ja	short locret_2CEC9
		mov	[bp+var_104], ax
		jmp	short loc_2CE6B
; ---------------------------------------------------------------------------

loc_2CE67:				; CODE XREF: LoadPicsPacket+12Ej
		inc	[bp+var_104]

loc_2CE6B:				; CODE XREF: LoadPicsPacket+CCj
		mov	dx, [bp+var_106]
		mov	ax, [bp+var_104]
		shl	ax, 1
		les	di, [bp+var_192]
		add	di, ax
		mov	es:[di+2], dx
		les	di, [bp+arg_0]
		mov	ax, es:[di]
		dec	ax
		cmp	ax, [bp+var_104]
		jbe	short loc_2CEBF
		mov	ax, [bp+var_106]
		inc	ax
		inc	ax
		les	di, [bp+var_192]
		les	di, es:[di+32h]
		add	di, ax
		mov	al, es:[di]
		xor	ah, ah
		mov	dx, ax
		mov	ax, [bp+var_106]
		les	di, [bp+var_192]
		les	di, es:[di+32h]
		add	di, ax
		mov	al, es:[di]
		xor	ah, ah
		mul	dx
		add	ax, 6
		add	[bp+var_106], ax

loc_2CEBF:				; CODE XREF: LoadPicsPacket+F1j
		mov	ax, [bp+var_104]
		cmp	ax, [bp+var_194]
		jnz	short loc_2CE67

locret_2CEC9:				; CODE XREF: LoadPicsPacket+C6j
		leave
		retn	8
LoadPicsPacket	endp

; ---------------------------------------------------------------------------
aAni_1		db 5,'\ani\'            ; DATA XREF: LoadAnimation:loc_2CF6Co
aAni_2		db 4,'ANI\'             ; DATA XREF: LoadAnimation+72o
aAnimationAndMo	db 59,'Animation and Model file contain different vertexes count. '
					; DATA XREF: LoadAnimation+D9o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadAnimation	proc far		; CODE XREF: LoadCharacter+175P
					; LoadCharacter+200P ...

var_28A		= byte ptr -28Ah
var_18A		= word ptr -18Ah
var_188		= byte ptr -188h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= dword	ptr  10h

		enter	28Ah, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_A]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		les	di, [bp+arg_0]
		xor	ax, ax
		mov	es:[di], ax
		les	di, [bp+arg_4]
		xor	ax, ax
		mov	es:[di], ax
		mov	es:[di+2], ax
		lea	di, [bp+var_28A]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_100], 0
		jnz	short loc_2CF6C
		jmp	locret_2D0B0
; ---------------------------------------------------------------------------

loc_2CF6C:				; CODE XREF: LoadAnimation+53j
		mov	di, offset aAni_1 ; "\\ani\\"
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jnz	short loc_2CFA9
		lea	di, [bp+var_28A]
		push	ss
		push	di
		mov	di, offset aAni_2 ; "ANI\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_2CFA9:				; CODE XREF: LoadAnimation+6Aj
		lea	di, [bp+var_188]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FOpen
		lea	di, [bp+var_188]
		push	ss
		push	di
		lea	di, [bp+var_18A]
		push	ss
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_18A]
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_2CFE7
		cmp	ax, cx
		jz	short loc_2D006

loc_2CFE7:				; CODE XREF: LoadAnimation+CDj
		lea	di, [bp+var_28A]
		push	ss
		push	di
		mov	di, offset aAnimationAndMo ; "Animation	and Model file contain differ"...
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset LastFName
		push	ds
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_2D006:				; CODE XREF: LoadAnimation+D1j
		mov	ax, [bp+var_104]
		mov	dx, [bp+var_102]
		sub	ax, 2
		sbb	dx, 0
		mov	cx, 6
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_18A], ax
		mov	ax, [bp+arg_8]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_18A]
		xor	dx, dx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		sub	ax, 1
		sbb	dx, 0
		mov	cx, 3
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		les	di, [bp+arg_0]
		mov	es:[di], ax
		les	di, [bp+arg_4]
		push	es
		push	di
		mov	ax, [bp+var_18A]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		push	ax
		call	GetMem16
		les	di, [bp+arg_4]
		les	di, es:[di]
		push	es
		mov	ax, [bp+var_18A]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, 4
		xor	dx, dx
		push	dx
		push	ax
		call	KERNEL_189
		lea	di, [bp+var_188]
		push	ss
		push	di
		les	di, [bp+arg_4]
		les	di, es:[di]
		push	es
		push	di
		mov	ax, [bp+var_18A]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		lea	di, [bp+var_188]
		push	ss
		push	di
		call	FClose

locret_2D0B0:				; CODE XREF: LoadAnimation+55j
		leave
		retf	0Eh
LoadAnimation	endp

; ---------------------------------------------------------------------------
aModels		db 7,'MODELS\'          ; DATA XREF: LoadPOH+5Do

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadPOH		proc far		; CODE XREF: LoadCharacter+A8P
					; UpLoad3dObjects+227P	...

var_204		= byte ptr -204h
var_10A		= dword	ptr -10Ah
var_106		= word ptr -106h
var_103		= byte ptr -103h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	204h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_4]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		les	di, [bp+arg_0]
		xor	ax, ax
		mov	es:[di], ax
		mov	es:[di+2], ax
		lea	di, [bp+var_204]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_100], 0
		jnz	short loc_2D10C
		jmp	locret_2D2E4
; ---------------------------------------------------------------------------

loc_2D10C:				; CODE XREF: LoadPOH+4Bj
		cmp	[bp+var_100], 0Ch
		ja	short loc_2D13C
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset aModels ; "MODELS\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_2D13C:				; CODE XREF: LoadPOH+55j
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FOpen
		les	di, [bp+arg_0]
		push	es
		push	di
		push	480Ah
		call	GetMem16
		les	di, [bp+arg_0]
		les	di, es:[di]
		push	es
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+arg_0]
		les	di, es:[di]
		push	es
		push	di
		push	4806h
		mov	di, offset w
		push	ds
		push	di
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+arg_0]
		les	di, es:[di]
		mov	ax, es:[di+4804h]
		shl	ax, 6
		les	di, [bp+arg_0]
		les	di, es:[di]
		mov	es:[di+4804h], ax
		les	di, [bp+arg_0]
		les	di, es:[di]
		cmp	word ptr es:[di+4804h],	0
		jbe	short loc_2D201
		les	di, [bp+arg_0]
		les	di, es:[di]
		add	di, 4806h
		push	es
		push	di
		les	di, [bp+arg_0]
		les	di, es:[di]
		push	word ptr es:[di+4804h]
		call	GetMem16
		les	di, [bp+arg_0]
		les	di, es:[di]
		les	di, es:[di+4806h]
		push	es
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+arg_0]
		les	di, es:[di]
		les	di, es:[di+4806h]
		push	es
		push	di
		les	di, [bp+arg_0]
		les	di, es:[di]
		push	word ptr es:[di+4804h]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)

loc_2D201:				; CODE XREF: LoadPOH+ECj
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		les	di, [bp+arg_0]
		les	di, es:[di]
		cmp	word ptr es:[di+4802h],	0
		ja	short loc_2D221
		jmp	locret_2D2E4
; ---------------------------------------------------------------------------

loc_2D221:				; CODE XREF: LoadPOH+160j
		les	di, [bp+arg_0]
		les	di, es:[di]
		mov	ax, es:[di+4802h]
		dec	ax
		mov	[bp+var_106], ax
		xor	ax, ax
		cmp	ax, [bp+var_106]
		jle	short loc_2D23C
		jmp	locret_2D2E4
; ---------------------------------------------------------------------------

loc_2D23C:				; CODE XREF: LoadPOH+17Bj
		mov	[bp+var_102], ax
		jmp	short loc_2D246
; ---------------------------------------------------------------------------

loc_2D242:				; CODE XREF: LoadPOH+225j
		inc	[bp+var_102]

loc_2D246:				; CODE XREF: LoadPOH+184j
		mov	ax, [bp+var_102]
		shl	ax, 5
		les	di, [bp+arg_0]
		les	di, es:[di]
		add	di, ax
		mov	word ptr [bp+var_10A], di
		mov	word ptr [bp+var_10A+2], es
		mov	al, es:[di+1Dh]
		xor	ah, ah
		shr	ax, 4
		mov	[bp+var_103], al
		cmp	[bp+var_103], 0
		jz	short loc_2D287
		mov	al, [bp+var_103]
		xor	ah, ah
		dec	ax
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	es:[di+1Ch], al
		jmp	short loc_2D290
; ---------------------------------------------------------------------------

loc_2D287:				; CODE XREF: LoadPOH+1B3j
		les	di, [bp+var_10A]
		mov	byte ptr es:[di+1Ch], 0

loc_2D290:				; CODE XREF: LoadPOH+1C9j
		les	di, [bp+var_10A]
		mov	ax, es:[di+1Eh]
		shl	ax, 6
		mov	es:[di+1Eh], ax
		xor	ax, ax
		mov	i__0, ax
		jmp	short loc_2D2AA
; ---------------------------------------------------------------------------

loc_2D2A6:				; CODE XREF: LoadPOH+219j
		inc	i__0

loc_2D2AA:				; CODE XREF: LoadPOH+1E8j
		mov	ax, i__0
		shl	ax, 1
		les	di, [bp+var_10A]
		add	di, ax
		mov	ax, es:[di+8]
		shl	ax, 8
		add	ax, 80h	; '€'
		mov	dx, ax
		mov	ax, i__0
		shl	ax, 1
		les	di, [bp+var_10A]
		add	di, ax
		mov	es:[di+8], dx
		cmp	i__0, 7
		jnz	short loc_2D2A6
		mov	ax, [bp+var_102]
		cmp	ax, [bp+var_106]
		jz	short locret_2D2E4
		jmp	loc_2D242
; ---------------------------------------------------------------------------

locret_2D2E4:				; CODE XREF: LoadPOH+4Dj LoadPOH+162j	...
		leave
		retf	8
LoadPOH		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScanLoHi	proc far		; CODE XREF: UpLoad3dObjects+2A8P
					; InitCaracter+146P ...

var_8		= word ptr -8
var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= dword	ptr  0Eh

		enter	8, 0
		les	di, [bp+arg_4]
		mov	word ptr es:[di], 2710h
		les	di, [bp+arg_0]
		mov	word ptr es:[di], 0D8F0h
		les	di, [bp+arg_8]
		mov	word ptr [bp+var_6], di
		mov	word ptr [bp+var_6+2], es
		mov	ax, es:[di+4800h]
		dec	ax
		mov	[bp+var_8], ax
		xor	ax, ax
		cmp	ax, [bp+var_8]
		jbe	short loc_2D318
		jmp	loc_2D398
; ---------------------------------------------------------------------------

loc_2D318:				; CODE XREF: ScanLoHi+2Bj
		mov	[bp+var_2], ax
		jmp	short loc_2D320
; ---------------------------------------------------------------------------

loc_2D31D:				; CODE XREF: ScanLoHi+AEj
		inc	[bp+var_2]

loc_2D320:				; CODE XREF: ScanLoHi+33j
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, [bp+var_6]
		add	di, ax
		mov	ax, es:[di+3204h]
		les	di, [bp+arg_4]
		cmp	ax, es:[di]
		jge	short loc_2D358
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, [bp+var_6]
		add	di, ax
		mov	ax, es:[di+3204h]
		les	di, [bp+arg_4]
		mov	es:[di], ax

loc_2D358:				; CODE XREF: ScanLoHi+53j
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, [bp+var_6]
		add	di, ax
		mov	ax, es:[di+3204h]
		les	di, [bp+arg_0]
		cmp	ax, es:[di]
		jle	short loc_2D390
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, [bp+var_6]
		add	di, ax
		mov	ax, es:[di+3204h]
		les	di, [bp+arg_0]
		mov	es:[di], ax

loc_2D390:				; CODE XREF: ScanLoHi+8Bj
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jnz	short loc_2D31D

loc_2D398:				; CODE XREF: ScanLoHi+2Dj
		les	di, [bp+arg_4]
		mov	ax, es:[di]
		sub	ax, 60h	; '`'
		mov	es:[di], ax
		cmp	word ptr es:[di], 0
		jge	short loc_2D3AF
		xor	ax, ax
		mov	es:[di], ax

loc_2D3AF:				; CODE XREF: ScanLoHi+C0j
		les	di, [bp+arg_0]
		mov	ax, es:[di]
		mov	es:[di], ax
		leave
		retf	0Ch
ScanLoHi	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScanWH		proc near		; CODE XREF: InitCaracter+12Ep

var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		enter	0Ch, 0
		les	di, [bp+arg_0]
		xor	ax, ax
		mov	es:[di], ax
		xor	ax, ax
		mov	[bp+var_4], ax
		xor	ax, ax
		mov	[bp+var_6], ax
		les	di, [bp+arg_8]
		mov	ax, es:[di+4800h]
		dec	ax
		mov	[bp+var_8], ax
		xor	ax, ax
		cmp	ax, [bp+var_8]
		jbe	short loc_2D3E8
		jmp	loc_2D48A
; ---------------------------------------------------------------------------

loc_2D3E8:				; CODE XREF: ScanWH+27j
		mov	[bp+var_2], ax
		jmp	short loc_2D3F0
; ---------------------------------------------------------------------------

loc_2D3ED:				; CODE XREF: ScanWH+CBj
		inc	[bp+var_2]

loc_2D3F0:				; CODE XREF: ScanWH+2Fj
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, [bp+arg_8]
		add	di, ax
		add	di, 3200h
		mov	word ptr [bp+var_C], di
		mov	word ptr [bp+var_C+2], es
		mov	ax, es:[di+4]
		les	di, [bp+arg_0]
		cmp	ax, es:[di]
		jle	short loc_2D423
		les	di, [bp+var_C]
		mov	ax, es:[di+4]
		les	di, [bp+arg_0]
		mov	es:[di], ax

loc_2D423:				; CODE XREF: ScanWH+58j
		mov	ax, [bp+var_4]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_C]
		mov	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		cmp	dx, bx
		jg	short loc_2D442
		jl	short loc_2D450
		cmp	ax, cx
		jbe	short loc_2D450

loc_2D442:				; CODE XREF: ScanWH+7Ej
		les	di, [bp+var_C]
		mov	ax, es:[di]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_4], ax

loc_2D450:				; CODE XREF: ScanWH+80j ScanWH+84j
		mov	ax, [bp+var_6]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		les	di, [bp+var_C]
		mov	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cwd
		cmp	dx, bx
		jg	short loc_2D470
		jl	short loc_2D47F
		cmp	ax, cx
		jbe	short loc_2D47F

loc_2D470:				; CODE XREF: ScanWH+ACj
		les	di, [bp+var_C]
		mov	ax, es:[di+2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_6], ax

loc_2D47F:				; CODE XREF: ScanWH+AEj ScanWH+B2j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jz	short loc_2D48A
		jmp	loc_2D3ED
; ---------------------------------------------------------------------------

loc_2D48A:				; CODE XREF: ScanWH+29j ScanWH+C9j
		les	di, [bp+arg_0]
		mov	ax, es:[di]
		add	ax, 20h	; ' '
		mov	es:[di], ax
		push	[bp+var_4]
		push	[bp+var_6]
		call	Min
		push	ax
		push	[bp+var_4]
		push	[bp+var_6]
		call	Max
		pop	dx
		add	ax, dx
		cwd
		mov	cx, 0Ch
		idiv	cx
		add	ax, 14h
		les	di, [bp+arg_4]
		mov	es:[di], ax
		leave
		retn	0Ch
ScanWH		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScanLowHigh	proc far		; CODE XREF: CheckMonsterContact+D0P
					; SendFastRocket+1A2P ...

var_E		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch
arg_A		= dword	ptr  10h

		enter	0Eh, 0
		imul	di, [bp+arg_4],	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_E], di
		mov	word ptr [bp+var_E+2], es
		mov	ax, [bp+arg_0]
		shr	ax, 3
		mov	[bp+arg_0], ax
		mov	ax, [bp+arg_2]
		shl	ax, 2
		add	di, ax
		les	di, es:[di+2Ah]
		assume es:nothing
		mov	ax, es
		mov	[bp+var_A], ax
		les	di, [bp+var_E]
		les	di, es:[di+26h]
		mov	ax, es
		mov	[bp+var_8], ax
		les	di, [bp+var_E]
		les	di, es:[di+26h]
		mov	ax, es:[di+4800h]
		mov	[bp+var_2], ax
		push	[bp+var_A]
		les	di, [bp+var_E]
		les	di, es:[di+26h]
		mov	ax, es:[di+4800h]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_0]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 6
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		push	ax
		push	[bp+var_8]
		push	3200h
		les	di, [bp+var_E]
		les	di, es:[di+26h]
		mov	ax, es:[di+4800h]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		shr	ax, 2
		inc	ax
		push	ax
		call	movsD__0
		mov	[bp+var_4], 2710h
		mov	[bp+var_6], 0D8F0h
		mov	ax, [bp+var_8]
		mov	es, ax
		mov	cx, [bp+var_2]
		mov	di, 3204h

loc_2D56F:				; CODE XREF: ScanLowHigh+C3j
		mov	ax, es:[di]
		cmp	[bp+var_4], ax
		jl	short loc_2D57A
		mov	[bp+var_4], ax

loc_2D57A:				; CODE XREF: ScanLowHigh+B2j
		cmp	[bp+var_6], ax
		jg	short loc_2D582
		mov	[bp+var_6], ax

loc_2D582:				; CODE XREF: ScanLowHigh+BAj
		add	di, 6
		dec	cx
		jnz	short loc_2D56F
		mov	ax, [bp+var_4]
		les	di, [bp+arg_A]
		mov	es:[di], ax
		mov	ax, [bp+var_6]
		les	di, [bp+arg_6]
		mov	es:[di], ax
		leave
		retf	0Eh
ScanLowHigh	endp

; ---------------------------------------------------------------------------
aCaracter	db 9,'CARACTER\'        ; DATA XREF: InitCaracter+25o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitCaracter	proc far		; CODE XREF: LoadMonsters+122P

var_170		= byte ptr -170h
var_70		= dword	ptr -70h
var_6C		= byte ptr -6Ch
var_5C		= byte ptr -5Ch
var_4C		= word ptr -4Ch
var_46		= byte ptr -46h
var_6		= byte ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	170h, 0
		imul	di, [bp+arg_0],	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_70], di
		mov	word ptr [bp+var_70+2],	es
		mov	byte ptr es:[di+18h], 0
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_170]
		push	ss
		push	di
		mov	di, offset aCaracter ; "CARACTER\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		les	di, [bp+var_70]
		assume es:nothing
		add	di, 19h
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		call	ChI
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_46]
		push	ss
		push	di
		push	40h ; '@'
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_4C]
		push	ss
		push	di
		push	6
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_5C]
		push	ss
		push	di
		push	10h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_6C]
		push	ss
		push	di
		push	10h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_70]
		add	di, 26h	; '&'
		push	es
		push	di
		push	480Ah
		call	GetMem16
		les	di, [bp+var_70]
		les	di, es:[di+26h]
		push	es
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_70]
		les	di, es:[di+26h]
		push	es
		push	di
		push	4806h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2D698
; ---------------------------------------------------------------------------

loc_2D695:				; CODE XREF: InitCaracter+112j
		inc	[bp+var_2]

loc_2D698:				; CODE XREF: InitCaracter+EBj
		mov	di, [bp+var_2]
		shl	di, 1
		mov	dx, [bp+di+var_4C]
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, [bp+var_2]
		imul	di, ax,	12h
		mov	[di-2FB8h], dx
		cmp	[bp+var_2], 2
		jnz	short loc_2D695
		les	di, [bp+var_70]
		push	word ptr es:[di+28h]
		push	word ptr es:[di+26h]
		add	di, 0Eh
		push	es
		push	di
		les	di, [bp+var_70]
		add	di, 0Ch
		push	es
		push	di
		call	ScanWH
		les	di, [bp+var_70]
		push	word ptr es:[di+28h]
		push	word ptr es:[di+26h]
		lea	di, [bp+var_4]
		push	ss
		push	di
		lea	di, [bp+var_6]
		push	ss
		push	di
		call	ScanLoHi
		cmp	[bp+var_4], 140h
		jle	short loc_2D704
		mov	ax, [bp+var_4]
		les	di, [bp+var_70]
		sub	es:[di+0Ch], ax

loc_2D704:				; CODE XREF: InitCaracter+150j
		les	di, [bp+var_70]
		add	di, 26h	; '&'
		push	es
		push	di
		push	480Ah
		call	FreeMem16
		cmp	[bp+arg_0], 78h	; 'x'
		jnz	short locret_2D724
		les	di, [bp+var_70]
		mov	word ptr es:[di+0Eh], 100h

locret_2D724:				; CODE XREF: InitCaracter+171j
		leave
		retf	2
InitCaracter	endp

; ---------------------------------------------------------------------------
aCaracter_0	db 9,'CARACTER\'        ; DATA XREF: UpLoadCaracter+32o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpLoadCaracter	proc far		; CODE XREF: ReloadResources+2ABP

var_16C		= byte ptr -16Ch
var_70		= dword	ptr -70h
var_6C		= dword	ptr -6Ch
var_68		= word ptr -68h
var_58		= word ptr -58h
var_48		= byte ptr -48h
var_42		= word ptr -42h
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	16Ch, 0
		imul	di, [bp+arg_0],	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_6C], di
		mov	word ptr [bp+var_6C+2],	es
		cmp	byte ptr es:[di+18h], 0
		jz	short loc_2D751
		jmp	locret_2DC0C
; ---------------------------------------------------------------------------

loc_2D751:				; CODE XREF: UpLoadCaracter+1Aj
		les	di, [bp+var_6C]
		assume es:nothing
		mov	byte ptr es:[di+18h], 1
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_16C]
		push	ss
		push	di
		mov	di, offset aCaracter_0 ; "CARACTER\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		les	di, [bp+var_6C]
		add	di, 19h
		push	es
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		call	FOpen
		call	ChI
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_42]
		push	ss
		push	di
		push	40h ; '@'
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_48]
		push	ss
		push	di
		push	6
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_58]
		push	ss
		push	di
		push	10h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_68]
		push	ss
		push	di
		push	10h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_6C]
		add	di, 26h	; '&'
		push	es
		push	di
		push	480Ah
		call	GetMem16
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		push	es
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		push	es
		push	di
		push	4806h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		add	di, 4806h
		push	es
		push	di
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		push	word ptr es:[di+4804h]
		call	GetMem16
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		les	di, es:[di+4806h]
		push	es
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		les	di, es:[di+4806h]
		push	es
		push	di
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		push	word ptr es:[di+4804h]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		call	ChI
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2D881
; ---------------------------------------------------------------------------

loc_2D87E:				; CODE XREF: UpLoadCaracter+207j
		inc	[bp+var_2]

loc_2D881:				; CODE XREF: UpLoadCaracter+14Aj
		mov	di, [bp+var_2]
		shl	di, 1
		cmp	[bp+di+var_42],	0
		ja	short loc_2D88F
		jmp	loc_2D933
; ---------------------------------------------------------------------------

loc_2D88F:				; CODE XREF: UpLoadCaracter+158j
		mov	ax, [bp+var_2]
		shl	ax, 2
		les	di, [bp+var_6C]
		add	di, ax
		add	di, 2Ah	; '*'
		push	es
		push	di
		mov	di, [bp+var_2]
		shl	di, 1
		push	[bp+di+var_42]
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 2
		les	di, [bp+var_6C]
		add	di, ax
		les	di, es:[di+2Ah]
		push	es
		push	di
		mov	di, [bp+var_2]
		shl	di, 1
		push	[bp+di+var_42]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_6C]
		les	di, es:[di+26h]
		mov	ax, es:[di+4800h]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		mov	cx, ax
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [bp+di+var_42]
		xor	dx, dx
		div	cx
		dec	ax
		shl	ax, 3
		mov	dx, ax
		mov	ax, [bp+var_2]
		shl	ax, 1
		les	di, [bp+var_6C]
		add	di, ax
		mov	es:[di+7Ah], dx
		mov	ax, [bp+var_2]
		shl	ax, 2
		les	di, [bp+var_6C]
		add	di, ax
		les	di, es:[di+2Ah]
		push	es
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [bp+di+var_42]
		add	ax, 4
		xor	dx, dx
		push	dx
		push	ax
		call	KERNEL_189
		call	ChI

loc_2D933:				; CODE XREF: UpLoadCaracter+15Aj
		cmp	[bp+var_2], 13h
		jz	short loc_2D93C
		jmp	loc_2D87E
; ---------------------------------------------------------------------------

loc_2D93C:				; CODE XREF: UpLoadCaracter+205j
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2D946
; ---------------------------------------------------------------------------

loc_2D943:				; CODE XREF: UpLoadCaracter+3D7j
		inc	[bp+var_2]

loc_2D946:				; CODE XREF: UpLoadCaracter+20Fj
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 14h
		mov	di, ax
		shl	di, 1
		cmp	[bp+di+var_42],	0
		jnz	short loc_2D95B
		jmp	loc_2DB03
; ---------------------------------------------------------------------------

loc_2D95B:				; CODE XREF: UpLoadCaracter+224j
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, [bp+var_2]
		imul	di, ax,	12h
		add	di, 0D044h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_70], di
		mov	word ptr [bp+var_70+2],	es
		add	di, 6
		push	es
		push	di
		push	480Ah
		call	GetMem16
		les	di, [bp+var_70]
		assume es:nothing
		les	di, es:[di+6]
		push	es
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_70]
		les	di, es:[di+6]
		push	es
		push	di
		push	4806h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		imul	di, [bp+arg_0],	0A2h
		les	di, [di+7FD4h]
		mov	ax, es:[di+4806h]
		mov	dx, es:[di+4808h]
		les	di, [bp+var_70]
		les	di, es:[di+6]
		mov	es:[di+4806h], ax
		mov	es:[di+4808h], dx
		les	di, [bp+var_70]
		add	di, 0Ah
		push	es
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 14h
		mov	di, ax
		shl	di, 1
		push	[bp+di+var_42]
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_70]
		les	di, es:[di+0Ah]
		push	es
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 14h
		mov	di, ax
		shl	di, 1
		push	[bp+di+var_42]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_70]
		les	di, es:[di+6]
		mov	ax, es:[di+4800h]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		mov	cx, ax
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 14h
		mov	di, ax
		shl	di, 1
		mov	ax, [bp+di+var_42]
		xor	dx, dx
		div	cx
		dec	ax
		shl	ax, 3
		les	di, [bp+var_70]
		mov	es:[di], ax
		les	di, es:[di+0Ah]
		push	es
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 14h
		mov	di, ax
		shl	di, 1
		mov	ax, [bp+di+var_42]
		add	ax, 4
		xor	dx, dx
		push	dx
		push	ax
		call	KERNEL_189
		les	di, [bp+var_70]
		add	di, 0Eh
		push	es
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 15h
		mov	di, ax
		shl	di, 1
		push	[bp+di+var_42]
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_70]
		les	di, es:[di+0Eh]
		push	es
		push	di
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 15h
		mov	di, ax
		shl	di, 1
		push	[bp+di+var_42]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_70]
		les	di, es:[di+6]
		mov	ax, es:[di+4800h]
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		mov	cx, ax
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 15h
		mov	di, ax
		shl	di, 1
		mov	ax, [bp+di+var_42]
		xor	dx, dx
		div	cx
		dec	ax
		shl	ax, 3
		les	di, [bp+var_70]
		mov	es:[di+2], ax
		les	di, es:[di+0Eh]
		push	es
		mov	ax, [bp+var_2]
		shl	ax, 1
		add	ax, 15h
		mov	di, ax
		shl	di, 1
		mov	ax, [bp+di+var_42]
		add	ax, 4
		xor	dx, dx
		push	dx
		push	ax
		call	KERNEL_189

loc_2DB03:				; CODE XREF: UpLoadCaracter+226j
		cmp	[bp+var_2], 2
		jz	short loc_2DB0C
		jmp	loc_2D943
; ---------------------------------------------------------------------------

loc_2DB0C:				; CODE XREF: UpLoadCaracter+3D5j
		cmp	sCard, 2
		jnb	short loc_2DB16
		jmp	loc_2DBC2
; ---------------------------------------------------------------------------

loc_2DB16:				; CODE XREF: UpLoadCaracter+3DFj
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2DB20
; ---------------------------------------------------------------------------

loc_2DB1D:				; CODE XREF: UpLoadCaracter+48Dj
		inc	[bp+var_2]

loc_2DB20:				; CODE XREF: UpLoadCaracter+3E9j
		mov	di, [bp+var_2]
		shl	di, 1
		cmp	[bp+di+var_58],	0
		ja	short loc_2DB2E
		jmp	loc_2DBB9
; ---------------------------------------------------------------------------

loc_2DB2E:				; CODE XREF: UpLoadCaracter+3F7j
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		mov	dx, ax
		imul	ax, [bp+var_2],	16h
		add	ax, 64h	; 'd'
		add	ax, dx
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	word ptr [bp+var_70], di
		mov	word ptr [bp+var_70+2],	es
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [bp+di+var_68]
		les	di, [bp+var_70]
		mov	es:[di+6], ax
		mov	di, [bp+var_2]
		shl	di, 1
		mov	ax, [bp+di+var_58]
		add	ax, 3FFh
		shr	ax, 0Ah
		les	di, [bp+var_70]
		mov	es:[di+4], ax
		push	es
		push	di
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		call	GetMem16
		les	di, [bp+var_70]
		les	di, es:[di]
		push	es
		push	di
		les	di, [bp+var_70]
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_70]
		les	di, es:[di]
		push	es
		push	di
		mov	di, [bp+var_2]
		shl	di, 1
		push	[bp+di+var_58]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)

loc_2DBB9:				; CODE XREF: UpLoadCaracter+3F9j
		cmp	[bp+var_2], 6
		jz	short loc_2DBC2
		jmp	loc_2DB1D
; ---------------------------------------------------------------------------

loc_2DBC2:				; CODE XREF: UpLoadCaracter+3E1j
					; UpLoadCaracter+48Bj
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		les	di, [bp+var_6C]
		add	di, 10h
		push	es
		push	di
		mov	di, offset i__0
		push	ds
		push	di
		push	[bp+arg_0]
		push	0
		push	2
		call	ScanLowHigh
		les	di, [bp+var_6C]
		cmp	word ptr es:[di+10h], 140h
		jge	short loc_2DBFE
		xor	ax, ax
		mov	es:[di+10h], ax
		jmp	short locret_2DC0C
; ---------------------------------------------------------------------------

loc_2DBFE:				; CODE XREF: UpLoadCaracter+4C2j
		les	di, [bp+var_6C]
		mov	ax, es:[di+10h]
		shr	ax, 5
		mov	es:[di+10h], ax

locret_2DC0C:				; CODE XREF: UpLoadCaracter+1Cj
					; UpLoadCaracter+4CAj
		leave
		retf	2
UpLoadCaracter	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReleaseCaracter	proc far		; CODE XREF: ReloadResources+2B5P

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6

		enter	8, 0
		imul	di, [bp+arg_0],	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	byte ptr es:[di+18h], 0
		jnz	short loc_2DC2F
		jmp	locret_2DDBC
; ---------------------------------------------------------------------------

loc_2DC2F:				; CODE XREF: ReleaseCaracter+1Aj
		mov	byte ptr es:[di+18h], 0
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2DC3F
; ---------------------------------------------------------------------------

loc_2DC3B:				; CODE XREF: ReleaseCaracter+C2j
		inc	n__0

loc_2DC3F:				; CODE XREF: ReleaseCaracter+29j
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		mov	si, ax
		shl	ax, 1
		add	ax, si
		add	ax, n__0
		imul	di, ax,	12h
		add	di, 0D044h
		push	ds
		pop	es
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, es:[di+6]
		or	ax, es:[di+8]
		jz	short loc_2DCCB
		add	di, 0Ah
		push	es
		push	di
		les	di, [bp+var_8]
		assume es:nothing
		mov	ax, es:[di]
		shr	ax, 3
		inc	ax
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, es:[di+6]
		mul	word ptr es:[di+4800h]
		push	ax
		call	FreeMem16
		les	di, [bp+var_8]
		add	di, 0Eh
		push	es
		push	di
		les	di, [bp+var_8]
		mov	ax, es:[di+2]
		shr	ax, 3
		inc	ax
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, es:[di+6]
		mul	word ptr es:[di+4800h]
		push	ax
		call	FreeMem16
		les	di, [bp+var_8]
		add	di, 6
		push	es
		push	di
		push	480Ah
		call	FreeMem16

loc_2DCCB:				; CODE XREF: ReleaseCaracter+56j
		cmp	n__0, 2
		jz	short loc_2DCD5
		jmp	loc_2DC3B
; ---------------------------------------------------------------------------

loc_2DCD5:				; CODE XREF: ReleaseCaracter+C0j
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2DCE0
; ---------------------------------------------------------------------------

loc_2DCDC:				; CODE XREF: ReleaseCaracter+127j
		inc	n__0

loc_2DCE0:				; CODE XREF: ReleaseCaracter+CAj
		mov	ax, n__0
		shl	ax, 2
		les	di, [bp+var_4]
		add	di, ax
		mov	ax, es:[di+2Ah]
		or	ax, es:[di+2Ch]
		jz	short loc_2DD32
		mov	ax, n__0
		shl	ax, 2
		les	di, [bp+var_4]
		add	di, ax
		add	di, 2Ah	; '*'
		push	es
		push	di
		mov	ax, n__0
		shl	ax, 1
		les	di, [bp+var_4]
		add	di, ax
		mov	ax, es:[di+7Ah]
		shr	ax, 3
		inc	ax
		shl	ax, 1
		mov	si, ax
		shl	ax, 1
		add	ax, si
		les	di, [bp+var_4]
		les	di, es:[di+26h]
		mul	word ptr es:[di+4800h]
		push	ax
		call	FreeMem16

loc_2DD32:				; CODE XREF: ReleaseCaracter+E3j
		cmp	n__0, 13h
		jnz	short loc_2DCDC
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2DD44
; ---------------------------------------------------------------------------

loc_2DD40:				; CODE XREF: ReleaseCaracter+17Bj
		inc	n__0

loc_2DD44:				; CODE XREF: ReleaseCaracter+12Ej
		mov	ax, [bp+arg_0]
		sub	ax, 64h	; 'd'
		mov	dx, ax
		imul	ax, n__0, 16h
		add	ax, 64h	; 'd'
		add	ax, dx
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	word ptr [bp+var_8], di
		mov	word ptr [bp+var_8+2], es
		mov	ax, es:[di]
		or	ax, es:[di+2]
		jz	short loc_2DD86
		push	es
		push	di
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		call	FreeMem16
		les	di, [bp+var_8]
		xor	ax, ax
		mov	es:[di+4], ax

loc_2DD86:				; CODE XREF: ReleaseCaracter+15Cj
		cmp	n__0, 7
		jnz	short loc_2DD40
		les	di, [bp+var_4]
		les	di, es:[di+26h]
		add	di, 4806h
		push	es
		push	di
		les	di, [bp+var_4]
		les	di, es:[di+26h]
		push	word ptr es:[di+4804h]
		call	FreeMem16
		les	di, [bp+var_4]
		add	di, 26h	; '&'
		push	es
		push	di
		push	480Ah
		call	FreeMem16

locret_2DDBC:				; CODE XREF: ReleaseCaracter+1Cj
		leave
		retf	2
ReleaseCaracter	endp

; ---------------------------------------------------------------------------
aV		db 2,'V:'               ; DATA XREF: LoadSound+21o
a_wav_0		db 4,'.WAV'             ; DATA XREF: LoadSound+C7o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadSound	proc far		; CODE XREF: LoadNewSounds+95P
					; LoadSounds+85P

var_20A		= byte ptr -20Ah
var_10E		= dword	ptr -10Eh
var_10A		= word ptr -10Ah
var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	20Ah, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_2]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	[bp+var_106], 40h ; '@'
		mov	di, offset aV	; "V:"
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_108], ax
		cmp	[bp+var_108], 0
		jz	short loc_2DE47
		lea	di, [bp+var_20A]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	ax, [bp+var_108]
		inc	ax
		inc	ax
		push	ax
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	ax, [bp+var_108]
		dec	ax
		mov	[bp+var_100], al
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset i__0
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_106], ax

loc_2DE47:				; CODE XREF: LoadSound+3Aj
		cmp	[bp+var_100], 0
		jnz	short loc_2DE51
		jmp	locret_2DF7F
; ---------------------------------------------------------------------------

loc_2DE51:				; CODE XREF: LoadSound+84j
		lea	di, [bp+var_20A]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FOpen
		mov	ax, word_44C52
		mov	dx, word_44C54
		mov	[bp+var_104], ax
		mov	[bp+var_102], dx
		mov	di, offset a_wav_0 ; ".WAV"
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_2DEC7
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	28h ; '('
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_104]
		push	ss
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)

loc_2DEC7:				; CODE XREF: LoadSound+D9j
		mov	ax, [bp+arg_0]
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	word ptr [bp+var_10E], di
		mov	word ptr [bp+var_10E+2], es
		mov	ax, [bp+var_104]
		mov	dx, [bp+var_102]
		add	ax, 3FFh
		adc	dx, 0
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		les	di, [bp+var_10E]
		mov	es:[di+4], ax
		push	es
		push	di
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		call	GetMem16
		les	di, [bp+var_10E]
		les	di, es:[di]
		push	es
		push	di
		les	di, [bp+var_10E]
		mov	ax, es:[di+4]
		shl	ax, 0Ah
		push	ax
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_10E]
		les	di, es:[di]
		push	es
		push	di
		push	[bp+var_104]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_10E]
		les	di, es:[di]
		mov	ax, es
		mov	[bp+var_10A], ax
		mov	ax, [bp+var_104]
		mov	[bp+var_108], ax
		mov	ax, [bp+var_106]
		les	di, [bp+var_10E]
		mov	es:[di+6], ax
		mov	cx, [bp+var_108]
		mov	ax, [bp+var_10A]
		mov	es, ax
		xor	di, di

loc_2DF6E:				; CODE XREF: LoadSound+1ABj
		sub	byte ptr es:[di], 80h ;	'€'
		inc	di
		loop	loc_2DF6E
		mov	di, offset F
		push	ds
		push	di
		call	FClose

locret_2DF7F:				; CODE XREF: LoadSound+86j
		leave
		retf	6
LoadSound	endp

; ---------------------------------------------------------------------------
aB		db 2,'B:'               ; DATA XREF: LoadAmb+2Bo
aV_0		db 2,'V:'               ; DATA XREF: LoadAmb+AFo
a_wav_1		db 4,'.WAV'             ; DATA XREF: LoadAmb+14Co

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadAmb		proc far		; CODE XREF: LoadAmbients+95P

var_222		= byte ptr -222h
var_126		= dword	ptr -126h
var_122		= word ptr -122h
var_120		= byte ptr -120h
var_10A		= word ptr -10Ah
var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	222h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_2]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		cmp	[bp+var_100], 0
		jnz	short loc_2DFB3
		jmp	locret_2E1DA
; ---------------------------------------------------------------------------

loc_2DFB3:				; CODE XREF: LoadAmb+20j
		mov	[bp+var_122], 0FFFFh
		mov	di, offset aB	; "B:"
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_108], ax
		cmp	[bp+var_108], 0
		jz	short loc_2E018
		lea	di, [bp+var_222]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	ax, [bp+var_108]
		inc	ax
		inc	ax
		push	ax
		push	0Ah
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		lea	di, [bp+var_120]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	ax, [bp+var_108]
		dec	ax
		mov	[bp+var_100], al
		lea	di, [bp+var_120]
		push	ss
		push	di
		mov	di, offset i__0
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_122], ax

loc_2E018:				; CODE XREF: LoadAmb+44j
		lea	di, [bp+var_222]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	[bp+var_10A], 40h ; '@'
		mov	di, offset aV_0	; "V:"
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_108], ax
		cmp	[bp+var_108], 0
		jz	short loc_2E09C
		lea	di, [bp+var_222]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	ax, [bp+var_108]
		inc	ax
		inc	ax
		push	ax
		push	0Ah
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		lea	di, [bp+var_120]
		push	ss
		push	di
		push	14h
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	ax, [bp+var_108]
		dec	ax
		mov	[bp+var_100], al
		lea	di, [bp+var_120]
		push	ss
		push	di
		mov	di, offset i__0
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_10A], ax

loc_2E09C:				; CODE XREF: LoadAmb+C8j
		lea	di, [bp+var_222]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FOpen
		mov	ax, word_44C52
		mov	dx, word_44C54
		mov	[bp+var_104], ax
		mov	[bp+var_102], dx
		mov	di, offset a_wav_1 ; ".WAV"
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jz	short loc_2E112
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	28h ; '('
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_104]
		push	ss
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)

loc_2E112:				; CODE XREF: LoadAmb+15Ej
		imul	di, [bp+arg_0],	0Eh
		add	di, 0F5C2h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_126], di
		mov	word ptr [bp+var_126+2], es
		mov	ax, [bp+var_122]
		mov	es:[di+0Ch], ax
		mov	ax, [bp+var_104]
		mov	dx, [bp+var_102]
		add	ax, 3FFh
		adc	dx, 0
		mov	cx, 0Ah
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		les	di, [bp+var_126]
		assume es:nothing
		mov	es:[di+6], ax
		mov	ax, [bp+var_104]
		mov	es:[di+4], ax
		xor	ax, ax
		mov	es:[di+8], ax
		mov	ax, [bp+var_10A]
		mov	es:[di+0Ah], ax
		push	es
		push	di
		mov	ax, es:[di+6]
		shl	ax, 0Ah
		push	ax
		call	GetMem16
		les	di, [bp+var_126]
		les	di, es:[di]
		push	es
		push	di
		les	di, [bp+var_126]
		mov	ax, es:[di+6]
		shl	ax, 0Ah
		push	ax
		push	0
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_126]
		les	di, es:[di]
		push	es
		push	di
		push	[bp+var_104]
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_126]
		les	di, es:[di]
		mov	ax, es
		mov	[bp+var_106], ax
		mov	ax, [bp+var_104]
		mov	[bp+var_108], ax
		mov	cx, [bp+var_108]
		mov	ax, [bp+var_106]
		mov	es, ax
		xor	di, di

loc_2E1C9:				; CODE XREF: LoadAmb+240j
		sub	byte ptr es:[di], 80h ;	'€'
		inc	di
		loop	loc_2E1C9
		mov	di, offset F
		push	ds
		push	di
		call	FClose

locret_2E1DA:				; CODE XREF: LoadAmb+22j
		leave
		retf	6
LoadAmb		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AllocFloors	proc near		; CODE XREF: AllocMemory+182p

var_8		= dword	ptr -8
var_4		= word ptr -4

		enter	8, 0
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_2E1EC
; ---------------------------------------------------------------------------

loc_2E1E9:				; CODE XREF: AllocFloors+3Fj
		inc	[bp+var_4]

loc_2E1EC:				; CODE XREF: AllocFloors+9j
		lea	di, [bp+var_8]
		push	ss
		push	di
		push	1580h
		call	GetMem16
		les	di, [bp+var_8]
		mov	ax, es
		mov	di, [bp+var_4]
		shl	di, 1
		mov	[di+1890h], ax
		mov	di, [bp+var_4]
		shl	di, 1
		push	word ptr [di+1890h]
		push	0
		push	0FFFFh
		call	KERNEL_189
		cmp	[bp+var_4], 3Fh	; '?'
		jnz	short loc_2E1E9
		mov	[bp+var_4], 40h	; '@'
		jmp	short loc_2E229
; ---------------------------------------------------------------------------

loc_2E226:				; CODE XREF: AllocFloors+5Cj
		inc	[bp+var_4]

loc_2E229:				; CODE XREF: AllocFloors+46j
		mov	ax, FlSegs
		mov	di, [bp+var_4]
		shl	di, 1
		mov	[di+1890h], ax
		cmp	[bp+var_4], 0FFh
		jnz	short loc_2E226
		leave
		retn
AllocFloors	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AllocVideo	proc far		; CODE XREF: DeinitMonitor+12P
					; SwitchMonitor+41P ...

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		mov	ax, LastVideoMode
		cmp	ax, 0
		jnz	short loc_2E24C
		jmp	short loc_2E268
; ---------------------------------------------------------------------------

loc_2E24C:				; CODE XREF: AllocVideo+Aj
		cmp	ax, 1
		jnz	short loc_2E25F
		mov	di, offset _VGA
		push	ds
		push	di
		push	0FFFFh
		call	FreeMem16
		jmp	short loc_2E268
; ---------------------------------------------------------------------------

loc_2E25F:				; CODE XREF: AllocVideo+11j
		push	VgaSeg
		call	KERNEL_17

loc_2E268:				; CODE XREF: AllocVideo+Cj
					; AllocVideo+1Fj
		mov	ax, CurVideoMode
		mov	LastVideoMode, ax
		mov	ax, CurVideoMode
		cmp	ax, 1
		jnz	short loc_2E28D
		mov	di, offset _VGA
		push	ds
		push	di
		push	0FFFFh
		call	GetMem16
		les	di, _VGA
		mov	ax, es
		mov	VgaSeg,	ax
		jmp	short locret_2E2D0
; ---------------------------------------------------------------------------

loc_2E28D:				; CODE XREF: AllocVideo+36j
		imul	di, CurVideoMode, 0Dh
		mov	ax, [di-0BC9h]
		mov	dx, [di-0BC7h]
		add	ax, 0A00h
		adc	dx, 0
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		push	[bp+var_2]
		push	[bp+var_4]
		call	KERNEL_25
		push	40h ; '@'
		push	[bp+var_2]
		push	[bp+var_4]
		call	KERNEL_15
		mov	VgaSeg,	ax
		mov	ax, 8
		mov	bx, VgaSeg
		mov	cx, [bp+var_2]
		mov	dx, [bp+var_4]
		int	31h		; DPMI Services	  ax=func xxxxh
					; SET SEGMENT LIMIT
					; BX = selector, CX:DX = segment limit
					; Return: CF set on error
					; CF clear if successful

locret_2E2D0:				; CODE XREF: AllocVideo+4Dj
		leave
		retf
AllocVideo	endp

; ---------------------------------------------------------------------------
aStartupAllocat	db 19,'Startup Allocated: ' ; DATA XREF: AllocMemory+239o
aK__0		db 2,'K.'               ; DATA XREF: AllocMemory+25Eo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AllocMemory	proc far		; CODE XREF: PROGRAM+C12P

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		mov	di, offset RGBTab25
		push	ds
		push	di
		push	0FFFFh
		call	GetMem16
		les	di, RGBTab25
		mov	ax, es
		mov	RGBSeg25, ax
		mov	di, offset RGBTab60
		push	ds
		push	di
		push	0FFFFh
		call	GetMem16
		les	di, RGBTab60
		mov	ax, es
		mov	RGBSeg60, ax
		mov	di, offset Fonts
		push	ds
		push	di
		push	0A000h
		call	GetMem16
		mov	di, offset ConsolePtr
		push	ds
		push	di
		push	5F00h
		call	GetMem16
		mov	di, offset BigFont
		push	ds
		push	di
		push	230Ah
		call	GetMem16
		mov	di, offset LitFont
		push	ds
		push	di
		push	492h
		call	GetMem16
		mov	di, offset WIcons
		push	ds
		push	di
		push	15E0h
		call	GetMem16
		mov	di, offset Flags
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset VMask
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset DarkMap
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset AmbMap
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset TeleMap
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset FloorZLo
		push	ds
		push	di
		push	0FFFFh
		call	GetMem16
		mov	di, offset FloorZHi
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset VesaTiler
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset Ground
		push	ds
		push	di
		push	5000h
		call	GetMem16
		mov	di, offset Status
		push	ds
		push	di
		push	5F00h
		call	GetMem16
		mov	di, offset AltXTab
		push	ds
		push	di
		push	800h
		call	GetMem16
		mov	di, offset GFXindex
		push	ds
		push	di
		push	700h
		call	GetMem16
		mov	di, offset FramesList
		push	ds
		push	di
		push	15E0h
		call	GetMem16
		mov	di, offset BlowsList
		push	ds
		push	di
		push	1000h
		call	GetMem16
		mov	di, offset LevelNames
		push	ds
		push	di
		push	800h
		call	GetMem16
		mov	di, offset ShortNames
		push	ds
		push	di
		push	800h
		call	GetMem16
		mov	di, offset SkyPtr
		push	ds
		push	di
		push	0C800h
		call	GetMem16
		mov	di, offset LinesBUF
		push	ds
		push	di
		push	2400h
		call	GetMem16
		mov	di, offset Tports
		push	ds
		push	di
		push	500h
		call	GetMem16
		mov	di, offset HolesList
		push	ds
		push	di
		push	500h
		call	GetMem16
		call	AllocVideo
		call	AllocFloors
		mov	ax, ds
		push	ax
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset Map
		push	ds
		push	di
		push	0B000h
		call	GetMem16
		mov	di, offset Lights
		push	ds
		push	di
		push	0C00h
		call	GetMem16
		mov	di, offset ShadowMap
		push	ds
		push	di
		push	0FFFFh
		call	GetMem16
		mov	di, offset ShadowMap2
		push	ds
		push	di
		push	0FFFFh
		call	GetMem16
		les	di, ShadowMap
		mov	ax, es
		mov	ShadowSeg, ax
		les	di, ShadowMap2
		mov	ax, es
		mov	ShadowSeg2, ax
		mov	di, offset WShadowMap
		push	ds
		push	di
		push	8000h
		call	GetMem16
		mov	di, offset WShadowMap2
		push	ds
		push	di
		push	8000h
		call	GetMem16
		les	di, WShadowMap
		mov	ax, es
		mov	WShadowSeg, ax
		les	di, WShadowMap2
		mov	ax, es
		mov	WShadowSeg2, ax
		push	WShadowSeg
		push	0
		push	0FFFFh
		call	KERNEL_189
		push	ShadowSeg
		push	0
		push	0FFFFh
		call	KERNEL_189
		call	MEMAVAIL	; MemAvail: Longint{DX:AX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aStartupAllocat ; "Startup Allocated: "
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 3E8h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		push	dx
		push	ax
		push	0
		call	@Write$qm4Text7Longint4Word ; Write(var	f; v: Longint; width: Word)
		mov	di, offset aK__0 ; "K."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retf
AllocMemory	endp

; ---------------------------------------------------------------------------
aLoadingEnviron	db 22,'Loading environment...' ; DATA XREF: LoadCommonParts+6Bo
aCommonConsole_	db 18,'COMMON\CONSOLE.CEL' ; DATA XREF: LoadCommonParts+81o
aCommonChasm_rg	db 16,'COMMON\CHASM.RGB' ; DATA XREF: LoadCommonParts+D2o
aCommonChasm60_	db 18,'COMMON\CHASM60.RGB' ; DATA XREF: LoadCommonParts+102o
aCommonFont256_	db 18,'COMMON\font256.cel' ; DATA XREF: LoadCommonParts+1B0o
aCommonBfont2_c	db 17,'COMMON\bfont2.cel' ; DATA XREF: LoadCommonParts+282o
aCommonLfont2_c	db 17,'COMMON\lfont2.cel' ; DATA XREF: LoadCommonParts+2C6o
aCommonWicons_c	db 17,'COMMON\wicons.cel' ; DATA XREF: LoadCommonParts+30Ao
aCommonFadetab_	db 18,'COMMON\fadetab.cel' ; DATA XREF: LoadCommonParts+34Eo
aCommonChasm2_p	db 17,'COMMON\chasm2.pal' ; DATA XREF: LoadCommonParts+3BBo
aCommonChasm_ke	db 16,'COMMON\chasm.key' ; DATA XREF: LoadCommonParts+3EAo
aOk__0		db 3,'Ok.'              ; DATA XREF: LoadCommonParts+419o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadCommonParts	proc far		; CODE XREF: PROGRAM+CB7P

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ah, 0
		xor	ax, ax
		mov	n__0, ax
		jmp	short loc_2E63A
; ---------------------------------------------------------------------------

loc_2E636:				; CODE XREF: LoadCommonParts+64j
		inc	n__0

loc_2E63A:				; CODE XREF: LoadCommonParts+9j
		mov	ax, n__0
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 2182h
		mov	si, 0DAA2h
		mov	di, 490Fh
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 82h	; '‚'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		mov	cx, 8Bh	; '‹'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		call	@Cos$q4Real	; Cos(x: Real):	Real
		mov	cx, 8Dh	; ''
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	di, n__0
		shl	di, 1
		mov	[di-6390h], ax
		cmp	n__0, 3FFh
		jnz	short loc_2E636
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingEnviron ; "Loading environment..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonConsole_ ; "COMMON\\CONSOLE.CEL"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, ConsolePtr
		push	es
		push	di
		push	5F00h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		push	RGBSeg60
		push	0
		push	0FFFFh
		call	KERNEL_189
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonChasm_rg ; "COMMON\\CHASM.RGB"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		les	di, RGBTab25
		push	es
		push	di
		push	0FF00h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonChasm60_ ; "COMMON\\CHASM60.RGB"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		les	di, RGBTab60
		push	es
		push	di
		push	0FF00h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	ax, RGBSeg25
		mov	RGBSeg,	ax
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_2E768
; ---------------------------------------------------------------------------

loc_2E765:				; CODE XREF: LoadCommonParts+16Bj
		inc	[bp+var_6]

loc_2E768:				; CODE XREF: LoadCommonParts+138j
		mov	dl, byte ptr [bp+var_6]
		mov	ax, RGBSeg60
		push	ax
		mov	ax, [bp+var_6]
		shl	ax, 8
		add	ax, 0FFh
		mov	di, ax
		pop	es
		mov	es:[di], dl
		mov	dl, byte ptr [bp+var_6]
		mov	ax, RGBSeg60
		push	ax
		mov	ax, [bp+var_6]
		add	ax, 0FF00h
		mov	di, ax
		pop	es
		mov	es:[di], dl
		cmp	[bp+var_6], 0FFh
		jnz	short loc_2E765
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_2E7A2
; ---------------------------------------------------------------------------

loc_2E79F:				; CODE XREF: LoadCommonParts+18Aj
		inc	[bp+var_6]

loc_2E7A2:				; CODE XREF: LoadCommonParts+172j
		mov	dl, byte ptr [bp+var_6]
		mov	ax, RGBSeg25
		push	ax
		mov	di, [bp+var_6]
		pop	es
		mov	es:[di], dl
		cmp	[bp+var_6], 0FEh ; 'þ'
		jnz	short loc_2E79F
		xor	ax, ax
		mov	[bp+var_6], ax
		jmp	short loc_2E7C1
; ---------------------------------------------------------------------------

loc_2E7BE:				; CODE XREF: LoadCommonParts+1A9j
		inc	[bp+var_6]

loc_2E7C1:				; CODE XREF: LoadCommonParts+191j
		mov	dl, byte ptr [bp+var_6]
		mov	ax, RGBSeg60
		push	ax
		mov	di, [bp+var_6]
		pop	es
		mov	es:[di], dl
		cmp	[bp+var_6], 0FEh ; 'þ'
		jnz	short loc_2E7BE
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonFont256_ ; "COMMON\\font256.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, Fonts
		push	es
		push	di
		push	0A000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		xor	ax, ax
		mov	j, ax
		jmp	short loc_2E825
; ---------------------------------------------------------------------------

loc_2E821:				; CODE XREF: LoadCommonParts+27Aj
		inc	j

loc_2E825:				; CODE XREF: LoadCommonParts+1F4j
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	ax, j
		and	ax, 0Fh
		mov	[bp+var_2], ax
		mov	ax, j
		shr	ax, 4
		mov	[bp+var_4], ax
		mov	[bp+var_8], 1
		jmp	short loc_2E846
; ---------------------------------------------------------------------------

loc_2E843:				; CODE XREF: LoadCommonParts+262j
		inc	[bp+var_8]

loc_2E846:				; CODE XREF: LoadCommonParts+216j
		xor	ax, ax
		mov	[bp+var_A], ax
		jmp	short loc_2E850
; ---------------------------------------------------------------------------

loc_2E84D:				; CODE XREF: LoadCommonParts+25Cj
		inc	[bp+var_A]

loc_2E850:				; CODE XREF: LoadCommonParts+220j
		mov	ax, [bp+var_2]
		shl	ax, 4
		mov	cx, ax
		mov	ax, [bp+var_A]
		shl	ax, 8
		mov	dx, ax
		imul	ax, [bp+var_4],	0A00h
		add	ax, dx
		add	ax, cx
		add	ax, [bp+var_8]
		inc	ax
		inc	ax
		add	ax, 200h
		les	di, Fonts
		add	di, ax
		cmp	byte ptr es:[di], 0FFh
		jz	short loc_2E883
		mov	ax, [bp+var_8]
		mov	[bp+var_6], ax

loc_2E883:				; CODE XREF: LoadCommonParts+250j
		cmp	[bp+var_A], 6
		jnz	short loc_2E84D
		cmp	[bp+var_8], 0Ah
		jnz	short loc_2E843
		mov	ax, [bp+var_6]
		inc	ax
		mov	di, j
		shl	di, 1
		mov	[di-1DA0h], ax
		cmp	j, 0FFh
		jz	short loc_2E8A8
		jmp	loc_2E821
; ---------------------------------------------------------------------------

loc_2E8A8:				; CODE XREF: LoadCommonParts+278j
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonBfont2_c ; "COMMON\\bfont2.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, BigFont
		push	es
		push	di
		push	230Ah
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonLfont2_c ; "COMMON\\lfont2.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, LitFont
		push	es
		push	di
		push	492h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonWicons_c ; "COMMON\\wicons.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, WIcons
		push	es
		push	di
		push	15E0h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonFadetab_ ; "COMMON\\fadetab.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset ColorMap
		push	ds
		push	di
		push	3400h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		mov	n__0, 1
		jmp	short loc_2E9C3
; ---------------------------------------------------------------------------

loc_2E9BF:				; CODE XREF: LoadCommonParts+3A9j
		inc	n__0

loc_2E9C3:				; CODE XREF: LoadCommonParts+392j
		mov	di, n__0
		shl	di, 8
		mov	byte ptr [di+1AC5h], 0FFh
		cmp	n__0, 34h ; '4'
		jnz	short loc_2E9BF
		mov	ax, 1AC6h
		mov	cm_ofs,	ax
		call	LoadGround
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonChasm2_p ; "COMMON\\chasm2.pal"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Palette
		push	ds
		push	di
		push	300h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonChasm_ke ; "COMMON\\chasm.key"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset ASCII_Tab
		push	ds
		push	di
		push	100h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__0 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retf
LoadCommonParts	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckMouse	proc far		; CODE XREF: PROGRAM+664P
		enter	2, 0
		mov	MouseD,	0
		call	getmousestate
		cmp	MsX, 0
		jle	short locret_2EA88
		cmp	MsX, 27Fh
		jge	short locret_2EA88
		cmp	MsY, 0
		jle	short locret_2EA88
		cmp	MsY, 190h
		jge	short locret_2EA88
		mov	MouseD,	1

locret_2EA88:				; CODE XREF: CheckMouse+13j
					; CheckMouse+1Bj ...
		leave
		retf
CheckMouse	endp

; ---------------------------------------------------------------------------
asc_2EA8A	db 1,'='                ; DATA XREF: RemoveEqual+4o
asc_2EA8C	db 1,';'                ; DATA XREF: RemoveEqual+43o
					; RemoveEqual+56o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RemoveEqual	proc far		; CODE XREF: LoadNewSounds+4CP
					; LoadAmbients+4CP ...

var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	202h, 0
		mov	di, offset asc_2EA8A ; "="
		push	cs
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jnz	short loc_2EAAC
		jmp	short locret_2EB22
; ---------------------------------------------------------------------------

loc_2EAAC:				; CODE XREF: RemoveEqual+1Aj
		lea	di, [bp+var_102]
		push	ss
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		mov	ax, [bp+var_2]
		inc	ax
		push	ax
		push	88h ; 'ˆ'
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		les	di, [bp+arg_0]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset asc_2EA8C ; ";"
		push	cs
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jle	short loc_2EAFA
		mov	di, offset asc_2EA8C ; ";"
		push	cs
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		dec	ax
		les	di, [bp+arg_0]
		mov	es:[di], al

loc_2EAFA:				; CODE XREF: RemoveEqual+54j
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		les	di, [bp+arg_0]
		push	es
		push	di
		call	Trim
		call	StUpcase
		les	di, [bp+arg_0]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

locret_2EB22:				; CODE XREF: RemoveEqual+1Cj
		leave
		retf	4
RemoveEqual	endp

; ---------------------------------------------------------------------------
aLoadSoundData_	db 18,'Load Sound Data...' ; DATA XREF: LoadSounds+13o
aSounds_end	db 12,'[SOUNDS_END]'    ; DATA XREF: LoadSounds+48o
aSfx		db 4,'SFX\'             ; DATA XREF: LoadSounds+6Co
aOk__1		db 3,'Ok.'              ; DATA XREF: LoadSounds+ADo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadSounds	proc near		; CODE XREF: LoadGraphics+F1p

var_202		= byte ptr -202h
var_102		= word ptr -102h
var_100		= byte ptr -100h

		enter	202h, 0
		cmp	sCard, 1
		ja	short loc_2EB5D
		jmp	locret_2EC0D
; ---------------------------------------------------------------------------

loc_2EB5D:				; CODE XREF: LoadSounds+9j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadSoundData_ ; "Load Sound Data..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	[bp+var_102], ax

loc_2EB91:				; CODE XREF: LoadSounds+A6j
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset aSounds_end ; "[SOUNDS_END]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_2EBF7
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	RemoveEqual
		cmp	[bp+var_100], 0
		jz	short loc_2EBD9
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset aSfx	; "SFX\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		push	[bp+var_102]
		call	LoadSound

loc_2EBD9:				; CODE XREF: LoadSounds+64j
		inc	[bp+var_102]
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		jmp	short loc_2EB91
; ---------------------------------------------------------------------------

loc_2EBF7:				; CODE XREF: LoadSounds+52j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__1 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)

locret_2EC0D:				; CODE XREF: LoadSounds+Bj
		leave
		retn
LoadSounds	endp

; ---------------------------------------------------------------------------
aLoadingObjects	db 19,' Loading Objects...' ; DATA XREF: LoadBMPObjects+9o
aBmp		db 4,'BMP\'             ; DATA XREF: LoadBMPObjects+E9o
aOk__2		db 3,'Ok.'              ; DATA XREF: LoadBMPObjects+196o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadBMPObjects	proc near		; CODE XREF: LoadGraphics+6Cp

var_250		= byte ptr -250h
var_150		= byte ptr -150h
var_52		= word ptr -52h
var_50		= dword	ptr -50h
var_4C		= word ptr -4Ch
var_4A		= byte ptr -4Ah
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_2		= word ptr -2

		enter	250h, 0
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingObjects ; " Loading Objects..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	ObjectsLoaded, ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	ax, ObjectsLoaded
		dec	ax
		mov	[bp+var_4C], ax
		xor	ax, ax
		cmp	ax, [bp+var_4C]
		jbe	short loc_2EC6E
		jmp	loc_2EDBD
; ---------------------------------------------------------------------------

loc_2EC6E:				; CODE XREF: LoadBMPObjects+3Dj
		mov	[bp+var_2], ax
		jmp	short loc_2EC76
; ---------------------------------------------------------------------------

loc_2EC73:				; CODE XREF: LoadBMPObjects+18Ej
		inc	[bp+var_2]

loc_2EC76:				; CODE XREF: LoadBMPObjects+45j
		imul	di, [bp+var_2],	0A5h
		add	di, 721Ah
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_50], di
		mov	word ptr [bp+var_50+2],	es
		mov	byte ptr es:[di+4], 0
		mov	byte ptr es:[di+2], 0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_8], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_A], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_C], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_50]
		assume es:nothing
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_6], ax
		lea	di, [bp+var_4A]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	[bp+var_8], 1
		jnz	short loc_2ECE8
		les	di, [bp+var_50]
		add	byte ptr es:[di+2], 2

loc_2ECE8:				; CODE XREF: LoadBMPObjects+B2j
		cmp	[bp+var_A], 1
		jnz	short loc_2ECF5
		les	di, [bp+var_50]
		inc	byte ptr es:[di+2]

loc_2ECF5:				; CODE XREF: LoadBMPObjects+C0j
		cmp	[bp+var_C], 1
		jnz	short loc_2ED03
		les	di, [bp+var_50]
		add	byte ptr es:[di+2], 4

loc_2ED03:				; CODE XREF: LoadBMPObjects+CDj
		les	di, [bp+var_50]
		mov	ax, es:[di]
		shl	ax, 5
		mov	es:[di], ax
		lea	di, [bp+var_250]
		push	ss
		push	di
		mov	di, offset aBmp	; "BMP\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_150]
		push	ss
		push	di
		lea	di, [bp+var_4A]
		push	ss
		push	di
		call	Trim
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_4A]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset F
		push	ds
		push	di
		lea	di, [bp+var_4A]
		push	ss
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		les	di, [bp+var_50]
		add	di, 3
		push	es
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		les	di, [bp+var_50]
		mov	al, es:[di+3]
		dec	al
		xor	ah, ah
		mov	[bp+var_52], ax
		xor	ax, ax
		cmp	ax, [bp+var_52]
		ja	short loc_2EDA8
		mov	j, ax
		jmp	short loc_2ED86
; ---------------------------------------------------------------------------

loc_2ED82:				; CODE XREF: LoadBMPObjects+17Aj
		inc	j

loc_2ED86:				; CODE XREF: LoadBMPObjects+154j
		mov	di, offset F
		push	ds
		push	di
		imul	ax, j, 0Ah
		les	di, [bp+var_50]
		add	di, ax
		add	di, 5
		push	es
		push	di
		call	LoadPic
		mov	ax, j
		cmp	ax, [bp+var_52]
		jnz	short loc_2ED82

loc_2EDA8:				; CODE XREF: LoadBMPObjects+14Fj
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4C]
		jz	short loc_2EDBD
		jmp	loc_2EC73
; ---------------------------------------------------------------------------

loc_2EDBD:				; CODE XREF: LoadBMPObjects+3Fj
					; LoadBMPObjects+18Cj
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__2 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retn
LoadBMPObjects	endp

; ---------------------------------------------------------------------------
aLoading3dObjec	db 22,' Loading 3D Objects...' ; DATA XREF: Load3dObjects+9o
aOk__3		db 3,'Ok.'              ; DATA XREF: Load3dObjects+25Bo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Load3dObjects	proc near		; CODE XREF: LoadGraphics+83p

var_28C		= byte ptr -28Ch
var_18C		= byte ptr -18Ch
var_8C		= dword	ptr -8Ch
var_88		= word ptr -88h
var_85		= byte ptr -85h
var_84		= byte ptr -84h
var_83		= byte ptr -83h
var_46		= byte ptr -46h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	28Ch, 0
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoading3dObjec ; " Loading 3D Objects..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		xor	ax, ax
		mov	[bp+var_6], ax
		mov	ax, [bp+var_2]
		dec	ax
		mov	[bp+var_88], ax
		xor	ax, ax
		cmp	ax, [bp+var_88]
		jbe	short loc_2EE34
		jmp	loc_2F046
; ---------------------------------------------------------------------------

loc_2EE34:				; CODE XREF: Load3dObjects+3Fj
		mov	[bp+var_4], ax
		jmp	short loc_2EE3C
; ---------------------------------------------------------------------------

loc_2EE39:				; CODE XREF: Load3dObjects+253j
		inc	[bp+var_4]

loc_2EE3C:				; CODE XREF: Load3dObjects+47j
		imul	di, [bp+var_4],	24h
		add	di, 74AEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_8C], di
		mov	word ptr [bp+var_8C+2],	es

loc_2EE4E:				; CODE XREF: Load3dObjects+90j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text4Char ; Read(var f; var c:	Char{AL})
		mov	[bp+var_85], al
		call	@Write$qm4Text	; Write(var f: Text)
		cmp	[bp+var_85], 3Bh ; ';'
		jnz	short loc_2EE72
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_2EE72:				; CODE XREF: Load3dObjects+76j
		cmp	[bp+var_85], 3Bh ; ';'
		jnz	short loc_2EE82
		call	@IOResult$qv	; IOResult: Word{AX}
		or	ax, ax
		jz	short loc_2EE4E

loc_2EE82:				; CODE XREF: Load3dObjects+87j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		assume es:nothing
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+8], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+0Ah], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+0Ch], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+0Eh], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_8C]
		mov	es:[di+10h], ax
		lea	di, [bp+var_46]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		call	ChI
		les	di, [bp+var_8C]
		mov	byte ptr es:[di+17h], 1
		lea	di, [bp+var_18C]
		push	ss
		push	di
		lea	di, [bp+var_46]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_46]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_28C]
		push	ss
		push	di
		lea	di, [bp+var_18C]
		push	ss
		push	di
		lea	di, [bp+var_46]
		push	ss
		push	di
		push	0Eh
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_84]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_83], 25h ; '%'
		jnz	short loc_2EF94
		lea	di, [bp+var_18C]
		push	ss
		push	di
		lea	di, [bp+var_84]
		push	ss
		push	di
		push	2
		push	14h
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		lea	di, [bp+var_84]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_8C]
		mov	byte ptr es:[di+17h], 0

loc_2EF94:				; CODE XREF: Load3dObjects+177j
		lea	di, [bp+var_28C]
		push	ss
		push	di
		lea	di, [bp+var_18C]
		push	ss
		push	di
		lea	di, [bp+var_46]
		push	ss
		push	di
		push	1
		push	0Eh
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_46]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_8C]
		mov	ax, es:[di+8]
		shl	ax, 5
		mov	es:[di+8], ax
		cmp	word ptr es:[di+6], 0
		jle	short loc_2EFD9
		dec	word ptr es:[di+6]

loc_2EFD9:				; CODE XREF: Load3dObjects+1E3j
		lea	di, [bp+var_46]
		push	ss
		push	di
		les	di, [bp+var_8C]
		add	di, 1Ch
		push	es
		push	di
		call	LoadPOH
		lea	di, [bp+var_84]
		push	ss
		push	di
		les	di, [bp+var_8C]
		les	di, es:[di+1Ch]
		push	word ptr es:[di+4800h]
		les	di, [bp+var_8C]
		add	di, 20h	; ' '
		push	es
		push	di
		les	di, [bp+var_8C]
		add	di, 1Ah
		push	es
		push	di
		call	LoadAnimation
		les	di, [bp+var_8C]
		push	word ptr es:[di+1Eh]
		push	word ptr es:[di+1Ch]
		add	di, 12h
		push	es
		push	di
		les	di, [bp+var_8C]
		add	di, 14h
		push	es
		push	di
		call	ScanLoHi
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_88]
		jz	short loc_2F046
		jmp	loc_2EE39
; ---------------------------------------------------------------------------

loc_2F046:				; CODE XREF: Load3dObjects+41j
					; Load3dObjects+251j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__3 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retn
Load3dObjects	endp

; ---------------------------------------------------------------------------
aLoadingRockets	db 19,' Loading Rockets...' ; DATA XREF: LoadRockets+9o
aOk__4		db 3,'Ok.'              ; DATA XREF: LoadRockets+1FEo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadRockets	proc near		; CODE XREF: LoadGraphics+99p

var_96		= dword	ptr -96h
var_92		= word ptr -92h
var_90		= byte ptr -90h
var_52		= byte ptr -52h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_4		= word ptr -4
var_2		= word ptr -2

		enter	96h, 0
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingRockets ; " Loading Rockets..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	ax, [bp+var_2]
		dec	ax
		mov	[bp+var_92], ax
		xor	ax, ax
		cmp	ax, [bp+var_92]
		jbe	short loc_2F0B5
		jmp	loc_2F26F
; ---------------------------------------------------------------------------

loc_2F0B5:				; CODE XREF: LoadRockets+3Aj
		mov	[bp+var_4], ax
		jmp	short loc_2F0BD
; ---------------------------------------------------------------------------

loc_2F0BA:				; CODE XREF: LoadRockets+1F6j
		inc	[bp+var_4]

loc_2F0BD:				; CODE XREF: LoadRockets+42j
		imul	di, [bp+var_4],	16h
		add	di, 0CD84h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_96], di
		mov	word ptr [bp+var_96+2],	es
		mov	di, offset Ft
		push	ds
		push	di
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_52]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_52]
		push	ss
		push	di
		call	RemoveEqual
		cmp	[bp+var_52], 0
		jz	short loc_2F163
		lea	di, [bp+var_52]
		push	ss
		push	di
		les	di, [bp+var_96]
		assume es:nothing
		add	di, 0Eh
		push	es
		push	di
		call	LoadPOH
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_90]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_90]
		push	ss
		push	di
		call	RemoveEqual
		lea	di, [bp+var_90]
		push	ss
		push	di
		les	di, [bp+var_96]
		les	di, es:[di+0Eh]
		push	word ptr es:[di+4800h]
		les	di, [bp+var_96]
		add	di, 12h
		push	es
		push	di
		les	di, [bp+var_96]
		add	di, 0Ch
		push	es
		push	di
		call	LoadAnimation
		jmp	short loc_2F17A
; ---------------------------------------------------------------------------

loc_2F163:				; CODE XREF: LoadRockets+87j
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_90]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)

loc_2F17A:				; CODE XREF: LoadRockets+EBj
		les	di, [bp+var_96]
		mov	byte ptr es:[di+0Ah], 0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_96]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_96]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_96]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_96]
		mov	es:[di+6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_96]
		mov	es:[di+8], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_A], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_C], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_E], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_10], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_12], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_14], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_96]
		mov	es:[di+0Bh], al
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	[bp+var_A], 0
		jbe	short loc_2F219
		les	di, [bp+var_96]
		add	byte ptr es:[di+0Ah], 20h ; ' '

loc_2F219:				; CODE XREF: LoadRockets+198j
		cmp	[bp+var_C], 0
		jbe	short loc_2F228
		les	di, [bp+var_96]
		add	byte ptr es:[di+0Ah], 2

loc_2F228:				; CODE XREF: LoadRockets+1A7j
		cmp	[bp+var_E], 0
		jbe	short loc_2F237
		les	di, [bp+var_96]
		add	byte ptr es:[di+0Ah], 4

loc_2F237:				; CODE XREF: LoadRockets+1B6j
		cmp	[bp+var_10], 0
		jbe	short loc_2F246
		les	di, [bp+var_96]
		add	byte ptr es:[di+0Ah], 8

loc_2F246:				; CODE XREF: LoadRockets+1C5j
		cmp	[bp+var_12], 0
		jbe	short loc_2F255
		les	di, [bp+var_96]
		add	byte ptr es:[di+0Ah], 10h

loc_2F255:				; CODE XREF: LoadRockets+1D4j
		cmp	[bp+var_14], 0
		jbe	short loc_2F263
		les	di, [bp+var_96]
		inc	byte ptr es:[di+0Ah]

loc_2F263:				; CODE XREF: LoadRockets+1E3j
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_92]
		jz	short loc_2F26F
		jmp	loc_2F0BA
; ---------------------------------------------------------------------------

loc_2F26F:				; CODE XREF: LoadRockets+3Cj
					; LoadRockets+1F4j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__4 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retn
LoadRockets	endp

; ---------------------------------------------------------------------------
aLoadingGibs___	db 16,' Loading Gibs...' ; DATA XREF: LoadGibs+9o
aEnd_6		db 4,'#end'             ; DATA XREF: LoadGibs+56o
aS_1		db 2,'S:'               ; DATA XREF: LoadGibs+6Fo
aOk__5		db 3,'Ok.'              ; DATA XREF: LoadGibs+104o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadGibs	proc near		; CODE XREF: LoadGraphics+AFp

var_288		= byte ptr -288h
var_188		= byte ptr -188h
var_88		= dword	ptr -88h
var_84		= byte ptr -84h
var_46		= byte ptr -46h
var_8		= word ptr -8
var_4		= word ptr -4

		enter	288h, 0
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingGibs___ ; " Loading Gibs..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	[bp+var_4], 47h	; 'G'

loc_2F2C3:				; CODE XREF: LoadGibs+FCj
		imul	di, [bp+var_4],	12h
		add	di, 0D044h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_88], di
		mov	word ptr [bp+var_88+2],	es
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_46]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_46]
		push	ss
		push	di
		call	RemoveEqual
		lea	di, [bp+var_46]
		push	ss
		push	di
		mov	di, offset aEnd_6 ; "#end"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2F309
		jmp	loc_2F3A3
; ---------------------------------------------------------------------------

loc_2F309:				; CODE XREF: LoadGibs+60j
		les	di, [bp+var_88]
		assume es:nothing
		mov	word ptr es:[di+4], 49h	; 'I'
		mov	di, offset aS_1	; "S:"
		push	cs
		push	di
		lea	di, [bp+var_46]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_8], ax
		cmp	[bp+var_8], 0
		jz	short loc_2F37A
		lea	di, [bp+var_288]
		push	ss
		push	di
		lea	di, [bp+var_188]
		push	ss
		push	di
		lea	di, [bp+var_46]
		push	ss
		push	di
		mov	ax, [bp+var_8]
		inc	ax
		inc	ax
		push	ax
		push	4
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_84]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_84]
		push	ss
		push	di
		mov	di, offset i__0
		push	ds
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		les	di, [bp+var_88]
		mov	es:[di+4], ax
		mov	ax, [bp+var_8]
		dec	ax
		mov	[bp+var_46], al

loc_2F37A:				; CODE XREF: LoadGibs+85j
		lea	di, [bp+var_46]
		push	ss
		push	di
		les	di, [bp+var_88]
		add	di, 6
		push	es
		push	di
		call	LoadPOH
		les	di, [bp+var_88]
		mov	word ptr es:[di], 0Ah
		mov	word ptr es:[di+2], 4
		inc	[bp+var_4]
		jmp	loc_2F2C3
; ---------------------------------------------------------------------------

loc_2F3A3:				; CODE XREF: LoadGibs+62j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__5 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retn
LoadGibs	endp

; ---------------------------------------------------------------------------
aLoadingBlows__	db 17,' Loading Blows...' ; DATA XREF: LoadBlows+9o
aBmp_0		db 4,'BMP\'             ; DATA XREF: LoadBlows+11Co
aOk__6		db 3,'Ok.'              ; DATA XREF: LoadBlows+179o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadBlows	proc near		; CODE XREF: LoadGraphics+C5p

var_316		= byte ptr -316h
var_216		= byte ptr -216h
var_116		= dword	ptr -116h
var_112		= word ptr -112h
var_110		= byte ptr -110h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	316h, 0
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingBlows__ ; " Loading Blows..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_E], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	ax, [bp+var_E]
		dec	ax
		mov	[bp+var_112], ax
		xor	ax, ax
		cmp	ax, [bp+var_112]
		jbe	short loc_2F415
		jmp	loc_2F54A
; ---------------------------------------------------------------------------

loc_2F415:				; CODE XREF: LoadBlows+3Aj
		mov	[bp+var_10], ax
		jmp	short loc_2F41D
; ---------------------------------------------------------------------------

loc_2F41A:				; CODE XREF: LoadBlows+171j
		inc	[bp+var_10]

loc_2F41D:				; CODE XREF: LoadBlows+42j
		imul	di, [bp+var_10], 3Ah
		add	di, 0D698h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_116], di
		mov	word ptr [bp+var_116+2], es
		mov	byte ptr es:[di+2], 0
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_116]
		assume es:nothing
		mov	es:[di+3], al
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_A], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_8], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_C], ax
		call	@Write$qm4Text	; Write(var f: Text)
		cmp	[bp+var_2], 0
		jbe	short loc_2F489
		les	di, [bp+var_116]
		inc	byte ptr es:[di+2]

loc_2F489:				; CODE XREF: LoadBlows+A9j
		cmp	[bp+var_4], 0
		jbe	short loc_2F498
		les	di, [bp+var_116]
		add	byte ptr es:[di+2], 2

loc_2F498:				; CODE XREF: LoadBlows+B7j
		cmp	[bp+var_6], 0
		jbe	short loc_2F4A7
		les	di, [bp+var_116]
		add	byte ptr es:[di+2], 4

loc_2F4A7:				; CODE XREF: LoadBlows+C6j
		cmp	[bp+var_8], 0
		jbe	short loc_2F4B6
		les	di, [bp+var_116]
		add	byte ptr es:[di+2], 8

loc_2F4B6:				; CODE XREF: LoadBlows+D5j
		cmp	[bp+var_A], 0
		jbe	short loc_2F4C5
		les	di, [bp+var_116]
		add	byte ptr es:[di+2], 10h

loc_2F4C5:				; CODE XREF: LoadBlows+E4j
		cmp	[bp+var_C], 0
		jbe	short loc_2F4D4
		les	di, [bp+var_116]
		add	byte ptr es:[di+2], 20h	; ' '

loc_2F4D4:				; CODE XREF: LoadBlows+F3j
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_110]
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_316]
		push	ss
		push	di
		mov	di, offset aBmp_0 ; "BMP\\"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_216]
		push	ss
		push	di
		lea	di, [bp+var_110]
		push	ss
		push	di
		call	Trim
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_110]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_110]
		push	ss
		push	di
		les	di, [bp+var_116]
		add	di, 4
		push	es
		push	di
		call	LoadPicsPacket
		les	di, [bp+var_116]
		mov	ax, es:[di+4]
		mov	es:[di], ax
		mov	ax, [bp+var_10]
		cmp	ax, [bp+var_112]
		jz	short loc_2F54A
		jmp	loc_2F41A
; ---------------------------------------------------------------------------

loc_2F54A:				; CODE XREF: LoadBlows+3Cj
					; LoadBlows+16Fj
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__6 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retn
LoadBlows	endp

; ---------------------------------------------------------------------------
aLoadingMonster	db 20,' Loading Monsters...' ; DATA XREF: LoadMonsters+9o
aOk__7		db 3,'Ok.'              ; DATA XREF: LoadMonsters+13Co

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadMonsters	proc near		; CODE XREF: LoadGraphics+55p

var_12A		= byte ptr -12Ah
var_2A		= dword	ptr -2Ah
var_26		= word ptr -26h
var_24		= byte ptr -24h
var_A		= word ptr -0Ah
var_4		= word ptr -4
var_2		= word ptr -2

		enter	12Ah, 0
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingMonster ; " Loading Monsters..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	[bp+var_2], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		cmp	[bp+var_2], 0
		ja	short loc_2F5B0
		jmp	loc_2F6AD
; ---------------------------------------------------------------------------

loc_2F5B0:				; CODE XREF: LoadMonsters+30j
		mov	ax, [bp+var_2]
		dec	ax
		add	ax, 64h	; 'd'
		mov	[bp+var_26], ax
		mov	ax, 64h	; 'd'
		cmp	ax, [bp+var_26]
		jbe	short loc_2F5C5
		jmp	loc_2F6AD
; ---------------------------------------------------------------------------

loc_2F5C5:				; CODE XREF: LoadMonsters+45j
		mov	[bp+var_4], ax
		jmp	short loc_2F5CD
; ---------------------------------------------------------------------------

loc_2F5CA:				; CODE XREF: LoadMonsters+12Fj
		inc	[bp+var_4]

loc_2F5CD:				; CODE XREF: LoadMonsters+4Dj
		imul	di, [bp+var_4],	0A2h
		add	di, 7FAEh
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_2A], di
		mov	word ptr [bp+var_2A+2],	es
		mov	[bp+var_A], 1
		jmp	short loc_2F5E8
; ---------------------------------------------------------------------------

loc_2F5E5:				; CODE XREF: LoadMonsters+86j
		inc	[bp+var_A]

loc_2F5E8:				; CODE XREF: LoadMonsters+68j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text4Char ; Read(var f; var c:	Char{AL})
		mov	di, [bp+var_A]
		mov	[bp+di+var_24],	al
		call	@Write$qm4Text	; Write(var f: Text)
		cmp	[bp+var_A], 0Eh
		jnz	short loc_2F5E5
		mov	[bp+var_24], 0Eh
		lea	di, [bp+var_12A]
		push	ss
		push	di
		lea	di, [bp+var_24]
		push	ss
		push	di
		call	Trim
		les	di, [bp+var_2A]
		assume es:nothing
		add	di, 19h
		push	es
		push	di
		push	0Ch
		call	@$basg$qm6Stringt14Byte	; Store	string
		les	di, [bp+var_2A]
		xor	ax, ax
		mov	es:[di+8], ax
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+8], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+0Ah], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+12h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+14h], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_2A]
		mov	es:[di+16h], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		push	[bp+var_4]
		call	InitCaracter
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_26]
		jz	short loc_2F6AD
		jmp	loc_2F5CA
; ---------------------------------------------------------------------------

loc_2F6AD:				; CODE XREF: LoadMonsters+32j
					; LoadMonsters+47j ...
		sub	word_42298, 0Ch
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__7 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retn
LoadMonsters	endp

; ---------------------------------------------------------------------------
aLoadingWeapons	db 19,' Loading Weapons...' ; DATA XREF: LoadGunsInfo+9o
aOk__8		db 3,'Ok.'              ; DATA XREF: LoadGunsInfo+1AAo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadGunsInfo	proc near		; CODE XREF: LoadGraphics+DBp

var_C4		= dword	ptr -0C4h
var_C0		= word ptr -0C0h
var_BE		= byte ptr -0BEh
var_80		= byte ptr -80h
var_42		= byte ptr -42h
var_2		= word ptr -2

		enter	0C4h, 0
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingWeapons ; " Loading Weapons..."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@Write$qm4Text	; Write(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		mov	WeaponsCount, ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	ax, WeaponsCount
		mov	[bp+var_C0], ax
		mov	ax, 1
		cmp	ax, [bp+var_C0]
		jle	short loc_2F721
		jmp	loc_2F887
; ---------------------------------------------------------------------------

loc_2F721:				; CODE XREF: LoadGunsInfo+3Aj
		mov	[bp+var_2], ax
		jmp	short loc_2F729
; ---------------------------------------------------------------------------

loc_2F726:				; CODE XREF: LoadGunsInfo+1A2j
		inc	[bp+var_2]

loc_2F729:				; CODE XREF: LoadGunsInfo+42j
		mov	di, [bp+var_2]
		shl	di, 5
		add	di, 0E440h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_C4], di
		mov	word ptr [bp+var_C4+2],	es
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_42]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_42]
		push	ss
		push	di
		call	RemoveEqual
		lea	di, [bp+var_42]
		push	ss
		push	di
		les	di, [bp+var_C4]
		assume es:nothing
		add	di, 14h
		push	es
		push	di
		call	LoadPOH
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_80]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_80]
		push	ss
		push	di
		call	RemoveEqual
		lea	di, [bp+var_80]
		push	ss
		push	di
		les	di, [bp+var_C4]
		les	di, es:[di+14h]
		push	word ptr es:[di+4800h]
		les	di, [bp+var_C4]
		add	di, 18h
		push	es
		push	di
		les	di, [bp+var_C4]
		add	di, 12h
		push	es
		push	di
		call	LoadAnimation
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_BE]
		push	ss
		push	di
		push	3Ch ; '<'
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_BE]
		push	ss
		push	di
		call	RemoveEqual
		lea	di, [bp+var_BE]
		push	ss
		push	di
		les	di, [bp+var_C4]
		les	di, es:[di+14h]
		push	word ptr es:[di+4800h]
		les	di, [bp+var_C4]
		add	di, 1Ch
		push	es
		push	di
		les	di, [bp+var_C4]
		add	di, 10h
		push	es
		push	di
		call	LoadAnimation
		mov	di, offset Ft
		push	ds
		push	di
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di+0Eh], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di+0Ch], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di+2], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di+4], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di+6], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di+8], ax
		call	@Read$qm4Text7Longint ;	Read(var f; var	v: Longint{DX:AX})
		les	di, [bp+var_C4]
		mov	es:[di+0Ah], ax
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_C0]
		jz	short loc_2F887
		jmp	loc_2F726
; ---------------------------------------------------------------------------

loc_2F887:				; CODE XREF: LoadGunsInfo+3Cj
					; LoadGunsInfo+1A0j
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aOk__8 ; "Ok."
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		leave
		retn
LoadGunsInfo	endp

; ---------------------------------------------------------------------------
a__10		db 1,'.'                ; DATA XREF: ScanLevels:loc_2F8D0o
					; ScanLevels+2Eo
a@_25		db 2,'@#'               ; DATA XREF: ScanLevels+52o
aLevel_10	db 5,'LEVEL'            ; DATA XREF: ScanLevels+7Co
aResource__0	db 10,'\resource.'      ; DATA XREF: ScanLevels+91o
aName		db 6,'#name='           ; DATA XREF: ScanLevels+112o
a____2		db 3,'...'              ; DATA XREF: ScanLevels+1B4o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScanLevels	proc far		; CODE XREF: PROGRAM+CBCP

var_300		= byte ptr -300h
var_200		= byte ptr -200h
var_100		= byte ptr -100h

		enter	300h, 0
		mov	n__0, 1
		jmp	short loc_2F8D0
; ---------------------------------------------------------------------------

loc_2F8CC:				; CODE XREF: ScanLevels+1F2j
		inc	n__0

loc_2F8D0:				; CODE XREF: ScanLevels+Aj
		mov	di, offset a__10 ; "."
		push	cs
		push	di
		mov	ax, n__0
		shl	ax, 5
		les	di, LevelNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		push	1Fh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset a__10 ; "."
		push	cs
		push	di
		mov	ax, n__0
		shl	ax, 5
		les	di, ShortNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		push	1Fh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset a@_25 ; "@#"
		push	cs
		push	di
		mov	ax, n__0
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		push	dx
		push	bx
		push	ax
		call	Form
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_200]
		push	ss
		push	di
		mov	di, offset aLevel_10 ; "LEVEL"
		push	cs
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		mov	di, offset aResource__0	; "\\resource."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	FExistFile
		or	al, al
		jnz	short loc_2F986
		jmp	loc_2FAAB
; ---------------------------------------------------------------------------

loc_2F986:				; CODE XREF: ScanLevels+C1j
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	TOpen

loc_2F996:				; CODE XREF: ScanLevels+124j
		mov	di, offset Ft
		push	ds
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		call	ChI
		mov	di, offset aName ; "#name="
		push	cs
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jle	short loc_2F996
		mov	di, offset Ft
		push	ds
		push	di
		call	@Close$qm4Text	; Close(var f: Text)
		lea	di, [bp+var_300]
		push	ss
		push	di
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	7
		push	32h ; '2'
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		call	Trim
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	ax, n__0
		shl	ax, 5
		les	di, LevelNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		push	1Fh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	CalcStringLen
		cmp	ax, 84h	; '„'
		jbe	short loc_2FA8C

loc_2FA4D:				; CODE XREF: ScanLevels+1A1j
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	CalcStringLen
		cmp	ax, 7Ah	; 'z'
		jbe	short loc_2FA63
		dec	[bp+var_100]
		jmp	short loc_2FA4D
; ---------------------------------------------------------------------------

loc_2FA63:				; CODE XREF: ScanLevels+19Bj
		lea	di, [bp+var_200]
		push	ss
		push	di
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	@$basg$qm6Stringt1 ; Load string
		mov	di, offset a____2 ; "..."
		push	cs
		push	di
		call	@Concat$qm6Stringt1 ; Concat(dst, src: String):	String
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_2FA8C:				; CODE XREF: ScanLevels+18Bj
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	ax, n__0
		shl	ax, 5
		les	di, ShortNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		push	1Fh
		call	@$basg$qm6Stringt14Byte	; Store	string

loc_2FAAB:				; CODE XREF: ScanLevels+C3j
		cmp	n__0, 40h ; '@'
		jz	short locret_2FAB5
		jmp	loc_2F8CC
; ---------------------------------------------------------------------------

locret_2FAB5:				; CODE XREF: ScanLevels+1F0j
		leave
		retf
ScanLevels	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

FindNextLevel	proc far		; CODE XREF: PROGRAM:loc_EEECP
		enter	100h, 0
		mov	n__0, 1
		jmp	short loc_2FAC7
; ---------------------------------------------------------------------------

loc_2FAC3:				; CODE XREF: FindNextLevel+3Cj
		inc	n__0

loc_2FAC7:				; CODE XREF: FindNextLevel+Aj
		inc	LevelN
		cmp	LevelN,	40h ; '@'
		jle	short loc_2FAD8
		mov	LevelN,	1

loc_2FAD8:				; CODE XREF: FindNextLevel+19j
		mov	ax, LevelN
		shl	ax, 5
		les	di, LevelNames
		add	di, ax
		cmp	byte ptr es:[di-20h], 1
		jz	short loc_2FAED
		jmp	short locret_2FAF5
; ---------------------------------------------------------------------------

loc_2FAED:				; CODE XREF: FindNextLevel+32j
		cmp	n__0, 80h ; '€'
		jnz	short loc_2FAC3

locret_2FAF5:				; CODE XREF: FindNextLevel+34j
		leave
		retf
FindNextLevel	endp

; ---------------------------------------------------------------------------
aReadingGraphic	db 29,'Reading graphics information:' ; DATA XREF: LoadGraphics+8o
aChasm_inf	db 9,'chasm.inf'        ; DATA XREF: LoadGraphics+1Eo
aMonsters	db 10,'[MONSTERS]'      ; DATA XREF: LoadGraphics+49o
aBmp_objects	db 13,'[BMP_OBJECTS]'   ; DATA XREF: LoadGraphics+60o
a3d_objects	db 12,'[3D_OBJECTS]'    ; DATA XREF: LoadGraphics+77o
aRockets	db 9,'[ROCKETS]'        ; DATA XREF: LoadGraphics+8Do
aGibs		db 6,'[GIBS]'           ; DATA XREF: LoadGraphics+A3o
aBlows		db 7,'[BLOWS]'          ; DATA XREF: LoadGraphics+B9o
aWeapons	db 9,'[WEAPONS]'        ; DATA XREF: LoadGraphics+CFo
aSounds		db 8,'[SOUNDS]'         ; DATA XREF: LoadGraphics+E5o
aEnd__1		db 4,'END.'             ; DATA XREF: LoadGraphics+F9o
a__11		db 1,'.'                ; DATA XREF: LoadGraphics+124o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadGraphics	proc far		; CODE XREF: PROGRAM+CF2P
		push	bp
		mov	bp, sp
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aReadingGraphic ; "Reading graphics information:"
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, offset aChasm_inf ;	"chasm.inf"
		push	cs
		push	di
		call	TOpen

loc_2FBA0:				; CODE XREF: LoadGraphics+105j
		mov	di, offset Ft
		push	ds
		push	di
		mov	di, offset S
		push	ds
		push	di
		push	0FFh
		call	@Read$qm4Textm6String4Word ; Read(var f; var s:	String;	width: Word)
		call	@ReadLn$qm4Text	; ReadLn(var f:	Text)
		call	ChI
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aMonsters ; "[MONSTERS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FBD3
		call	LoadMonsters
		jmp	loc_2FC6C
; ---------------------------------------------------------------------------

loc_2FBD3:				; CODE XREF: LoadGraphics+53j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aBmp_objects	; "[BMP_OBJECTS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FBEA
		call	LoadBMPObjects
		jmp	loc_2FC6C
; ---------------------------------------------------------------------------

loc_2FBEA:				; CODE XREF: LoadGraphics+6Aj
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset a3d_objects ; "[3D_OBJECTS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FC00
		call	Load3dObjects
		jmp	short loc_2FC6C
; ---------------------------------------------------------------------------

loc_2FC00:				; CODE XREF: LoadGraphics+81j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aRockets ; "[ROCKETS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FC16
		call	LoadRockets
		jmp	short loc_2FC6C
; ---------------------------------------------------------------------------

loc_2FC16:				; CODE XREF: LoadGraphics+97j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aGibs ; "[GIBS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FC2C
		call	LoadGibs
		jmp	short loc_2FC6C
; ---------------------------------------------------------------------------

loc_2FC2C:				; CODE XREF: LoadGraphics+ADj
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aBlows ; "[BLOWS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FC42
		call	LoadBlows
		jmp	short loc_2FC6C
; ---------------------------------------------------------------------------

loc_2FC42:				; CODE XREF: LoadGraphics+C3j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aWeapons ; "[WEAPONS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FC58
		call	LoadGunsInfo
		jmp	short loc_2FC6C
; ---------------------------------------------------------------------------

loc_2FC58:				; CODE XREF: LoadGraphics+D9j
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aSounds ; "[SOUNDS]"
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short loc_2FC6C
		call	LoadSounds

loc_2FC6C:				; CODE XREF: LoadGraphics+58j
					; LoadGraphics+6Fj ...
		mov	di, offset S
		push	ds
		push	di
		mov	di, offset aEnd__1 ; "END."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jz	short loc_2FC80
		jmp	loc_2FBA0
; ---------------------------------------------------------------------------

loc_2FC80:				; CODE XREF: LoadGraphics+103j
		mov	di, offset Ft
		push	ds
		push	di
		call	@Close$qm4Text	; Close(var f: Text)
		mov	ax, LevelN
		shl	ax, 5
		les	di, LevelNames
		add	di, ax
		add	di, 0FFE0h
		push	es
		push	di
		mov	di, offset a__11 ; "."
		push	cs
		push	di
		call	@$bsub$qm6Stringt1 ; Compare two strings
					; ZF - src=dst
					; CF - src<dst
		jnz	short locret_2FCAE
		mov	LevelN,	1

locret_2FCAE:				; CODE XREF: LoadGraphics+12Ej
		leave
		retf
LoadGraphics	endp

; ---------------------------------------------------------------------------
aCommonVesatile	db 19,'COMMON\vesatile.cel' ; DATA XREF: LoadGround+9o
aCommonStatus2_	db 18,'COMMON\status2.cel' ; DATA XREF: LoadGround+48o
aCommonGround_c	db 17,'COMMON\ground.cel' ; DATA XREF: LoadGround+8Co
aCommonLoading_	db 18,'COMMON\loading.cel' ; DATA XREF: LoadGround+11Fo

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadGround	proc far		; CODE XREF: LoadCommonParts+3B1P

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonVesatile ; "COMMON\\vesatile.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, VesaTiler
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonStatus2_ ; "COMMON\\status2.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, Status
		push	es
		push	di
		push	5F00h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		call	ChI
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonGround_c ; "COMMON\\ground.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		mov	ax, VgaSeg
		push	ax
		xor	di, di
		pop	es
		push	es
		push	di
		push	1000h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_2FDCF
; ---------------------------------------------------------------------------

loc_2FDCC:				; CODE XREF: LoadGround+118j
		inc	[bp+var_2]

loc_2FDCF:				; CODE XREF: LoadGround+CEj
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_2FDD9
; ---------------------------------------------------------------------------

loc_2FDD6:				; CODE XREF: LoadGround+112j
		inc	[bp+var_4]

loc_2FDD9:				; CODE XREF: LoadGround+D8j
		mov	ax, VgaSeg
		push	ax
		mov	ax, [bp+var_4]
		shl	ax, 6
		mov	di, ax
		pop	es
		push	es
		push	di
		les	di, Ground
		mov	ax, es
		push	ax
		mov	ax, [bp+var_2]
		shl	ax, 6
		mov	dx, ax
		imul	ax, [bp+var_4],	140h
		add	ax, dx
		mov	di, ax
		pop	es
		push	es
		push	di
		push	40h ; '@'
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		cmp	[bp+var_4], 3Fh	; '?'
		jnz	short loc_2FDD6
		cmp	[bp+var_2], 4
		jnz	short loc_2FDCC
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCommonLoading_ ; "COMMON\\loading.cel"
		push	cs
		push	di
		call	FOpen
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset LoadingW
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset LoadingW
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset LoadingH
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset Loading
		push	ds
		push	di
		mov	ax, LoadingW
		mul	LoadingH
		push	ax
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		push	0
		push	320h
		call	FSeek
		mov	di, offset F
		push	ds
		push	di
		les	di, Loading
		push	es
		push	di
		mov	ax, LoadingW
		mul	LoadingH
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	FClose
		mov	ax, LoadingH
		shr	ax, 1
		mov	LoadingH, ax
		leave
		retf
LoadGround	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CLine		proc near		; CODE XREF: Line+372p

var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		enter	0Eh, 0
		mov	ax, [bp+arg_4]
		cmp	ax, [bp+arg_8]
		jnb	short loc_2FED9
		push	[bp+arg_8]
		push	[bp+arg_4]
		pop	[bp+arg_8]
		pop	[bp+arg_4]
		push	[bp+arg_6]
		push	[bp+arg_2]
		pop	[bp+arg_6]
		pop	[bp+arg_2]

loc_2FED9:				; CODE XREF: CLine+Aj
		xor	edi, edi
		mov	bx, [bp+arg_6]
		shl	bx, 2
		mov	di, [bp+arg_8]
		add	edi, [bx-6E84h]
		mov	[bp+var_E], edi
		xor	ecx, ecx
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+arg_6]
		jnz	short loc_2FF0E
		mov	cx, [bp+arg_4]
		sub	cx, [bp+arg_8]
		inc	cx
		mov	ax, VgaSeg
		mov	es, ax
		mov	al, [bp+arg_0]
		rep stos byte ptr es:[edi]
		jmp	locret_30025
; ---------------------------------------------------------------------------

loc_2FF0E:				; CODE XREF: CLine+42j
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_8]
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_2]
		sub	ax, [bp+arg_6]
		mov	[bp+var_4], ax
		mov	[bp+var_6], 0
		mov	ax, [bp+var_4]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+var_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		cmp	ax, cx
		jle	short loc_2FFB1
		cmp	[bp+var_4], 0
		jge	short loc_2FF5F
		mov	ax, [bp+var_4]
		neg	ax
		mov	[bp+var_4], ax
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		mov	word ptr [bp+var_A], ax
		mov	word ptr [bp+var_A+2], dx
		jmp	short loc_2FF6C
; ---------------------------------------------------------------------------

loc_2FF5F:				; CODE XREF: CLine+8Aj
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		mov	word ptr [bp+var_A], ax
		mov	word ptr [bp+var_A+2], dx

loc_2FF6C:				; CODE XREF: CLine+A8j
		mov	ax, [bp+var_2]
		add	ax, [bp+var_4]
		shr	ax, 1
		sub	[bp+var_6], ax
		mov	ebx, [bp+var_E]
		mov	di, [bp+var_4]
		mov	si, [bp+var_2]
		mov	cx, si
		inc	cx
		mov	dx, [bp+var_6]
		mov	ax, VgaSeg
		mov	es, ax
		mov	al, [bp+arg_0]
		push	bp
		push	large [bp+var_A]
		xor	ebp, ebp
		pop	ebp

loc_2FF99:				; CODE XREF: CLine+EEj
		add	dx, di
		jg	short loc_2FFA7

loc_2FF9D:				; CODE XREF: CLine+F7j
		mov	es:[ebx], al
		inc	ebx
		loop	loc_2FF99
		jmp	short loc_2FFAE
; ---------------------------------------------------------------------------

loc_2FFA7:				; CODE XREF: CLine+E6j
		sub	dx, si
		add	ebx, ebp
		jmp	short loc_2FF9D
; ---------------------------------------------------------------------------

loc_2FFAE:				; CODE XREF: CLine+F0j
		pop	bp
		jmp	short locret_30025
; ---------------------------------------------------------------------------

loc_2FFB1:				; CODE XREF: CLine+84j
		cmp	[bp+var_4], 0
		jge	short loc_2FFD5
		mov	ax, [bp+var_4]
		neg	ax
		mov	[bp+var_4], ax
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		not	dx
		neg	ax
		sbb	dx, 0FFFFh
		mov	word ptr [bp+var_A], ax
		mov	word ptr [bp+var_A+2], dx
		jmp	short loc_2FFE2
; ---------------------------------------------------------------------------

loc_2FFD5:				; CODE XREF: CLine+100j
		mov	ax, word ptr VideoBPL
		mov	dx, word ptr VideoBPL+2
		mov	word ptr [bp+var_A], ax
		mov	word ptr [bp+var_A+2], dx

loc_2FFE2:				; CODE XREF: CLine+11Ej
		mov	ax, [bp+var_4]
		add	ax, [bp+var_2]
		shr	ax, 1
		sub	[bp+var_6], ax
		mov	ebx, [bp+var_E]
		mov	di, [bp+var_4]
		mov	si, [bp+var_2]
		mov	cx, di
		inc	cx
		mov	dx, [bp+var_6]
		mov	ax, VgaSeg
		mov	es, ax
		mov	al, [bp+arg_0]
		push	bp
		push	large [bp+var_A]
		xor	ebp, ebp
		pop	ebp

loc_3000F:				; CODE XREF: CLine+165j
		add	dx, si
		jg	short loc_3001E

loc_30013:				; CODE XREF: CLine+16Dj
		mov	es:[ebx], al
		add	ebx, ebp
		loop	loc_3000F
		jmp	short loc_30024
; ---------------------------------------------------------------------------

loc_3001E:				; CODE XREF: CLine+15Cj
		sub	dx, di
		inc	ebx
		jmp	short loc_30013
; ---------------------------------------------------------------------------

loc_30024:				; CODE XREF: CLine+167j
		pop	bp

locret_30025:				; CODE XREF: CLine+56j	CLine+FAj
		leave
		retn	0Ah
CLine		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutPixel	proc near		; CODE XREF: Line+11Bp	Line+201p ...

arg_2		= byte ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		mov	ax, VgaSeg
		mov	es, ax
		xor	edi, edi
		mov	bx, [bp+arg_4]
		shl	bx, 2
		mov	di, [bp+arg_6]
		add	edi, [bx-6E84h]
		mov	al, [bp+arg_2]
		mov	es:[edi], al
		leave
		retn	8
PutPixel	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Line		proc near		; CODE XREF: ShowMap+123p ShowMap+1A1p ...

var_12		= word ptr -12h
var_10		= word ptr -10h
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
arg_0		= byte ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		enter	12h, 0
		mov	bx, mpk_x
		mov	ax, [bp+arg_8]
		imul	bx
		rol	eax, 10h
		mov	ax, dx
		rol	eax, 10h
		sar	eax, 0Ch
		mov	[bp+arg_8], ax
		mov	ax, [bp+arg_4]
		imul	bx
		rol	eax, 10h
		mov	ax, dx
		rol	eax, 10h
		sar	eax, 0Ch
		mov	[bp+arg_4], ax
		mov	bx, mpk_y
		mov	ax, [bp+arg_6]
		imul	bx
		rol	eax, 10h
		mov	ax, dx
		rol	eax, 10h
		sar	eax, 0Ch
		mov	[bp+arg_6], ax
		mov	ax, [bp+arg_2]
		imul	bx
		rol	eax, 10h
		mov	ax, dx
		rol	eax, 10h
		sar	eax, 0Ch
		mov	[bp+arg_2], ax
		mov	ax, [bp+arg_8]
		cmp	ax, [bp+arg_4]
		jge	short loc_300D3
		mov	ax, [bp+arg_8]
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_4]
		mov	[bp+var_6], ax
		mov	ax, [bp+arg_6]
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_2]
		mov	[bp+var_A], ax
		jmp	short loc_300EB
; ---------------------------------------------------------------------------

loc_300D3:				; CODE XREF: Line+6Aj
		mov	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_8]
		mov	[bp+var_6], ax
		mov	ax, [bp+arg_2]
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_6]
		mov	[bp+var_A], ax

loc_300EB:				; CODE XREF: Line+84j
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		mov	[bp+var_10], ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_12], ax
		mov	ax, WMapX
		add	[bp+var_4], ax
		mov	ax, WMapX
		add	[bp+var_6], ax
		mov	ax, WMapY
		add	[bp+var_8], ax
		mov	ax, WMapY
		add	[bp+var_A], ax
		mov	ax, [bp+var_6]
		cmp	ax, WMapX1
		jl	short loc_3014E
		push	[bp+var_A]
		push	[bp+var_8]
		call	Max
		cmp	ax, WMapY1
		jl	short loc_3014E
		mov	ax, [bp+var_4]
		cmp	ax, WMapX2
		jg	short loc_3014E
		push	[bp+var_8]
		push	[bp+var_A]
		call	Min
		cmp	ax, WMapY2
		jle	short loc_30151

loc_3014E:				; CODE XREF: Line+D4j Line+E5j ...
		jmp	locret_303C2
; ---------------------------------------------------------------------------

loc_30151:				; CODE XREF: Line+FFj
		cmp	[bp+var_10], 0
		jnz	short loc_3016E
		cmp	[bp+var_12], 0
		jnz	short loc_3016E
		push	[bp+var_4]
		push	[bp+var_8]
		mov	al, [bp+arg_0]
		push	ax
		push	bp
		call	PutPixel
		jmp	locret_303C2
; ---------------------------------------------------------------------------

loc_3016E:				; CODE XREF: Line+108j	Line+10Ej
		mov	ax, [bp+var_4]
		cmp	ax, WMapX1
		jge	short loc_301B5
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		inc	ax
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_6]
		sub	ax, WMapX1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_A]
		sub	ax, [bp+var_8]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_A]
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_8], ax
		mov	ax, WMapX1
		mov	[bp+var_4], ax

loc_301B5:				; CODE XREF: Line+128j
		mov	ax, [bp+var_6]
		cmp	ax, WMapX2
		jle	short loc_301FB
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		inc	ax
		cwd
		push	dx
		push	ax
		mov	ax, WMapX2
		sub	ax, [bp+var_4]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_A]
		sub	ax, [bp+var_8]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_8]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_A], ax
		mov	ax, WMapX2
		mov	[bp+var_6], ax

loc_301FB:				; CODE XREF: Line+16Fj
		push	[bp+var_A]
		push	[bp+var_8]
		call	Max
		cmp	ax, WMapY1
		jl	short loc_3021D
		push	[bp+var_8]
		push	[bp+var_A]
		call	Min
		cmp	ax, WMapY2
		jle	short loc_30220

loc_3021D:				; CODE XREF: Line+1BDj
		jmp	locret_303C2
; ---------------------------------------------------------------------------

loc_30220:				; CODE XREF: Line+1CEj
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		mov	[bp+var_10], ax
		mov	ax, [bp+var_A]
		sub	ax, [bp+var_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_12], ax
		cmp	[bp+var_10], 0
		jnz	short loc_30254
		cmp	[bp+var_12], 0
		jnz	short loc_30254
		push	[bp+var_4]
		push	[bp+var_8]
		mov	al, [bp+arg_0]
		push	ax
		push	bp
		call	PutPixel
		jmp	locret_303C2
; ---------------------------------------------------------------------------

loc_30254:				; CODE XREF: Line+1EEj	Line+1F4j
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_A]
		jl	short loc_3025F
		jmp	loc_302EF
; ---------------------------------------------------------------------------

loc_3025F:				; CODE XREF: Line+20Dj
		mov	ax, [bp+var_8]
		cmp	ax, WMapY1
		jge	short loc_302A6
		mov	ax, [bp+var_A]
		sub	ax, [bp+var_8]
		inc	ax
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_A]
		sub	ax, WMapY1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_4], ax
		mov	ax, WMapY1
		mov	[bp+var_8], ax

loc_302A6:				; CODE XREF: Line+219j
		mov	ax, [bp+var_A]
		cmp	ax, WMapY2
		jle	short loc_302EC
		mov	ax, [bp+var_A]
		sub	ax, [bp+var_8]
		inc	ax
		cwd
		push	dx
		push	ax
		mov	ax, WMapY2
		sub	ax, [bp+var_8]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_4]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_6], ax
		mov	ax, WMapY2
		mov	[bp+var_A], ax

loc_302EC:				; CODE XREF: Line+260j
		jmp	loc_3037C
; ---------------------------------------------------------------------------

loc_302EF:				; CODE XREF: Line+20Fj
		mov	ax, [bp+var_A]
		cmp	ax, WMapY1
		jge	short loc_30336
		mov	ax, [bp+var_8]
		sub	ax, [bp+var_A]
		inc	ax
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_8]
		sub	ax, WMapY1
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_4]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_6], ax
		mov	ax, WMapY1
		mov	[bp+var_A], ax

loc_30336:				; CODE XREF: Line+2A9j
		mov	ax, [bp+var_8]
		cmp	ax, WMapY2
		jle	short loc_3037C
		mov	ax, [bp+var_8]
		sub	ax, [bp+var_A]
		inc	ax
		cwd
		push	dx
		push	ax
		mov	ax, WMapY2
		sub	ax, [bp+var_A]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_4]
		sub	ax, [bp+var_6]
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_6]
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_4], ax
		mov	ax, WMapY2
		mov	[bp+var_8], ax

loc_3037C:				; CODE XREF: Line:loc_302ECj Line+2F0j
		mov	ax, [bp+var_6]
		sub	ax, [bp+var_4]
		mov	[bp+var_10], ax
		mov	ax, [bp+var_A]
		sub	ax, [bp+var_8]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	[bp+var_12], ax
		cmp	[bp+var_10], 0
		jnz	short loc_303AF
		cmp	[bp+var_12], 0
		jnz	short loc_303AF
		push	[bp+var_4]
		push	[bp+var_8]
		mov	al, [bp+arg_0]
		push	ax
		push	bp
		call	PutPixel
		jmp	short locret_303C2
; ---------------------------------------------------------------------------

loc_303AF:				; CODE XREF: Line+34Aj	Line+350j
		push	[bp+var_4]
		push	[bp+var_8]
		push	[bp+var_6]
		push	[bp+var_A]
		mov	al, [bp+arg_0]
		push	ax
		call	CLine

locret_303C2:				; CODE XREF: Line:loc_3014Ej Line+11Ej ...
		leave
		retn	0Ah
Line		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DoSetPalette	proc far		; CODE XREF: UpDateRedShade+70P
					; UpDateRedShade+E8P ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	ds
		xor	ax, ax
		lds	si, [bp+arg_0]
		mov	dx, 3C8h
		out	dx, al
		inc	dx
		cld
		mov	cx, 300h
		rep outsb
		pop	ds
		leave
		retf	4
DoSetPalette	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetPalette	proc far		; CODE XREF: LoadConfig+2BBP
					; SwitchMonitor:loc_7F72P ...

var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	10h, 0
		mov	ax, Contrast
		add	ax, 0FFF9h
		mov	[bp+var_A], ax
		mov	[bp+var_4], 1
		jmp	short loc_303F6
; ---------------------------------------------------------------------------

loc_303F3:				; CODE XREF: SetPalette+148j
		inc	[bp+var_4]

loc_303F6:				; CODE XREF: SetPalette+12j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-23A3h]
		cbw
		mov	[bp+var_6], ax
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-23A2h]
		cbw
		cmp	ax, [bp+var_6]
		jle	short loc_3042B
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-23A2h]
		cbw
		mov	[bp+var_6], ax

loc_3042B:				; CODE XREF: SetPalette+39j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-23A1h]
		cbw
		cmp	ax, [bp+var_6]
		jle	short loc_3044F
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-23A1h]
		cbw
		mov	[bp+var_6], ax

loc_3044F:				; CODE XREF: SetPalette+5Dj
		mov	ax, [bp+var_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 86h	; '†'
		xor	si, si
		mov	di, 7C00h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_10], ax
		mov	[bp+var_E], bx
		mov	[bp+var_C], dx
		mov	ax, [bp+var_10]
		mov	bx, [bp+var_E]
		mov	dx, [bp+var_C]
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, [bp+var_10]
		mov	bx, [bp+var_E]
		mov	dx, [bp+var_C]
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		mov	[bp+var_10], ax
		mov	[bp+var_E], bx
		mov	[bp+var_C], dx
		mov	ax, [bp+var_10]
		mov	bx, [bp+var_E]
		mov	dx, [bp+var_C]
		mov	cx, 85h	; '…'
		xor	si, si
		xor	di, di
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	[bp+var_8], ax
		mov	i__0, 1
		jmp	short loc_304CB
; ---------------------------------------------------------------------------

loc_304C7:				; CODE XREF: SetPalette+13Fj
		inc	i__0

loc_304CB:				; CODE XREF: SetPalette+E6j
		mov	ax, i__0
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	al, [di-23A4h]
		cbw
		mov	cx, ax
		mov	ax, [bp+var_8]
		mul	[bp+var_A]
		mul	cx
		cwd
		mov	cx, 80h	; '€'
		idiv	cx
		mov	dx, ax
		mov	ax, i__0
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	al, [di-23A4h]
		cbw
		add	ax, dx
		mov	dl, al
		mov	ax, i__0
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	[di-20A4h], dl
		cmp	i__0, 3
		jnz	short loc_304C7
		cmp	[bp+var_4], 100h
		jz	short loc_3052A
		jmp	loc_303F3
; ---------------------------------------------------------------------------

loc_3052A:				; CODE XREF: SetPalette+146j
		mov	ax, Color
		add	ax, 0FFF9h
		mov	[bp+var_A], ax
		mov	ax, [bp+var_A]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 84h	; '„'
		xor	si, si
		xor	di, di
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		mov	[bp+var_10], ax
		mov	[bp+var_E], bx
		mov	[bp+var_C], dx
		mov	[bp+var_4], 1
		jmp	short loc_3055B
; ---------------------------------------------------------------------------

loc_30558:				; CODE XREF: SetPalette+24Dj
		inc	[bp+var_4]

loc_3055B:				; CODE XREF: SetPalette+177j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A1h]
		cbw
		mov	cx, ax
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A2h]
		cbw
		mov	dx, ax
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A3h]
		cbw
		add	ax, dx
		add	ax, cx
		cwd
		mov	cx, 3
		idiv	cx
		mov	[bp+var_6], ax
		mov	j, 1
		jmp	short loc_305A2
; ---------------------------------------------------------------------------

loc_3059E:				; CODE XREF: SetPalette+243j
		inc	j

loc_305A2:				; CODE XREF: SetPalette+1BDj
		mov	ax, j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	al, [di-20A4h]
		cbw
		sub	ax, [bp+var_6]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	al, [di-20A4h]
		cbw
		cwd
		add	ax, cx
		adc	dx, bx
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_305FB
		xor	ax, ax
		mov	[bp+var_2], ax

loc_305FB:				; CODE XREF: SetPalette+215j
		cmp	[bp+var_2], 3Fh	; '?'
		jle	short loc_30606
		mov	[bp+var_2], 3Fh	; '?'

loc_30606:				; CODE XREF: SetPalette+220j
		mov	dl, byte ptr [bp+var_2]
		mov	ax, j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	[di-20A4h], dl
		cmp	j, 3
		jz	short loc_30625
		jmp	loc_3059E
; ---------------------------------------------------------------------------

loc_30625:				; CODE XREF: SetPalette+241j
		cmp	[bp+var_4], 100h
		jz	short loc_3062F
		jmp	loc_30558
; ---------------------------------------------------------------------------

loc_3062F:				; CODE XREF: SetPalette+24Bj
		mov	ax, Bright
		sub	ax, 7
		mov	[bp+var_A], ax
		mov	ax, [bp+var_A]
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, 88h	; 'ˆ'
		xor	si, si
		mov	di, 4400h
		call	@$brdiv$q4Realt1 ; Real(AX:BX:DX)/=Real(CX:SI:DI)
					; Real(CX:SI:DI)=Real(AX:BX:DX)%Real(CX:SI:DI)
		push	dx
		push	bx
		push	ax
		mov	ax, 81h	; ''
		xor	bx, bx
		xor	dx, dx
		pop	cx
		pop	si
		pop	di
		call	@$brmin$q4Realt1 ; Real(AX:BX:DX)-=Real(CX:SI:DI)
		mov	[bp+var_10], ax
		mov	[bp+var_E], bx
		mov	[bp+var_C], dx
		mov	[bp+var_4], 1
		jmp	short loc_30673
; ---------------------------------------------------------------------------

loc_30670:				; CODE XREF: SetPalette+38Dj
		inc	[bp+var_4]

loc_30673:				; CODE XREF: SetPalette+28Fj
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A3h]
		cbw
		mov	[bp+var_6], ax
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A2h]
		cbw
		cmp	ax, [bp+var_6]
		jle	short loc_306A8
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A2h]
		cbw
		mov	[bp+var_6], ax

loc_306A8:				; CODE XREF: SetPalette+2B6j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A1h]
		cbw
		cmp	ax, [bp+var_6]
		jle	short loc_306CC
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		mov	al, [di-20A1h]
		cbw
		mov	[bp+var_6], ax

loc_306CC:				; CODE XREF: SetPalette+2DAj
		mov	j, 1
		jmp	short loc_306D8
; ---------------------------------------------------------------------------

loc_306D4:				; CODE XREF: SetPalette+383j
		inc	j

loc_306D8:				; CODE XREF: SetPalette+2F3j
		mov	ax, j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	al, [di-20A4h]
		cbw
		mov	dx, ax
		mov	ax, 40h	; '@'
		sub	ax, dx
		cwd
		call	@Real$q7Longint	; Real(x: Longint{DX:AX}): Real
		mov	cx, [bp+var_10]
		mov	si, [bp+var_E]
		mov	di, [bp+var_C]
		call	@$brmul$q4Realt1 ; Real(AX:BX:DX)*=Real(CX:SI:DI)
		call	@Round$q4Real	; Round(x: Real): Longint
		mov	cx, ax
		mov	bx, dx
		mov	ax, 40h	; '@'
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_2], ax
		cmp	[bp+var_6], 3
		jge	short loc_30730
		mov	ax, [bp+var_2]
		mul	[bp+var_6]
		cwd
		mov	cx, 3
		idiv	cx
		mov	[bp+var_2], ax

loc_30730:				; CODE XREF: SetPalette+340j
		cmp	[bp+var_2], 0
		jge	short loc_3073B
		xor	ax, ax
		mov	[bp+var_2], ax

loc_3073B:				; CODE XREF: SetPalette+355j
		cmp	[bp+var_2], 3Fh	; '?'
		jle	short loc_30746
		mov	[bp+var_2], 3Fh	; '?'

loc_30746:				; CODE XREF: SetPalette+360j
		mov	dl, byte ptr [bp+var_2]
		mov	ax, j
		mov	di, [bp+var_4]
		mov	si, di
		shl	di, 1
		add	di, si
		add	di, ax
		mov	[di-20A4h], dl
		cmp	j, 3
		jz	short loc_30765
		jmp	loc_306D4
; ---------------------------------------------------------------------------

loc_30765:				; CODE XREF: SetPalette+381j
		cmp	[bp+var_4], 100h
		jz	short loc_3076F
		jmp	loc_30670
; ---------------------------------------------------------------------------

loc_3076F:				; CODE XREF: SetPalette+38Bj
		mov	di, offset Pal
		push	ds
		push	di
		call	DoSetPalette
		leave
		retf
SetPalette	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddEvent	proc far		; CODE XREF: CheckFloorLinks+2DDP
					; DoGame+1620P	...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= byte ptr  0Eh
arg_A		= byte ptr  10h

		enter	6, 0
		cmp	SERVER,	0
		jnz	short loc_3078F
		cmp	RecordDemo, 0
		jnz	short loc_3078F
		jmp	short locret_307DA
; ---------------------------------------------------------------------------

loc_3078F:				; CODE XREF: AddEvent+9j AddEvent+10j
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_30799
; ---------------------------------------------------------------------------

loc_30796:				; CODE XREF: AddEvent+5Dj
		inc	[bp+var_2]

loc_30799:				; CODE XREF: AddEvent+19j
		imul	di, [bp+var_2],	0Ah
		add	di, 0A49Eh
		push	ds
		pop	es
		assume es:dseg11
		cmp	byte ptr es:[di], 0
		jnz	short loc_307D4
		mov	al, [bp+arg_A]
		mov	es:[di], al
		mov	al, [bp+arg_8]
		mov	es:[di+1], al
		mov	ax, [bp+arg_6]
		mov	es:[di+2], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+4], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+6], ax
		mov	ax, [bp+arg_0]
		mov	es:[di+8], ax
		jmp	short locret_307DA
; ---------------------------------------------------------------------------

loc_307D4:				; CODE XREF: AddEvent+2Cj
		cmp	[bp+var_2], 0Fh
		jnz	short loc_30796

locret_307DA:				; CODE XREF: AddEvent+12j AddEvent+57j
		leave
		retf	0Ch
AddEvent	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddEvVoice	proc far		; CODE XREF: AnimateRockets+80P
					; AnimateRockets+1F3P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	4, 0
		cmp	[bp+arg_4], 0FFFFh
		jz	short loc_307FA
		push	0FFFFh
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	AddVoice
		jmp	short loc_30830
; ---------------------------------------------------------------------------

loc_307FA:				; CODE XREF: AddEvVoice+8j
		mov	ax, [bp+arg_2]
		cmp	ax, MyNetN
		jnz	short loc_30814
		push	[bp+arg_6]
		push	0
		push	0
		push	[bp+arg_0]
		call	AddVoice
		jmp	short loc_30830
; ---------------------------------------------------------------------------

loc_30814:				; CODE XREF: AddEvVoice+23j
		imul	di, [bp+arg_2],	58h
		add	di, 0F02Ah
		push	ds
		pop	es
		push	0FFFFh
		push	word ptr es:[di+0Ah]
		push	word ptr es:[di+0Ch]
		push	[bp+arg_0]
		call	AddVoice

loc_30830:				; CODE XREF: AddEvVoice+1Aj
					; AddEvVoice+34j
		push	78h ; 'x'
		push	0
		push	[bp+arg_0]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	0
		call	AddEvent
		leave
		retf	8
AddEvVoice	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Hline		proc far		; CODE XREF: Bar+2BP DrawKey+15P ...

arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	ax, VgaSeg
		mov	es, ax
		assume es:nothing
		xor	edi, edi
		mov	bx, [bp+arg_4]
		shl	bx, 2
		mov	di, [bp+arg_6]
		add	edi, [bx-6E84h]
		mov	al, [bp+arg_0]
		xor	ecx, ecx
		mov	cx, [bp+arg_2]
		rep stos byte ptr es:[edi]
		leave
		retf	8
Hline		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Vline		proc far		; CODE XREF: DrawKey+2BP DrawKey+58P

arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		xor	edi, edi
		mov	bx, [bp+arg_4]
		shl	bx, 2
		mov	di, [bp+arg_6]
		add	edi, [bx-6E84h]
		mov	cx, [bp+arg_2]
		mov	ax, VgaSeg
		mov	es, ax
		mov	al, [bp+arg_0]

loc_30890:				; CODE XREF: Vline+28j
		mov	es:[edi], al
		add	edi, VideoBPL
		loop	loc_30890
		leave
		retf	8
Vline		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

HBrline		proc far		; CODE XREF: UpDateMenu+9F1P
					; UpDateMenu+9FFP ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		xor	edi, edi
		mov	di, [bp+arg_6]
		mov	bx, [bp+arg_4]
		shl	bx, 2
		add	edi, [bx-6E84h]
		mov	cx, [bp+arg_2]
		mov	bx, [bp+arg_0]
		shl	bx, 8
		add	bx, 1AC6h
		mov	ax, VgaSeg
		mov	es, ax

loc_308C5:				; CODE XREF: HBrline+33j
		mov	al, es:[edi]
		xlat
		xlat
		mov	es:[edi], al
		inc	edi
		dec	cx
		jnz	short loc_308C5
		leave
		retf	8
HBrline		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

VBrline		proc far		; CODE XREF: DrawBrKey+2AP
					; DrawBrKey+56P

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		xor	edi, edi
		mov	di, [bp+arg_6]
		mov	bx, [bp+arg_4]
		shl	bx, 2
		add	edi, [bx-6E84h]
		mov	cx, [bp+arg_2]
		mov	bx, [bp+arg_0]
		shl	bx, 8
		add	bx, 1AC6h
		mov	ax, VgaSeg
		mov	es, ax

loc_308FE:				; CODE XREF: VBrline+36j
		mov	al, es:[edi]
		xlat
		xlat
		mov	es:[edi], al
		add	edi, VideoBPL
		dec	cx
		jnz	short loc_308FE
		leave
		retf	8
VBrline		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawKey		proc far		; CODE XREF: UpDateRanking+C7P
					; UpDateConsole+423P ...

arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	[bp+arg_A]
		push	[bp+arg_8]
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_A]
		inc	ax
		push	ax
		mov	al, [bp+arg_2]
		push	ax
		call	Hline
		push	[bp+arg_A]
		push	[bp+arg_8]
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_8]
		push	ax
		mov	al, [bp+arg_2]
		push	ax
		call	Vline
		push	[bp+arg_A]
		push	[bp+arg_4]
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_A]
		inc	ax
		push	ax
		mov	al, [bp+arg_0]
		push	ax
		call	Hline
		push	[bp+arg_6]
		push	[bp+arg_8]
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_8]
		push	ax
		mov	al, [bp+arg_0]
		push	ax
		call	Vline
		leave
		retf	0Ch
DrawKey		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DrawBrKey	proc far		; CODE XREF: UpDateConsole+32BP
					; UpDateConsole+4F0P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	[bp+arg_A]
		push	[bp+arg_8]
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_A]
		push	ax
		push	[bp+arg_2]
		call	HBrline
		push	[bp+arg_A]
		mov	ax, [bp+arg_8]
		inc	ax
		push	ax
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_8]
		push	ax
		push	[bp+arg_2]
		call	VBrline
		mov	ax, [bp+arg_A]
		inc	ax
		push	ax
		push	[bp+arg_4]
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_A]
		push	ax
		push	[bp+arg_0]
		call	HBrline
		push	[bp+arg_6]
		push	[bp+arg_8]
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_8]
		push	ax
		push	[bp+arg_0]
		call	VBrline
		leave
		retf	0Ch
DrawBrKey	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

HBrline0	proc near		; CODE XREF: BrightBar+30p

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		xor	edi, edi
		mov	di, [bp+arg_6]
		mov	bx, [bp+arg_4]
		shl	bx, 2
		add	edi, [bx-6E84h]
		mov	cx, [bp+arg_2]
		mov	bx, [bp+arg_0]
		shl	bx, 8
		add	bx, 1AC6h
		mov	ax, VgaSeg
		mov	es, ax

loc_309FA:				; CODE XREF: HBrline0+33j
		mov	al, es:[edi]
		xlat
		xlat
		mov	es:[edi], al
		inc	edi
		dec	cx
		jnz	short loc_309FA
		leave
		retn	8
HBrline0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BrightBar	proc far		; CODE XREF: UpDateConsole+342P
					; UpDateConsole+505P ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	4, 0
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_8]
		inc	ax
		mov	[bp+arg_4], ax
		mov	ax, [bp+arg_2]
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_6]
		cmp	ax, [bp+var_4]
		ja	short locret_30A48
		mov	[bp+var_2], ax
		jmp	short loc_30A31
; ---------------------------------------------------------------------------

loc_30A2E:				; CODE XREF: BrightBar+39j
		inc	[bp+var_2]

loc_30A31:				; CODE XREF: BrightBar+1Fj
		push	[bp+arg_8]
		push	[bp+var_2]
		push	[bp+arg_4]
		push	[bp+arg_0]
		call	HBrline0
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_30A2E

locret_30A48:				; CODE XREF: BrightBar+1Aj
		leave
		retf	0Ah
BrightBar	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShowMap		proc far		; CODE XREF: DoGame+18D6P

var_1A		= dword	ptr -1Ah
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_4		= word ptr -4
var_2		= word ptr -2

		enter	1Ch, 0
		mov	ax, WMapX1
		dec	ax
		push	ax
		mov	ax, WMapY1
		dec	ax
		push	ax
		mov	ax, WMapX2
		inc	ax
		push	ax
		mov	ax, WMapY2
		inc	ax
		push	ax
		push	0
		push	0
		call	DrawKey
		mov	ax, WMapX1
		dec	ax
		dec	ax
		push	ax
		mov	ax, WMapY1
		dec	ax
		dec	ax
		push	ax
		mov	ax, WMapX2
		inc	ax
		inc	ax
		push	ax
		mov	ax, WMapY2
		inc	ax
		inc	ax
		push	ax
		push	5
		push	5
		call	DrawKey
		mov	ax, WMapX1
		sub	ax, 3
		push	ax
		mov	ax, WMapY1
		sub	ax, 3
		push	ax
		mov	ax, WMapX2
		add	ax, 3
		push	ax
		mov	ax, WMapY2
		add	ax, 3
		push	ax
		push	0
		push	0
		call	DrawKey
		mov	ax, VideoCX
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, mps
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 50h	; 'P'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	mpk_x, ax
		mov	ax, VideoCY
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, mps
		cwd
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 32h	; '2'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	mpk_y, ax
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_30AFB
; ---------------------------------------------------------------------------

loc_30AF8:				; CODE XREF: ShowMap+132j
		inc	[bp+var_2]

loc_30AFB:				; CODE XREF: ShowMap+AAj
		xor	ax, ax
		mov	[bp+var_4], ax
		jmp	short loc_30B05
; ---------------------------------------------------------------------------

loc_30B02:				; CODE XREF: ShowMap+12Aj
		inc	[bp+var_4]

loc_30B05:				; CODE XREF: ShowMap+B4j
		imul	ax, [bp+var_4],	0Bh
		mov	dx, ax
		imul	ax, [bp+var_2],	2C0h
		les	di, Map
		add	di, ax
		add	di, dx
		mov	word ptr [bp+var_1A], di
		mov	word ptr [bp+var_1A+2],	es
		cmp	byte ptr es:[di], 0
		jbe	short loc_30B72
		cmp	byte ptr es:[di], 78h ;	'x'
		jnb	short loc_30B72
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_2]
		shl	ax, 6
		les	di, VMask
		add	di, ax
		add	di, dx
		cmp	byte ptr es:[di], 1
		jz	short loc_30B48
		cmp	FullMap, 0
		jz	short loc_30B72

loc_30B48:				; CODE XREF: ShowMap+F3j
		mov	ax, Hx
		les	di, [bp+var_1A]
		sub	ax, es:[di+3]
		push	ax
		mov	ax, es:[di+5]
		sub	ax, Hy
		push	ax
		mov	ax, Hx
		sub	ax, es:[di+7]
		push	ax
		mov	ax, es:[di+9]
		sub	ax, Hy
		push	ax
		push	0FFF7h
		call	Line

loc_30B72:				; CODE XREF: ShowMap+D6j ShowMap+DCj ...
		cmp	[bp+var_4], 3Fh	; '?'
		jnz	short loc_30B02
		cmp	[bp+var_2], 3Fh	; '?'
		jz	short loc_30B81
		jmp	loc_30AF8
; ---------------------------------------------------------------------------

loc_30B81:				; CODE XREF: ShowMap+130j
		mov	ax, isa
		cwd
		mov	cx, 0Ch
		idiv	cx
		mov	[bp+var_A], ax
		mov	ax, isa2
		neg	ax
		add	ax, ica2
		cwd
		mov	cx, 0Ch
		idiv	cx
		mov	[bp+var_C], ax
		mov	ax, isa2
		neg	ax
		sub	ax, ica2
		cwd
		mov	cx, 0Ch
		idiv	cx
		mov	[bp+var_E], ax
		mov	ax, ica
		neg	ax
		cwd
		mov	cx, 0Ch
		idiv	cx
		mov	[bp+var_10], ax
		mov	ax, ica2
		add	ax, isa2
		cwd
		mov	cx, 0Ch
		idiv	cx
		mov	[bp+var_12], ax
		mov	ax, ica2
		sub	ax, isa2
		cwd
		mov	cx, 0Ch
		idiv	cx
		mov	[bp+var_14], ax
		push	[bp+var_A]
		push	[bp+var_10]
		push	[bp+var_C]
		push	[bp+var_12]
		push	0FFA8h
		call	Line
		push	[bp+var_C]
		push	[bp+var_12]
		push	[bp+var_E]
		push	[bp+var_14]
		push	0FFA8h
		call	Line
		push	[bp+var_E]
		push	[bp+var_14]
		push	[bp+var_A]
		push	[bp+var_10]
		push	0FFA8h
		call	Line
		cmp	FullMap, 0
		jnz	short loc_30C1B
		jmp	short locret_30C6A
; ---------------------------------------------------------------------------

loc_30C1B:				; CODE XREF: ShowMap+1CBj
		mov	ax, MCount
		mov	word ptr [bp+var_1A+2],	ax
		mov	ax, 1
		cmp	ax, word ptr [bp+var_1A+2]
		jg	short locret_30C6A
		mov	n__0, ax
		jmp	short loc_30C32
; ---------------------------------------------------------------------------

loc_30C2E:				; CODE XREF: ShowMap+21Cj
		inc	n__0

loc_30C32:				; CODE XREF: ShowMap+1E0j
		imul	di, n__0, 28h
		add	di, 0A51Eh
		push	ds
		pop	es
		assume es:dseg11
		mov	ax, Hx
		sub	ax, es:[di]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, Hy
		push	ax
		mov	ax, Hx
		sub	ax, es:[di]
		push	ax
		mov	ax, es:[di+2]
		sub	ax, Hy
		push	ax
		push	0FFA6h
		call	Line
		mov	ax, n__0
		cmp	ax, word ptr [bp+var_1A+2]
		jnz	short loc_30C2E

locret_30C6A:				; CODE XREF: ShowMap+1CDj ShowMap+1DBj
		leave
		retf
ShowMap		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitNormalViewHi proc near		; CODE XREF: ReInitViewConst:loc_31080p

var_4		= word ptr -4
var_2		= word ptr -2

		enter	6, 0
		cmp	InfoPage, 0
		jz	short loc_30C82
		mov	ax, VideoCY
		sub	ax, 10h
		mov	[bp+var_2], ax
		jmp	short loc_30C88
; ---------------------------------------------------------------------------

loc_30C82:				; CODE XREF: InitNormalViewHi+9j
		mov	ax, VideoCY
		mov	[bp+var_2], ax

loc_30C88:				; CODE XREF: InitNormalViewHi+14j
		mov	ax, LookVz
		cwd
		mov	cx, VideoH
		mov	bx, word_44DA0
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 320h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+var_4], ax
		cmp	InfoPage, 0
		jz	short loc_30CD1
		cmp	CLIENT,	0
		jnz	short loc_30CBB
		cmp	SERVER,	0
		jz	short loc_30CD1

loc_30CBB:				; CODE XREF: InitNormalViewHi+46j
		mov	ax, [bp+var_2]
		sub	ax, 18h
		cmp	ax, [bp+var_4]
		jge	short loc_30CCF
		mov	ax, [bp+var_2]
		sub	ax, 18h
		mov	[bp+var_4], ax

loc_30CCF:				; CODE XREF: InitNormalViewHi+58j
		jmp	short loc_30CE5
; ---------------------------------------------------------------------------

loc_30CD1:				; CODE XREF: InitNormalViewHi+3Fj
					; InitNormalViewHi+4Dj
		mov	ax, [bp+var_2]
		sub	ax, 4
		cmp	ax, [bp+var_4]
		jge	short loc_30CE5
		mov	ax, [bp+var_2]
		sub	ax, 4
		mov	[bp+var_4], ax

loc_30CE5:				; CODE XREF: InitNormalViewHi:loc_30CCFj
					; InitNormalViewHi+6Ej
		mov	ax, [bp+var_2]
		sub	ax, 4
		neg	ax
		cmp	ax, [bp+var_4]
		jle	short loc_30CFD
		mov	ax, [bp+var_2]
		sub	ax, 4
		neg	ax
		mov	[bp+var_4], ax

loc_30CFD:				; CODE XREF: InitNormalViewHi+84j
		mov	ax, [bp+var_4]
		cwd
		mov	cx, 320h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, VideoH
		mov	bx, word_44DA0
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	_LookVz, ax
		mov	ax, [bp+var_2]
		add	ax, [bp+var_4]
		mov	WinCY, ax
		mov	ax, FloorDiv
		xor	dx, dx
		mov	cx, 36h	; '6'
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	ObjectW, ax
		mov	ax, FloorDiv
		shl	ax, 4
		mov	WallW, ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		mov	cx, 410h
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 190h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		and	ax, 0FFE0h
		and	dx, 0
		mov	WallH, ax
		mov	ax, WallH
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, BLevelDef
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 280h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	BLevel0, ax
		mov	ax, VideoW
		mov	WinW, ax
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	WinH, ax
		mov	ax, WinW
		shr	ax, 1
		mov	WinW2, ax
		mov	ax, WinW2
		mov	WinW2i,	ax
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinH
		shr	ax, 1
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinCY
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	WinH2u,	ax
		mov	ax, WinH
		sub	ax, WinH2u
		mov	WinH2d,	ax
		cmp	InfoPage, 0
		jz	short loc_30DE7
		cmp	CLIENT,	0
		jnz	short loc_30DE2
		cmp	SERVER,	0
		jz	short loc_30DE7

loc_30DE2:				; CODE XREF: InitNormalViewHi+16Dj
		sub	WinH2d,	0Ah

loc_30DE7:				; CODE XREF: InitNormalViewHi+166j
					; InitNormalViewHi+174j
		mov	ax, WinCY
		sub	ax, WinH2u
		mov	WinB, ax
		mov	ax, WinCY
		add	ax, WinH2d
		mov	WinE, ax
		mov	ax, WinB
		shl	ax, 4
		mov	WinB3, ax
		mov	ax, WinE
		shl	ax, 4
		mov	WinE3, ax
		xor	ax, ax
		mov	WinSX, ax
		mov	ax, VideoW
		mov	dx, word_44DA4
		sub	ax, 1
		sbb	dx, 0
		mov	WinEX, ax
		mov	ax, WinCY
		sub	ax, WinH2u
		mov	WinSY, ax
		mov	ax, WinCY
		add	ax, WinH2d
		dec	ax
		mov	WinEY, ax
		mov	ax, WinSX
		add	ax, 10h
		mov	WMapX1,	ax
		mov	ax, WinSY
		add	ax, 0Eh
		mov	WMapY1,	ax
		mov	ax, VideoW
		mov	dx, word_44DA4
		mov	cx, 78h	; 'x'
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 140h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, WMapX1
		cwd
		add	ax, cx
		adc	dx, bx
		mov	WMapX2,	ax
		mov	ax, VideoH
		mov	dx, word_44DA0
		mov	cx, 78h	; 'x'
		xor	bx, bx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 0C8h ; 'È'
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	cx, ax
		mov	bx, dx
		mov	ax, WMapY1
		cwd
		add	ax, cx
		adc	dx, bx
		mov	WMapY2,	ax
		mov	ax, WMapX1
		add	ax, WMapX2
		shr	ax, 1
		mov	WMapX, ax
		mov	ax, WMapY1
		add	ax, WMapY2
		shr	ax, 1
		mov	WMapY, ax
		leave
		retn
InitNormalViewHi endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitMonitorView	proc near		; CODE XREF: ReInitViewConst+Ap

var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		mov	FloorW,	0Ah
		mov	InfoPage, 0
		mov	[bp+var_2], 4Bh	; 'K'
		imul	di, CurOwner, 58h
		add	di, 0F02Ah
		push	ds
		pop	es
		mov	ax, es:[di+10h]
		cwd
		mov	cx, 4
		idiv	cx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		sub	ax, 4
		cmp	ax, [bp+var_4]
		jge	short loc_30EF7
		mov	ax, [bp+var_2]
		sub	ax, 4
		mov	[bp+var_4], ax

loc_30EF7:				; CODE XREF: InitMonitorView+35j
		mov	ax, [bp+var_2]
		sub	ax, 4
		neg	ax
		cmp	ax, [bp+var_4]
		jle	short loc_30F0F
		mov	ax, [bp+var_2]
		sub	ax, 4
		neg	ax
		mov	[bp+var_4], ax

loc_30F0F:				; CODE XREF: InitMonitorView+4Bj
		mov	ax, [bp+var_2]
		add	ax, [bp+var_4]
		mov	WinCY, ax
		mov	ObjectW, 21Ch
		mov	WallW, 98h ; '˜'
		mov	WallH, 1F4h
		mov	ax, WallH
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, BLevelDef
		xor	dx, dx
		call	@$brmul$q7Longintt1 ; X1{DX:AX}*=X2{BX:CX}
		mov	cx, 280h
		xor	bx, bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	BLevel0, ax
		mov	WinW, 130h
		mov	ax, WinW
		add	ax, 7
		shr	ax, 3
		shl	ax, 3
		mov	WinW, ax
		mov	ax, [bp+var_2]
		shl	ax, 1
		mov	WinH, ax
		mov	ax, WinW
		shr	ax, 1
		mov	WinW2, ax
		mov	ax, WinW2
		mov	WinW2i,	ax
		mov	ax, [bp+var_2]
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinH
		shr	ax, 1
		xor	dx, dx
		sub	ax, cx
		sbb	dx, bx
		mov	cx, ax
		mov	bx, dx
		mov	ax, WinCY
		xor	dx, dx
		add	ax, cx
		adc	dx, bx
		mov	WinH2u,	ax
		mov	ax, WinH
		sub	ax, WinH2u
		mov	WinH2d,	ax
		mov	ax, WinCY
		sub	ax, WinH2u
		mov	WinB, ax
		mov	ax, WinCY
		add	ax, WinH2d
		mov	WinE, ax
		mov	ax, WinB
		shl	ax, 4
		mov	WinB3, ax
		mov	ax, WinE
		shl	ax, 4
		mov	WinE3, ax
		mov	ax, 0A0h ; ' '
		sub	ax, WinW2
		mov	WinSX, ax
		mov	ax, WinW2
		add	ax, 0A0h ; ' '
		dec	ax
		mov	WinEX, ax
		mov	ax, WinCY
		sub	ax, WinH2u
		mov	WinSY, ax
		mov	ax, WinCY
		add	ax, WinH2d
		dec	ax
		mov	WinEY, ax
		leave
		retn
InitMonitorView	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CalcStringLen	proc far		; CODE XREF: ReadMess+9DP
					; LoadMessage+218P ...

var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= byte ptr -102h
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	108h, 0
		mov	bx, ss
		mov	es, bx
		assume es:nothing
		mov	bx, ds
		cld
		lea	di, [bp+var_102]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		xor	ax, ax
		mov	[bp+var_104], ax
		mov	al, [bp+var_102]
		xor	ah, ah
		mov	[bp+var_108], ax
		mov	ax, 1
		cmp	ax, [bp+var_108]
		jg	short loc_31063
		mov	[bp+var_106], ax
		jmp	short loc_31031
; ---------------------------------------------------------------------------

loc_3102D:				; CODE XREF: CalcStringLen+6Ej
		inc	[bp+var_106]

loc_31031:				; CODE XREF: CalcStringLen+38j
		mov	di, [bp+var_106]
		cmp	[bp+di+var_102], 20h ; ' '
		jz	short loc_31054
		mov	di, [bp+var_106]
		mov	al, [bp+di+var_102]
		xor	ah, ah
		mov	di, ax
		shl	di, 1
		mov	ax, [di-1DA0h]
		add	[bp+var_104], ax
		jmp	short loc_31059
; ---------------------------------------------------------------------------

loc_31054:				; CODE XREF: CalcStringLen+47j
		add	[bp+var_104], 4

loc_31059:				; CODE XREF: CalcStringLen+5Fj
		mov	ax, [bp+var_106]
		cmp	ax, [bp+var_108]
		jnz	short loc_3102D

loc_31063:				; CODE XREF: CalcStringLen+32j
		mov	ax, [bp+var_104]
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		leave
		retf	4
CalcStringLen	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReInitViewConst	proc far		; CODE XREF: ReinitPlayer+16AP
					; LoadServerPatch+2BAP	...
		push	bp
		mov	bp, sp
		cmp	NETMonitor, 0
		jz	short loc_31080
		call	InitMonitorView
		jmp	short locret_31083
; ---------------------------------------------------------------------------

loc_31080:				; CODE XREF: ReInitViewConst+8j
		call	InitNormalViewHi

locret_31083:				; CODE XREF: ReInitViewConst+Dj
		leave
		retf
ReInitViewConst	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddBlowLight	proc far		; CODE XREF: ReinitPlayer+18EP
					; AnimateRockets+7A4P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		cmp	LCount,	1Fh
		jbe	short loc_31091
		jmp	short locret_310BC
; ---------------------------------------------------------------------------

loc_31091:				; CODE XREF: AddBlowLight+8j
		push	6Ch ; 'l'
		mov	al, byte ptr [bp+arg_4]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_0]
		call	AddEvent
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	_AddBlowLight

locret_310BC:				; CODE XREF: AddBlowLight+Aj
		leave
		retf	0Ah
AddBlowLight	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_AddBlowLight	proc far		; CODE XREF: AnimateRockets+658P
					; CorrectRocketPosition+154P ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	4, 0
		cmp	LCount,	1Fh
		jbe	short loc_310CE
		jmp	locret_3119C
; ---------------------------------------------------------------------------

loc_310CE:				; CODE XREF: _AddBlowLight+9j
		cmp	NETMonitor, 0
		jnz	short loc_31133
		mov	ax, [bp+arg_8]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, ehx
		cwd
		sub	ax, cx
		sbb	dx, bx
		or	dx, dx
		jns	short loc_310F1
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_310F1:				; CODE XREF: _AddBlowLight+28j
		mov	cx, ax
		mov	bx, dx
		mov	ax, MapR
		cwd
		cmp	dx, bx
		jl	short loc_31131
		jg	short loc_31103
		cmp	ax, cx
		jb	short loc_31131

loc_31103:				; CODE XREF: _AddBlowLight+3Dj
		mov	ax, [bp+arg_6]
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, ehy
		cwd
		sub	ax, cx
		sbb	dx, bx
		or	dx, dx
		jns	short loc_3111F
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_3111F:				; CODE XREF: _AddBlowLight+56j
		mov	cx, ax
		mov	bx, dx
		mov	ax, MapR
		cwd
		cmp	dx, bx
		jl	short loc_31131
		jg	short loc_31133
		cmp	ax, cx
		jnb	short loc_31133

loc_31131:				; CODE XREF: _AddBlowLight+3Bj
					; _AddBlowLight+41j ...
		jmp	short locret_3119C
; ---------------------------------------------------------------------------

loc_31133:				; CODE XREF: _AddBlowLight+13j
					; _AddBlowLight+6Bj ...
		inc	LCount
		imul	di, LCount, 12h
		add	di, 0BCA4h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	ax, [bp+arg_8]
		add	ax, 20h	; ' '
		shr	ax, 6
		mov	es:[di], ax
		mov	ax, [bp+arg_6]
		add	ax, 20h	; ' '
		shr	ax, 6
		mov	es:[di+2], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+4], ax
		mov	ax, [bp+arg_2]
		shl	ax, 2
		mov	es:[di+6], ax
		cmp	[bp+arg_0], 0FEh ; 'þ'
		jnz	short loc_3117E
		mov	[bp+arg_0], 0FFh

loc_3117E:				; CODE XREF: _AddBlowLight+B7j
		mov	ax, [bp+arg_0]
		les	di, [bp+var_4]
		assume es:nothing
		mov	es:[di+0Ch], ax
		mov	ax, [bp+arg_0]
		shr	ax, 2
		add	ax, t1
		mov	es:[di+0Eh], ax
		mov	word ptr es:[di+10h], 1

locret_3119C:				; CODE XREF: _AddBlowLight+Bj
					; _AddBlowLight:loc_31131j
		leave
		retf	0Ah
_AddBlowLight	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddBlow		proc far		; CODE XREF: AnimateRockets+456P
					; AddClientProcesses+158P ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		enter	4, 0
		cmp	BCount,	0C4h ; 'Ä'
		jbe	short loc_311AF
		jmp	locret_31248
; ---------------------------------------------------------------------------

loc_311AF:				; CODE XREF: AddBlow+Aj
		inc	BCount
		mov	ax, BCount
		shl	ax, 4
		les	di, BlowsList
		add	di, ax
		add	di, 0FFF0h
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		mov	al, byte ptr [bp+arg_0]
		cmp	al, 3
		jb	short loc_311E9
		cmp	al, 4
		ja	short loc_311E9
		imul	di, [bp+arg_0],	3Ah
		push	word ptr [di-2968h]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		les	di, [bp+var_4]
		mov	es:[di], ax
		jmp	short loc_31208
; ---------------------------------------------------------------------------

loc_311E9:				; CODE XREF: AddBlow+2Ej AddBlow+32j
		cmp	[bp+arg_0], 8
		jnz	short loc_31200
		push	3
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		shr	ax, 1
		les	di, [bp+var_4]
		mov	es:[di], ax
		jmp	short loc_31208
; ---------------------------------------------------------------------------

loc_31200:				; CODE XREF: AddBlow+4Dj
		les	di, [bp+var_4]
		xor	ax, ax
		mov	es:[di], ax

loc_31208:				; CODE XREF: AddBlow+47j AddBlow+5Ej
		mov	ax, [bp+arg_0]
		les	di, [bp+var_4]
		mov	es:[di+2], ax
		mov	ax, [bp+arg_6]
		mov	es:[di+0Ah], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+0Ch], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+0Eh], ax
		mov	ax, [bp+arg_C]
		add	ax, es:[di+0Ah]
		mov	es:[di+4], ax
		mov	ax, [bp+arg_A]
		add	ax, es:[di+0Ch]
		mov	es:[di+6], ax
		mov	ax, [bp+arg_8]
		add	ax, es:[di+0Eh]
		mov	es:[di+8], ax

locret_31248:				; CODE XREF: AddBlow+Cj
		leave
		retf	0Eh
AddBlow		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BlowSpark	proc far		; CODE XREF: AnimateRockets+74EP
					; AnimateRockets+768P ...

var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	10h, 0
		cmp	[bp+arg_0], 1
		jnz	short loc_3126E
		push	73h ; 's'
		mov	al, byte ptr [bp+arg_2]
		push	ax
		push	0
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	AddEvent
		jmp	short loc_31284
; ---------------------------------------------------------------------------

loc_3126E:				; CODE XREF: BlowSpark+8j
		push	62h ; 'b'
		mov	al, byte ptr [bp+arg_2]
		push	ax
		push	0
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	AddEvent

loc_31284:				; CODE XREF: BlowSpark+20j
		cmp	[bp+arg_0], 1
		jnz	short loc_312A0
		mov	[bp+var_8], 0Ah
		mov	[bp+var_6], 10h
		mov	[bp+var_4], 12Ch
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_312B4
; ---------------------------------------------------------------------------

loc_312A0:				; CODE XREF: BlowSpark+3Cj
		mov	[bp+var_8], 8
		mov	[bp+var_6], 0Ah
		mov	[bp+var_4], 0A0h ; ' '
		mov	[bp+var_2], 1

loc_312B4:				; CODE XREF: BlowSpark+52j
		mov	al, byte ptr [bp+arg_2]
		shr	al, 1
		jnb	short loc_312DE
		push	[bp+arg_8]
		push	[bp+arg_6]
		mov	ax, [bp+arg_4]
		add	ax, 40h	; '@'
		push	ax
		push	0
		push	0
		push	12h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 0Eh
		push	ax
		push	0Ch
		call	AddBlow

loc_312DE:				; CODE XREF: BlowSpark+6Dj
		mov	ax, [bp+arg_2]
		mov	[bp+var_10], ax
		mov	ax, 1
		cmp	ax, [bp+var_10]
		jle	short loc_312EF
		jmp	locret_313E6
; ---------------------------------------------------------------------------

loc_312EF:				; CODE XREF: BlowSpark+9Ej
		mov	[bp+var_A], ax
		jmp	short loc_312F7
; ---------------------------------------------------------------------------

loc_312F4:				; CODE XREF: BlowSpark+197j
		inc	[bp+var_A]

loc_312F7:				; CODE XREF: BlowSpark+A6j
		cmp	BCount,	8Ch ; 'Œ'
		jb	short loc_31302
		jmp	loc_313DB
; ---------------------------------------------------------------------------

loc_31302:				; CODE XREF: BlowSpark+B1j
		mov	ax, [bp+var_6]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_6]
		shl	ax, 1
		push	ax
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_8]
		cwd
		add	ax, cx
		adc	dx, bx
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_6]
		cwd
		push	dx
		push	ax
		mov	ax, [bp+var_6]
		shl	ax, 1
		push	ax
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		cwd
		add	ax, cx
		adc	dx, bx
		pop	cx
		pop	bx
		sub	ax, cx
		sbb	dx, bx
		mov	[bp+var_E], ax
		push	[bp+var_C]
		push	[bp+var_E]
		push	140h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 0A0h ; ' '
		sbb	dx, 0
		push	ax
		mov	ax, [bp+var_8]
		shl	ax, 1
		push	ax
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_8]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		mov	ax, [bp+var_8]
		shl	ax, 1
		push	ax
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+var_8]
		neg	ax
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	[bp+var_4]
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, [bp+var_4]
		neg	ax
		cwd
		mov	cx, 3
		idiv	cx
		cwd
		pop	cx
		pop	bx
		add	ax, cx
		adc	dx, bx
		push	ax
		mov	ax, [bp+var_A]
		and	ax, [bp+var_2]
		add	ax, [bp+arg_0]
		push	ax
		call	AddBlow

loc_313DB:				; CODE XREF: BlowSpark+B3j
		mov	ax, [bp+var_A]
		cmp	ax, [bp+var_10]
		jz	short locret_313E6
		jmp	loc_312F4
; ---------------------------------------------------------------------------

locret_313E6:				; CODE XREF: BlowSpark+A0j
					; BlowSpark+195j
		leave
		retf	0Ah
BlowSpark	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BlowSmoke	proc far		; CODE XREF: AnimateRockets+6EAP
					; ExecuteEvent+240P

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	2, 0
		push	53h ; 'S'
		push	0
		push	0
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	AddEvent
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_3140C
; ---------------------------------------------------------------------------

loc_31409:				; CODE XREF: BlowSmoke+90j
		inc	[bp+var_2]

loc_3140C:				; CODE XREF: BlowSmoke+1Dj
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 14h
		sbb	dx, 0
		push	ax
		push	28h ; '('
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 14h
		sbb	dx, 0
		push	ax
		push	40h ; '@'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_0]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 20h	; ' '
		sbb	dx, 0
		push	ax
		push	0
		push	0
		push	34h ; '4'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 0Ah
		push	ax
		push	9
		call	AddBlow
		cmp	[bp+var_2], 3
		jnz	short loc_31409
		leave
		retf	6
BlowSmoke	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

BlowShootSmoke	proc far		; CODE XREF: AnimateRockets+6CDP
					; ExecuteEvent+25AP ...

var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	2, 0
		cmp	[bp+arg_0], 0
		jz	short loc_31491
		mov	[bp+var_2], 1
		jmp	short loc_31496
; ---------------------------------------------------------------------------

loc_31491:				; CODE XREF: BlowShootSmoke+8j
		xor	ax, ax
		mov	[bp+var_2], ax

loc_31496:				; CODE XREF: BlowShootSmoke+Fj
		push	53h ; 'S'
		push	1
		push	[bp+var_2]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	AddEvent
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	0
		push	0
		push	0
		push	0
		call	AddBlow
		cmp	[bp+arg_0], 0
		jz	short loc_31515
		mov	[bp+var_2], 1
		jmp	short loc_314D1
; ---------------------------------------------------------------------------

loc_314CE:				; CODE XREF: BlowShootSmoke+90j
		inc	[bp+var_2]

loc_314D1:				; CODE XREF: BlowShootSmoke+4Cj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	140h
		push	7
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFDh
		adc	dx, 0FFFFh
		push	ax
		push	7
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFDh
		adc	dx, 0FFFFh
		push	ax
		push	40h ; '@'
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 40h	; '@'
		push	ax
		push	0Fh
		call	AddBlow
		cmp	[bp+var_2], 8
		jnz	short loc_314CE
		jmp	locret_31624
; ---------------------------------------------------------------------------

loc_31515:				; CODE XREF: BlowShootSmoke+45j
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_3151F
; ---------------------------------------------------------------------------

loc_3151C:				; CODE XREF: BlowShootSmoke+10Dj
		inc	[bp+var_2]

loc_3151F:				; CODE XREF: BlowShootSmoke+9Aj
		push	1Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 0Dh
		sbb	dx, 0
		push	ax
		push	1Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		cwd
		add	ax, cx
		adc	dx, bx
		sub	ax, 0Dh
		sbb	dx, 0
		push	ax
		push	20h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		cwd
		add	ax, cx
		adc	dx, bx
		add	ax, 20h	; ' '
		adc	dx, 0
		push	ax
		push	0
		push	0
		push	12h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		add	ax, 0Eh
		push	ax
		push	0Ch
		call	AddBlow
		cmp	[bp+var_2], 3
		jnz	short loc_3151C
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_31599
; ---------------------------------------------------------------------------

loc_31596:				; CODE XREF: BlowShootSmoke+1A1j
		inc	[bp+var_2]

loc_31599:				; CODE XREF: BlowShootSmoke+114j
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_6]
		add	ax, 0FFFBh
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_4]
		sub	ax, 5
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	10h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		mov	cx, ax
		mov	bx, dx
		mov	ax, [bp+arg_2]
		sub	ax, 8
		cwd
		add	ax, cx
		adc	dx, bx
		push	ax
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFBh
		adc	dx, 0FFFFh
		push	ax
		push	0Ah
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFFBh
		adc	dx, 0FFFFh
		push	ax
		push	20h ; ' '
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		xor	dx, dx
		add	ax, 0FFF0h
		adc	dx, 0FFFFh
		push	ax
		push	0Dh
		call	AddBlow
		cmp	[bp+var_2], 1
		jz	short locret_31624
		jmp	loc_31596
; ---------------------------------------------------------------------------

locret_31624:				; CODE XREF: BlowShootSmoke+92j
					; BlowShootSmoke+19Fj
		leave
		retf	8
BlowShootSmoke	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutConsMessage	proc far		; CODE XREF: ExecConsole+229P
					; ExecConsole+2F8P ...

var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6

		enter	102h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	[bp+var_102], 1
		jmp	short loc_3164F
; ---------------------------------------------------------------------------

loc_3164B:				; CODE XREF: PutConsMessage+4Cj
		inc	[bp+var_102]

loc_3164F:				; CODE XREF: PutConsMessage+21j
		imul	di, [bp+var_102], 29h
		add	di, 0E6EEh
		push	ds
		push	di
		mov	ax, [bp+var_102]
		dec	ax
		imul	di, ax,	29h
		add	di, 0E6EEh
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_102], 6
		jnz	short loc_3164B
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset unk_44A0B
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		leave
		retf	4
PutConsMessage	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutConsMessage2	proc far		; CODE XREF: INIT_IPX_SERVER+8DP
					; LoadServerPatch+153P	...

var_102		= word ptr -102h
var_100		= byte ptr -100h
arg_0		= dword	ptr  6

		enter	102h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		mov	[bp+var_102], 1
		jmp	short loc_316B3
; ---------------------------------------------------------------------------

loc_316AF:				; CODE XREF: PutConsMessage2+4Cj
		inc	[bp+var_102]

loc_316B3:				; CODE XREF: PutConsMessage2+21j
		imul	di, [bp+var_102], 29h
		add	di, 0E6EEh
		push	ds
		push	di
		mov	ax, [bp+var_102]
		dec	ax
		imul	di, ax,	29h
		add	di, 0E6EEh
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_102], 6
		jnz	short loc_316AF
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset unk_44A0B
		push	ds
		push	di
		push	28h ; '('
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	word_45670, 0
		jbe	short loc_3170A
		mov	di, offset unk_455B5
		push	ds
		push	di
		mov	di, offset MessageRec
		push	ds
		push	di
		push	0BDh ; '½'
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		xor	ax, ax
		mov	word_45670, ax

loc_3170A:				; CODE XREF: PutConsMessage2+65j
		xor	ax, ax
		mov	[bp+var_102], ax
		jmp	short loc_31716
; ---------------------------------------------------------------------------

loc_31712:				; CODE XREF: PutConsMessage2+C0j
		inc	[bp+var_102]

loc_31716:				; CODE XREF: PutConsMessage2+84j
		imul	di, [bp+var_102], 3Fh
		cmp	word ptr [di-0C9Dh], 0
		jnz	short loc_31747
		imul	di, [bp+var_102], 3Fh
		mov	word ptr [di-0C9Dh], 1F4h
		lea	di, [bp+var_100]
		push	ss
		push	di
		imul	di, [bp+var_102], 3Fh
		add	di, 0F326h
		push	ds
		push	di
		push	3Ch ; '<'
		call	@$basg$qm6Stringt14Byte	; Store	string
		jmp	short locret_3174E
; ---------------------------------------------------------------------------

loc_31747:				; CODE XREF: PutConsMessage2+94j
		cmp	[bp+var_102], 3
		jnz	short loc_31712

locret_3174E:				; CODE XREF: PutConsMessage2+B9j
		leave
		retf	4
PutConsMessage2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PutConsMessage3	proc far		; CODE XREF: LoadClientPatch+F5P
					; LoadClientPatch+235P	...

var_100		= byte ptr -100h
arg_0		= dword	ptr  6

		enter	100h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_100]
		lds	si, [bp+arg_0]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_100]
		push	ss
		push	di
		mov	di, offset NetMessage
		push	ds
		push	di
		push	20h ; ' '
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		call	PutConsMessage2
		leave
		retf	4
PutConsMessage3	endp

; ---------------------------------------------------------------------------
aChasmdat_2	db 9,'CHASMDAT\'        ; DATA XREF: sub_317C3+Co
aCsm_bin	db 7,'csm.bin'          ; DATA XREF: sub_317C3+1Do
					; sub_317C3+33o ...
aBadCsm_binHead	db 19,'Bad csm.bin header.' ; DATA XREF: sub_317C3:loc_31870o
aLoadingFrom	db 14,'Loading from: '  ; DATA XREF: sub_317C3+E4o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_317C3	proc far		; CODE XREF: PROGRAM+14P
		push	bp
		mov	bp, sp
		call	InitVideo
		mov	CurVideoMode, 1
		mov	di, offset aChasmdat_2 ; "CHASMDAT\\"
		push	cs
		push	di
		mov	di, offset BaseFile
		push	ds
		push	di
		push	50h ; 'P'
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset aCsm_bin ; "csm.bin"
		push	cs
		push	di
		call	ExistFile
		or	al, al
		jnz	short loc_317F1
		jmp	loc_3189B
; ---------------------------------------------------------------------------

loc_317F1:				; CODE XREF: sub_317C3+29j
		mov	Internal, 1
		mov	di, offset aCsm_bin ; "csm.bin"
		push	cs
		push	di
		mov	di, offset BaseFile
		push	ds
		push	di
		push	50h ; 'P'
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset FileTable
		push	ds
		push	di
		push	0A800h
		call	GetMem16
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset aCsm_bin ; "csm.bin"
		push	cs
		push	di
		call	@Assign$qm4Filem6String	; Assign(var f:	File; name: String)
		mov	di, offset F
		push	ds
		push	di
		push	1
		call	@Reset$qm4File4Word ; Reset(var	f: File; recsize: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset Ll
		push	ds
		push	di
		push	4
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		mov	di, offset intFCnt
		push	ds
		push	di
		push	2
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		dec	intFCnt
		mov	ax, Ll
		mov	dx, word_44D64
		cmp	dx, word_36282
		jnz	short loc_31870
		cmp	ax, CSMid
		jz	short loc_3187A

loc_31870:				; CODE XREF: sub_317C3+A5j
		mov	di, offset aBadCsm_binHead ; "Bad csm.bin header."
		push	cs
		push	di
		call	far ptr	DoHalt
; ---------------------------------------------------------------------------

loc_3187A:				; CODE XREF: sub_317C3+ABj
		mov	di, offset F
		push	ds
		push	di
		les	di, FileTable
		push	es
		push	di
		push	0A800h
		xor	ax, ax
		push	ax
		push	ax
		call	@BlockRead$qm4Filem3Any4Wordm4Word ; BlockRead(var f: File; var	buf; count: Word;var result: Word)
		mov	di, offset F
		push	ds
		push	di
		call	@Close$qm4File	; Close(var f: File)

loc_3189B:				; CODE XREF: sub_317C3+2Bj
		cmp	BaseFile, 0
		jz	short locret_318C4
		mov	di, offset Output
		push	ds
		push	di
		mov	di, offset aLoadingFrom	; "Loading from: "
		push	cs
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		mov	di, offset BaseFile
		push	ds
		push	di
		push	0
		call	@Write$qm4Textm6String4Word ; Write(var	f; s: String; width: Word)
		call	@WriteLn$qm4Text ; WriteLn(var f: Text)

locret_318C4:				; CODE XREF: sub_317C3+DDj
		leave
		retf
sub_317C3	endp

; ---------------------------------------------------------------------------
		align 10h
cseg08		ends

; Segment Number    : 9
; Alloc	Size	    : 2734h
; Offset in the	file: 3B200h  Length: 2734h
; Attributes  (0D40): CODE Preloaded Relocations DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg09		segment	para public 'CODE' use16
		assume cs:cseg09
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    9
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

movsw__0	proc far		; CODE XREF: AddAmbient+C5P
					; GUS_MixNextBlock+2CDP
					; DATA XREF: ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		mov	ds, [bp+arg_8]
		mov	si, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	es, ax
		mov	di, [bp+arg_2]
		mov	cx, [bp+arg_0]
		cld
		rep movsw
		pop	ds
		leave
		retf	0Ah
movsw__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

StosW__0	proc far		; CODE XREF: GUS_MixNextBlock+FP
					; DATA XREF: cseg09:064Eo ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		cld
		mov	ax, [bp+arg_6]
		mov	es, ax
		mov	di, [bp+arg_4]
		mov	cx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		rep stosw
		leave
		retf	8
StosW__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DisableSFXIRQ	proc far		; CODE XREF: DeInitSB:loc_32A54P
					; DeInitGUS+3P
		push	bp
		mov	bp, sp
		cmp	sCard, 2
		jb	short locret_3194D
		cmp	sIRQ, 8
		jnb	short loc_31932
		mov	al, sIRQ
		xor	ah, ah
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		in	al, 21h		; Interrupt controller,	8259A.
		xor	ah, ah
		or	ax, dx
		out	21h, al		; Interrupt controller,	8259A.
		jmp	short locret_3194D
; ---------------------------------------------------------------------------

loc_31932:				; CODE XREF: DisableSFXIRQ+Fj
		mov	al, sIRQ
		xor	ah, ah
		sub	ax, 8
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		mov	dx, ax
		in	al, 0A1h	; Interrupt Controller #2, 8259A
		xor	ah, ah
		or	ax, dx
		out	0A1h, al	; Interrupt Controller #2, 8259A

locret_3194D:				; CODE XREF: DisableSFXIRQ+8j
					; DisableSFXIRQ+29j
		leave
		retf
DisableSFXIRQ	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

EnableSFXIRQ	proc far		; CODE XREF: InitSb+56P InitGUS+53P
		push	bp
		mov	bp, sp
		cmp	sCard, 2
		jb	short locret_3199B
		cmp	sIRQ, 8
		jnb	short loc_3197D
		mov	al, sIRQ
		xor	ah, ah
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		xor	ax, 0FFh
		mov	dx, ax
		in	al, 21h		; Interrupt controller,	8259A.
		xor	ah, ah
		and	ax, dx
		out	21h, al		; Interrupt controller,	8259A.
		jmp	short locret_3199B
; ---------------------------------------------------------------------------

loc_3197D:				; CODE XREF: EnableSFXIRQ+Fj
		mov	al, sIRQ
		xor	ah, ah
		sub	ax, 8
		mov	dx, ax
		mov	ax, 1
		mov	cx, dx
		shl	ax, cl
		xor	ax, 0FFh
		mov	dx, ax
		in	al, 0A1h	; Interrupt Controller #2, 8259A
		xor	ah, ah
		and	ax, dx
		out	0A1h, al	; Interrupt Controller #2, 8259A

locret_3199B:				; CODE XREF: EnableSFXIRQ+8j
					; EnableSFXIRQ+2Cj
		leave
		retf
EnableSFXIRQ	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetMem16__0	proc far		; CODE XREF: GetDosPage+172P
					; GUS_InitDMABuffers+10AP ...

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		cmp	[bp+arg_0], 400h
		jnb	short loc_319AC
		mov	[bp+arg_0], 400h

loc_319AC:				; CODE XREF: GetMem16__0+8j
		push	[bp+arg_0]
		call	@GetMem$q4Word	; GetMem(var p:	Pointer{DX:AX};	size: Word)
		les	di, [bp+arg_2]
		mov	es:[di], ax
		mov	es:[di+2], dx
		les	di, es:[di]
		mov	ax, di
		or	ax, ax
		jz	short locret_319CE
		xor	ax, ax
		call	far ptr	@Halt$q4Word ; Halt(exitcode: Word{AX})
; ---------------------------------------------------------------------------

locret_319CE:				; CODE XREF: GetMem16__0+28j
		leave
		retf	6
GetMem16__0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddAmbient	proc far		; CODE XREF: ContinueAmbient+51P
					; ContinueAmbient+70P ...

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	0Ah, 0
		mov	[bp+var_2], 0FFh
		mov	al, MaxVoice
		xor	ah, ah
		mov	word ptr [bp+var_A+2], ax
		xor	ax, ax
		cmp	ax, word ptr [bp+var_A+2]
		jg	short loc_31A0E
		mov	n__1, ax
		jmp	short loc_319F3
; ---------------------------------------------------------------------------

loc_319EF:				; CODE XREF: AddAmbient+3Aj
		inc	n__1

loc_319F3:				; CODE XREF: AddAmbient+1Bj
		imul	di, n__1, 0Eh
		cmp	word ptr [di-878h], 0FFh
		jnz	short loc_31A06
		mov	ax, n__1
		mov	[bp+var_2], ax

loc_31A06:				; CODE XREF: AddAmbient+2Cj
		mov	ax, n__1
		cmp	ax, word ptr [bp+var_A+2]
		jnz	short loc_319EF

loc_31A0E:				; CODE XREF: AddAmbient+16j
		cmp	[bp+var_2], 0FFh
		jnz	short loc_31A18
		jmp	locret_31B5F
; ---------------------------------------------------------------------------

loc_31A18:				; CODE XREF: AddAmbient+41j
		imul	di, [bp+arg_8],	0Eh
		add	di, 0F5C2h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	ax, es:[di]
		or	ax, es:[di+2]
		jnz	short loc_31A48
		push	7D0h
		call	Sound
		push	32h ; '2'
		call	Delay
		call	NoSound
		jmp	locret_31B5F
; ---------------------------------------------------------------------------

loc_31A48:				; CODE XREF: AddAmbient+5Dj
		les	di, [bp+var_A]
		assume es:nothing
		mov	ax, es:[di+0Ah]
		mul	[bp+arg_6]
		shr	ax, 6
		mov	[bp+var_4], ax
		cmp	word ptr es:[di+4], 0
		jnz	short loc_31A62
		jmp	locret_31B5F
; ---------------------------------------------------------------------------

loc_31A62:				; CODE XREF: AddAmbient+8Bj
		les	di, [bp+var_A]
		mov	ax, es:[di+4]
		sub	ax, es:[di+8]
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 400h
		jb	short loc_31A9E
		les	di, es:[di]
		push	es
		les	di, [bp+var_A]
		push	word ptr es:[di+8]
		mov	ax, [bp+arg_4]
		shl	ax, 3
		les	di, Voices
		add	di, ax
		les	di, es:[di]
		push	es
		push	0
		push	200h
		call	movsw__0
		jmp	short loc_31AF6
; ---------------------------------------------------------------------------

loc_31A9E:				; CODE XREF: AddAmbient+A3j
		les	di, [bp+var_A]
		les	di, es:[di]
		mov	ax, es
		push	ax
		les	di, [bp+var_A]
		mov	di, es:[di+8]
		pop	es
		push	es
		push	di
		mov	ax, [bp+arg_4]
		shl	ax, 3
		les	di, Voices
		add	di, ax
		les	di, es:[di]
		push	es
		push	di
		push	[bp+var_6]
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)
		les	di, [bp+var_A]
		les	di, es:[di]
		push	es
		push	di
		mov	ax, [bp+arg_4]
		shl	ax, 3
		les	di, Voices
		add	di, ax
		les	di, es:[di]
		mov	ax, es
		push	ax
		mov	di, [bp+var_6]
		pop	es
		push	es
		push	di
		mov	ax, 400h
		sub	ax, [bp+var_6]
		push	ax
		call	@Move$qm3Anyt14Word ; Move(var source, dest; count: Word)

loc_31AF6:				; CODE XREF: AddAmbient+CAj
		les	di, [bp+var_A]
		add	word ptr es:[di+8], 400h
		mov	ax, es:[di+8]
		cmp	ax, es:[di+4]
		jb	short loc_31B11
		mov	ax, es:[di+4]
		sub	es:[di+8], ax

loc_31B11:				; CODE XREF: AddAmbient+135j
		imul	di, [bp+var_2],	0Eh
		add	di, 0F782h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		mov	ax, [bp+arg_4]
		shl	ax, 3
		les	di, Voices
		assume es:nothing
		add	di, ax
		mov	ax, es:[di]
		mov	dx, es:[di+2]
		les	di, [bp+var_A]
		mov	es:[di], ax
		mov	es:[di+2], dx
		xor	ax, ax
		mov	es:[di+4], ax
		mov	ax, [bp+var_4]
		mov	es:[di+8], ax
		xor	ax, ax
		mov	es:[di+6], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+0Ah], ax
		mov	ax, [bp+arg_0]
		mov	es:[di+0Ch], ax

locret_31B5F:				; CODE XREF: AddAmbient+43j
					; AddAmbient+73j ...
		leave
		retf	0Ah
AddAmbient	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ContinueAmbient	proc far		; CODE XREF: GUS_MixNextBlock+14P
					; DATA XREF: cseg09:063Eo ...
		push	bp
		mov	bp, sp
		cmp	DisableALL, 0
		jz	short loc_31B70
		jmp	locret_31C33
; ---------------------------------------------------------------------------

loc_31B70:				; CODE XREF: ContinueAmbient+8j
		cmp	CurAmbient, 0FFFFh
		jnz	short loc_31B7A
		jmp	loc_31C07
; ---------------------------------------------------------------------------

loc_31B7A:				; CODE XREF: ContinueAmbient+12j
		mov	ax, CurAmbient
		cmp	ax, PreAmbient
		jz	short loc_31B97
		cmp	PAmbVol, 1
		jbe	short loc_31B91
		sub	PAmbVol, 2
		jmp	short loc_31B97
; ---------------------------------------------------------------------------

loc_31B91:				; CODE XREF: ContinueAmbient+25j
		mov	ax, CurAmbient
		mov	PreAmbient, ax

loc_31B97:				; CODE XREF: ContinueAmbient+1Ej
					; ContinueAmbient+2Cj
		cmp	CAmbVol, 30h ; '0'
		jnb	short loc_31BA3
		add	CAmbVol, 2

loc_31BA3:				; CODE XREF: ContinueAmbient+39j
		push	CurAmbient
		mov	al, CAmbVol
		xor	ah, ah
		push	ax
		push	122h
		push	0
		push	0
		call	AddAmbient
		mov	ax, PreAmbient
		cmp	ax, CurAmbient
		jz	short loc_31BDA
		push	PreAmbient
		mov	al, PAmbVol
		xor	ah, ah
		push	ax
		push	123h
		push	0
		push	0
		call	AddAmbient
		jmp	short loc_31C07
; ---------------------------------------------------------------------------

loc_31BDA:				; CODE XREF: ContinueAmbient+5Dj
		imul	di, CurAmbient,	0Eh
		cmp	word ptr [di-0A32h], 0FFFFh
		jz	short loc_31C07
		push	258h
		call	@Random$q4Word	; Random(range:	Word): Word{AX}
		cmp	ax, 252h
		jbe	short loc_31C07
		push	0FFFFh
		push	0
		push	0
		imul	di, CurAmbient,	0Eh
		push	word ptr [di-0A32h]
		call	AddVoice

loc_31C07:				; CODE XREF: ContinueAmbient+14j
					; ContinueAmbient+75j ...
		cmp	ObjAmbU, 0
		jle	short locret_31C33
		push	ObjAmbU
		mov	ax, word_45ABC
		cwd
		mov	cx, 18h
		idiv	cx
		mov	dx, ax
		mov	ax, 30h	; '0'
		sub	ax, dx
		push	ax
		push	124h
		push	word_45ABE
		push	word_45AC0
		call	AddAmbient

locret_31C33:				; CODE XREF: ContinueAmbient+Aj
					; ContinueAmbient+A9j
		leave
		retf
ContinueAmbient	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

WriteMixer	proc far		; CODE XREF: InitMixerChip+7P
					; InitMixerChip+10P ...

arg_0		= byte ptr  6
arg_2		= byte ptr  8

		push	bp
		mov	bp, sp
		mov	ax, sBase
		add	ax, 4
		mov	dx, ax
		mov	al, [bp+arg_2]
		out	dx, al		; DMA controller, 8237A-5.
					; channel 2 base address
					; (also	sets current address)
		push	0Ah
		call	Delay
		mov	ax, sBase
		add	ax, 5
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al		; DMA controller, 8237A-5.
					; channel 2 base address and word count
		leave
		retf	4
WriteMixer	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProgramDMALo	proc far		; CODE XREF: ProgramDSP8bit+3P
					; DATA XREF: cseg09:0C18o
		push	bp
		mov	bp, sp
		mov	al, sDMA
		xor	ah, ah
		add	ax, 4
		out	0Ah, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		mov	al, 0
		out	0Ch, al		; DMA controller, 8237A-5.
					; clear	byte pointer flip-flop.
		cmp	sCard, 2
		jnz	short loc_31C7F
		mov	al, sDMA
		xor	ah, ah
		add	ax, 48h	; 'H'
		out	0Bh, al		; DMA 8237A-5. mode register bits:
					; 0-1: channel (00=0; 01=1; 10=2; 11=3)
					; 2-3: transfer	type (00=verify=Nop; 01=write; 10=read)
					; 4: 1=enable auto-initialization
					; 5: 1=address increment; 0=address decrement
					; 6-7: 00=demand mode; 01=single; 10=block; 11=cascade
		jmp	short loc_31C89
; ---------------------------------------------------------------------------

loc_31C7F:				; CODE XREF: ProgramDMALo+16j
		mov	al, sDMA
		xor	ah, ah
		add	ax, 58h	; 'X'
		out	0Bh, al		; DMA 8237A-5. mode register bits:
					; 0-1: channel (00=0; 01=1; 10=2; 11=3)
					; 2-3: transfer	type (00=verify=Nop; 01=write; 10=read)
					; 4: 1=enable auto-initialization
					; 5: 1=address increment; 0=address decrement
					; 6-7: 00=demand mode; 01=single; 10=block; 11=cascade

loc_31C89:				; CODE XREF: ProgramDMALo+22j
		mov	al, sDMA
		xor	ah, ah
		shl	ax, 1
		mov	dx, ax
		mov	al, byte ptr SFXPageOfs
		out	dx, al
		mov	al, sDMA
		xor	ah, ah
		shl	ax, 1
		mov	dx, ax
		mov	al, byte ptr SFXPageOfs+1
		out	dx, al
		mov	al, sDMA
		cmp	al, 0
		jnz	short loc_31CB1
		mov	al, byte ptr SFXPage
		out	87h, al		; DMA page register 74LS612:
					; Channel 0 (address bits 16-23)
		jmp	short loc_31CD0
; ---------------------------------------------------------------------------

loc_31CB1:				; CODE XREF: ProgramDMALo+4Dj
		cmp	al, 1
		jnz	short loc_31CBC
		mov	al, byte ptr SFXPage
		out	83h, al		; DMA page register 74LS612:
					; Channel 1 (address bits 16-23)
		jmp	short loc_31CD0
; ---------------------------------------------------------------------------

loc_31CBC:				; CODE XREF: ProgramDMALo+58j
		cmp	al, 2
		jnz	short loc_31CC7
		mov	al, byte ptr SFXPage
		out	81h, al		; DMA page register 74LS612:
					; Channel 2 (diskette DMA)  (address bits 16-23)
		jmp	short loc_31CD0
; ---------------------------------------------------------------------------

loc_31CC7:				; CODE XREF: ProgramDMALo+63j
		cmp	al, 3
		jnz	short loc_31CD0
		mov	al, byte ptr SFXPage
		out	82h, al		; DMA page register 74LS612:
					; Channel 3 (hard disk DMA) (address bits 16-23)

loc_31CD0:				; CODE XREF: ProgramDMALo+54j
					; ProgramDMALo+5Fj ...
		mov	al, sDMA
		xor	ah, ah
		shl	ax, 1
		inc	ax
		mov	dx, ax
		mov	al, byte ptr SFXLen
		out	dx, al		; DMA controller, 8237A-5.
					; channel 0 base address and word count
		mov	al, sDMA
		xor	ah, ah
		shl	ax, 1
		inc	ax
		mov	dx, ax
		mov	al, byte ptr SFXLen+1
		out	dx, al		; DMA controller, 8237A-5.
					; channel 0 base address and word count
		mov	al, sDMA
		out	0Ah, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		leave
		retf
ProgramDMALo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProgramDMAHi	proc far		; CODE XREF: programDSP16bit+3P
		push	bp
		mov	bp, sp
		mov	al, sDMA
		xor	ah, ah
		sub	ax, 4
		add	ax, 4
		out	0D4h, al
		mov	al, 0
		out	0D8h, al
		mov	al, sDMA
		xor	ah, ah
		sub	ax, 4
		add	ax, 58h	; 'X'
		out	0D6h, al
		mov	al, sDMA
		xor	ah, ah
		sub	ax, 4
		shl	ax, 2
		add	ax, 0C0h ; 'À'
		mov	dx, ax
		mov	al, byte ptr SFXPageOfs
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, sDMA
		xor	ah, ah
		sub	ax, 4
		shl	ax, 2
		add	ax, 0C0h ; 'À'
		mov	dx, ax
		mov	al, byte ptr SFXPageOfs+1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, sDMA
		xor	ah, ah
		sub	ax, 4
		shl	ax, 2
		add	ax, 0C2h ; 'Â'
		mov	dx, ax
		mov	al, 0FFh
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, sDMA
		xor	ah, ah
		sub	ax, 4
		shl	ax, 2
		add	ax, 0C2h ; 'Â'
		mov	dx, ax
		mov	al, 0Fh
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, sDMA
		cmp	al, 5
		jnz	short loc_31D70
		mov	al, byte ptr SFXPage
		out	8Bh, al		; DMA page register 74LS612:
					; Channel 5 (address bits 17-23)
		jmp	short loc_31D84
; ---------------------------------------------------------------------------

loc_31D70:				; CODE XREF: ProgramDMAHi+74j
		cmp	al, 6
		jnz	short loc_31D7B
		mov	al, byte ptr SFXPage
		out	89h, al		; DMA page register 74LS612:
					; Channel 6 (address bits 17-23)
		jmp	short loc_31D84
; ---------------------------------------------------------------------------

loc_31D7B:				; CODE XREF: ProgramDMAHi+7Fj
		cmp	al, 7
		jnz	short loc_31D84
		mov	al, byte ptr SFXPage
		out	8Ah, al		; DMA page register 74LS612:
					; Channel 7 (address bits 17-23)

loc_31D84:				; CODE XREF: ProgramDMAHi+7Bj
					; ProgramDMAHi+86j ...
		mov	al, sDMA
		xor	ah, ah
		sub	ax, 4
		out	0D4h, al
		leave
		retf
ProgramDMAHi	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReadDSP		proc far		; CODE XREF: ResetDSP:loc_31E1BP
					; TestSBlaster+62P ...

var_4		= word ptr -4
var_1		= byte ptr -1

		enter	4, 0

loc_31D94:				; CODE XREF: ReadDSP+1Dj
		mov	ax, sBase
		add	ax, 0Eh
		mov	dx, ax
		in	al, dx		; DMA controller, 8237A-5.
					; Clear	mask registers.
					; Any OUT enables all 4	channels.
		and	al, 80h
		or	al, al
		jnz	short loc_31DAF
		cmp	[bp+var_4], 4E20h
		jge	short loc_31DAF
		inc	[bp+var_4]
		jmp	short loc_31D94
; ---------------------------------------------------------------------------

loc_31DAF:				; CODE XREF: ReadDSP+11j ReadDSP+18j
		mov	ax, sBase
		add	ax, 0Ah
		mov	dx, ax
		in	al, dx		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retf
ReadDSP		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

WriteToDSP	proc far		; CODE XREF: ProgramDSP8bit+FP
					; ProgramDSP8bit+16P ...

var_2		= word ptr -2
arg_0		= byte ptr  6

		enter	2, 0
		xor	ax, ax
		mov	[bp+var_2], ax

loc_31DC9:				; CODE XREF: WriteToDSP+22j
		mov	ax, sBase
		add	ax, 0Ch
		mov	dx, ax
		in	al, dx		; DMA controller, 8237A-5.
					; clear	byte pointer flip-flop.
		and	al, 80h
		or	al, al
		jbe	short loc_31DE4
		cmp	[bp+var_2], 4E20h
		jge	short loc_31DE4
		inc	[bp+var_2]
		jmp	short loc_31DC9
; ---------------------------------------------------------------------------

loc_31DE4:				; CODE XREF: WriteToDSP+16j
					; WriteToDSP+1Dj
		mov	ax, sBase
		add	ax, 0Ch
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al		; DMA controller, 8237A-5.
					; clear	byte pointer flip-flop.
		leave
		retf	2
WriteToDSP	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ResetDSP	proc far		; CODE XREF: DeInitSB+33P

var_1		= byte ptr -1

		enter	2, 0
		mov	ax, sBase
		add	ax, 6
		mov	dx, ax
		mov	al, 1
		out	dx, al		; DMA controller, 8237A-5.
					; channel 3 base address
					; (also	sets current address)
		push	28h ; '('
		call	Delay
		mov	ax, sBase
		add	ax, 6
		mov	dx, ax
		mov	al, 0
		out	dx, al		; DMA controller, 8237A-5.
					; channel 3 base address
					; (also	sets current address)
		mov	j__0, 3E8h

loc_31E1B:				; CODE XREF: ResetDSP+3Bj
		call	ReadDSP
		cmp	al, 0AAh ; 'ª'
		jz	short loc_31E31
		cmp	j__0, 0
		jle	short loc_31E31
		dec	j__0
		jmp	short loc_31E1B
; ---------------------------------------------------------------------------

loc_31E31:				; CODE XREF: ResetDSP+2Ej ResetDSP+35j
		cmp	j__0, 0
		jle	short loc_31E3E
		mov	[bp+var_1], 1
		jmp	short loc_31E42
; ---------------------------------------------------------------------------

loc_31E3E:				; CODE XREF: ResetDSP+42j
		mov	[bp+var_1], 0

loc_31E42:				; CODE XREF: ResetDSP+48j
		mov	al, [bp+var_1]
		leave
		retf
ResetDSP	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ProgramDSP8bit	proc far		; CODE XREF: InitSb:loc_32A30P
		push	bp
		mov	bp, sp
		call	ProgramDMALo
		mov	MaxVoice, 0Fh
		push	0FFD1h
		call	WriteToDSP
		push	40h ; '@'
		call	WriteToDSP
		mov	al, byte ptr TimeRate
		push	ax
		call	WriteToDSP
		cmp	sCard, 2
		jnz	short loc_31E8D
		push	14h
		call	WriteToDSP
		mov	al, byte ptr SFXLen
		push	ax
		call	WriteToDSP
		mov	al, byte ptr SFXLen+1
		push	ax
		call	WriteToDSP
		jmp	short locret_31EB4
; ---------------------------------------------------------------------------

loc_31E8D:				; CODE XREF: ProgramDSP8bit+29j
		push	48h ; 'H'
		call	WriteToDSP
		mov	al, byte ptr SFXLen
		push	ax
		call	WriteToDSP
		mov	al, byte ptr SFXLen+1
		push	ax
		call	WriteToDSP
		push	1Ch
		call	WriteToDSP
		push	0FFF2h
		call	WriteToDSP

locret_31EB4:				; CODE XREF: ProgramDSP8bit+44j
		leave
		retf
ProgramDSP8bit	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

programDSP16bit	proc far		; CODE XREF: InitSb+63P
		push	bp
		mov	bp, sp
		call	ProgramDMAHi
		mov	MaxVoice, 0Fh
		push	0FFD1h
		call	WriteToDSP
		push	41h ; 'A'
		call	WriteToDSP
		push	2Bh ; '+'
		call	WriteToDSP
		push	2Ah ; '*'
		call	WriteToDSP
		push	0FFB6h
		call	WriteToDSP
		push	30h ; '0'
		call	WriteToDSP
		push	0FFFFh
		call	WriteToDSP
		push	7
		call	WriteToDSP
		leave
		retf
programDSP16bit	endp

; ---------------------------------------------------------------------------
NextStereoBlock16 db 0C8h ; È		; DATA XREF: cseg09:0E19o
		db    4
		db    0
		db    0
		db 0A1h	; ¡
		db 0AAh	; ª
		db 0F5h	; õ
		db    5
		db  0Fh
		db    0
		db  8Bh	; ‹
		db 0D0h	; Ð
		db 0ECh	; ì
		db 0A2h	; ¢
		db  3Dh	; =
		db 0F9h	; ù
		db  9Ah	; š
		dd ContinueAmbient
		db 0FFh
		db  36h	; 6
		db  20h
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db  68h	; h
		db    0
		db    8
		db  6Ah	; j
		db    0
		db  9Ah	; š
		dd StosW__0
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db  18h
		db 0F9h	; ù
		db 0EBh	; ë
		db    4
		db 0FFh
		db    6
		db  18h
		db 0F9h	; ù
		db  6Bh	; k
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db  0Eh
		db  81h	; 
		db 0C7h	; Ç
		db  82h	; ‚
		db 0F7h	; ÷
		db  1Eh
		db    7
		db  89h	; ‰
		db  7Eh	; ~
		db 0FCh	; ü
		db  8Ch	; Œ
		db  46h	; F
		db 0FEh	; þ
		db  26h	; &
		db  81h	; 
		db  7Dh	; }
		db    6
		db 0FFh
		db    0
		db  75h	; u
		db    3
		db 0E9h	; é
		db  6Eh	; n
		db    2
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db  0Ah
		db    0
		db  74h	; t
		db    7
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db  0Ch
		db    0
		db  75h	; u
		db  27h	; '
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db    4
		db    0
		db  75h	; u
		db  0Eh
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  50h	; P
		db    0
		db 0C7h	; Ç
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  50h	; P
		db    0
		db 0EBh	; ë
		db  0Ch
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  50h	; P
		db    0
		db 0C7h	; Ç
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  50h	; P
		db    0
		db 0E9h	; é
		db  3Ch	; <
		db    1
		db 0A1h	; ¡
		db  76h	; v
		db 0F8h	; ø
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  2Bh	; +
		db  45h	; E
		db  0Ah
		db 0A3h	; £
		db  32h	; 2
		db 0F9h	; ù
		db 0A1h	; ¡
		db  78h	; x
		db 0F8h	; ø
		db  26h	; &
		db  2Bh	; +
		db  45h	; E
		db  0Ch
		db 0A3h	; £
		db  34h	; 4
		db 0F9h	; ù
		db 0A1h	; ¡
		db  34h	; 4
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ch	; |
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db 0A3h	; £
		db  3Ah	; :
		db 0F9h	; ù
		db 0A1h	; ¡
		db  32h	; 2
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ah	; z
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db    1
		db    6
		db  3Ah	; :
		db 0F9h	; ù
		db 0A1h	; ¡
		db  32h	; 2
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ch	; |
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db 0A3h	; £
		db  38h	; 8
		db 0F9h	; ù
		db 0A1h	; ¡
		db  34h	; 4
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ah	; z
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db  29h	; )
		db    6
		db  38h	; 8
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  3Ah	; :
		db 0F9h	; ù
		db    0
		db  7Dh	; }
		db    8
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db 0D1h	; Ñ
		db 0E0h	; à
		db 0A3h	; £
		db  3Ah	; :
		db 0F9h	; ù
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db 0A3h	; £
		db  3Ah	; :
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  3Ah	; :
		db 0F9h	; ù
		db  0Eh
		db  7Dh	; }
		db    6
		db 0C7h	; Ç
		db    6
		db  3Ah	; :
		db 0F9h	; ù
		db  0Eh
		db    0
		db 0A1h	; ¡
		db  38h	; 8
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db 0A3h	; £
		db  36h	; 6
		db 0F9h	; ù
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db  3Bh	; ;
		db    6
		db  36h	; 6
		db 0F9h	; ù
		db  7Eh	; ~
		db  16h
		db 0A1h	; ¡
		db  36h	; 6
		db 0F9h	; ù
		db 0BBh	; »
		db 0A0h	;  
		db    0
		db 0F7h	; ÷
		db 0E3h	; ã
		db  8Bh	; ‹
		db  1Eh
		db  3Ah	; :
		db 0F9h	; ù
		db 0F7h	; ÷
		db 0F3h	; ó
		db    5
		db  40h	; @
		db    2
		db 0A3h	; £
		db  2Eh	; .
		db 0F9h	; ù
		db 0EBh	; ë
		db  16h
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db 0BBh	; »
		db 0A0h	;  
		db    0
		db 0F7h	; ÷
		db 0E3h	; ã
		db  8Bh	; ‹
		db  1Eh
		db  36h	; 6
		db 0F9h	; ù
		db 0F7h	; ÷
		db 0F3h	; ó
		db 0F7h	; ÷
		db 0D8h	; Ø
		db    5
		db  80h	; €
		db    3
		db 0A3h	; £
		db  2Eh	; .
		db 0F9h	; ù
		db 0B8h	; ¸
		db  80h	; €
		db    4
		db  2Bh	; +
		db    6
		db  2Eh	; .
		db 0F9h	; ù
		db 0A3h	; £
		db  30h	; 0
		db 0F9h	; ù
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db  8Bh	; ‹
		db 0C8h	; È
		db 0A1h	; ¡
		db  38h	; 8
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db    3
		db 0C1h	; Á
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  2Ch	; ,
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  2Ch	; ,
		db 0F9h	; ù
		db  0Ch
		db  73h	; s
		db    8
		db 0C7h	; Ç
		db    6
		db  2Ch	; ,
		db 0F9h	; ù
		db    8
		db    0
		db 0EBh	; ë
		db  0Ch
		db 0A1h	; ¡
		db  2Ch	; ,
		db 0F9h	; ù
		db  2Dh	; -
		db  0Ch
		db    0
		db    5
		db    8
		db    0
		db 0A3h	; £
		db  2Ch	; ,
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  38h	; 8
		db 0F9h	; ù
		db    0
		db  7Eh	; ~
		db  1Ah
		db 0A1h	; ¡
		db  2Eh	; .
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db 0A1h	; ¡
		db  30h	; 0
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  26h	; &
		db 0F9h	; ù
		db 0EBh	; ë
		db  18h
		db 0A1h	; ¡
		db  30h	; 0
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db 0A1h	; ¡
		db  2Eh	; .
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  26h	; &
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0C4h	; Ä
		db  3Dh	; =
		db  8Ch	; Œ
		db 0C0h	; À
		db 0A3h	; £
		db  24h	; $
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    6
		db 0A3h	; £
		db  2Ah	; *
		db 0F9h	; ù
		db  80h	; €
		db  3Eh	; >
		db 0B7h	; ·
		db 0F5h	; õ
		db    0
		db  74h	; t
		db  10h
		db 0FFh
		db  36h	; 6
		db  26h	; &
		db 0F9h	; ù
		db 0FFh
		db  36h	; 6
		db  28h	; (
		db 0F9h	; ù
		db  8Fh	; 
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  8Fh	; 
		db    6
		db  28h	; (
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    8
		db 0F7h	; ÷
		db  26h	; &
		db  28h	; (
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  28h	; (
		db 0F9h	; ù
		db  7Fh	; 
		db  76h	; v
		db    6
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  7Fh	; 
		db    0
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    8
		db 0F7h	; ÷
		db  26h	; &
		db  26h	; &
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  26h	; &
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  26h	; &
		db 0F9h	; ù
		db  7Fh	; 
		db  76h	; v
		db    6
		db 0C7h	; Ç
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  7Fh	; 
		db    0
		db 0A1h	; ¡
		db  20h
		db 0F9h	; ù
		db  8Eh	; Ž
		db 0C0h	; À
		db 0B9h	; ¹
		db    0
		db    4
		db  31h	; 1
		db 0FFh
		db  8Bh	; ‹
		db  1Eh
		db  26h	; &
		db 0F9h	; ù
		db  8Bh	; ‹
		db  36h	; 6
		db  2Ah	; *
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E6h	; æ
		db  0Ah
		db 0A1h	; ¡
		db  24h	; $
		db 0F9h	; ù
		db  1Eh
		db  8Eh	; Ž
		db 0D8h	; Ø
		db  8Ah	; Š
		db    4
		db 0F6h	; ö
		db 0EBh	; ë
		db  26h	; &
		db    1
		db    5
		db  71h	; q
		db    9
		db 0C1h	; Á
		db 0E8h	; è
		db  0Fh
		db    5
		db 0FFh
		db  7Fh	; 
		db  26h	; &
		db  89h	; ‰
		db    5
		db  83h	; ƒ
		db 0C7h	; Ç
		db    4
		db  46h	; F
		db  49h	; I
		db  75h	; u
		db 0E7h	; ç
		db  1Fh
		db 0B9h	; ¹
		db    0
		db    4
		db  8Bh	; ‹
		db  1Eh
		db  28h	; (
		db 0F9h	; ù
		db 0BFh	; ¿
		db    2
		db    0
		db  8Bh	; ‹
		db  36h	; 6
		db  2Ah	; *
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E6h	; æ
		db  0Ah
		db 0A1h	; ¡
		db  24h	; $
		db 0F9h	; ù
		db  1Eh
		db  8Eh	; Ž
		db 0D8h	; Ø
		db  8Ah	; Š
		db    4
		db 0F6h	; ö
		db 0EBh	; ë
		db  26h	; &
		db    1
		db    5
		db  71h	; q
		db    9
		db 0C1h	; Á
		db 0E8h	; è
		db  0Fh
		db    5
		db 0FFh
		db  7Fh	; 
		db  26h	; &
		db  89h	; ‰
		db    5
		db  83h	; ƒ
		db 0C7h	; Ç
		db    4
		db  46h	; F
		db  49h	; I
		db  75h	; u
		db 0E7h	; ç
		db  1Fh
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0FFh
		db  45h	; E
		db    6
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    6
		db  26h	; &
		db  3Bh	; ;
		db  45h	; E
		db    4
		db  72h	; r
		db  1Eh
		db  83h	; ƒ
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db    0
		db  75h	; u
		db    8
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db    6
		db 0FFh
		db    0
		db 0EBh	; ë
		db  0Fh
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db    6
		db 0FFh
		db    0
		db  31h	; 1
		db 0C0h	; À
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db    4
		db  83h	; ƒ
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db  0Fh
		db  74h	; t
		db    3
		db 0E9h	; é
		db  68h	; h
		db 0FDh	; ý
		db 0FFh
		db  36h	; 6
		db  20h
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db 0FFh
		db  36h	; 6
		db  1Eh
		db 0F9h	; ù
		db 0FFh
		db  36h	; 6
		db  22h	; "
		db 0F9h	; ù
		db  68h	; h
		db    0
		db    8
		db  9Ah	; š
		dd movsw__0
		db 0B8h	; ¸
		db    0
		db  10h
		db  2Bh	; +
		db    6
		db  22h	; "
		db 0F9h	; ù
		db 0A3h	; £
		db  22h	; "
		db 0F9h	; ù
		db 0C9h	; É
		db 0CBh	; Ë
NextStereoBlock	db 0C8h	; È		; DATA XREF: cseg09:0E0Eo
		db    4
		db    0
		db    0
		db 0A1h	; ¡
		db 0AAh	; ª
		db 0F5h	; õ
		db    5
		db  0Eh
		db    0
		db  8Bh	; ‹
		db 0D0h	; Ð
		db 0ECh	; ì
		db 0A2h	; ¢
		db  3Dh	; =
		db 0F9h	; ù
		db 0FFh
		db  36h	; 6
		db  20h
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db 0FFh
		db  36h	; 6
		db  1Eh
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db  68h	; h
		db    0
		db    4
		db  9Ah	; š
		dd movsw__0
		db 0FFh
		db  36h	; 6
		db  20h
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db  68h	; h
		db    0
		db    4
		db  6Ah	; j
		db    0
		db  9Ah	; š
		dd StosW__0
		db  9Ah	; š
		dd ContinueAmbient
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db  18h
		db 0F9h	; ù
		db 0EBh	; ë
		db    4
		db 0FFh
		db    6
		db  18h
		db 0F9h	; ù
		db  6Bh	; k
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db  0Eh
		db  81h	; 
		db 0C7h	; Ç
		db  82h	; ‚
		db 0F7h	; ÷
		db  1Eh
		db    7
		db  89h	; ‰
		db  7Eh	; ~
		db 0FCh	; ü
		db  8Ch	; Œ
		db  46h	; F
		db 0FEh	; þ
		db  26h	; &
		db  81h	; 
		db  7Dh	; }
		db    6
		db 0FFh
		db    0
		db  75h	; u
		db    3
		db 0E9h	; é
		db  6Bh	; k
		db    2
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db  0Ah
		db    0
		db  74h	; t
		db    7
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db  0Ch
		db    0
		db  75h	; u
		db  27h	; '
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db    4
		db    0
		db  75h	; u
		db  0Eh
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  60h	; `
		db    0
		db 0C7h	; Ç
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  60h	; `
		db    0
		db 0EBh	; ë
		db  0Ch
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  60h	; `
		db    0
		db 0C7h	; Ç
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  60h	; `
		db    0
		db 0E9h	; é
		db  3Ch	; <
		db    1
		db 0A1h	; ¡
		db  76h	; v
		db 0F8h	; ø
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  2Bh	; +
		db  45h	; E
		db  0Ah
		db 0A3h	; £
		db  32h	; 2
		db 0F9h	; ù
		db 0A1h	; ¡
		db  78h	; x
		db 0F8h	; ø
		db  26h	; &
		db  2Bh	; +
		db  45h	; E
		db  0Ch
		db 0A3h	; £
		db  34h	; 4
		db 0F9h	; ù
		db 0A1h	; ¡
		db  34h	; 4
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ch	; |
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db 0A3h	; £
		db  3Ah	; :
		db 0F9h	; ù
		db 0A1h	; ¡
		db  32h	; 2
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ah	; z
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db    1
		db    6
		db  3Ah	; :
		db 0F9h	; ù
		db 0A1h	; ¡
		db  32h	; 2
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ch	; |
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db 0A3h	; £
		db  38h	; 8
		db 0F9h	; ù
		db 0A1h	; ¡
		db  34h	; 4
		db 0F9h	; ù
		db  8Bh	; ‹
		db  1Eh
		db  7Ah	; z
		db 0F8h	; ø
		db 0F7h	; ÷
		db 0EBh	; ë
		db 0BBh	; »
		db    0
		db  10h
		db 0F7h	; ÷
		db 0FBh	; û
		db  29h	; )
		db    6
		db  38h	; 8
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  3Ah	; :
		db 0F9h	; ù
		db    0
		db  7Dh	; }
		db    8
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db 0D1h	; Ñ
		db 0E0h	; à
		db 0A3h	; £
		db  3Ah	; :
		db 0F9h	; ù
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db 0A3h	; £
		db  3Ah	; :
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  3Ah	; :
		db 0F9h	; ù
		db  0Eh
		db  7Dh	; }
		db    6
		db 0C7h	; Ç
		db    6
		db  3Ah	; :
		db 0F9h	; ù
		db  0Eh
		db    0
		db 0A1h	; ¡
		db  38h	; 8
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db 0A3h	; £
		db  36h	; 6
		db 0F9h	; ù
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db  3Bh	; ;
		db    6
		db  36h	; 6
		db 0F9h	; ù
		db  7Eh	; ~
		db  16h
		db 0A1h	; ¡
		db  36h	; 6
		db 0F9h	; ù
		db 0BBh	; »
		db 0A0h	;  
		db    0
		db 0F7h	; ÷
		db 0E3h	; ã
		db  8Bh	; ‹
		db  1Eh
		db  3Ah	; :
		db 0F9h	; ù
		db 0F7h	; ÷
		db 0F3h	; ó
		db    5
		db  40h	; @
		db    2
		db 0A3h	; £
		db  2Eh	; .
		db 0F9h	; ù
		db 0EBh	; ë
		db  16h
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db 0BBh	; »
		db 0A0h	;  
		db    0
		db 0F7h	; ÷
		db 0E3h	; ã
		db  8Bh	; ‹
		db  1Eh
		db  36h	; 6
		db 0F9h	; ù
		db 0F7h	; ÷
		db 0F3h	; ó
		db 0F7h	; ÷
		db 0D8h	; Ø
		db    5
		db  80h	; €
		db    3
		db 0A3h	; £
		db  2Eh	; .
		db 0F9h	; ù
		db 0B8h	; ¸
		db  80h	; €
		db    4
		db  2Bh	; +
		db    6
		db  2Eh	; .
		db 0F9h	; ù
		db 0A3h	; £
		db  30h	; 0
		db 0F9h	; ù
		db 0A1h	; ¡
		db  3Ah	; :
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db  8Bh	; ‹
		db 0C8h	; È
		db 0A1h	; ¡
		db  38h	; 8
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db    3
		db 0C1h	; Á
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  2Ch	; ,
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  2Ch	; ,
		db 0F9h	; ù
		db  0Ch
		db  73h	; s
		db    8
		db 0C7h	; Ç
		db    6
		db  2Ch	; ,
		db 0F9h	; ù
		db    8
		db    0
		db 0EBh	; ë
		db  0Ch
		db 0A1h	; ¡
		db  2Ch	; ,
		db 0F9h	; ù
		db  2Dh	; -
		db  0Ch
		db    0
		db    5
		db    8
		db    0
		db 0A3h	; £
		db  2Ch	; ,
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  38h	; 8
		db 0F9h	; ù
		db    0
		db  7Eh	; ~
		db  1Ah
		db 0A1h	; ¡
		db  2Eh	; .
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db 0A1h	; ¡
		db  30h	; 0
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  26h	; &
		db 0F9h	; ù
		db 0EBh	; ë
		db  18h
		db 0A1h	; ¡
		db  30h	; 0
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db 0A1h	; ¡
		db  2Eh	; .
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  36h	; 6
		db  2Ch	; ,
		db 0F9h	; ù
		db 0A3h	; £
		db  26h	; &
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0C4h	; Ä
		db  3Dh	; =
		db  8Ch	; Œ
		db 0C0h	; À
		db 0A3h	; £
		db  24h	; $
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    6
		db 0A3h	; £
		db  2Ah	; *
		db 0F9h	; ù
		db  80h	; €
		db  3Eh	; >
		db 0B7h	; ·
		db 0F5h	; õ
		db    0
		db  74h	; t
		db  10h
		db 0FFh
		db  36h	; 6
		db  26h	; &
		db 0F9h	; ù
		db 0FFh
		db  36h	; 6
		db  28h	; (
		db 0F9h	; ù
		db  8Fh	; 
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  8Fh	; 
		db    6
		db  28h	; (
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    8
		db 0F7h	; ÷
		db  26h	; &
		db  28h	; (
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  28h	; (
		db 0F9h	; ù
		db  7Fh	; 
		db  76h	; v
		db    6
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  7Fh	; 
		db    0
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    8
		db 0F7h	; ÷
		db  26h	; &
		db  26h	; &
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  26h	; &
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  26h	; &
		db 0F9h	; ù
		db  7Fh	; 
		db  76h	; v
		db    6
		db 0C7h	; Ç
		db    6
		db  26h	; &
		db 0F9h	; ù
		db  7Fh	; 
		db    0
		db 0A1h	; ¡
		db  20h
		db 0F9h	; ù
		db  8Eh	; Ž
		db 0C0h	; À
		db 0B9h	; ¹
		db    0
		db    4
		db  8Bh	; ‹
		db  1Eh
		db  26h	; &
		db 0F9h	; ù
		db  31h	; 1
		db 0FFh
		db  8Bh	; ‹
		db  36h	; 6
		db  2Ah	; *
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E6h	; æ
		db  0Ah
		db 0A1h	; ¡
		db  24h	; $
		db 0F9h	; ù
		db  1Eh
		db  8Eh	; Ž
		db 0D8h	; Ø
		db  8Ah	; Š
		db    4
		db 0F6h	; ö
		db 0EBh	; ë
		db  47h	; G
		db  26h	; &
		db    0
		db  25h	; %
		db  71h	; q
		db    9
		db 0C0h	; À
		db 0ECh	; ì
		db    7
		db  80h	; €
		db 0C4h	; Ä
		db  7Fh	; 
		db  26h	; &
		db  88h	; ˆ
		db  25h	; %
		db  47h	; G
		db  46h	; F
		db  49h	; I
		db  75h	; u
		db 0E8h	; è
		db  1Fh
		db 0B9h	; ¹
		db    0
		db    4
		db  8Bh	; ‹
		db  1Eh
		db  28h	; (
		db 0F9h	; ù
		db  31h	; 1
		db 0FFh
		db  8Bh	; ‹
		db  36h	; 6
		db  2Ah	; *
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E6h	; æ
		db  0Ah
		db 0A1h	; ¡
		db  24h	; $
		db 0F9h	; ù
		db  1Eh
		db  8Eh	; Ž
		db 0D8h	; Ø
		db  8Ah	; Š
		db    4
		db 0F6h	; ö
		db 0EBh	; ë
		db  26h	; &
		db    0
		db  25h	; %
		db  71h	; q
		db    9
		db 0C0h	; À
		db 0ECh	; ì
		db    7
		db  80h	; €
		db 0C4h	; Ä
		db  7Fh	; 
		db  26h	; &
		db  88h	; ˆ
		db  25h	; %
		db  47h	; G
		db  47h	; G
		db  46h	; F
		db  49h	; I
		db  75h	; u
		db 0E8h	; è
		db  1Fh
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0FFh
		db  45h	; E
		db    6
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    6
		db  26h	; &
		db  3Bh	; ;
		db  45h	; E
		db    4
		db  72h	; r
		db  1Eh
		db  83h	; ƒ
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db    0
		db  75h	; u
		db    8
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db    6
		db 0FFh
		db    0
		db 0EBh	; ë
		db  0Fh
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db    6
		db 0FFh
		db    0
		db  31h	; 1
		db 0C0h	; À
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db    4
		db  83h	; ƒ
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db  0Fh
		db  74h	; t
		db    3
		db 0E9h	; é
		db  6Bh	; k
		db 0FDh	; ý
		db 0B9h	; ¹
		db    0
		db    4
		db 0A1h	; ¡
		db  20h
		db 0F9h	; ù
		db  8Eh	; Ž
		db 0C0h	; À
		db  31h	; 1
		db 0FFh
		db 0B8h	; ¸
		db  80h	; €
		db  80h	; €
		db  26h	; &
		db    1
		db    5
		db  47h	; G
		db  47h	; G
		db  49h	; I
		db  75h	; u
		db 0F8h	; ø
		db 0A1h	; ¡
		db  20h
		db 0F9h	; ù
		db  50h	; P
		db  31h	; 1
		db 0FFh
		db    7
		db  26h	; &
		db  8Bh	; ‹
		db  15h
		db 0A1h	; ¡
		db  1Eh
		db 0F9h	; ù
		db  50h	; P
		db  31h	; 1
		db 0FFh
		db    7
		db  26h	; &
		db  89h	; ‰
		db  15h
		db 0C9h	; É
		db 0CBh	; Ë
NextMonoBlock	db 0C8h	; È		; DATA XREF: cseg09:0E03o
		db    4
		db    0
		db    0
		db  9Ah	; š
		dd ProgramDMALo
		db  6Ah	; j
		db  14h
		db  9Ah	; š
		dd WriteToDSP
		db 0A0h	;  
		db  1Ah
		db 0F9h	; ù
		db  50h	; P
		db  9Ah	; š
		dd WriteToDSP
		db 0A0h	;  
		db  1Bh
		db 0F9h	; ù
		db  50h	; P
		db  9Ah	; š
		dd WriteToDSP
		db 0A1h	; ¡
		db 0AAh	; ª
		db 0F5h	; õ
		db    5
		db  0Eh
		db    0
		db  8Bh	; ‹
		db 0D0h	; Ð
		db 0ECh	; ì
		db 0A2h	; ¢
		db  3Dh	; =
		db 0F9h	; ù
		db 0FFh
		db  36h	; 6
		db  20h
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db 0FFh
		db  36h	; 6
		db  1Eh
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db  68h	; h
		db    0
		db    2
		db  9Ah	; š
		dd movsw__0
		db 0FFh
		db  36h	; 6
		db  20h
		db 0F9h	; ù
		db  6Ah	; j
		db    0
		db  68h	; h
		db    0
		db    2
		db  6Ah	; j
		db    0
		db  9Ah	; š
		dd StosW__0
		db  9Ah	; š
		dd ContinueAmbient
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db  18h
		db 0F9h	; ù
		db 0EBh	; ë
		db    4
		db 0FFh
		db    6
		db  18h
		db 0F9h	; ù
		db  6Bh	; k
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db  0Eh
		db  81h	; 
		db 0C7h	; Ç
		db  82h	; ‚
		db 0F7h	; ÷
		db  1Eh
		db    7
		db  89h	; ‰
		db  7Eh	; ~
		db 0FCh	; ü
		db  8Ch	; Œ
		db  46h	; F
		db 0FEh	; þ
		db  26h	; &
		db  81h	; 
		db  7Dh	; }
		db    6
		db 0FFh
		db    0
		db  75h	; u
		db    3
		db 0E9h	; é
		db  26h	; &
		db    1
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db  0Ah
		db    0
		db  74h	; t
		db    7
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db  0Ch
		db    0
		db  75h	; u
		db  1Ah
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  83h	; ƒ
		db  7Dh	; }
		db    4
		db    1
		db  75h	; u
		db    8
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  60h	; `
		db    0
		db 0EBh	; ë
		db    6
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  60h	; `
		db    0
		db 0EBh	; ë
		db  67h	; g
		db 0A1h	; ¡
		db  76h	; v
		db 0F8h	; ø
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  2Bh	; +
		db  45h	; E
		db  0Ah
		db 0A3h	; £
		db  32h	; 2
		db 0F9h	; ù
		db 0A1h	; ¡
		db  78h	; x
		db 0F8h	; ø
		db  26h	; &
		db  2Bh	; +
		db  45h	; E
		db  0Ch
		db 0A3h	; £
		db  34h	; 4
		db 0F9h	; ù
		db 0A1h	; ¡
		db  34h	; 4
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db  8Bh	; ‹
		db 0C8h	; È
		db 0A1h	; ¡
		db  32h	; 2
		db 0F9h	; ù
		db  99h	; ™
		db  31h	; 1
		db 0D0h	; Ð
		db  29h	; )
		db 0D0h	; Ð
		db    3
		db 0C1h	; Á
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  2Ch	; ,
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  2Ch	; ,
		db 0F9h	; ù
		db  0Ch
		db  73h	; s
		db    7
		db  31h	; 1
		db 0C0h	; À
		db 0A3h	; £
		db  2Ch	; ,
		db 0F9h	; ù
		db 0EBh	; ë
		db    5
		db  83h	; ƒ
		db  2Eh	; .
		db  2Ch	; ,
		db 0F9h	; ù
		db  0Ch
		db 0A1h	; ¡
		db  2Ch	; ,
		db 0F9h	; ù
		db    5
		db    8
		db    0
		db  8Bh	; ‹
		db 0C8h	; È
		db 0B8h	; ¸
		db  80h	; €
		db    3
		db  31h	; 1
		db 0D2h	; Ò
		db 0F7h	; ÷
		db 0F1h	; ñ
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    8
		db 0F7h	; ÷
		db  26h	; &
		db  28h	; (
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E8h	; è
		db    6
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db 0A0h	;  
		db 0AEh	; ®
		db 0F5h	; õ
		db  30h	; 0
		db 0E4h	; ä
		db 0F7h	; ÷
		db  26h	; &
		db  28h	; (
		db 0F9h	; ù
		db  31h	; 1
		db 0D2h	; Ò
		db 0B9h	; ¹
		db  0Fh
		db    0
		db 0F7h	; ÷
		db 0F1h	; ñ
		db 0A3h	; £
		db  28h	; (
		db 0F9h	; ù
		db  83h	; ƒ
		db  3Eh	; >
		db  28h	; (
		db 0F9h	; ù
		db  7Fh	; 
		db  76h	; v
		db    6
		db 0C7h	; Ç
		db    6
		db  28h	; (
		db 0F9h	; ù
		db  7Fh	; 
		db    0
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0C4h	; Ä
		db  3Dh	; =
		db  8Ch	; Œ
		db 0C0h	; À
		db 0A3h	; £
		db  24h	; $
		db 0F9h	; ù
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    6
		db 0A3h	; £
		db  2Ah	; *
		db 0F9h	; ù
		db 0B9h	; ¹
		db    0
		db    4
		db  8Bh	; ‹
		db  1Eh
		db  28h	; (
		db 0F9h	; ù
		db 0A1h	; ¡
		db  20h
		db 0F9h	; ù
		db  8Eh	; Ž
		db 0C0h	; À
		db  31h	; 1
		db 0FFh
		db  8Bh	; ‹
		db  36h	; 6
		db  2Ah	; *
		db 0F9h	; ù
		db 0C1h	; Á
		db 0E6h	; æ
		db  0Ah
		db 0A1h	; ¡
		db  24h	; $
		db 0F9h	; ù
		db  1Eh
		db  8Eh	; Ž
		db 0D8h	; Ø
		db  8Ah	; Š
		db    4
		db 0F6h	; ö
		db 0EBh	; ë
		db  26h	; &
		db    0
		db  25h	; %
		db  71h	; q
		db    9
		db 0C0h	; À
		db 0ECh	; ì
		db    7
		db  80h	; €
		db 0C4h	; Ä
		db  7Fh	; 
		db  26h	; &
		db  88h	; ˆ
		db  25h	; %
		db  47h	; G
		db  46h	; F
		db  49h	; I
		db  75h	; u
		db 0E9h	; é
		db  1Fh
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0FFh
		db  45h	; E
		db    6
		db  26h	; &
		db  8Bh	; ‹
		db  45h	; E
		db    6
		db  26h	; &
		db  3Bh	; ;
		db  45h	; E
		db    4
		db  72h	; r
		db  1Eh
		db  83h	; ƒ
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db    0
		db  75h	; u
		db    8
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db    6
		db 0FFh
		db    0
		db 0EBh	; ë
		db  0Fh
		db 0C4h	; Ä
		db  7Eh	; ~
		db 0FCh	; ü
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db    6
		db 0FFh
		db    0
		db  31h	; 1
		db 0C0h	; À
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db    4
		db  83h	; ƒ
		db  3Eh	; >
		db  18h
		db 0F9h	; ù
		db  0Fh
		db  74h	; t
		db    3
		db 0E9h	; é
		db 0B0h	; °
		db 0FEh	; þ
		db 0B9h	; ¹
		db    0
		db    2
		db 0A1h	; ¡
		db  20h
		db 0F9h	; ù
		db  8Eh	; Ž
		db 0C0h	; À
		db  31h	; 1
		db 0FFh
		db 0B8h	; ¸
		db  80h	; €
		db  80h	; €
		db  26h	; &
		db    1
		db    5
		db  47h	; G
		db  47h	; G
		db  49h	; I
		db  75h	; u
		db 0F8h	; ø
		db 0A1h	; ¡
		db  20h
		db 0F9h	; ù
		db  50h	; P
		db  31h	; 1
		db 0FFh
		db    7
		db  26h	; &
		db  8Ah	; Š
		db  15h
		db 0A1h	; ¡
		db  1Eh
		db 0F9h	; ù
		db  50h	; P
		db  31h	; 1
		db 0FFh
		db    7
		db  26h	; &
		db  88h	; ˆ
		db  15h
		db 0C9h	; É
		db 0CBh	; Ë
IRQ_Handler	db  60h	; `
		dd unk_41A6E
		db  8Eh	; Ž
		db 0D8h	; Ø
		db    6
		db 0B0h	; °
		db  20h
		db 0E6h	; æ
		db  20h
		db 0E6h	; æ
		db 0A0h	;  
		db 0FBh	; û
		db 0A0h	;  
		db 0A6h	; ¦
		db 0F5h	; õ
		db  3Ch	; <
		db    2
		db  75h	; u
		db    7
		db  9Ah	; š
		dd NextMonoBlock
		db 0EBh	; ë
		db  14h
		db  3Ch	; <
		db    3
		db  75h	; u
		db    7
		db  9Ah	; š
		dd NextStereoBlock
		db 0EBh	; ë
		db    9
		db  3Ch	; <
		db    4
		db  75h	; u
		db    5
		db  9Ah	; š
		dd NextStereoBlock16
		db    7
		db  1Fh
		db  61h	; a
		db 0CFh	; Ï
		db 0CBh	; Ë

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TestSBlaster	proc far		; CODE XREF: RegisterCard:loc_3389BP

var_1		= byte ptr -1

		enter	2, 0
		mov	ax, sBase
		add	ax, 6
		mov	dx, ax
		mov	al, 1
		out	dx, al
		push	32h ; '2'
		call	Delay
		mov	ax, sBase
		add	ax, 6
		mov	dx, ax
		mov	al, 0
		out	dx, al
		push	14h
		call	Delay
		xor	ax, ax
		mov	n__1, ax
		jmp	short loc_32725
; ---------------------------------------------------------------------------

loc_32721:				; CODE XREF: TestSBlaster+59j
		inc	n__1

loc_32725:				; CODE XREF: TestSBlaster+2Dj
		mov	ax, sBase
		add	ax, 0Eh
		mov	dx, ax
		in	al, dx
		and	al, 80h
		or	al, al
		jbe	short loc_32745
		mov	ax, sBase
		add	ax, 0Ah
		mov	dx, ax
		in	al, dx
		cmp	al, 0AAh ; 'ª'
		jnz	short loc_32745
		mov	[bp+var_1], 1

loc_32745:				; CODE XREF: TestSBlaster+40j
					; TestSBlaster+4Dj
		cmp	n__1, 0FFh
		jnz	short loc_32721
		push	0FFE1h
		call	WriteToDSP
		call	ReadDSP
		xor	ah, ah
		mov	sbDSPver, ax
		call	ReadDSP
		xor	ah, ah
		mov	dx, ax
		imul	ax, sbDSPver, 64h
		add	ax, dx
		mov	sbDSPver, ax
		cmp	sCard, 4
		jnz	short loc_32784
		cmp	sbDSPver, 190h
		jnb	short loc_32784
		mov	[bp+var_1], 0

loc_32784:				; CODE XREF: TestSBlaster+84j
					; TestSBlaster+8Cj
		mov	al, [bp+var_1]
		leave
		retf
TestSBlaster	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetDosPage	proc far		; CODE XREF: InitDMABuffers+3BP

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	0Ah, 0
		push	0
		push	2000h
		call	KERNEL_184
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		and	ax, 0FFFFh
		and	dx, 0
		mov	SFXDMASeg, ax
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_A], ax
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	cx, 4
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	[bp+var_8], ax
		mov	[bp+var_6], dx
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	SFXPage, ax
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		add	ax, 2000h
		adc	dx, 0
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, SFXPage
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_3281A
		cmp	ax, cx
		jz	short loc_32880

loc_3281A:				; CODE XREF: GetDosPage+8Bj
		push	0
		push	2000h
		call	KERNEL_184
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		and	ax, 0FFFFh
		and	dx, 0
		mov	SFXDMASeg, ax
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_A], ax
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	cx, 4
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	[bp+var_8], ax
		mov	[bp+var_6], dx
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	SFXPage, ax

loc_32880:				; CODE XREF: GetDosPage+8Fj
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		add	ax, 2000h
		adc	dx, 0
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	cx, ax
		mov	bx, dx
		mov	ax, SFXPage
		xor	dx, dx
		cmp	dx, bx
		jnz	short loc_328A7
		cmp	ax, cx
		jz	short loc_328AE

loc_328A7:				; CODE XREF: GetDosPage+118j
		xor	ax, ax
		call	far ptr	@Halt$q4Word ; Halt(exitcode: Word{AX})
; ---------------------------------------------------------------------------

loc_328AE:				; CODE XREF: GetDosPage+11Cj
		cmp	sCard, 4
		jnz	short loc_328D1
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		mov	cx, 1
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		and	ax, 0FFFFh
		and	dx, 0
		mov	SFXPageOfs, ax
		jmp	short loc_328E1
; ---------------------------------------------------------------------------

loc_328D1:				; CODE XREF: GetDosPage+12Aj
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		and	ax, 0FFFFh
		and	dx, 0
		mov	SFXPageOfs, ax

loc_328E1:				; CODE XREF: GetDosPage+146j
		xor	ax, ax
		mov	dx, SFXDMASeg
		mov	word ptr SFXDMABuf, ax
		mov	word ptr SFXDMABuf+2, dx
		xor	ax, ax
		mov	SFXBOfs, ax
		mov	di, offset SFXBuf
		push	ds
		push	di
		push	1000h
		call	GetMem16__0
		les	di, SFXBuf
		mov	ax, es
		mov	SFXBufSeg, ax
		cmp	sCard, 4
		jnz	short loc_3291A
		mov	di, [bp+arg_0]
		mov	byte ptr ss:[di+var_8+1], 0
		jmp	short loc_32922
; ---------------------------------------------------------------------------

loc_3291A:				; CODE XREF: GetDosPage+185j
		mov	di, [bp+arg_0]
		mov	byte ptr ss:[di+var_8+1], 80h ;	'€'

loc_32922:				; CODE XREF: GetDosPage+18Fj
		les	di, SFXDMABuf
		push	es
		push	di
		push	2000h
		mov	di, [bp+arg_0]
		mov	al, byte ptr ss:[di+var_8+1]
		push	ax
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		les	di, SFXBuf
		push	es
		push	di
		push	1000h
		mov	di, [bp+arg_0]
		mov	al, byte ptr ss:[di+var_8+1]
		push	ax
		call	@FillChar$qm3Any4Word4Byte ; FillChar(var x; count: Word; value: Byte)
		leave
		retf	2
GetDosPage	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitDMABuffers	proc far		; CODE XREF: InitSb+3P
		enter	8, 0
		mov	al, sCard
		cmp	al, 2
		jnz	short loc_3296B
		mov	SFXLen,	3FFh
		mov	TimeRate, 9Ch ;	'œ'
		jmp	short loc_3298C
; ---------------------------------------------------------------------------

loc_3296B:				; CODE XREF: InitDMABuffers+9j
		cmp	al, 3
		jnz	short loc_3297D
		mov	SFXLen,	7FFh
		mov	TimeRate, 0CFh ; 'Ï'
		jmp	short loc_3298C
; ---------------------------------------------------------------------------

loc_3297D:				; CODE XREF: InitDMABuffers+1Bj
		cmp	al, 4
		jnz	short loc_3298C
		mov	SFXLen,	7FFh
		xor	ax, ax
		mov	TimeRate, ax

loc_3298C:				; CODE XREF: InitDMABuffers+17j
					; InitDMABuffers+29j ...
		push	bp
		call	GetDosPage
		leave
		retf
InitDMABuffers	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitMixerChip	proc far		; CODE XREF: InitSb+FP
		push	bp
		mov	bp, sp
		push	22h ; '"'
		push	0FFFFh
		call	WriteMixer
		push	4
		push	0FFFFh
		call	WriteMixer
		cmp	sCard, 2
		jnz	short loc_329BB
		push	0Eh
		push	0
		call	WriteMixer
		jmp	short locret_329C4
; ---------------------------------------------------------------------------

loc_329BB:				; CODE XREF: InitMixerChip+1Aj
		push	0Eh
		push	2
		call	WriteMixer

locret_329C4:				; CODE XREF: InitMixerChip+25j
		leave
		retf
InitMixerChip	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitSb		proc far		; CODE XREF: InitSoundSystem:loc_33B80P
		push	bp
		mov	bp, sp
		call	InitDMABuffers
		cmp	sCard, 3
		jb	short loc_329DA
		call	InitMixerChip

loc_329DA:				; CODE XREF: InitSb+Dj
		cmp	sIRQ, 8
		jnb	short loc_329EE
		mov	al, sIRQ
		xor	ah, ah
		add	ax, 8
		mov	intN, al
		jmp	short loc_329FC
; ---------------------------------------------------------------------------

loc_329EE:				; CODE XREF: InitSb+19j
		mov	al, sIRQ
		xor	ah, ah
		add	ax, 70h	; 'p'
		sub	ax, 8
		mov	intN, al

loc_329FC:				; CODE XREF: InitSb+26j
		cli
		mov	al, intN
		push	ax
		mov	di, offset Old_IRQ
		push	ds
		push	di
		call	GetIntVec
		mov	al, intN
		push	ax
		mov	di, 0DECh
		mov	ax, seg	cseg09
		push	ax
		push	di
		call	SetIntVec
		call	EnableSFXIRQ
		sti
		cmp	sCard, 4
		jnz	short loc_32A30
		call	programDSP16bit
		jmp	short locret_32A35
; ---------------------------------------------------------------------------

loc_32A30:				; CODE XREF: InitSb+61j
		call	ProgramDSP8bit

locret_32A35:				; CODE XREF: InitSb+68j
		leave
		retf
InitSb		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DeInitSB	proc far		; CODE XREF: DeInitSoundSystem:loc_33BA9P
		push	bp
		mov	bp, sp
		mov	ax, Old_IRQ
		or	ax, word_45804
		jz	short loc_32A54
		mov	al, intN
		push	ax
		push	word_45804
		push	Old_IRQ
		call	SetIntVec

loc_32A54:				; CODE XREF: DeInitSB+Aj
		call	DisableSFXIRQ
		push	0FFD3h
		call	WriteToDSP
		mov	al, sDMA
		xor	ah, ah
		add	ax, 4
		out	0Ah, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		call	ResetDSP
		leave
		retf
DeInitSB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Addr_HIGH	proc far		; CODE XREF: UltraPrimeVoice+6FP
					; UltraPrimeVoice+8EP ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		mov	cx, 7
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		and	ax, 1FFFh
		and	dx, 0
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		leave
		retf	4
Addr_HIGH	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Addr_LOW	proc far		; CODE XREF: UltraPrimeVoice+50P
					; UltraPrimeVoice+ADP ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		and	ax, 7Fh
		and	dx, 0
		mov	cx, 9
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		leave
		retf	4
Addr_LOW	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GF1_Delay	proc far		; CODE XREF: UltraReset:loc_32BFFP
					; UltraReset:loc_32C1FP ...

var_3		= byte ptr -3
var_2		= word ptr -2

		enter	4, 0
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_32AC9
; ---------------------------------------------------------------------------

loc_32AC6:				; CODE XREF: GF1_Delay+1Ej
		inc	[bp+var_2]

loc_32AC9:				; CODE XREF: GF1_Delay+9j
		mov	ax, sBase
		add	ax, 107h
		mov	dx, ax
		in	al, dx
		mov	[bp+var_3], al
		cmp	[bp+var_2], 6
		jnz	short loc_32AC6
		leave
		retf
GF1_Delay	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GUSPeekData	proc far		; CODE XREF: TestGUS+31P TestGUS+43P

var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	2, 0
		mov	ax, [bp+arg_4]
		add	ax, 103h
		mov	dx, ax
		mov	al, 43h	; 'C'
		out	dx, al
		mov	ax, [bp+arg_4]
		add	ax, 104h
		mov	dx, ax
		mov	ax, [bp+arg_0]
		out	dx, ax
		mov	ax, [bp+arg_4]
		add	ax, 103h
		mov	dx, ax
		mov	al, 44h	; 'D'
		out	dx, al
		mov	ax, [bp+arg_4]
		add	ax, 105h
		push	ax
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		pop	dx
		out	dx, al
		mov	ax, [bp+arg_4]
		add	ax, 107h
		mov	dx, ax
		in	al, dx
		mov	[bp+var_1], al
		mov	al, [bp+var_1]
		leave
		retf	6
GUSPeekData	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GUSPokeData	proc far		; CODE XREF: TestGUS+13P TestGUS+23P

arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_6]
		add	ax, 103h
		mov	dx, ax
		mov	al, 43h	; 'C'
		out	dx, al
		mov	ax, [bp+arg_6]
		add	ax, 104h
		mov	dx, ax
		mov	ax, [bp+arg_2]
		out	dx, ax
		mov	ax, [bp+arg_6]
		add	ax, 103h
		mov	dx, ax
		mov	al, 44h	; 'D'
		out	dx, al
		mov	ax, [bp+arg_6]
		add	ax, 105h
		push	ax
		mov	ax, [bp+arg_2]
		mov	dx, [bp+arg_4]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		pop	dx
		out	dx, al
		mov	ax, [bp+arg_6]
		add	ax, 107h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		leave
		retf	8
GUSPokeData	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ClearGUSMemory	proc far		; CODE XREF: DeInitGUS+35P InitGUS+13P

var_2		= word ptr -2

		enter	2, 0
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 44h	; 'D'
		out	dx, al
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		mov	al, 0
		out	dx, al
		xor	ax, ax
		mov	[bp+var_2], ax
		jmp	short loc_32BA1
; ---------------------------------------------------------------------------

loc_32B9E:				; CODE XREF: ClearGUSMemory+4Aj
		inc	[bp+var_2]

loc_32BA1:				; CODE XREF: ClearGUSMemory+1Fj
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 43h	; 'C'
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		mov	dx, ax
		mov	ax, [bp+var_2]
		out	dx, ax
		mov	ax, sBase
		add	ax, 107h
		mov	dx, ax
		mov	al, 0
		out	dx, al
		cmp	[bp+var_2], 0FFFFh
		jnz	short loc_32B9E
		leave
		retf
ClearGUSMemory	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraReset	proc far		; CODE XREF: InitGUS+EP

var_9		= byte ptr -9
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	0Ah, 0
		mov	ax, sBase
		add	ax, 103h
		mov	[bp+var_4], ax
		mov	ax, sBase
		add	ax, 105h
		mov	[bp+var_8], ax
		mov	ax, sBase
		add	ax, 104h
		mov	[bp+var_6], ax
		mov	al, 4Ch	; 'L'
		mov	dx, [bp+var_4]
		out	dx, al
		mov	al, 0
		mov	dx, [bp+var_8]
		out	dx, al
		mov	[bp+var_2], 0
		jmp	short loc_32BFF
; ---------------------------------------------------------------------------

loc_32BFC:				; CODE XREF: UltraReset+3Dj
		inc	[bp+var_2]

loc_32BFF:				; CODE XREF: UltraReset+2Fj
		call	GF1_Delay
		cmp	[bp+var_2], 9
		jnz	short loc_32BFC
		mov	al, 4Ch	; 'L'
		mov	dx, [bp+var_4]
		out	dx, al
		mov	al, 1
		mov	dx, [bp+var_8]
		out	dx, al
		mov	[bp+var_2], 0
		jmp	short loc_32C1F
; ---------------------------------------------------------------------------

loc_32C1C:				; CODE XREF: UltraReset+5Dj
		inc	[bp+var_2]

loc_32C1F:				; CODE XREF: UltraReset+4Fj
		call	GF1_Delay
		cmp	[bp+var_2], 9
		jnz	short loc_32C1C
		mov	al, 0Eh
		mov	dx, [bp+var_4]
		out	dx, al
		mov	ax, GUSVoices
		dec	ax
		or	ax, 0C0h
		mov	dx, [bp+var_8]
		out	dx, al
		mov	ax, GUSVoices
		dec	ax
		mov	[bp+var_9], al
		mov	al, 0
		cmp	al, [bp+var_9]
		ja	short loc_32C82
		mov	[bp+var_2], al
		jmp	short loc_32C51
; ---------------------------------------------------------------------------

loc_32C4E:				; CODE XREF: UltraReset+B5j
		inc	[bp+var_2]

loc_32C51:				; CODE XREF: UltraReset+81j
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+var_2]
		out	dx, al
		mov	al, 0
		mov	dx, [bp+var_4]
		out	dx, al
		mov	al, 3
		mov	dx, [bp+var_8]
		out	dx, al
		mov	al, 0Dh
		mov	dx, [bp+var_4]
		out	dx, al
		mov	al, 3
		mov	dx, [bp+var_8]
		out	dx, al
		call	GF1_Delay
		mov	al, [bp+var_2]
		cmp	al, [bp+var_9]
		jnz	short loc_32C4E

loc_32C82:				; CODE XREF: UltraReset+7Cj
		mov	al, 4Ch	; 'L'
		mov	dx, [bp+var_4]
		out	dx, al
		mov	al, 7
		mov	dx, [bp+var_8]
		out	dx, al
		mov	al, [bp+var_1]
		leave
		retf
UltraReset	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraPrimeVoice	proc far		; CODE XREF: InitGUS+78P InitGUS+A0P ...

var_1		= byte ptr -1
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= byte ptr  10h

		enter	2, 0
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+arg_A]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 0Dh
		out	dx, al
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		call	GF1_Delay
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 0Bh
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		call	Addr_LOW
		pop	dx
		out	dx, ax
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 0Ah
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		call	Addr_HIGH
		pop	dx
		out	dx, ax
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 2
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		call	Addr_HIGH
		pop	dx
		out	dx, ax
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 3
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		call	Addr_LOW
		pop	dx
		out	dx, ax
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 4
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	Addr_HIGH
		pop	dx
		out	dx, ax
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 5
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	Addr_LOW
		pop	dx
		out	dx, ax
		mov	al, [bp+var_1]
		leave
		retf	0Ch
UltraPrimeVoice	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraSetVoiceEnd proc far		; CODE XREF: cseg09:1E19P cseg09:1E27P

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+arg_4]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 4
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	Addr_HIGH
		pop	dx
		out	dx, ax
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 5
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	Addr_LOW
		pop	dx
		out	dx, ax
		leave
		retf	6
UltraSetVoiceEnd endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraGoVoice	proc far		; CODE XREF: DeInitGUS+1EP
					; DeInitGUS+27P ...

arg_0		= byte ptr  6
arg_2		= byte ptr  8

		push	bp
		mov	bp, sp
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+arg_2]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 0
		out	dx, al
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		call	GF1_Delay
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		leave
		retf	4
UltraGoVoice	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraSetFrequency proc far		; CODE XREF: InitGUS+66P InitGUS+8DP ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		mov	ax, GUSVoices
		cwd
		mov	cx, ax
		mov	bx, dx
		mov	ax, 6BB8h
		mov	dx, 9
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		push	dx
		push	ax
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		mov	cx, 9
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		pop	cx
		pop	bx
		call	@$brdiv$q7Longintt1 ; X1{DX:AX}/=X2{BX:CX}
					; X2=X1%X2
		mov	[bp+arg_0], ax
		mov	[bp+arg_2], dx
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+arg_4]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 1
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		mov	cx, 1
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		pop	dx
		out	dx, ax
		leave
		retf	6
UltraSetFrequency endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraSetBalance	proc far		; CODE XREF: InitGUS+81P InitGUS+A9P ...

arg_0		= byte ptr  6
arg_2		= byte ptr  8

		push	bp
		mov	bp, sp
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+arg_2]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 0Ch
		out	dx, al
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		leave
		retf	4
UltraSetBalance	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraSetVolume	proc far		; CODE XREF: DeInitGUS+CP
					; DeInitGUS+15P ...

arg_0		= word ptr  6
arg_2		= byte ptr  8

		push	bp
		mov	bp, sp
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+arg_2]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 9
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		mov	dx, ax
		mov	ax, [bp+arg_0]
		out	dx, ax
		call	GF1_Delay
		mov	ax, sBase
		add	ax, 104h
		mov	dx, ax
		mov	ax, [bp+arg_0]
		out	dx, ax
		leave
		retf	4
UltraSetVolume	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraReadVoice	proc far		; CODE XREF: cseg09:1DB7P cseg09:1DF1P ...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6

		enter	6, 0
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 8Ah	; 'Š'
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		mov	dx, ax
		in	ax, dx
		mov	[bp+var_6], ax
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 8Bh	; '‹'
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		mov	dx, ax
		in	ax, dx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		shr	ax, 9
		and	ax, 7Fh
		mov	dx, ax
		mov	ax, [bp+var_6]
		and	ax, 1FFh
		shl	ax, 7
		or	ax, dx
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		leave
		retf	2
UltraReadVoice	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PrimeDMA	proc far		; CODE XREF: UltraDMADRAM_64K+10P

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	0Ch, 0
		mov	ax, [bp+arg_0]
		dec	ax
		imul	di, ax,	19h
		lea	ax, [di+2B8h]
		mov	dx, ds
		mov	word ptr [bp+var_4], ax
		mov	word ptr [bp+var_4+2], dx
		mov	ax, [bp+arg_4]
		xor	dx, dx
		add	ax, dma20bit
		adc	dx, word_45B90
		mov	[bp+var_8], ax
		mov	[bp+var_6], dx
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		and	ax, 0
		and	dx, 0FFFFh
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_A], ax
		cmp	[bp+arg_0], 4
		jb	short loc_32FAC
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		mov	cx, 1
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_8], ax
		mov	[bp+var_6], dx
		mov	ax, [bp+arg_2]
		shr	ax, 1
		mov	[bp+arg_2], ax

loc_32FAC:				; CODE XREF: PrimeDMA+48j
		mov	ax, [bp+var_8]
		mov	dx, [bp+var_6]
		and	ax, 0FFFFh
		and	dx, 0
		mov	[bp+var_C], ax
		les	di, [bp+var_4]
		mov	al, es:[di+4]
		les	di, [bp+var_4]
		mov	dx, es:[di+0Eh]
		out	dx, al
		les	di, [bp+var_4]
		mov	al, es:[di+14h]
		les	di, [bp+var_4]
		mov	dx, es:[di+10h]
		out	dx, al
		mov	al, 0
		les	di, [bp+var_4]
		mov	dx, es:[di+12h]
		out	dx, al
		mov	al, byte ptr [bp+var_C]
		les	di, [bp+var_4]
		mov	dx, es:[di+0Ah]
		out	dx, al
		mov	al, byte ptr [bp+var_C+1]
		les	di, [bp+var_4]
		mov	dx, es:[di+0Ah]
		out	dx, al
		mov	al, byte ptr [bp+var_A]
		les	di, [bp+var_4]
		mov	dx, es:[di+8]
		out	dx, al
		mov	al, 0
		les	di, [bp+var_4]
		mov	dx, es:[di+12h]
		out	dx, al
		mov	ax, [bp+arg_2]
		dec	ax
		les	di, [bp+var_4]
		mov	dx, es:[di+0Ch]
		out	dx, al
		mov	ax, [bp+arg_2]
		dec	ax
		mov	al, ah
		les	di, [bp+var_4]
		mov	dx, es:[di+0Ch]
		out	dx, al
		les	di, [bp+var_4]
		mov	al, es:[di+6]
		les	di, [bp+var_4]
		mov	dx, es:[di+0Eh]
		out	dx, al
		leave
		retf	6
PrimeDMA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraDMADRAM_64K proc far		; CODE XREF: SendBlock+2BP

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	8, 0
		push	[bp+arg_8]
		push	[bp+arg_6]
		mov	al, sDMA
		xor	ah, ah
		push	ax
		call	PrimeDMA
		cmp	sDMA, 4
		jb	short loc_33070
		mov	ax, [bp+arg_2]
		mov	dx, [bp+arg_4]
		mov	cx, 1
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		jmp	short loc_3307C
; ---------------------------------------------------------------------------

loc_33070:				; CODE XREF: UltraDMADRAM_64K+1Aj
		mov	ax, [bp+arg_2]
		mov	dx, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx

loc_3307C:				; CODE XREF: UltraDMADRAM_64K+32j
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 42h	; 'B'
		out	dx, al
		mov	ax, sBase
		add	ax, 104h
		push	ax
		mov	ax, [bp+var_4]
		mov	dx, [bp+var_2]
		mov	cx, 4
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		pop	dx
		out	dx, ax
		mov	al, [bp+arg_0]
		or	al, 1
		mov	[bp+arg_0], al
		cmp	sDMA, 4
		jb	short loc_330B7
		mov	al, [bp+arg_0]
		or	al, 4
		mov	[bp+arg_0], al

loc_330B7:				; CODE XREF: UltraDMADRAM_64K+71j
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 41h	; 'A'
		out	dx, al
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		mov	al, [bp+arg_0]
		out	dx, al
		leave
		retf	0Ah
UltraDMADRAM_64K endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UltraSetInterface proc far		; CODE XREF: InitGUS+4EP

var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	4, 0
		mov	di, [bp+arg_0]
		mov	al, [di+2A8h]
		mov	[bp+var_1], al
		cmp	[bp+arg_2], 0
		jz	short loc_330F4
		mov	ax, [bp+arg_2]
		dec	ax
		imul	di, ax,	19h
		mov	al, [di+2BAh]
		mov	DRAM_DMA, al

loc_330F4:				; CODE XREF: UltraSetInterface+12j
		mov	al, [bp+var_1]
		mov	[bp+var_2], al
		mov	al, DRAM_DMA
		mov	[bp+var_3], al
		mov	[bp+var_4], 0
		mov	ax, sBase
		add	ax, 0Fh
		mov	dx, ax
		mov	al, 5
		out	dx, al
		mov	ax, sBase
		add	ax, 0
		mov	dx, ax
		mov	al, [bp+var_4]
		out	dx, al
		mov	ax, sBase
		add	ax, 0Bh
		mov	dx, ax
		mov	al, 0
		out	dx, al
		mov	ax, sBase
		add	ax, 0Fh
		mov	dx, ax
		mov	al, 0
		out	dx, al
		mov	ax, sBase
		add	ax, 0
		mov	dx, ax
		mov	al, [bp+var_4]
		out	dx, al
		mov	ax, sBase
		add	ax, 0Bh
		mov	dx, ax
		mov	al, [bp+var_3]
		or	al, 80h
		out	dx, al
		mov	ax, sBase
		add	ax, 0
		mov	dx, ax
		mov	al, [bp+var_4]
		or	al, 40h
		out	dx, al
		mov	ax, sBase
		add	ax, 0Bh
		mov	dx, ax
		mov	al, [bp+var_2]
		out	dx, al
		mov	ax, sBase
		add	ax, 0
		mov	dx, ax
		mov	al, [bp+var_4]
		out	dx, al
		mov	ax, sBase
		add	ax, 0Bh
		mov	dx, ax
		mov	al, [bp+var_3]
		out	dx, al
		mov	ax, sBase
		add	ax, 0
		mov	dx, ax
		mov	al, [bp+var_4]
		or	al, 40h
		out	dx, al
		mov	ax, sBase
		add	ax, 0Bh
		mov	dx, ax
		mov	al, [bp+var_2]
		out	dx, al
		mov	ax, sBase
		add	ax, 102h
		mov	dx, ax
		mov	al, 0
		out	dx, al
		leave
		retf	4
UltraSetInterface endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DeInitGUS	proc far		; CODE XREF: DeInitSoundSystem+1DP
		push	bp
		mov	bp, sp
		call	DisableSFXIRQ
		push	0
		push	0
		call	UltraSetVolume
		push	1
		push	0
		call	UltraSetVolume
		push	0
		push	3
		call	UltraGoVoice
		push	1
		push	3
		call	UltraGoVoice
		push	7
		push	3
		call	UltraGoVoice
		call	ClearGUSMemory
		push	0
		push	0FFF0h
		call	UltraSetVolume
		push	1
		push	0FFF0h
		call	UltraSetVolume
		leave
		retf
DeInitGUS	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GUS_InitDMABuffers proc	far		; CODE XREF: InitGUS+9P

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah

		enter	0Eh, 0
		push	0
		push	1000h
		call	KERNEL_184
		mov	[bp+var_C], ax
		mov	[bp+var_A], dx
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_A]
		and	ax, 0FFFFh
		and	dx, 0
		mov	SFXDMASeg, ax
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_A]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	cx, 4
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	dma20bit, ax
		mov	word_45B90, dx
		mov	ax, dma20bit
		mov	dx, word_45B90
		add	ax, 1000h
		adc	dx, 0
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		push	dx
		push	ax
		mov	ax, dma20bit
		mov	dx, word_45B90
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		pop	cx
		pop	bx
		cmp	dx, bx
		jnz	short loc_3326D
		cmp	ax, cx
		jz	short loc_332AE

loc_3326D:				; CODE XREF: GUS_InitDMABuffers+73j
		push	0
		push	2000h
		call	KERNEL_184
		mov	[bp+var_C], ax
		mov	[bp+var_A], dx
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_A]
		and	ax, 0FFFFh
		and	dx, 0
		mov	SFXDMASeg, ax
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_A]
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		mov	cx, 4
		xor	bx, bx
		call	@$brlsh$q7Longint7Integer ; X1{DX:AX}<<=N{CX}
		mov	dma20bit, ax
		mov	word_45B90, dx

loc_332AE:				; CODE XREF: GUS_InitDMABuffers+77j
		mov	ax, dma20bit
		mov	dx, word_45B90
		add	ax, 1000h
		adc	dx, 0
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		push	dx
		push	ax
		mov	ax, dma20bit
		mov	dx, word_45B90
		mov	cx, 10h
		xor	bx, bx
		call	@$brrsh$q7Longint7Integer ; X1{DX:AX}>>=N{CX}
		pop	cx
		pop	bx
		cmp	dx, bx
		jnz	short loc_332E2
		cmp	ax, cx
		jz	short loc_332E9

loc_332E2:				; CODE XREF: GUS_InitDMABuffers+E8j
		xor	ax, ax
		call	far ptr	@Halt$q4Word ; Halt(exitcode: Word{AX})
; ---------------------------------------------------------------------------

loc_332E9:				; CODE XREF: GUS_InitDMABuffers+ECj
		xor	ax, ax
		mov	dx, SFXDMASeg
		mov	word ptr SFXDMABuf, ax
		mov	word ptr SFXDMABuf+2, dx
		mov	di, offset SFXBuf
		push	ds
		push	di
		push	1000h
		call	GetMem16__0
		les	di, SFXBuf
		mov	ax, es
		mov	SFXBufSeg, ax
		leave
		retf
GUS_InitDMABuffers endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

TestGUS		proc far		; CODE XREF: RegisterCard+47P

var_1		= byte ptr -1

		enter	2, 0
		mov	[bp+var_1], 1
		push	sBase
		push	0
		push	4200h
		push	11h
		call	GUSPokeData
		push	sBase
		push	0
		push	4201h
		push	22h ; '"'
		call	GUSPokeData
		push	sBase
		push	0
		push	4200h
		call	GUSPeekData
		cmp	al, 11h
		jnz	short loc_3335C
		push	sBase
		push	0
		push	4201h
		call	GUSPeekData
		cmp	al, 22h	; '"'
		jnz	short loc_3335C
		jmp	short loc_33360
; ---------------------------------------------------------------------------

loc_3335C:				; CODE XREF: TestGUS+38j TestGUS+4Aj
		mov	[bp+var_1], 0

loc_33360:				; CODE XREF: TestGUS+4Cj
		mov	al, [bp+var_1]
		leave
		retf
TestGUS		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GUS_MixNextBlock proc far		; CODE XREF: cseg09:1E47P

var_4		= dword	ptr -4

		enter	4, 0
		push	SFXBufSeg
		push	0
		push	800h
		push	0
		call	StosW__0
		call	ContinueAmbient
		xor	ax, ax
		mov	SFXC, ax
		jmp	short loc_33389
; ---------------------------------------------------------------------------

loc_33385:				; CODE XREF: GUS_MixNextBlock+2BBj
		inc	SFXC

loc_33389:				; CODE XREF: GUS_MixNextBlock+1Ej
		imul	di, SFXC, 0Eh
		add	di, 0F782h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		cmp	word ptr es:[di+6], 0FFh
		jnz	short loc_333A5
		jmp	loc_33619
; ---------------------------------------------------------------------------

loc_333A5:				; CODE XREF: GUS_MixNextBlock+3Bj
		cmp	word ptr es:[di+0Ah], 0
		jz	short loc_333B3
		cmp	word ptr es:[di+0Ch], 0
		jnz	short loc_333DA

loc_333B3:				; CODE XREF: GUS_MixNextBlock+45j
		les	di, [bp+var_4]
		assume es:nothing
		cmp	word ptr es:[di+4], 0
		jnz	short loc_333CB
		mov	_SFXRv,	50h ; 'P'
		mov	_SFXLv,	50h ; 'P'
		jmp	short loc_333D7
; ---------------------------------------------------------------------------

loc_333CB:				; CODE XREF: GUS_MixNextBlock+56j
		mov	_SFXRv,	50h ; 'P'
		mov	_SFXLv,	50h ; 'P'

loc_333D7:				; CODE XREF: GUS_MixNextBlock+64j
		jmp	loc_33516
; ---------------------------------------------------------------------------

loc_333DA:				; CODE XREF: GUS_MixNextBlock+4Cj
		mov	ax, Px
		les	di, [bp+var_4]
		sub	ax, es:[di+0Ah]
		mov	SFXSx, ax
		mov	ax, Py
		sub	ax, es:[di+0Ch]
		mov	SFXSy, ax
		mov	ax, SFXSy
		mov	bx, PCos
		imul	bx
		mov	bx, 1000h
		idiv	bx
		mov	SFXSry,	ax
		mov	ax, SFXSx
		mov	bx, PSin
		imul	bx
		mov	bx, 1000h
		idiv	bx
		add	SFXSry,	ax
		mov	ax, SFXSx
		mov	bx, PCos
		imul	bx
		mov	bx, 1000h
		idiv	bx
		mov	SFXSrx,	ax
		mov	ax, SFXSy
		mov	bx, PSin
		imul	bx
		mov	bx, 1000h
		idiv	bx
		sub	SFXSrx,	ax
		cmp	SFXSry,	0
		jge	short loc_33446
		mov	ax, SFXSry
		shl	ax, 1
		mov	SFXSry,	ax

loc_33446:				; CODE XREF: GUS_MixNextBlock+D7j
		mov	ax, SFXSry
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	SFXSry,	ax
		cmp	SFXSry,	0Eh
		jge	short loc_3345E
		mov	SFXSry,	0Eh

loc_3345E:				; CODE XREF: GUS_MixNextBlock+F1j
		mov	ax, SFXSrx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	SFXSrxA, ax
		mov	ax, SFXSry
		cmp	ax, SFXSrxA
		jle	short loc_33488
		mov	ax, SFXSrxA
		mov	bx, 0A0h ; ' '
		mul	bx
		mov	bx, SFXSry
		div	bx
		add	ax, 240h
		mov	SFXRvW,	ax
		jmp	short loc_3349E
; ---------------------------------------------------------------------------

loc_33488:				; CODE XREF: GUS_MixNextBlock+10Bj
		mov	ax, SFXSry
		mov	bx, 0A0h ; ' '
		mul	bx
		mov	bx, SFXSrxA
		div	bx
		neg	ax
		add	ax, 380h
		mov	SFXRvW,	ax

loc_3349E:				; CODE XREF: GUS_MixNextBlock+121j
		mov	ax, 480h
		sub	ax, SFXRvW
		mov	SFXLvW,	ax
		mov	ax, SFXSry
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, SFXSrx
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		shr	ax, 6
		mov	SFXLn, ax
		cmp	SFXLn, 0Ch
		jnb	short loc_334D1
		mov	SFXLn, 8
		jmp	short loc_334DD
; ---------------------------------------------------------------------------

loc_334D1:				; CODE XREF: GUS_MixNextBlock+162j
		mov	ax, SFXLn
		sub	ax, 0Ch
		add	ax, 8
		mov	SFXLn, ax

loc_334DD:				; CODE XREF: GUS_MixNextBlock+16Aj
		cmp	SFXSrx,	0
		jle	short loc_334FE
		mov	ax, SFXRvW
		xor	dx, dx
		div	SFXLn
		mov	_SFXRv,	ax
		mov	ax, SFXLvW
		xor	dx, dx
		div	SFXLn
		mov	_SFXLv,	ax
		jmp	short loc_33516
; ---------------------------------------------------------------------------

loc_334FE:				; CODE XREF: GUS_MixNextBlock+17Dj
		mov	ax, SFXLvW
		xor	dx, dx
		div	SFXLn
		mov	_SFXRv,	ax
		mov	ax, SFXRvW
		xor	dx, dx
		div	SFXLn
		mov	_SFXLv,	ax

loc_33516:				; CODE XREF: GUS_MixNextBlock:loc_333D7j
					; GUS_MixNextBlock+197j
		les	di, [bp+var_4]
		les	di, es:[di]
		mov	ax, es
		mov	VcSeg, ax
		les	di, [bp+var_4]
		mov	ax, es:[di+6]
		mov	_CurBlock, ax
		cmp	Reverse, 0
		jz	short loc_33542
		push	_SFXLv
		push	_SFXRv
		pop	_SFXLv
		pop	_SFXRv

loc_33542:				; CODE XREF: GUS_MixNextBlock+1CBj
		les	di, [bp+var_4]
		mov	ax, es:[di+8]
		mul	_SFXRv
		xor	dx, dx
		mov	cx, 50h	; 'P'
		div	cx
		mov	_SFXRv,	ax
		cmp	_SFXRv,	7Fh ; ''
		jbe	short loc_33564
		mov	_SFXRv,	7Fh ; ''

loc_33564:				; CODE XREF: GUS_MixNextBlock+1F7j
		les	di, [bp+var_4]
		mov	ax, es:[di+8]
		mul	_SFXLv
		xor	dx, dx
		mov	cx, 50h	; 'P'
		div	cx
		mov	_SFXLv,	ax
		cmp	_SFXLv,	7Fh ; ''
		jbe	short loc_33586
		mov	_SFXLv,	7Fh ; ''

loc_33586:				; CODE XREF: GUS_MixNextBlock+219j
		mov	ax, SFXBufSeg
		mov	es, ax
		push	ds
		mov	cx, 400h
		xor	di, di
		mov	bx, _SFXLv
		mov	si, _CurBlock
		shl	si, 0Ah
		mov	ax, VcSeg
		mov	ds, ax

loc_335A1:				; CODE XREF: GUS_MixNextBlock+252j
		mov	al, [si]
		imul	bl
		add	es:[di], ax
		jno	short loc_335B3
		shr	ax, 0Fh
		add	ax, 7FFFh
		mov	es:[di], ax

loc_335B3:				; CODE XREF: GUS_MixNextBlock+243j
		add	di, 2
		inc	si
		loop	loc_335A1
		pop	ds
		push	ds
		mov	cx, 400h
		mov	di, 800h
		mov	bx, _SFXRv
		mov	si, _CurBlock
		shl	si, 0Ah
		mov	ax, VcSeg
		mov	ds, ax

loc_335D1:				; CODE XREF: GUS_MixNextBlock+282j
		mov	al, [si]
		imul	bl
		add	es:[di], ax
		jno	short loc_335E3
		shr	ax, 0Fh
		add	ax, 7FFFh
		mov	es:[di], ax

loc_335E3:				; CODE XREF: GUS_MixNextBlock+273j
		add	di, 2
		inc	si
		loop	loc_335D1
		pop	ds
		les	di, [bp+var_4]
		inc	word ptr es:[di+6]
		mov	ax, es:[di+6]
		cmp	ax, es:[di+4]
		jb	short loc_33619
		cmp	SFXC, 0
		jnz	short loc_3360A
		mov	word ptr es:[di+6], 0FFh
		jmp	short loc_33619
; ---------------------------------------------------------------------------

loc_3360A:				; CODE XREF: GUS_MixNextBlock+29Bj
		les	di, [bp+var_4]
		mov	word ptr es:[di+6], 0FFh
		xor	ax, ax
		mov	es:[di+4], ax

loc_33619:				; CODE XREF: GUS_MixNextBlock+3Dj
					; GUS_MixNextBlock+294j ...
		cmp	SFXC, 0Fh
		jz	short loc_33623
		jmp	loc_33385
; ---------------------------------------------------------------------------

loc_33623:				; CODE XREF: GUS_MixNextBlock+2B9j
		push	SFXBufSeg
		push	0
		push	SFXDMASeg
		push	0
		push	800h
		call	movsw__0
		leave
		retf
GUS_MixNextBlock endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SendBlock	proc far		; CODE XREF: cseg09:1DD9P cseg09:1E55P

arg_2		= byte ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 41h	; 'A'
		out	dx, al
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		in	al, dx
		mov	DSPP, al
		push	[bp+arg_4]
		push	800h
		mov	ax, [bp+arg_6]
		xor	dx, dx
		push	dx
		push	ax
		mov	al, [bp+arg_2]
		push	ax
		call	UltraDMADRAM_64K
		leave
		retf	8
SendBlock	endp

; ---------------------------------------------------------------------------

GUS_StartNext:				; DATA XREF: cseg09:1E6Co
		push	bp
		mov	bp, sp
		mov	ax, sBase
		add	ax, 6
		mov	dx, ax
		in	al, dx		; DMA controller, 8237A-5.
					; channel 3 current address
		mov	DSPP, al
		mov	al, DSPP
		and	al, 80h
		or	al, al
		jz	short loc_336FE
		push	0
		call	UltraReadVoice
		mov	GUSVPos, ax
		cmp	GUSVPos, 400h
		jbe	short loc_3369C
		xor	ax, ax
		mov	SFXBOfs, ax

loc_3369C:				; CODE XREF: cseg09:1DC5j
		mov	ax, SFXBOfs
		add	ax, 1000h
		push	ax
		push	800h
		push	0
		push	bp
		call	SendBlock
		mov	ax, 800h
		sub	ax, SFXBOfs
		mov	SFXBOfs, ax
		cmp	SFXBOfs, 0
		jnz	short loc_336FC
		push	1
		call	UltraReadVoice
		and	ax, 3FFh
		push	ax
		push	0
		call	UltraReadVoice
		and	ax, 3FFh
		pop	dx
		add	ax, dx
		mov	GUSVPos, ax
		cmp	GUSVPos, 400h
		jbe	short loc_336F0
		push	7
		push	0
		push	43FEh
		call	UltraSetVoiceEnd
		jmp	short loc_336FC
; ---------------------------------------------------------------------------

loc_336F0:				; CODE XREF: cseg09:1E10j
		push	7
		push	0
		push	4402h
		call	UltraSetVoiceEnd

loc_336FC:				; CODE XREF: cseg09:1DEDj cseg09:1E1Ej
		jmp	short locret_3372A
; ---------------------------------------------------------------------------

loc_336FE:				; CODE XREF: cseg09:1DB3j
		mov	ax, sBase
		add	ax, 103h
		mov	dx, ax
		mov	al, 8Fh	; ''
		out	dx, al
		mov	ax, sBase
		add	ax, 105h
		mov	dx, ax
		in	al, dx
		and	al, 1Fh
		mov	DSPP, al
		call	GUS_MixNextBlock
		push	SFXBOfs
		push	0
		push	20h ; ' '
		push	bp
		call	SendBlock

locret_3372A:				; CODE XREF: cseg09:loc_336FCj
		leave
		retf
; ---------------------------------------------------------------------------
GUS_IRQ_Handler	db  60h	; `
		dd unk_41A6E
		db  8Eh	; Ž
		db 0D8h	; Ø
		db    6
		db 0B0h	; °
		db  20h
		db 0E6h	; æ
		db  20h
		db 0E6h	; æ
		db 0A0h	;  
		db 0FBh	; û
		db  9Ah	; š
		dd GUS_StartNext
		db    7
		db  1Fh
		db  61h	; a
		db 0CFh	; Ï
		db 0CBh	; Ë

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitGUS		proc far		; CODE XREF: InitSoundSystem+97P

var_4		= word ptr -4

		enter	4, 0
		mov	MaxVoice, 0Fh
		call	GUS_InitDMABuffers
		call	UltraReset
		call	ClearGUSMemory
		mov	al, sIRQ
		xor	ah, ah
		mov	[bp+var_4], ax
		cmp	sIRQ, 7
		jbe	short loc_33772
		add	[bp+var_4], 68h	; 'h'
		jmp	short loc_33776
; ---------------------------------------------------------------------------

loc_33772:				; CODE XREF: InitGUS+25j
		add	[bp+var_4], 8

loc_33776:				; CODE XREF: InitGUS+2Bj
		mov	al, byte ptr [bp+var_4]
		push	ax
		mov	di, 1E5Ch
		mov	ax, seg	cseg09
		push	ax
		push	di
		call	SetIntVec
		mov	al, sDMA
		xor	ah, ah
		push	ax
		mov	al, sIRQ
		xor	ah, ah
		push	ax
		call	UltraSetInterface
		call	EnableSFXIRQ
		mov	al, 8
		mov	dx, sBase
		out	dx, al
		push	0
		push	0
		push	2B11h
		call	UltraSetFrequency
		push	0
		push	0
		push	0
		push	0
		push	7FFh
		push	0
		call	UltraPrimeVoice
		push	0
		push	0
		call	UltraSetBalance
		push	1
		push	0
		push	2B11h
		call	UltraSetFrequency
		push	1
		push	0
		push	800h
		push	0
		push	0FFFh
		push	0
		call	UltraPrimeVoice
		push	1
		push	0Fh
		call	UltraSetBalance
		push	7
		push	0
		push	2B11h
		call	UltraSetFrequency
		push	7
		push	0
		push	4000h
		push	0
		push	4400h
		push	0
		call	UltraPrimeVoice
		push	7
		push	7
		call	UltraSetBalance
		push	64h ; 'd'
		call	Delay
		push	0
		push	0FFF0h
		call	UltraSetVolume
		push	1
		push	0FFF0h
		call	UltraSetVolume
		push	7
		push	0
		call	UltraSetVolume
		push	0
		push	0Ch
		call	UltraGoVoice
		push	1
		push	0Ch
		call	UltraGoVoice
		push	1A4h
		call	Delay
		push	7
		push	28h ; '('
		call	UltraGoVoice
		leave
		retf
InitGUS		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RegisterCard	proc far		; CODE XREF: PROGRAM+73AP

var_1		= byte ptr -1
arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= word ptr  0Ah
arg_6		= byte ptr  0Ch

		enter	2, 0
		mov	al, [bp+arg_6]
		mov	sCard, al
		mov	ax, [bp+arg_4]
		mov	sBase, ax
		mov	al, [bp+arg_2]
		mov	sIRQ, al
		mov	al, [bp+arg_0]
		mov	sDMA, al
		mov	al, sCard
		cmp	al, 0
		jz	short loc_33889
		cmp	al, 1
		jnz	short loc_3388F

loc_33889:				; CODE XREF: RegisterCard+21j
		mov	[bp+var_1], 1
		jmp	short loc_338B7
; ---------------------------------------------------------------------------

loc_3388F:				; CODE XREF: RegisterCard+25j
		cmp	al, 2
		jz	short loc_3389B
		cmp	al, 3
		jz	short loc_3389B
		cmp	al, 4
		jnz	short loc_338A5

loc_3389B:				; CODE XREF: RegisterCard+2Fj
					; RegisterCard+33j
		call	TestSBlaster
		mov	[bp+var_1], al
		jmp	short loc_338B7
; ---------------------------------------------------------------------------

loc_338A5:				; CODE XREF: RegisterCard+37j
		cmp	al, 5
		jnz	short loc_338B3
		call	TestGUS
		mov	[bp+var_1], al
		jmp	short loc_338B7
; ---------------------------------------------------------------------------

loc_338B3:				; CODE XREF: RegisterCard+45j
		mov	[bp+var_1], 0

loc_338B7:				; CODE XREF: RegisterCard+2Bj
					; RegisterCard+41j ...
		mov	al, [bp+var_1]
		leave
		retf	8
RegisterCard	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetVolumes	proc far		; CODE XREF: LoadConfig+2C0P
					; ProcessMenu+26CP ...

var_2		= word ptr -2

		enter	2, 0
		mov	al, sCard
		cmp	al, 3
		jz	short loc_338CD
		cmp	al, 4
		jnz	short loc_338EF

loc_338CD:				; CODE XREF: SetVolumes+9j
		push	4
		mov	al, FXVolume
		xor	ah, ah
		imul	ax, 11h
		push	ax
		call	WriteMixer
		push	28h ; '('
		mov	al, CDVolume
		xor	ah, ah
		imul	ax, 11h
		push	ax
		call	WriteMixer
		jmp	short locret_33916
; ---------------------------------------------------------------------------

loc_338EF:				; CODE XREF: SetVolumes+Dj
		cmp	al, 5
		jnz	short locret_33916
		mov	al, FXVolume
		xor	ah, ah
		imul	ax, 665h
		add	ax, 0A000h
		mov	[bp+var_2], ax
		push	0
		push	[bp+var_2]
		call	UltraSetVolume
		push	1
		push	[bp+var_2]
		call	UltraSetVolume

locret_33916:				; CODE XREF: SetVolumes+2Fj
					; SetVolumes+33j
		leave
		retf
SetVolumes	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

UpDatePlayerPos	proc far		; CODE XREF: DoGame+9DAP
					; PlayBrifing+224P

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	2, 0
		mov	ax, [bp+arg_6]
		mov	Px, ax
		mov	ax, [bp+arg_4]
		mov	Py, ax
		mov	ax, [bp+arg_0]
		mov	PSin, ax
		mov	ax, [bp+arg_2]
		mov	PCos, ax
		mov	ActiveVoices, 0
		mov	al, MaxVoice
		xor	ah, ah
		mov	[bp+var_2], ax
		xor	ax, ax
		cmp	ax, [bp+var_2]
		jg	short loc_3396A
		mov	n__1, ax
		jmp	short loc_33951
; ---------------------------------------------------------------------------

loc_3394D:				; CODE XREF: UpDatePlayerPos+50j
		inc	n__1

loc_33951:				; CODE XREF: UpDatePlayerPos+33j
		imul	di, n__1, 0Eh
		cmp	word ptr [di-878h], 0FFh
		jz	short loc_33962
		inc	ActiveVoices

loc_33962:				; CODE XREF: UpDatePlayerPos+44j
		mov	ax, n__1
		cmp	ax, [bp+var_2]
		jnz	short loc_3394D

loc_3396A:				; CODE XREF: UpDatePlayerPos+2Ej
		mov	ObjAmb,	0FFFFh
		leave
		retf	8
UpDatePlayerPos	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

SetAmbient	proc far		; CODE XREF: StopSound+6P DoGame+1971P ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		cmp	ax, CurAmbient
		jnz	short loc_33982
		jmp	short locret_339C0
; ---------------------------------------------------------------------------

loc_33982:				; CODE XREF: SetAmbient+Aj
		cmp	[bp+arg_0], 0FFFFh
		jnz	short loc_339A0
		mov	CurAmbient, 0FFFFh
		mov	PreAmbient, 0FFFFh
		mov	CAmbVol, 0
		mov	PAmbVol, 0
		jmp	short locret_339C0
; ---------------------------------------------------------------------------

loc_339A0:				; CODE XREF: SetAmbient+12j
		mov	al, CAmbVol
		cmp	al, PAmbVol
		jbe	short loc_339B5
		mov	ax, CurAmbient
		mov	PreAmbient, ax
		mov	al, CAmbVol
		mov	PAmbVol, al

loc_339B5:				; CODE XREF: SetAmbient+33j
		mov	CAmbVol, 6
		mov	ax, [bp+arg_0]
		mov	CurAmbient, ax

locret_339C0:				; CODE XREF: SetAmbient+Cj
					; SetAmbient+2Aj
		leave
		retf	2
SetAmbient	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

AddVoice	proc far		; CODE XREF: LoadServerPatch+23AP
					; LeftRight+31P ...

var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	12h, 0
		cmp	DisableALL, 0
		jz	short loc_339D2
		jmp	locret_33AF0
; ---------------------------------------------------------------------------

loc_339D2:				; CODE XREF: AddVoice+9j
		cmp	[bp+arg_0], 0
		jl	short loc_339DF
		cmp	[bp+arg_0], 12Bh
		jle	short loc_339F6

loc_339DF:				; CODE XREF: AddVoice+12j
		push	3E8h
		call	Sound
		push	64h ; 'd'
		call	Delay
		call	NoSound
		jmp	locret_33AF0
; ---------------------------------------------------------------------------

loc_339F6:				; CODE XREF: AddVoice+19j
		cmp	sCard, 1
		ja	short loc_33A00
		jmp	locret_33AF0
; ---------------------------------------------------------------------------

loc_33A00:				; CODE XREF: AddVoice+37j
		mov	ax, [bp+arg_0]
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	ax, es:[di]
		or	ax, es:[di+2]
		jnz	short loc_33A18
		jmp	locret_33AF0
; ---------------------------------------------------------------------------

loc_33A18:				; CODE XREF: AddVoice+4Fj
		cmp	[bp+arg_4], 0
		jz	short loc_33A42
		mov	ax, [bp+arg_2]
		sub	ax, Py
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax
		mov	ax, [bp+arg_4]
		sub	ax, Px
		cwd
		xor	ax, dx
		sub	ax, dx
		add	ax, cx
		cmp	ax, 1770h
		jle	short loc_33A42
		jmp	locret_33AF0
; ---------------------------------------------------------------------------

loc_33A42:				; CODE XREF: AddVoice+58j AddVoice+79j
		mov	al, MaxVoice
		xor	ah, ah
		dec	ax
		dec	ax
		mov	[bp+var_E], ax

loc_33A4C:				; CODE XREF: AddVoice:loc_33A6Fj
		cmp	[bp+arg_6], 0FFFFh
		jnz	short loc_33A71
		cmp	[bp+var_E], 0
		jl	short loc_33A71
		imul	di, [bp+var_E],	0Eh
		cmp	word ptr [di-878h], 0FFh
		jnz	short loc_33A6C
		mov	ax, [bp+var_E]
		mov	[bp+arg_6], ax
		jmp	short loc_33A6F
; ---------------------------------------------------------------------------

loc_33A6C:				; CODE XREF: AddVoice+9Ej
		dec	[bp+var_E]

loc_33A6F:				; CODE XREF: AddVoice+A6j
		jmp	short loc_33A4C
; ---------------------------------------------------------------------------

loc_33A71:				; CODE XREF: AddVoice+8Cj AddVoice+92j
		cmp	[bp+arg_6], 0FFFFh
		jnz	short loc_33A79
		jmp	short locret_33AF0
; ---------------------------------------------------------------------------

loc_33A79:				; CODE XREF: AddVoice+B1j
		cli
		imul	di, [bp+arg_6],	0Eh
		add	di, 0F782h
		push	ds
		pop	es
		assume es:dseg11
		mov	word ptr [bp+var_12], di
		mov	word ptr [bp+var_12+2],	es
		mov	word ptr es:[di+6], 0FFh
		mov	ax, [bp+arg_0]
		shl	ax, 3
		les	di, Voices
		assume es:nothing
		add	di, ax
		mov	ax, es:[di+4]
		les	di, [bp+var_12]
		mov	es:[di+4], ax
		mov	ax, [bp+arg_0]
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	ax, es:[di]
		mov	dx, es:[di+2]
		les	di, [bp+var_12]
		mov	es:[di], ax
		mov	es:[di+2], dx
		mov	ax, [bp+arg_0]
		shl	ax, 3
		les	di, Voices
		add	di, ax
		mov	ax, es:[di+6]
		les	di, [bp+var_12]
		mov	es:[di+8], ax
		mov	ax, [bp+arg_4]
		mov	es:[di+0Ah], ax
		mov	ax, [bp+arg_2]
		mov	es:[di+0Ch], ax
		xor	ax, ax
		mov	es:[di+6], ax
		sti

locret_33AF0:				; CODE XREF: AddVoice+Bj AddVoice+2Fj	...
		leave
		retf	8
AddVoice	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitSoundSystem	proc far		; CODE XREF: PROGRAM+CD7P

var_4		= dword	ptr -4

		enter	4, 0
		cmp	sCard, 2
		jb	short loc_33B71
		les	di, Voices
		add	di, 910h
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		push	400h
		call	@GetMem$q4Word	; GetMem(var p:	Pointer{DX:AX};	size: Word)
		les	di, [bp+var_4]
		mov	es:[di], ax
		mov	es:[di+2], dx
		mov	word ptr es:[di+4], 1
		les	di, Voices
		add	di, 918h
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		push	400h
		call	@GetMem$q4Word	; GetMem(var p:	Pointer{DX:AX};	size: Word)
		les	di, [bp+var_4]
		mov	es:[di], ax
		mov	es:[di+2], dx
		mov	word ptr es:[di+4], 1
		les	di, Voices
		add	di, 920h
		mov	word ptr [bp+var_4], di
		mov	word ptr [bp+var_4+2], es
		push	400h
		call	@GetMem$q4Word	; GetMem(var p:	Pointer{DX:AX};	size: Word)
		les	di, [bp+var_4]
		mov	es:[di], ax
		mov	es:[di+2], dx
		mov	word ptr es:[di+4], 1

loc_33B71:				; CODE XREF: InitSoundSystem+9j
		mov	al, sCard
		cmp	al, 2
		jz	short loc_33B80
		cmp	al, 3
		jz	short loc_33B80
		cmp	al, 4
		jnz	short loc_33B87

loc_33B80:				; CODE XREF: InitSoundSystem+82j
					; InitSoundSystem+86j
		call	InitSb
		jmp	short loc_33B90
; ---------------------------------------------------------------------------

loc_33B87:				; CODE XREF: InitSoundSystem+8Aj
		cmp	al, 5
		jnz	short loc_33B90
		call	InitGUS

loc_33B90:				; CODE XREF: InitSoundSystem+91j
					; InitSoundSystem+95j
		call	SetVolumes
		leave
		retf
InitSoundSystem	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DeInitSoundSystem proc far		; CODE XREF: DoHalt:loc_2C8DBP
		push	bp
		mov	bp, sp
		mov	al, sCard
		cmp	al, 2
		jz	short loc_33BA9
		cmp	al, 3
		jz	short loc_33BA9
		cmp	al, 4
		jnz	short loc_33BB0

loc_33BA9:				; CODE XREF: DeInitSoundSystem+8j
					; DeInitSoundSystem+Cj
		call	DeInitSB
		jmp	short locret_33BB9
; ---------------------------------------------------------------------------

loc_33BB0:				; CODE XREF: DeInitSoundSystem+10j
		cmp	al, 5
		jnz	short locret_33BB9
		call	DeInitGUS

locret_33BB9:				; CODE XREF: DeInitSoundSystem+17j
					; DeInitSoundSystem+1Bj
		leave
		retf
DeInitSoundSystem endp

; ---------------------------------------------------------------------------
asc_33BBB	db 1,' '                ; DATA XREF: GetData+7Eo
asc_33BBD	db 1,'$'                ; DATA XREF: GetData+9Do

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetData		proc far		; CODE XREF: DetectBlaster+38P
					; DetectBlaster+4BP ...

var_406		= byte ptr -406h
var_306		= byte ptr -306h
var_206		= word ptr -206h
var_204		= word ptr -204h
var_202		= byte ptr -202h
var_102		= byte ptr -102h
var_2		= word ptr -2
arg_2		= byte ptr  8
arg_4		= byte ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	406h, 0
		mov	bx, ss
		mov	es, bx
		mov	bx, ds
		cld
		lea	di, [bp+var_102]
		lds	si, [bp+arg_6]
		lodsb
		stosb
		xchg	ax, cx
		xor	ch, ch
		rep movsb
		mov	ds, bx
		lea	di, [bp+var_102]
		push	ss
		push	di
		lea	di, [bp+var_202]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_306]
		push	ss
		push	di
		mov	al, [bp+arg_4]
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		lea	di, [bp+var_202]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		or	ax, ax
		jnz	short loc_33C0F
		jmp	loc_33C9D
; ---------------------------------------------------------------------------

loc_33C0F:				; CODE XREF: GetData+4Bj
		lea	di, [bp+var_202]
		push	ss
		push	di
		push	1
		lea	di, [bp+var_406]
		push	ss
		push	di
		mov	al, [bp+arg_4]
		push	ax
		call	@$basg$qm6String4Char ;	Str:=Char
		lea	di, [bp+var_202]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		push	ax
		call	@Delete$qm6String7Integert2 ; Delete(var s: String; index: Integer; count: Integer)
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset asc_33BBB ; " "
		push	cs
		push	di
		lea	di, [bp+var_202]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		push	ax
		push	0FFh
		call	@Delete$qm6String7Integert2 ; Delete(var s: String; index: Integer; count: Integer)
		cmp	[bp+arg_2], 0
		jz	short loc_33C71
		mov	di, offset asc_33BBD ; "$"
		push	cs
		push	di
		lea	di, [bp+var_202]
		push	ss
		push	di
		push	0FFh
		push	1
		call	@Insert$qm6Stringt14Word7Integer ; Insert(source,dst: String;{dstlen: Word} index: Integer)

loc_33C71:				; CODE XREF: GetData+9Bj
		lea	di, [bp+var_202]
		push	ss
		push	di
		lea	di, [bp+var_206]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_204], ax
		cmp	[bp+var_206], 0
		jnz	short loc_33C96
		mov	ax, [bp+var_204]
		mov	[bp+var_2], ax
		jmp	short loc_33C9B
; ---------------------------------------------------------------------------

loc_33C96:				; CODE XREF: GetData+CCj
		mov	[bp+var_2], 0FFh

loc_33C9B:				; CODE XREF: GetData+D5j
		jmp	short loc_33CA2
; ---------------------------------------------------------------------------

loc_33C9D:				; CODE XREF: GetData+4Dj
		mov	[bp+var_2], 0FFh

loc_33CA2:				; CODE XREF: GetData:loc_33C9Bj
		mov	ax, [bp+var_2]
		leave
		retf	0Ah
GetData		endp

; ---------------------------------------------------------------------------
aBlaster	db 7,'BLASTER'          ; DATA XREF: DetectBlaster+10o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DetectBlaster	proc far		; CODE XREF: DetectSound+CP

var_302		= byte ptr -302h
var_202		= byte ptr -202h
var_102		= word ptr -102h
var_100		= byte ptr -100h

		enter	302h, 0
		lea	di, [bp+var_302]
		push	ss
		push	di
		lea	di, [bp+var_202]
		push	ss
		push	di
		mov	di, offset aBlaster ; "BLASTER"
		push	cs
		push	di
		call	GetEnv
		call	StUpcase
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	41h ; 'A'
		push	1
		push	bp
		call	GetData
		mov	sBase, ax
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	49h ; 'I'
		push	0
		push	bp
		call	GetData
		mov	sIRQ, al
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	44h ; 'D'
		push	0
		push	bp
		call	GetData
		mov	sDMA, al
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	48h ; 'H'
		push	0
		push	bp
		call	GetData
		mov	[bp+var_102], ax
		lea	di, [bp+var_100]
		push	ss
		push	di
		push	54h ; 'T'
		push	0
		push	bp
		call	GetData
		mov	sCard, al
		mov	al, sCard
		cmp	al, 0FFh
		jnz	short loc_33D4C
		mov	sCard, 2
		jmp	short loc_33D7E
; ---------------------------------------------------------------------------

loc_33D4C:				; CODE XREF: DetectBlaster+92j
		cmp	al, 1
		jz	short loc_33D54
		cmp	al, 2
		jnz	short loc_33D5B

loc_33D54:				; CODE XREF: DetectBlaster+9Dj
		mov	sCard, 2
		jmp	short loc_33D7E
; ---------------------------------------------------------------------------

loc_33D5B:				; CODE XREF: DetectBlaster+A1j
		cmp	al, 3
		jz	short loc_33D63
		cmp	al, 4
		jnz	short loc_33D6A

loc_33D63:				; CODE XREF: DetectBlaster+ACj
		mov	sCard, 3
		jmp	short loc_33D7E
; ---------------------------------------------------------------------------

loc_33D6A:				; CODE XREF: DetectBlaster+B0j
		cmp	al, 5
		jb	short loc_33D79
		cmp	al, 9
		ja	short loc_33D79
		mov	sCard, 4
		jmp	short loc_33D7E
; ---------------------------------------------------------------------------

loc_33D79:				; CODE XREF: DetectBlaster+BBj
					; DetectBlaster+BFj
		mov	sCard, 0

loc_33D7E:				; CODE XREF: DetectBlaster+99j
					; DetectBlaster+A8j ...
		cmp	[bp+var_100], 0
		jnz	short loc_33D8A
		mov	sCard, 0

loc_33D8A:				; CODE XREF: DetectBlaster+D2j
		cmp	sBase, 0FFh
		jnz	short loc_33D97
		mov	sCard, 0

loc_33D97:				; CODE XREF: DetectBlaster+DFj
		cmp	sIRQ, 0FFh
		jnz	short loc_33DA3
		mov	sCard, 0

loc_33DA3:				; CODE XREF: DetectBlaster+EBj
		cmp	[bp+var_102], 0FFh
		jz	short loc_33DB9
		cmp	sCard, 4
		jnz	short loc_33DB9
		mov	al, byte ptr [bp+var_102]
		mov	sDMA, al

loc_33DB9:				; CODE XREF: DetectBlaster+F8j
					; DetectBlaster+FFj
		cmp	sDMA, 0FFh
		jnz	short locret_33DC5
		mov	sCard, 0

locret_33DC5:				; CODE XREF: DetectBlaster+10Dj
		leave
		retf
DetectBlaster	endp

; ---------------------------------------------------------------------------
asc_33DC7	db 1,','                ; DATA XREF: GetData__0+17o
asc_33DC9	db 1,'$'                ; DATA XREF: GetData__0+41o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetData__0	proc far		; CODE XREF: DetectGravis+43P
					; DetectGravis+54P ...

var_208		= byte ptr -208h
var_108		= word ptr -108h
var_106		= word ptr -106h
var_104		= word ptr -104h
var_102		= byte ptr -102h
var_2		= word ptr -2
arg_2		= byte ptr  8
arg_4		= dword	ptr  0Ah

		enter	208h, 0
		les	di, [bp+arg_4]
		push	es
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	di, offset asc_33DC7 ; ","
		push	cs
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	@Pos$qm6Stringt1 ; Pos(substr: String, s: String): Byte{AX}
		mov	[bp+var_104], ax
		cmp	[bp+var_104], 0
		jz	short loc_33E06
		mov	ax, [bp+var_104]
		dec	ax
		mov	[bp+var_102], al

loc_33E06:				; CODE XREF: GetData__0+30j
		cmp	[bp+arg_2], 0
		jz	short loc_33E21
		mov	di, offset asc_33DC9 ; "$"
		push	cs
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		push	1
		call	@Insert$qm6Stringt14Word7Integer ; Insert(source,dst: String;{dstlen: Word} index: Integer)

loc_33E21:				; CODE XREF: GetData__0+3Fj
		lea	di, [bp+var_208]
		push	ss
		push	di
		lea	di, [bp+var_102]
		push	ss
		push	di
		call	Trim
		lea	di, [bp+var_108]
		push	ss
		push	di
		call	@Val__Longint$qm6Stringm7Integer ; Val(s: String; v: Longint{DX:AX}; var code: Integer)
		mov	[bp+var_106], ax
		cmp	[bp+var_108], 0
		jnz	short loc_33E51
		mov	ax, [bp+var_106]
		mov	[bp+var_2], ax
		jmp	short loc_33E56
; ---------------------------------------------------------------------------

loc_33E51:				; CODE XREF: GetData__0+7Bj
		mov	[bp+var_2], 0FFh

loc_33E56:				; CODE XREF: GetData__0+84j
		lea	di, [bp+var_208]
		push	ss
		push	di
		les	di, [bp+arg_4]
		push	es
		push	di
		mov	ax, [bp+var_104]
		inc	ax
		push	ax
		push	20h ; ' '
		call	@Copy$qm6Stringt17Integert3 ; Copy(s: String, index: Integer, count: Integer): String
		les	di, [bp+arg_4]
		push	es
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		mov	ax, [bp+var_2]
		leave
		retf	8
GetData__0	endp

; ---------------------------------------------------------------------------
aUltrasnd	db 8,'ULTRASND'         ; DATA XREF: DetectGravis+14o

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DetectGravis	proc far		; CODE XREF: DetectSound+3P

var_304		= byte ptr -304h
var_204		= byte ptr -204h
var_104		= word ptr -104h
var_102		= byte ptr -102h
var_1		= byte ptr -1

		enter	304h, 0
		mov	[bp+var_1], 0
		lea	di, [bp+var_304]
		push	ss
		push	di
		lea	di, [bp+var_204]
		push	ss
		push	di
		mov	di, offset aUltrasnd ; "ULTRASND"
		push	cs
		push	di
		call	GetEnv
		call	StUpcase
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0FFh
		call	@$basg$qm6Stringt14Byte	; Store	string
		cmp	[bp+var_102], 0
		jnz	short loc_33EC5
		jmp	short loc_33F3D
; ---------------------------------------------------------------------------

loc_33EC5:				; CODE XREF: DetectGravis+36j
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	1
		push	bp
		call	GetData__0
		mov	sBase, ax
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0
		push	bp
		call	GetData__0
		mov	sDMA, al
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0
		push	bp
		call	GetData__0
		mov	[bp+var_104], ax
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0
		push	bp
		call	GetData__0
		mov	sIRQ, al
		lea	di, [bp+var_102]
		push	ss
		push	di
		push	0
		push	bp
		call	GetData__0
		mov	[bp+var_104], ax
		cmp	sBase, 0FFh
		jz	short loc_33F32
		cmp	sDMA, 0FFh
		jz	short loc_33F32
		cmp	sIRQ, 0FFh
		jnz	short loc_33F34

loc_33F32:				; CODE XREF: DetectGravis+97j
					; DetectGravis+9Ej
		jmp	short loc_33F3D
; ---------------------------------------------------------------------------

loc_33F34:				; CODE XREF: DetectGravis+A5j
		mov	sCard, 5
		mov	[bp+var_1], 1

loc_33F3D:				; CODE XREF: DetectGravis+38j
					; DetectGravis:loc_33F32j
		mov	al, [bp+var_1]
		leave
		retf
DetectGravis	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DetectSound	proc far		; CODE XREF: PROGRAM:loc_E802P
		push	bp
		mov	bp, sp
		call	DetectGravis
		or	al, al
		jnz	short locret_33F53
		call	DetectBlaster

locret_33F53:				; CODE XREF: DetectSound+Aj
		leave
		retf
DetectSound	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_33F55	proc far		; CODE XREF: PROGRAM+FP
		enter	4, 0
		mov	DisableALL, 0
		mov	sCard, 0
		xor	ax, ax
		mov	Old_IRQ, ax
		mov	word_45804, ax
		mov	ax, cs
		push	ax
		call	KERNEL_175
		mov	CSCopy__1, ax
		push	CSCopy__1
		push	0
		push	0FA00h
		call	KERNEL_189
		mov	di, offset Voices
		push	ds
		push	di
		push	960h
		call	GetMem16__0
		xor	ax, ax
		mov	n__1, ax
		jmp	short loc_33F9C
; ---------------------------------------------------------------------------

loc_33F98:				; CODE XREF: sub_33F55+6Ej
		inc	n__1

loc_33F9C:				; CODE XREF: sub_33F55+41j
		mov	ax, n__1
		shl	ax, 3
		les	di, Voices
		add	di, ax
		xor	ax, ax
		mov	es:[di], ax
		mov	es:[di+2], ax
		xor	ax, ax
		mov	es:[di+4], ax
		mov	word ptr es:[di+6], 40h	; '@'
		cmp	n__1, 12Bh
		jnz	short loc_33F98
		xor	ax, ax
		mov	n__1, ax
		jmp	short loc_33FD0
; ---------------------------------------------------------------------------

loc_33FCC:				; CODE XREF: sub_33F55+8Bj
		inc	n__1

loc_33FD0:				; CODE XREF: sub_33F55+75j
		imul	di, n__1, 0Eh
		mov	word ptr [di-878h], 0FFh
		cmp	n__1, 0Fh
		jnz	short loc_33FCC
		mov	FXVolume, 0Fh
		mov	MaxVoice, 0
		mov	Reverse, 0
		mov	CurAmbient, 0FFFFh
		mov	PreAmbient, 0FFFFh
		mov	CAmbVol, 0
		leave
		retf
sub_33F55	endp

; ---------------------------------------------------------------------------
		align 10h
cseg09		ends

; Segment Number    : 10
; Alloc	Size	    : 2236h
; Offset in the	file: 3E100h  Length: 2236h
; Attributes  (0D40): CODE Preloaded Relocations DPL: 3
; ===========================================================================

; Segment type:	Regular
cseg10		segment	para public 'CODE' use16
		assume cs:cseg10
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db  0Ah
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
; [00000110 BYTES: COLLAPSED FUNCTION __SystemInit(void). PRESS	KEYPAD "+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION sub_34127. PRESS KEYPAD "+" TO EXPAND]
unk_3413B	db 0B8h	; ¸		; DATA XREF: __SystemInit(void)+105o
		db  56h	; V
		db 0F9h	; ù
		db  1Eh
		db  50h	; P
		db  0Eh
		db 0E8h	; è
		db 0B4h	; ´
		db    5
		db 0B8h	; ¸
		db  56h	; V
		db 0FAh	; ú
		db  1Eh
		db  50h	; P
		db  0Eh
		db 0E8h	; è
		db 0ABh	; «
		db    5
		db 0B8h	; ¸
		db    3
		db    2
		db 0B3h	; ³
		db  10h
		db  8Bh	; ‹
		db  16h
		db 0DCh	; Ü
		db 0FBh	; û
		db  8Bh	; ‹
		db  0Eh
		db 0DEh	; Þ
		db 0FBh	; û
		db 0CDh	; Í
		db  31h	; 1
		db 0BFh	; ¿
		db  56h	; V
		db 0FBh	; û
		db 0BEh	; ¾
		db  60h	; `
		db    2
		db 0B9h	; ¹
		db  15h
		db    0
		db  90h	; 
		db 0FCh	; ü
		db  51h	; Q
		db  2Eh	; .
		db 0ADh	; ­
		db  8Ah	; Š
		db 0DCh	; Ü
		db 0B4h	; ´
		db    2
		db  40h	; @
		db  8Bh	; ‹
		db  15h
		db  8Bh	; ‹
		db  4Dh	; M
		db    2
		db 0CDh	; Í
		db  31h	; 1
		db  83h	; ƒ
		db 0C7h	; Ç
		db    4
		db  59h	; Y
		db 0E2h	; â
		db 0EBh	; ë
		db 0CBh	; Ë
		db  50h	; P
		db 0B8h	; ¸
		db 0C8h	; È
		db    0
		db 0EBh	; ë
		db  0Ah
		db  50h	; P
		db 0B8h	; ¸
		db 0CAh	; Ê
		db    0
		db 0EBh	; ë
		db    4
		db  50h	; P
		db 0B8h	; ¸
		db 0D8h	; Ø
		db    0
		db  1Eh
		dd unk_41FA5
		db  8Eh	; Ž
		db 0DDh	; Ý
		db  8Bh	; ‹
		db 0ECh	; ì
		db 0A3h	; £
		db 0C0h	; À
		db    3
		db  8Bh	; ‹
		db  46h	; F
		db  0Ch
		db 0A3h	; £
		db 0C2h	; Â
		db    3
		db  8Bh	; ‹
		db  46h	; F
		db  0Eh
		db 0A3h	; £
		db 0C4h	; Ä
		db    3
		db 0C7h	; Ç
		db  46h	; F
		db  0Ch
		db 0ADh	; ­
		db    1
		db  8Ch	; Œ
		db  4Eh	; N
		db  0Eh
		db  81h	; 
		db  7Eh	; ~
		db  12h
		db    0
		db    4
		db  73h	; s
		db    5
		db 0C7h	; Ç
		db  46h	; F
		db  12h
		db    0
		db    4
		db  5Dh	; ]
		db  1Fh
		db  58h	; X
		db 0CBh	; Ë
__ExceptHalt	db 0B8h	; ¸
		db  25h	; % SEG16 SEGDEF [dseg11,0]
		db  36h	; 6
		db  8Eh	; Ž
		db 0D8h	; Ø
		db 0A1h	; ¡
		db 0C0h	; À
		db    3
		db  8Bh	; ‹
		db  0Eh
		db 0C2h	; Â
		db    3
		db  8Bh	; ‹
		db  1Eh
		db 0C4h	; Ä
		db    3
		db 0E9h	; é
		db 0D3h	; Ó
		db    0
		db 0FBh	; û
		db  9Ch	; œ
		db  2Eh	; .
		db 0FFh
		db  1Eh
		db    2
		db    0
		db  9Ch	; œ
		db  2Eh	; .
		db  80h	; €
		db  3Eh	; >
		db    6
		db    0
		db    0
		db  75h	; u
		db    4
		db  9Dh	; 
		db 0CAh	; Ê
		db    2
		db    0
		db  8Ch	; Œ
		db 0C8h	; È
		db    5
		dw offset KERNEL_114
		db  8Eh	; Ž
		db 0D8h	; Ø
		db 0C6h	; Æ
		db    6
		db    6
		db    0
		db    0
		db 0B8h	; ¸
		db 0FFh
		db    0
		db 0E9h	; é
		db 0A9h	; ©
		db    0
		db 0E8h	; è
		db  61h	; a
		db    0
		db  8Ch	; Œ
		db 0C8h	; È
		db    5
		dw offset KERNEL_114
		db  8Eh	; Ž
		db 0D8h	; Ø
		db 0C6h	; Æ
		db    6
		db    6
		db    0
		db    1
		db 0CFh	; Ï
		db 0B4h	; ´
		db  54h	; T
		db 0CDh	; Í
		db  21h	; !
		db  83h	; ƒ
		db 0C6h	; Æ
		db    6
		db 0FCh	; ü
		db 0ADh	; ­
		db  26h	; &
		db  8Bh	; ‹
		db  15h
		db  83h	; ƒ
		db 0E2h	; â
		db  1Fh
		db  81h	; 
		db 0C2h	; Â
		db  96h	; –
		db    0
		db  80h	; €
		db 0FCh	; ü
		db  39h	; 9
		db  73h	; s
		db    3
		db 0BAh	; º
		db 0FFh
		db 0FFh
		db  26h	; &
		db  89h	; ‰
		db  55h	; U
		db  1Ch
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  10h
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  18h
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  14h
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db    4
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db    5
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db    8
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  24h	; $
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  22h	; "
		db  26h	; &
		db  83h	; ƒ
		db  45h	; E
		db  2Eh	; .
		db  18h
		db 0E8h	; è
		db    6
		db    0
		db  26h	; &
		db  83h	; ƒ
		db  4Dh	; M
		db  20h
		db    1
		db 0CFh	; Ï
		db 0FCh	; ü
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  2Ah	; *
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  2Ch	; ,
		db 0ADh	; ­
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  20h
		db  26h	; &
		db  83h	; ƒ
		db  45h	; E
		db  2Eh	; .
		db    6
		db 0C3h	; Ã
		db    2
		db    0
		db    4
		db    2
		db    2
		db  0Ch
		db    2
		db  0Dh
		db    4
		db  1Bh
		db    4
		db  21h	; !
		db    0
		db  23h	; #
		db    0
		db  24h	; $
		db    4
		db  34h	; 4
		db    4
		db  35h	; 5
		db    4
		db  36h	; 6
		db    4
		db  37h	; 7
		db    4
		db  38h	; 8
		db    4
		db  39h	; 9
		db    4
		db  3Ah	; :
		db    4
		db  3Bh	; ;
		db    4
		db  3Ch	; <
		db    4
		db  3Dh	; =
		db    4
		db  3Eh	; >
		db    4
		db  3Fh	; ?
		db    4
		db  75h	; u
		db    0
; ---------------------------------------------------------------------------
; [00000004 BYTES: COLLAPSED CHUNK OF FUNCTION GetMem(Word). PRESS KEYPAD "+" TO EXPAND]
; [00000072 BYTES: COLLAPSED FUNCTION Halt(Word). PRESS	KEYPAD "+" TO EXPAND]
; [0000001E BYTES: COLLAPSED FUNCTION __DoExitProcs. PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================


sub_3432F	proc near		; CODE XREF: Halt(Word)+4Cp
					; Halt(Word)+58p ...
		xor	dx, dx
		div	cx
		add	dl, 30h	; '0'
		cmp	dl, 3Ah	; ':'
		jb	short loc_3433E
		add	dl, 7

loc_3433E:				; CODE XREF: sub_3432F+Aj
		dec	bx
		mov	[bx], dl
		or	ax, ax
		jnz	short sub_3432F
		retn
sub_3432F	endp

; ---------------------------------------------------------------------------
		db  50h	; P
		db  6Fh	; o
		db  72h	; r
		db  74h	; t
		db  69h	; i
		db  6Fh	; o
		db  6Eh	; n
		db  73h	; s
		db  20h
		db  43h	; C
		db  6Fh	; o
		db  70h	; p
		db  79h	; y
		db  72h	; r
		db  69h	; i
		db  67h	; g
		db  68h	; h
		db  74h	; t
		db  20h
		db  28h	; (
		db  63h	; c
		db  29h	; )
		db  20h
		db  31h	; 1
		db  39h	; 9
		db  38h	; 8
		db  33h	; 3
		db  2Ch	; ,
		db  39h	; 9
		db  32h	; 2
		db  20h
		db  42h	; B
		db  6Fh	; o
		db  72h	; r
		db  6Ch	; l
		db  61h	; a
		db  6Eh	; n
		db  64h	; d
; [0000001A BYTES: COLLAPSED FUNCTION GetMem(Word). PRESS KEYPAD "+" TO	EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION FreeMem(Pointer &,Word). PRESS KEYPAD "+"	TO EXPAND]
; [0000002E BYTES: COLLAPSED FUNCTION MEMAVAIL.	PRESS KEYPAD "+" TO EXPAND]
; [00000035 BYTES: COLLAPSED FUNCTION MAXAVAIL.	PRESS KEYPAD "+" TO EXPAND]
; [00000058 BYTES: COLLAPSED FUNCTION __NewMemory. PRESS KEYPAD	"+" TO EXPAND]
; [0000001B BYTES: COLLAPSED FUNCTION sub_34461. PRESS KEYPAD "+" TO EXPAND]
; [0000002E BYTES: COLLAPSED FUNCTION sub_3447C. PRESS KEYPAD "+" TO EXPAND]
; [0000003C BYTES: COLLAPSED FUNCTION sub_344AA. PRESS KEYPAD "+" TO EXPAND]
; [00000031 BYTES: COLLAPSED FUNCTION sub_344E6. PRESS KEYPAD "+" TO EXPAND]
; [00000050 BYTES: COLLAPSED FUNCTION __DisMemory. PRESS KEYPAD	"+" TO EXPAND]
; [0000001B BYTES: COLLAPSED FUNCTION sub_34567. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
; [00000036 BYTES: COLLAPSED CHUNK OF FUNCTION __DisMemory. PRESS KEYPAD "+" TO	EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION IOResult(void). PRESS KEYPAD "+" TO EXPAND]
; [0000000E BYTES: COLLAPSED FUNCTION __IOCheck(void). PRESS KEYPAD "+"	TO EXPAND]
; [00000028 BYTES: COLLAPSED FUNCTION __RangeCheck(Longint,Longint (*)[2]). PRESS KEYPAD "+" TO	EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION __Overflow(void).	PRESS KEYPAD "+" TO EXPAND]
; [00000024 BYTES: COLLAPSED FUNCTION __StackCheck(Word). PRESS	KEYPAD "+" TO EXPAND]
; Assign(Text &, PChar)
@Assign$qm4Text5PChar db 0BAh ;	º	; Assign(var f:	Text; name: PChar)
; [00000053 BYTES: COLLAPSED FUNCTION Assign(Text &,String &). PRESS KEYPAD "+"	TO EXPAND]
; [0000002B BYTES: COLLAPSED FUNCTION SetTextBuf(Text &,Any &,Word). PRESS KEYPAD "+" TO EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION Reset(Text &). PRESS KEYPAD "+" TO EXPAND]
; [00000051 BYTES: COLLAPSED FUNCTION Rewrite(Text &). PRESS KEYPAD "+"	TO EXPAND]
; [00000004 BYTES: COLLAPSED FUNCTION Flush(Text &). PRESS KEYPAD "+" TO EXPAND]
; [0000003C BYTES: COLLAPSED FUNCTION Close(Text &). PRESS KEYPAD "+" TO EXPAND]
; [00000011 BYTES: COLLAPSED FUNCTION sub_34734. PRESS KEYPAD "+" TO EXPAND]
__FileRead	db  8Bh	; ‹		; =__FileRead(var f: Text)
		db 0DCh	; Ü
		db  1Eh
		db  36h	; 6
		db 0C4h	; Ä
		db  7Fh	; 
		db    4
		db  26h	; &
		db 0C5h	; Å
		db  55h	; U
		db  0Ch
		db  26h	; &
		db  8Bh	; ‹
		db  4Dh	; M
		db    4
		db  26h	; &
		db  8Bh	; ‹
		db  1Dh
		db 0B4h	; ´
		db  3Fh	; ?
		db 0CDh	; Í
		db  21h	; !
		db  72h	; r
		db  10h
		db  26h	; &
		db  89h	; ‰
		db  45h	; E
		db  0Ah
		db  33h	; 3
		db 0C0h	; À
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db    8
		db    0
		db    0
		db  1Fh
		db 0CAh	; Ê
		db    4
		db    0
		db  26h	; &
		db 0C7h	; Ç
		db  45h	; E
		db  0Ah
		db    0
		db    0
		db 0EBh	; ë
		db 0EEh	; î
__FileWrDev	db  8Bh	; ‹		; __FileWrDev(var f: Text)
		db 0DCh	; Ü
		db  1Eh
		db  36h	; 6
		db 0C4h	; Ä
		db  7Fh	; 
		db    4
		db  26h	; &
		db 0C5h	; Å
		db  55h	; U
		db  0Ch
		db  33h	; 3
		db 0C9h	; É
		db  26h	; &
		db  87h	; ‡
		db  4Dh	; M
		db    8
		db  26h	; &
		db  8Bh	; ‹
		db  1Dh
		db 0B4h	; ´
		db  40h	; @
		db 0CDh	; Í
		db  21h	; !
		db  72h	; r
		db    7
		db  2Bh	; +
		db 0C1h	; Á
		db  74h	; t
		db    3
		db 0B8h	; ¸
		db  65h	; e
		db    0
		db  1Fh
		db 0CAh	; Ê
		db    4
		db    0
__FileWrite	db  8Bh	; ‹		; __FileWrite(var f: Text)
		db 0DCh	; Ü
		db  1Eh
		db  36h	; 6
		db 0C4h	; Ä
		db  7Fh	; 
		db    4
		db  26h	; &
		db 0C5h	; Å
		db  55h	; U
		db  0Ch
		db  33h	; 3
		db 0C9h	; É
		db  26h	; &
		db  87h	; ‡
		db  4Dh	; M
		db    8
		db  26h	; &
		db  8Bh	; ‹
		db  1Dh
		db 0B4h	; ´
		db  40h	; @
		db 0CDh	; Í
		db  21h	; !
		db  72h	; r
		db    2
		db  33h	; 3
		db 0C0h	; À
		db  1Fh
		db 0CAh	; Ê
		db    4
		db    0
__FileClose	db  8Bh	; ‹		; __FileClose(var f: Text)
		db 0DCh	; Ü
		db  36h	; 6
		db 0C4h	; Ä
		db  7Fh	; 
		db    4
		db  26h	; &
		db  8Bh	; ‹
		db  1Dh
		db  83h	; ƒ
		db 0FBh	; û
		db    4
		db  76h	; v
		db    6
		db 0B4h	; ´
		db  3Eh	; >
		db 0CDh	; Í
		db  21h	; !
		db  72h	; r
		db    2
		db  33h	; 3
		db 0C0h	; À
		db 0CAh	; Ê
		db    4
		db    0
; [0000005E BYTES: COLLAPSED FUNCTION __ReadText. PRESS	KEYPAD "+" TO EXPAND]
; [0000004F BYTES: COLLAPSED FUNCTION __WriteBlanks. PRESS KEYPAD "+" TO EXPAND]
; [00000057 BYTES: COLLAPSED FUNCTION __WriteBuffer. PRESS KEYPAD "+" TO EXPAND]
; [0000001E BYTES: COLLAPSED FUNCTION ReadLn(Text &). PRESS KEYPAD "+" TO EXPAND]
; [00000022 BYTES: COLLAPSED FUNCTION sub_348F5. PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION WriteLn(Text &). PRESS KEYPAD "+"	TO EXPAND]
; [0000001B BYTES: COLLAPSED FUNCTION Write(Text &). PRESS KEYPAD "+" TO EXPAND]
; [0000000E BYTES: COLLAPSED FUNCTION __InOutProc. PRESS KEYPAD	"+" TO EXPAND]
; [0000000E BYTES: COLLAPSED FUNCTION sub_34961. PRESS KEYPAD "+" TO EXPAND]
; [00000046 BYTES: COLLAPSED FUNCTION Read(Text	&,Char). PRESS KEYPAD "+" TO EXPAND]
; [0000004B BYTES: COLLAPSED FUNCTION Write(Text &,Char,Word). PRESS KEYPAD "+"	TO EXPAND]
; [00000023 BYTES: COLLAPSED FUNCTION Read(Text	&,String &,Word). PRESS	KEYPAD "+" TO EXPAND]
		db 0ACh	; ¬
		db  3Ch	; <
		db  0Dh
		db  74h	; t
		db  0Fh
		db  3Ch	; <
		db  1Ah
		db  74h	; t
		db  0Bh
		db 0AAh	; ª
		db  3Bh	; ;
		db 0F3h	; ó
		db 0E0h	; à
		db 0F2h	; ò
		db 0E3h	; ã
		db    5
		db 0B8h	; ¸
		db  13h
		db  0Ah
		db 0C3h	; Ã
		db  4Eh	; N
		db  33h	; 3
		db 0C0h	; À
		db 0C3h	; Ã
; [0000002C BYTES: COLLAPSED FUNCTION Write(Text &,String &,Word). PRESS KEYPAD	"+" TO EXPAND]
; [00000037 BYTES: COLLAPSED FUNCTION Read(Text	&,Longint). PRESS KEYPAD "+" TO	EXPAND]
		db 0ACh	; ¬
		db  3Ch	; <
		db  20h
		db  77h	; w
		db  11h
		db  3Ch	; <
		db  1Ah
		db  74h	; t
		db  18h
		db  3Bh	; ;
		db 0F3h	; ó
		db  75h	; u
		db 0F3h	; ó
		db 0B8h	; ¸
		db  8Eh	; Ž
		db  0Ah
		db 0C3h	; Ã
		db 0ACh	; ¬
		db  3Ch	; <
		db  20h
		db  76h	; v
		db  0Bh
		db 0AAh	; ª
		db  3Bh	; ;
		db 0F3h	; ó
		db 0E0h	; à
		db 0F6h	; ö
		db 0E3h	; ã
		db    5
		db 0B8h	; ¸
		db  9Fh	; Ÿ
		db  0Ah
		db 0C3h	; Ã
		db  4Eh	; N
		db  33h	; 3
		db 0C0h	; À
		db 0C3h	; Ã
; [00000034 BYTES: COLLAPSED FUNCTION Write(Text &,Longint,Word). PRESS	KEYPAD "+" TO EXPAND]
; [00000039 BYTES: COLLAPSED FUNCTION Read(Text	&,Real). PRESS KEYPAD "+" TO EXPAND]
		db 0ACh	; ¬
		db  3Ch	; <
		db  20h
		db  77h	; w
		db  11h
		db  3Ch	; <
		db  1Ah
		db  74h	; t
		db  18h
		db  3Bh	; ;
		db 0F3h	; ó
		db  75h	; u
		db 0F3h	; ó
		db 0B8h	; ¸
		db  20h
		db  0Bh
		db 0C3h	; Ã
		db 0ACh	; ¬
		db  3Ch	; <
		db  20h
		db  76h	; v
		db  0Bh
		db 0AAh	; ª
		db  3Bh	; ;
		db 0F3h	; ó
		db 0E0h	; à
		db 0F6h	; ö
		db 0E3h	; ã
		db    5
		db 0B8h	; ¸
		db  31h	; 1
		db  0Bh
		db 0C3h	; Ã
		db  4Eh	; N
		db  33h	; 3
		db 0C0h	; À
		db 0C3h	; Ã
; [0000004B BYTES: COLLAPSED FUNCTION Write(Text &,Real,Word,Word). PRESS KEYPAD "+" TO	EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION SeekEoln(Text &).	PRESS KEYPAD "+" TO EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION SeekEof(Text &). PRESS KEYPAD "+"	TO EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION Eoln(Text	&). PRESS KEYPAD "+" TO	EXPAND]
; [00000017 BYTES: COLLAPSED FUNCTION Eof(Text &). PRESS KEYPAD	"+" TO EXPAND]
		db 0ACh	; ¬
		db  3Ch	; <
		db  1Ah
		db  74h	; t
		db  1Bh
		db 0F6h	; ö
		db 0C5h	; Å
		db    1
		db  74h	; t
		db    4
		db  3Ch	; <
		db  0Dh
		db  74h	; t
		db  12h
		db 0F6h	; ö
		db 0C5h	; Å
		db    2
		db  74h	; t
		db  0Ch
		db  3Ch	; <
		db  20h
		db  77h	; w
		db    8
		db  3Bh	; ;
		db 0F3h	; ó
		db  75h	; u
		db 0E5h	; å
		db 0B8h	; ¸
		db 0B6h	; ¶
		db  0Bh
		db 0C3h	; Ã
		db  49h	; I
		db  4Eh	; N
		db  33h	; 3
		db 0C0h	; À
		db 0C3h	; Ã
; Assign(File &, PChar)
@Assign$qm4File5PChar db 0BAh ;	º	; Assign(var f:	File; name: PChar)
; [0000003B BYTES: COLLAPSED FUNCTION Assign(File &,String &). PRESS KEYPAD "+"	TO EXPAND]
; [00000009 BYTES: COLLAPSED FUNCTION Reset(File &,Word). PRESS	KEYPAD "+" TO EXPAND]
; [0000005C BYTES: COLLAPSED FUNCTION Rewrite(File &,Word). PRESS KEYPAD "+" TO	EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION Truncate(File &).	PRESS KEYPAD "+" TO EXPAND]
; [00000025 BYTES: COLLAPSED FUNCTION Close(File &). PRESS KEYPAD "+" TO EXPAND]
; [0000000F BYTES: COLLAPSED FUNCTION sub_34CCC. PRESS KEYPAD "+" TO EXPAND]
; [00000036 BYTES: COLLAPSED FUNCTION Read(File	&,Any &). PRESS	KEYPAD "+" TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION BlockRead(File &,Any &,Word,Word &). PRESS KEYPAD	"+" TO EXPAND]
; [00000061 BYTES: COLLAPSED FUNCTION BlockWrite(File &,Any &,Word,Word	&). PRESS KEYPAD "+" TO	EXPAND]
; [00000030 BYTES: COLLAPSED FUNCTION Seek(File	&,Longint). PRESS KEYPAD "+" TO	EXPAND]
; [0000004F BYTES: COLLAPSED FUNCTION ParamStr(String &,Word). PRESS KEYPAD "+"	TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION ParamCount(void).	PRESS KEYPAD "+" TO EXPAND]
; [00000032 BYTES: COLLAPSED FUNCTION sub_34DFF. PRESS KEYPAD "+" TO EXPAND]
; [00000018 BYTES: COLLAPSED FUNCTION operator=(Any &,Any &,Word). PRESS KEYPAD	"+" TO EXPAND]
; [0000003D BYTES: COLLAPSED FUNCTION operator*=(Longint,Longint). PRESS KEYPAD	"+" TO EXPAND]
; [000000A6 BYTES: COLLAPSED FUNCTION operator/=(Longint,Longint). PRESS KEYPAD	"+" TO EXPAND]
; [00000023 BYTES: COLLAPSED FUNCTION operator>>=(Longint,Integer). PRESS KEYPAD "+" TO	EXPAND]
; [00000023 BYTES: COLLAPSED FUNCTION operator<<=(Longint,Integer). PRESS KEYPAD "+" TO	EXPAND]
; [0000001A BYTES: COLLAPSED FUNCTION operator=(String &,String	&). PRESS KEYPAD "+" TO	EXPAND]
; [00000024 BYTES: COLLAPSED FUNCTION operator=(String &,String	&,Byte). PRESS KEYPAD "+" TO EXPAND]
; [00000041 BYTES: COLLAPSED FUNCTION Copy(String &,String &,Integer,Integer). PRESS KEYPAD "+"	TO EXPAND]
; [0000002C BYTES: COLLAPSED FUNCTION Concat(String &,String &). PRESS KEYPAD "+" TO EXPAND]
; [00000046 BYTES: COLLAPSED FUNCTION Pos(String &,String &). PRESS KEYPAD "+" TO EXPAND]
; [0000002B BYTES: COLLAPSED FUNCTION operator-(String &,String	&). PRESS KEYPAD "+" TO	EXPAND]
; [00000012 BYTES: COLLAPSED FUNCTION operator=(String &,Char).	PRESS KEYPAD "+" TO EXPAND]
; [0000001B BYTES: COLLAPSED FUNCTION operator=(String &,Char *,Byte). PRESS KEYPAD "+"	TO EXPAND]
; [0000005F BYTES: COLLAPSED FUNCTION Insert(String &,String &,Word,Integer). PRESS KEYPAD "+" TO EXPAND]
; [0000006F BYTES: COLLAPSED FUNCTION Delete(String &,Integer,Integer).	PRESS KEYPAD "+" TO EXPAND]
; [0000002A BYTES: COLLAPSED FUNCTION Set::Set(Byte *,Word). PRESS KEYPAD "+" TO EXPAND]
; [00000016 BYTES: COLLAPSED FUNCTION operator=(Set &,Word). PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION Set::operator+=(Byte). PRESS KEYPAD "+" TO EXPAND]
; [00000034 BYTES: COLLAPSED FUNCTION Set::operator+=(Byte,Byte). PRESS	KEYPAD "+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION Set::Set(Set &,Word). PRESS KEYPAD "+" TO	EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION Set::GetElemOffset(Word,Word). PRESS KEYPAD "+" TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION operator+=(Set &,Set &). PRESS KEYPAD "+"	TO EXPAND]
; [0000001E BYTES: COLLAPSED FUNCTION operator-=(Set &,Set &). PRESS KEYPAD "+"	TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION operator*=(Set &,Set &). PRESS KEYPAD "+"	TO EXPAND]
; [00000017 BYTES: COLLAPSED FUNCTION operator==(Set &,Set &). PRESS KEYPAD "+"	TO EXPAND]
; [0000001E BYTES: COLLAPSED FUNCTION operator>=(Set &,Set &). PRESS KEYPAD "+"	TO EXPAND]
__FileOpen	db  8Bh	; ‹		; __FileOpen(var f: Text)
		db 0DCh	; Ü
		db  1Eh
		db  36h	; 6
		db 0C5h	; Å
		db  7Fh	; 
		db    4
		db  33h	; 3
		db 0C9h	; É
		db  89h	; ‰
		db  0Dh
		db 0B8h	; ¸
		db    0
		db  3Dh	; =
		db  81h	; 
		db  7Dh	; }
		db    2
		db 0B1h	; ±
		db 0D7h	; ×
		db  74h	; t
		db  0Dh
		db 0B0h	; °
		db    2
		db 0FFh
		db    5
		db  81h	; 
		db  7Dh	; }
		db    2
		db 0B3h	; ³
		db 0D7h	; ×
		db  74h	; t
		db    2
		db 0B4h	; ´
		db  3Ch	; <
		db  80h	; €
		db  7Dh	; }
		db  30h	; 0
		db    0
		db  74h	; t
		db    9
		db  8Dh	; 
		db  55h	; U
		db  30h	; 0
		db 0CDh	; Í
		db  21h	; !
		db  72h	; r
		db  5Ah	; Z
		db  89h	; ‰
		db    5
		db 0B8h	; ¸
		db  35h	; 5
		dd 3401BA07h
		db  33h	; 3
		db 0C9h	; É
		db  33h	; 3
		db 0DBh	; Û
		db  81h	; 
		db  7Dh	; }
		db    2
		db 0B1h	; ±
		db 0D7h	; ×
		db  74h	; t
		db  2Fh	; /
		db  8Bh	; ‹
		db  1Dh
		db 0B8h	; ¸
		db    0
		db  44h	; D
		db 0CDh	; Í
		db  21h	; !
		db 0F6h	; ö
		db 0C2h	; Â
		db  80h	; €
		db 0B8h	; ¸
		db  8Ah	; Š
		dd 3401BA07h
		db  8Bh	; ‹
		db 0C8h	; È
		db  8Bh	; ‹
		db 0DAh	; Ú
		db  75h	; u
		db  14h
		db  81h	; 
		db  7Dh	; }
		db    2
		db 0B3h	; ³
		db 0D7h	; ×
		db  75h	; u
		db    3
		db 0E8h	; è
		db  2Bh	; +
		db    0
		db 0B8h	; ¸
		db  65h	; e
		dd 3401BA07h
		db  33h	; 3
		db 0C9h	; É
		db  33h	; 3
		db 0DBh	; Û
		db 0C7h	; Ç
		db  45h	; E
		db    2
		db 0B2h	; ²
		db 0D7h	; ×
		db  89h	; ‰
		db  45h	; E
		db  14h
		db  89h	; ‰
		db  55h	; U
		db  16h
		db  89h	; ‰
		db  4Dh	; M
		db  18h
		db  89h	; ‰
		db  5Dh	; ]
		db  1Ah
		db 0C7h	; Ç
		db  45h	; E
		db  1Ch
		db 0AAh	; ª
		db    7
		db 0C7h	; Ç
		dd loc_35E54+1
		db  33h	; 3
		db 0C0h	; À
		db  1Fh
		db 0CAh	; Ê
		db    4
		db    0
		db  33h	; 3
		db 0D2h	; Ò
		db  33h	; 3
		db 0C9h	; É
		db  8Bh	; ‹
		db  1Dh
		db 0B8h	; ¸
		db    2
		db  42h	; B
		db 0CDh	; Í
		db  21h	; !
		db  2Dh	; -
		db  80h	; €
		db    0
		db  83h	; ƒ
		db 0DAh	; Ú
		db    0
		db  73h	; s
		db    4
		db  33h	; 3
		db 0C0h	; À
		db  33h	; 3
		db 0D2h	; Ò
		db  8Bh	; ‹
		db 0CAh	; Ê
		db  8Bh	; ‹
		db 0D0h	; Ð
		db  8Bh	; ‹
		db  1Dh
		db 0B8h	; ¸
		db    0
		db  42h	; B
		db 0CDh	; Í
		db  21h	; !
		db  8Dh	; 
		db  95h	; •
		db  80h	; €
		db    0
		db 0B9h	; ¹
		db  80h	; €
		db    0
		db  8Bh	; ‹
		db  1Dh
		db 0B4h	; ´
		db  3Fh	; ?
		db 0CDh	; Í
		db  21h	; !
		db  73h	; s
		db    2
		db  33h	; 3
		db 0C0h	; À
		db  33h	; 3
		db 0DBh	; Û
		db  3Bh	; ;
		db 0D8h	; Ø
		db  74h	; t
		db  20h
		db  80h	; €
		db 0B9h	; ¹
		db  80h	; €
		db    0
		db  1Ah
		db  74h	; t
		db    3
		db  43h	; C
		db 0EBh	; ë
		db 0F2h	; ò
		db  8Bh	; ‹
		db 0D3h	; Ó
		db  2Bh	; +
		db 0D0h	; Ð
		db 0B9h	; ¹
		db 0FFh
		db 0FFh
		db  8Bh	; ‹
		db  1Dh
		db 0B8h	; ¸
		db    2
		db  42h	; B
		db 0CDh	; Í
		db  21h	; !
		db  33h	; 3
		db 0C9h	; É
		db  8Bh	; ‹
		db  1Dh
		db 0B4h	; ´
		db  40h	; @
		db 0CDh	; Í
		db  21h	; !
		db 0C3h	; Ã
; [00000004 BYTES: COLLAPSED FUNCTION __RealSub. PRESS KEYPAD "+" TO EXPAND]
; [000000C3 BYTES: COLLAPSED FUNCTION __RealAdd. PRESS KEYPAD "+" TO EXPAND]
; [00000103 BYTES: COLLAPSED FUNCTION __RealMul. PRESS KEYPAD "+" TO EXPAND]
; [00000077 BYTES: COLLAPSED FUNCTION __RealDiv. PRESS KEYPAD "+" TO EXPAND]
; [00000017 BYTES: COLLAPSED FUNCTION __RealCmp. PRESS KEYPAD "+" TO EXPAND]
; [00000013 BYTES: COLLAPSED FUNCTION sub_35628. PRESS KEYPAD "+" TO EXPAND]
; [0000003C BYTES: COLLAPSED FUNCTION __RealFloat. PRESS KEYPAD	"+" TO EXPAND]
; [0000006E BYTES: COLLAPSED FUNCTION __RealTrunc. PRESS KEYPAD	"+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION operator+=(Real,Real). PRESS KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION operator-=(Real,Real). PRESS KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION Sqr(Real). PRESS KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION operator*=(Real,Real). PRESS KEYPAD "+" TO EXPAND]
; [0000000A BYTES: COLLAPSED FUNCTION operator/=(Real,Real). PRESS KEYPAD "+" TO EXPAND]
; [00000004 BYTES: COLLAPSED FUNCTION __Cmp(Real,Real).	PRESS KEYPAD "+" TO EXPAND]
; [00000004 BYTES: COLLAPSED FUNCTION Real(Longint). PRESS KEYPAD "+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION Trunc(Real). PRESS KEYPAD	"+" TO EXPAND]
; [0000000E BYTES: COLLAPSED FUNCTION Round(Real). PRESS KEYPAD	"+" TO EXPAND]
; ---------------------------------------------------------------------------
; [00000006 BYTES: COLLAPSED CHUNK OF FUNCTION operator+=(Real,Real). PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
; [00000006 BYTES: COLLAPSED CHUNK OF FUNCTION operator/=(Real,Real). PRESS KEYPAD "+" TO EXPAND]
; [0000000A BYTES: COLLAPSED FUNCTION sub_35731. PRESS KEYPAD "+" TO EXPAND]
; [0000000A BYTES: COLLAPSED FUNCTION sub_3573B. PRESS KEYPAD "+" TO EXPAND]
; [0000000A BYTES: COLLAPSED FUNCTION sub_35745. PRESS KEYPAD "+" TO EXPAND]
; [0000000A BYTES: COLLAPSED FUNCTION sub_3574F. PRESS KEYPAD "+" TO EXPAND]
; [00000051 BYTES: COLLAPSED FUNCTION Int(Real). PRESS KEYPAD "+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION Frac(Real). PRESS	KEYPAD "+" TO EXPAND]
; [0000005F BYTES: COLLAPSED FUNCTION Sqrt(Real). PRESS	KEYPAD "+" TO EXPAND]
; [00000013 BYTES: COLLAPSED FUNCTION Sin(Real). PRESS KEYPAD "+" TO EXPAND]
; [00000061 BYTES: COLLAPSED FUNCTION Cos(Real). PRESS KEYPAD "+" TO EXPAND]
		db  58h	; X
		db  9Dh	; 
		db  39h	; 9
		db  9Fh	; Ÿ
		db  3Fh	; ?
		db 0D7h	; ×
		db  60h	; `
		db  43h	; C
		db  9Dh	; 
		db  30h	; 0
		db  92h	; ’
		db  30h	; 0
		db  67h	; g
		db 0AAh	; ª
		db  3Fh	; ?
		db  28h	; (
		db  32h	; 2
		db 0D7h	; ×
		db  6Eh	; n
		db 0B6h	; ¶
		db  2Ah	; *
		db  1Dh
		db 0EFh	; ï
		db  38h	; 8
		db  74h	; t
		db  0Dh
		db 0D0h	; Ð
		db    0
		db  0Dh
		db 0D0h	; Ð
		db  7Ah	; z
		db  88h	; ˆ
		db  88h	; ˆ
		db  88h	; ˆ
		db  88h	; ˆ
		db    8
		db  7Eh	; ~
		db 0ABh	; «
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
; [00000085 BYTES: COLLAPSED FUNCTION Ln(Real).	PRESS KEYPAD "+" TO EXPAND]
		db  7Dh	; }
		db  8Ah	; Š
		db  9Dh	; 
		db 0D8h	; Ø
		db  89h	; ‰
		db  1Dh
		db  7Dh	; }
		db 0E9h	; é
		db 0A2h	; ¢
		db  8Bh	; ‹
		db  2Eh	; .
		db  3Ah	; :
		db  7Dh	; }
		db  8Eh	; Ž
		db 0E3h	; ã
		db  38h	; 8
		db  8Eh	; Ž
		db  63h	; c
		db  7Eh	; ~
		db  49h	; I
		db  92h	; ’
		db  24h	; $
		db  49h	; I
		db  12h
		db  7Eh	; ~
		db 0CDh	; Í
		db 0CCh	; Ì
		db 0CCh	; Ì
		db 0CCh	; Ì
		db  4Ch	; L
		db  7Fh	; 
		db 0ABh	; «
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
		db  2Ah	; *
; [00000073 BYTES: COLLAPSED FUNCTION Exp(Real). PRESS KEYPAD "+" TO EXPAND]
		db  6Dh	; m
		db  2Eh	; .
		db  1Dh
		db  11h
		db  60h	; `
		db  31h	; 1
		db  70h	; p
		db  46h	; F
		db  2Ch	; ,
		db 0FEh	; þ
		db 0E5h	; å
		db  7Fh	; 
		db  74h	; t
		db  36h	; 6
		db  7Ch	; |
		db  89h	; ‰
		db  84h	; „
		db  21h	; !
		db  77h	; w
		db  53h	; S
		db  3Ch	; <
		db 0FFh
		db 0C3h	; Ã
		db  2Eh	; .
		db  7Ah	; z
		db 0D2h	; Ò
		db  7Dh	; }
		db  5Bh	; [
		db  95h	; •
		db  1Dh
		db  7Ch	; |
		db  25h	; %
		db 0B8h	; ¸
		db  46h	; F
		db  58h	; X
		db  63h	; c
		db  7Eh	; ~
		db  16h
		db 0FCh	; ü
		db 0EFh	; ï
		db 0FDh	; ý
		db  75h	; u
		db  80h	; €
		db 0D2h	; Ò
		db 0F7h	; ÷
		db  17h
		db  72h	; r
		db  31h	; 1
; [000000E1 BYTES: COLLAPSED FUNCTION ArcTan(Real). PRESS KEYPAD "+" TO	EXPAND]
		db  7Fh	; 
		db 0E7h	; ç
		db 0CFh	; Ï
		db 0CCh	; Ì
		db  13h
		db  54h	; T
		db  7Fh	; 
		db 0F6h	; ö
		db 0F4h	; ô
		db 0A2h	; ¢
		db  30h	; 0
		db    9
		db  7Fh	; 
		db  6Ah	; j
		db 0C1h	; Á
		db  91h	; ‘
		db  0Ah
		db    6
		db  80h	; €
		db 0B5h	; µ
		db  9Eh	; ž
		db  8Ah	; Š
		db  6Fh	; o
		db  44h	; D
		db  80h	; €
		db  82h	; ‚
		db  2Ch	; ,
		db  3Ah	; :
		db 0CDh	; Í
		db  13h
		db  80h	; €
		db  6Ah	; j
		db 0C1h	; Á
		db  91h	; ‘
		db  0Ah
		db    6
		db  81h	; 
		db    0
		db    0
		db    0
		db    0
		db    0
		db  80h	; €
		db  21h	; !
		db 0A2h	; ¢
		db 0DAh	; Ú
		db  0Fh
		db  49h	; I
		db  7Dh	; }
		db 0E8h	; è
		db 0A2h	; ¢
		db  8Bh	; ‹
		db  2Eh	; .
		db 0BAh	; º
		db  7Dh	; }
		db  8Eh	; Ž
		db 0E3h	; ã
		db  38h	; 8
		db  8Eh	; Ž
		db  63h	; c
		db  7Eh	; ~
		db  49h	; I
		db  92h	; ’
		db  24h	; $
		db  49h	; I
		db  92h	; ’
		db  7Eh	; ~
		db 0CDh	; Í
		db 0CCh	; Ì
		db 0CCh	; Ì
		db 0CCh	; Ì
		db  4Ch	; L
		db  7Fh	; 
		db 0ABh	; «
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
; [00000006 BYTES: COLLAPSED FUNCTION sub_35B36. PRESS KEYPAD "+" TO EXPAND]
; [00000019 BYTES: COLLAPSED FUNCTION sub_35B3C. PRESS KEYPAD "+" TO EXPAND]
; [0000004F BYTES: COLLAPSED FUNCTION sub_35B55. PRESS KEYPAD "+" TO EXPAND]
; [0000001D BYTES: COLLAPSED FUNCTION Random(Word). PRESS KEYPAD "+" TO	EXPAND]
; [0000001D BYTES: COLLAPSED FUNCTION Random__Real(void). PRESS	KEYPAD "+" TO EXPAND]
; [0000001D BYTES: COLLAPSED FUNCTION Random__Extended(void). PRESS KEYPAD "+" TO EXPAND]
flt_35BFB	dd 2.1474836e9		; DATA XREF: Random__Extended(void)+Er
word_35BFF	dw 0FFE0h		; DATA XREF: Random__Extended(void)+3r
; [00000036 BYTES: COLLAPSED FUNCTION sub_35C01. PRESS KEYPAD "+" TO EXPAND]
word_35C37	dw 8405h		; DATA XREF: sub_35C01+9r
; [0000000D BYTES: COLLAPSED FUNCTION Randomize(void). PRESS KEYPAD "+"	TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION __Int2Str. PRESS KEYPAD "+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION sub_35C62. PRESS KEYPAD "+" TO EXPAND]
; [000000A7 BYTES: COLLAPSED FUNCTION __Str2Int. PRESS KEYPAD "+" TO EXPAND]
; [000000EC BYTES: COLLAPSED FUNCTION __Real2Str. PRESS	KEYPAD "+" TO EXPAND]
; [0000000C BYTES: COLLAPSED FUNCTION sub_35E15. PRESS KEYPAD "+" TO EXPAND]
; [0000008B BYTES: COLLAPSED FUNCTION sub_35E21. PRESS KEYPAD "+" TO EXPAND]
; [000000AC BYTES: COLLAPSED FUNCTION __Str2Real. PRESS	KEYPAD "+" TO EXPAND]
; [0000003E BYTES: COLLAPSED FUNCTION sub_35F58. PRESS KEYPAD "+" TO EXPAND]
; [00000050 BYTES: COLLAPSED FUNCTION sub_35F96. PRESS KEYPAD "+" TO EXPAND]
		db  81h	; 
		db    0
		db    0
		db    0
		db    0
		db    0
		db  8Eh	; Ž
		db    0
		db    0
		db    0
		db  40h	; @
		db  1Ch
		db  9Bh	; ›
		db    0
		db    0
		db  20h
		db 0BCh	; ¼
		db  3Eh	; >
		db 0A8h	; ¨
		db    0
		db  10h
		db 0A5h	; ¥
		db 0D4h	; Ô
		db  68h	; h
		db 0B6h	; ¶
		db    4
		db 0BFh	; ¿
		db 0C9h	; É
		db  1Bh
		db  0Eh
		db 0C3h	; Ã
		db 0ACh	; ¬
		db 0C5h	; Å
		db 0EBh	; ë
		db  78h	; x
		db  2Dh	; -
		db 0D0h	; Ð
		db 0CDh	; Í
		db 0CEh	; Î
		db  1Bh
		db 0C2h	; Â
		db  53h	; S
		db 0DEh	; Þ
		db 0F9h	; ù
		db  78h	; x
		db  39h	; 9
		db  3Fh	; ?
		db    1
		db 0EBh	; ë
		db  2Bh	; +
		db 0A8h	; ¨
		db 0ADh	; ­
		db 0C5h	; Å
		db  1Dh
		db 0F8h	; ø
		db 0C9h	; É
		db  7Bh	; {
		db 0CEh	; Î
		db  97h	; —
		db  40h	; @
; [0000004E BYTES: COLLAPSED FUNCTION sub_36022. PRESS KEYPAD "+" TO EXPAND]
; [0000004B BYTES: COLLAPSED FUNCTION Str(Longint,Word,String &,Byte). PRESS KEYPAD "+"	TO EXPAND]
; [00000031 BYTES: COLLAPSED FUNCTION Val__Longint(String &,Integer &).	PRESS KEYPAD "+" TO EXPAND]
; [00000063 BYTES: COLLAPSED FUNCTION Str(Real,Word,Word,String	&,Word). PRESS KEYPAD "+" TO EXPAND]
; [00000033 BYTES: COLLAPSED FUNCTION Val__Real(String &,Integer &). PRESS KEYPAD "+" TO EXPAND]
; [00000017 BYTES: COLLAPSED FUNCTION FilePos(File &). PRESS KEYPAD "+"	TO EXPAND]
; [0000001B BYTES: COLLAPSED FUNCTION FileSize(File &).	PRESS KEYPAD "+" TO EXPAND]
; [00000015 BYTES: COLLAPSED FUNCTION Eof(File &). PRESS KEYPAD	"+" TO EXPAND]
; [00000045 BYTES: COLLAPSED FUNCTION sub_361C9. PRESS KEYPAD "+" TO EXPAND]
; [00000024 BYTES: COLLAPSED FUNCTION Move(Any &,Any &,Word). PRESS KEYPAD "+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION FillChar(Any &,Word,Byte). PRESS KEYPAD "+" TO EXPAND]
		align 10h
cseg10		ends

; Segment Number    : 11
; Alloc	Size	    : FBE2h
; Offset in the	file: 40400h  Length: 0400h
; Attributes  (0C41): DATA Preloaded DPL: 3
; ===========================================================================

; Segment type:	Regular
dseg11		segment	para public 'DATA' use16
		assume cs:dseg11
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    0
		db    0
unk_36252	db    0			; DATA XREF: MEMAVAIL+5o MAXAVAIL+5o
		db    0
		db    5
		db    0
		db    0
		db    0
		db    0
		db    0
word_3625A	dw 0			; DATA XREF: sub_344AA+2Fw
		align 8
Obj3d		db 1			; DATA XREF: Expand3dObject+4r
					; ExpandMonster+4r ...
		align 2
ClockCount	db    1
		db    3
BrTab		db    4
		db    6
		db    8
		db  0Ah
		db  0Ch
		db  0Eh
		db  10h
		db  12h
		db  14h
		db  16h
		db  18h
		db  1Ah
		db  1Ch
		db  1Eh
		db  20h
		db  23h	; #
ServerVersion	dw 315h			; DATA XREF: SendServerPatch+61r
					; LookForServer+63r ...
Long1		dw 400h			; DATA XREF: ExpandWall:loc_476Dr
					; ExpandWall+381r ...
word_36278	dw 0			; DATA XREF: ExpandWall+DFr
					; ExpandWall+37Br ...
LB		db 0Ah			; DATA XREF: ExpandWall+4C2r
					; ExpandWall+651r ...
Internal	db 0			; DATA XREF: ExecConsole+B46r FSeek+3r ...
UserMaps	dw 0			; DATA XREF: PROGRAM:loc_E549w
					; PROGRAM:loc_E89Br ...
intFCnt		dw 0			; DATA XREF: FOpen+168r TOpen+143r ...
CSMid		dw 5343h		; DATA XREF: sub_317C3+A7r
word_36282	dw 6469h		; DATA XREF: sub_317C3+A1r
ConsoleCommands	db 4,'QUIT'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
aNew_1		db 3,'NEW'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		align 2
aRestart	db 7,'RESTART'
		db 0
		db 0
		db 0
		db 0
		db 0
aAmmo_0		db 4,'AMMO'
		db 0
		align 8
aFullmap	db 7,'FULLMAP'
		db 0
		db 0
		db 0
		db 0
		db 0
aKill_0		db 4,'KILL'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		align 2
aChojin_1	db 6,'CHOJIN'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
aWeapon_0	db 6,'WEAPON'
		db 0
		db 0
		db 0
		align 4
aFreeze		db 6,'FREEZE'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
aInfo		db 4,'INFO'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		align 2
a3d_0		db 2,'3D'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
aSlow		db 4,'SLOW'
		align 10h
aReanimate	db 9,'REANIMATE'
		db 0
		db 0
		db 0
aDepth_1	db 5,'DEPTH'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		align 2
aReverse	db 7,'REVERSE'
		db 0
		db 0
		db 0
		db 0
		db 0
aArmor		db 5,'ARMOR'
		db 0
		db 0
		db 0
		db 0
		align 4
aInvisible_0	db 9,'INVISIBLE'
		db 0
		db 0
		db 0
aDt		db 2,'DT'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		align 2
aKeys		db 4,'KEYS'
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
aGo		db 2,'GO'
		db 0
		db 0
		db 0
		align 8
aShadows	db 7,'SHADOWS'
		db 0
		db 0
		db 0
		db 0
		db    0
		db    7
		db  52h	; R
		db  45h	; E
		db  53h	; S
		db  50h	; P
		db  41h	; A
		db  57h	; W
		db  4Eh	; N
		db    0
		db    0
		db    0
		db    0
		db    0
		db    4
		db  4Eh	; N
		db  45h	; E
		db  58h	; X
		db  54h	; T
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    1
		db  20h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    5
		db  4Bh	; K
		db  49h	; I
		db  4Ch	; L
		db  4Ch	; L
		db  50h	; P
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    4
		db  4Bh	; K
		db  49h	; I
		db  43h	; C
		db  4Bh	; K
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    7
		db  53h	; S
		db  59h	; Y
		db  4Eh	; N
		db  43h	; C
		db  48h	; H
		db  52h	; R
		db  4Fh	; O
		db    0
		db    0
		db    0
		db    0
		db    0
		db    5
		db  53h	; S
		db  54h	; T
		db  41h	; A
		db  52h	; R
		db  54h	; T
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    4
		db  4Ah	; J
		db  4Fh	; O
		db  49h	; I
		db  4Eh	; N
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    5
		db  42h	; B
		db  52h	; R
		db  45h	; E
		db  41h	; A
		db  4Bh	; K
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    4
		db  4Eh	; N
		db  49h	; I
		db  43h	; C
		db  4Bh	; K
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    5
		db  43h	; C
		db  4Ch	; L
		db  49h	; I
		db  53h	; S
		db  54h	; T
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    6
		db  53h	; S
		db  50h	; P
		db  4Ch	; L
		db  49h	; I
		db  4Eh	; N
		db  45h	; E
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  0Ah
		db  52h	; R
		db  45h	; E
		db  53h	; S
		db  45h	; E
		db  54h	; T
		db  46h	; F
		db  52h	; R
		db  41h	; A
		db  47h	; G
		db  53h	; S
		db    0
		db    0
		db    3
		db  53h	; S
		db  41h	; A
		db  59h	; Y
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    1
		db  20h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    1
		db  20h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    4
		db  53h	; S
		db  54h	; T
		db  4Fh	; O
		db  50h	; P
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    6
		db  52h	; R
		db  45h	; E
		db  43h	; C
		db  4Fh	; O
		db  52h	; R
		db  44h	; D
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    4
		db  50h	; P
		db  4Ch	; L
		db  41h	; A
		db  59h	; Y
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    6
		db  43h	; C
		db  44h	; D
		db  50h	; P
		db  4Ch	; L
		db  41h	; A
		db  59h	; Y
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    6
		db  43h	; C
		db  44h	; D
		db  53h	; S
		db  54h	; T
		db  4Fh	; O
		db  50h	; P
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
ncNames		db    3
		db  49h	; I
		db  50h	; P
		db  58h	; X
		db    0
		db    0
		db    0
		db    0
		db    6
		db  53h	; S
		db  65h	; e
		db  72h	; r
		db  69h	; i
		db  61h	; a
		db  6Ch	; l
		db    0
		db    5
		db  4Dh	; M
		db  6Fh	; o
		db  64h	; d
		db  65h	; e
		db  6Dh	; m
		db    0
		db    0
ncSDivs		db    6
		db    0
		db    4
		db    0
		db    3
		db    0
		db    2
		db    0
		db    1
		db    0
ncYDelta	db    0
		db    0
		db    2
		db    0
		db    2
		db    0
VideoPos	db    8
		db    0
		db    8
		db    0
		db  48h	; H
		db    1
		db    8
		db    0
		db    8
		db    0
		db 0A8h	; ¨
		db    0
		db  48h	; H
		db    1
		db 0A8h	; ¨
		db    0
ReColorShift	db    0
		db  20h
		db 0E0h	; à
		db 0C0h	; À
		db  90h	; 
		db  50h	; P
		db 0D0h	; Ð
		db  80h	; €
OnOff		db    4
		db  20h
		db  4Fh	; O
		db  66h	; f
		db  66h	; f
		db    3
		db  20h
		db  4Fh	; O
		db  6Eh	; n
		db    0
Fr		dw 4Ch			; DATA XREF: TryToGo__0+125r
					; TryToGo__0:loc_18BDCr ...
Fr2		db  90h	; 
		db  16h
Frr		db  7Ch	; |
		db    0
GUSVoices	dw 1Ch			; DATA XREF: UltraReset+65r
					; UltraReset+70r ...
_GF1_IRQ	db    0
		db    0
		db    1
		db    3
		db    0
		db    2
		db    0
		db    4
		db    0
		db    0
		db    0
		db    5
		db    6
		db    0
		db    0
		db    7
_GF1_DMA	db    0
		db    0
		db    1
		db    0
		db    5
		db    0
		db    1
		db    0
		db  83h	; ƒ
		db    0
		db    2
		db    0
		db    3
		db    0
		db  0Ah
		db    0
		db  0Bh
		db    0
		db  0Ch
		db    0
		db  49h	; I
		db    0
		db  45h	; E
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    6
		db    0
		db    2
		db    0
		db  81h	; 
		db    0
		db    4
		db    0
		db    5
		db    0
		db  0Ah
		db    0
		db  0Bh
		db    0
		db  0Ch
		db    0
		db  4Ah	; J
		db    0
		db  46h	; F
		db    0
		db    0
		db    0
		db    0
		db    2
		db    0
		db    7
		db    0
		db    3
		db    0
		db  82h	; ‚
		db    0
		db    6
		db    0
		db    7
		db    0
		db  0Ah
		db    0
		db  0Bh
		db    0
		db  0Ch
		db    0
		db  4Bh	; K
		db    0
		db  47h	; G
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    4
		db    0
		db    0
		db    0
		db  8Fh	; 
		db    0
		db 0C0h	; À
		db    0
		db 0C2h	; Â
		db    0
		db 0D4h	; Ô
		db    0
		db 0D6h	; Ö
		db    0
		db 0D8h	; Ø
		db    0
		db  48h	; H
		db    0
		db  44h	; D
		db    0
		db    0
		db    0
		db    0
		db    3
		db    0
		db    5
		db    0
		db    1
		db    0
		db  8Bh	; ‹
		db    0
		db 0C4h	; Ä
		db    0
		db 0C6h	; Æ
		db    0
		db 0D4h	; Ô
		db    0
		db 0D6h	; Ö
		db    0
		db 0D8h	; Ø
		db    0
		db  49h	; I
		db    0
		db  45h	; E
		db    0
		db    0
		db    0
		db    0
		db    4
		db    0
		db    6
		db    0
		db    2
		db    0
		db  89h	; ‰
		db    0
		db 0C8h	; È
		db    0
		db 0CAh	; Ê
		db    0
		db 0D4h	; Ô
		db    0
		db 0D6h	; Ö
		db    0
		db 0D8h	; Ø
		db    0
		db  4Ah	; J
		db    0
		db  46h	; F
		db    0
		db    0
		db    0
		db    0
		db    5
		db    0
		db    7
		db    0
		db    3
		db    0
		db  8Ah	; Š
		db    0
		db 0CCh	; Ì
		db    0
		db 0CEh	; Î
		db    0
		db 0D4h	; Ô
		db    0
		db 0D6h	; Ö
		db    0
		db 0D8h	; Ø
		db    0
		db  4Bh	; K
		db    0
		db  47h	; G
		db    0
		db    0
		db    0
DRAM_DMA	db 0			; DATA XREF: UltraSetInterface+1Fw
					; UltraSetInterface+28r
		align 2
MoneySign	db 24h			; DATA XREF: Form+323r
CommaForPeriod	db 0			; DATA XREF: Form+129r	Form+147r
Digits		db  30h	; 0
		db  31h	; 1
		db  32h	; 2
		db  33h	; 3
		db  34h	; 4
		db  35h	; 5
		db  36h	; 6
		db  37h	; 7
		db  38h	; 8
		db  39h	; 9
		db  41h	; A
		db  42h	; B
		db  43h	; C
		db  44h	; D
		db  45h	; E
		db  46h	; F
DosDelimSet	db    1
		db    0
		db    0
		db    0
		db    0
		db  80h	; €
		db    0
		db    4
		db    0
		db    0
		db    0
		db  10h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
FormChars	db 8,'#@*$-+,.'         ; DATA XREF: Form+9Bo
		align 2
PlusArray	db  2Bh	; +
		db  2Dh	; -
MinusArray	db  20h
		db  2Dh	; -
FillArray	db  20h
		db  2Ah	; *
		db  30h	; 0
		db    0
HInstance	dw 0			; DATA XREF: __SystemInit(void):loc_34022w
HeapList	dw 0			; DATA XREF: MEMAVAIL+Er MEMAVAIL+23r	...
HeapLimit	dw 400h			; DATA XREF: PROGRAM+C06w
					; __NewMemory:loc_34410r ...
HeapBlock	dw 2000h		; DATA XREF: PROGRAM+C0Cw
					; __NewMemory+1Cr ...
HeapAllocFlags	db    2
		db    0
HeapError	dd 0			; DATA XREF: __NewMemory:loc_34442r
					; __NewMemory+46r ...
ExitProc	dd 0			; DATA XREF: __SystemInit(void)+105w
					; __DoExitProcsr ...
ExitCode	dw 0			; DATA XREF: Halt(Word)+Aw
					; Halt(Word)+44r ...
ErrorAddr	dw 0			; DATA XREF: Halt(Word):loc_342C5w
					; Halt(Word):loc_342D7r ...
word_36614	dw 0			; DATA XREF: Halt(Word)+2Aw
					; Halt(Word)+3Br ...
PrefixSeg	dw 0			; DATA XREF: GetEnv+32r
					; __SystemInit(void)+7w ...
InOutRes	dw 0			; DATA XREF: __DoExitProcs+12w
					; IOResult(void)+2w ...
RandSeed	dd 0			; DATA XREF: PROGRAM+D9r StartDemo+7w	...
SelectorInc	dw 0			; DATA XREF: MsDos+11r
					; __SystemInit(void)+2Ew
Seg0040		dw 0			; DATA XREF: PROGRAM:loc_E26Br
					; unknown_libname_2+36r ...
SegA000		dw 0			; DATA XREF: PlayBrifing+537r
					; GetB__0+23r ...
SegB000		dw 0			; DATA XREF: __SystemInit(void)+40w
SegB800		dw 0			; DATA XREF: __SystemInit(void)+46w
Test8086	db 0			; DATA XREF: __SystemInit(void)+2Aw
					; operator*=(Longint,Longint)r	...
Test8087:
		align 2
FileMode	db 2			; DATA XREF: Reset(File	&,Word)r
		align 2
		db  52h	; R
		db  75h	; u
		db  6Eh	; n
		db  74h	; t
		db  69h	; i
		db  6Dh	; m
		db  65h	; e
		db  20h
		db  65h	; e
		db  72h	; r
		db  72h	; r
		db  6Fh	; o
		db  72h	; r
		db  20h
		db  30h	; 0
		db  30h	; 0
		db  30h	; 0
		db  20h
		db  61h	; a
		db  74h	; t
		db  20h
		db  30h	; 0
		db  30h	; 0
		db  30h	; 0
		db  30h	; 0
		db  3Ah	; :
		db  30h	; 0
		db  30h	; 0
		db  30h	; 0
		db  30h	; 0
		db  2Eh	; .
		db  0Dh
		db  0Ah
		db  24h	; $
		db  0Dh
		db  0Ah
CFlr		db 0			; DATA XREF: Draw_Cell1+76r
					; Draw_Cell1:loc_2950r	...
LSMenuY		db 0			; DATA XREF: ProcessMenu+582w
					; ProcessPreKeyboard+17Cw ...
SkyY		dw 0			; DATA XREF: BuildSky+61w
					; BuildSky+14Er ...
SkyX		dw 0			; DATA XREF: BuildSky+47w
					; BuildSky+103r
AliasMask	dw 0			; DATA XREF: CellVHi+12Fw
					; StartPaint:loc_3DD4w	...
InversGlass	db 0			; DATA XREF: ShowGlassLine+41r
					; ShowGlassLine2+41r ...
		align 2
DRegs		dw 0			; DATA XREF: DO_CD_Play+42o
					; DO_CD_Play+7Eo ...
		db    0
		db    0
word_3665E	dw 0			; DATA XREF: ConnectIPXProcessor+44r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3666A	dw 0			; DATA XREF: DO_CD_Play:loc_61w
					; DO_CD_Play+67w ...
word_3666C	dw 0			; DATA XREF: DO_CD_Play+31w
					; DO_CD_Play+6Dw ...
		db    0
		db    0
		db    0
		db    0
word_36672	dw 0			; DATA XREF: DO_CD_Play+3Bw
					; DO_CD_Play+77w ...
word_36674	dw 0			; DATA XREF: DO_CD_Play+3Ew
					; DO_CD_Play+7Aw ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3667C	dw 0			; DATA XREF: ConnectIPXProcessor+22r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
PServerLocal	dd 0			; DATA XREF: MakeChanges+1Br
					; CorrectProcesses+13r	...
PServerPatch	dd 0			; DATA XREF: DoneChanges+1Br
					; ConnectIPXProcessor+4Aw ...
PClientPatches	dd 0			; DATA XREF: ConnectIPXProcessor+57w
					; INIT_IPX_SERVER+63r ...
iMyPlayer	dd 0			; DATA XREF: LoadServerPatch+1C1w
					; LoadServerPatch+261w	...
iPlayer		dd 0			; DATA XREF: LoadServerPatch+1FEw
					; LoadServerPatch+21Er	...
IPXNpSeg	db    0
		db    0
IPXServOfs	db    0
		db    0
IPXClientOfs	db    0
		db    0
KALI		db 0			; DATA XREF: LoadServerPatch+4r
					; LoadServerPatch:loc_FA7r ...
NPinst		db 0			; DATA XREF: RealInt60h+3r
					; RefreshMachineMode+3r ...
NextSendTime	dw 0			; DATA XREF: SendServerPatch+13r
					; SendServerPatch+2Bw ...
word_366AA	dw 0			; DATA XREF: SendServerPatch+Br
					; SendServerPatch+2Ew ...
NetPeriod	dw 0			; DATA XREF: SendServerPatch+23r
					; SendClientPatch+23r ...
word_366AE	dw 0			; DATA XREF: SendServerPatch+27r
					; SendClientPatch+27r ...
LastServerTime	dw 0			; DATA XREF: LoadServerPatch+101w
					; LoadServerPatch+117w	...
word_366B2	dw 0			; DATA XREF: LoadServerPatch+104w
					; LoadServerPatch+11Aw	...
DeltaT		dw 0			; DATA XREF: DoGame+408w DoGame+40Br ...
DLSeg		dw 0			; DATA XREF: ConnectIPXProcessor+9Cw
					; LoadServerPatch+29r ...
DsSeg		dw 0			; DATA XREF: ConnectIPXProcessor+71w
					; SendServerPatch+15Er	...
DsOfs		dw 0			; DATA XREF: ConnectIPXProcessor+7Aw
					; SendServerPatch+132r	...
DpOfs		dw 0			; DATA XREF: SendServerPatch+136w
					; SendServerPatch+162r	...
FLen		dw 0			; DATA XREF: Draw_Cell1+57r
					; Draw_Cell2+57r ...
nn		db    0
		db    0
Cpx		dw 0			; DATA XREF: Draw_Cell1+6Ar
					; Draw_Cell2+6Ar ...
Cpy		dw 0			; DATA XREF: Draw_Cell1+6Fr
					; Draw_Cell2+6Fr ...
Xi		db 0			; DATA XREF: Draw_Cell1+2Dr
					; Draw_Cell2+2Dr ...
Yi		db 0			; DATA XREF: Draw_Cell1+3Cr
					; Draw_Cell2+3Cr ...
FCSAddr		dd 0			; DATA XREF: Draw_Cell1+62r
					; Draw_Cell2+62r ...
HalfShr		dw 0			; DATA XREF: ExpandPicture+18r
					; ExpandPicture+20w ...
Blow		dw 0			; DATA XREF: MoveRocket+F3w
					; MoveRocket:loc_6AC0r	...
Cr		dw 0			; DATA XREF: MoveRocket+E4r
					; AnimateRockets+279w
Sd		dw 0			; DATA XREF: MoveRocket+4r
					; MoveRocket:loc_69DCr	...
rdfi		dw 0			; DATA XREF: AnimateRockets+382w
					; AnimateRockets+3B4r ...
rn		dw 0			; DATA XREF: AnimateRockets+385w
					; AnimateRockets:loc_6EFCw ...
rtgx		dw 0			; DATA XREF: AnimateRockets+2CAw
					; AnimateRockets+2FFw ...
rtgy		dw 0			; DATA XREF: AnimateRockets+2CFw
					; AnimateRockets+306w ...
rtgz		dw 0			; DATA XREF: AnimateRockets+2D2w
					; AnimateRockets+320w ...
BuildSceneRout	dd 0			; DATA XREF: PROGRAM+229w
					; PlayBrifing+321r ...
GoSkip		db 0			; DATA XREF: LoadVoice+1Br SetAni+4r ...
		align 2
CurState	dw 0			; DATA XREF: ExecNextCommand+31w
					; ExecNextCommand+48w ...
CurDelay	dw 0			; DATA XREF: ExecNextCommand+9Co
					; ProcessBrif+1E4w ...
CurCar		dw 0			; DATA XREF: ExecNextCommand+127w
					; PreProcessBrif+7Br ...
CurVoice	dw 0			; DATA XREF: ExecNextCommand+69w
					; ProcessBrif:loc_FFB7r
Characters	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Command		db 0			; DATA XREF: LoadCharacter+66o
					; LoadCharacter+72o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
BrText		dd 0			; DATA XREF: DeInitBrifing+4o
					; AddText+6Cr ...
Room		dw 0			; DATA XREF: LoadSetup+74w
					; PlayBrifing+59w ...
CurTop		dw 0			; DATA XREF: AddText+7Fr AddText+8Bw ...
CurLine		dw 0			; DATA XREF: AddText+67r AddText+7Bw ...
BrifBar		dd 0			; DATA XREF: DeInitBrifing:loc_F159o
					; PlayBrifing+9Ao ...
Camera		dw 0			; DATA XREF: LoadSetup+97w
					; ProcessBrif+78w ...
word_36876	dw 0			; DATA XREF: LoadSetup+9Fw
					; ProcessBrif+7Ew ...
word_36878	dw 0			; DATA XREF: LoadSetup+A7w
					; LoadSetup+E2r ...
word_3687A	dw 0			; DATA XREF: LoadSetup+DFw
					; LoadSetup+EBw ...
word_3687C	dw 0			; DATA XREF: LoadSetup+F3w
					; ExecNextCommand+209o	...
word_3687E	dw 0			; DATA XREF: ExecNextCommand+21Ew
					; ProcessBrif+16r ...
word_36880	dw 0			; DATA XREF: ExecNextCommand+1AFw
					; ProcessBrif+75r ...
word_36882	dw 0			; DATA XREF: ExecNextCommand+1B7w
					; ProcessBrif+7Br ...
word_36884	dw 0			; DATA XREF: ExecNextCommand+1BFw
					; ExecNextCommand+1CFr	...
word_36886	dw 0			; DATA XREF: ExecNextCommand+206w
					; ProcessBrif+81r ...
demotime	dw 0			; DATA XREF: DoGame+3C7w
					; Demo_RecordNext+4r ...
word_3688A	dw 0			; DATA XREF: DoGame+3CAw
					; Demo_ReadNextQuant+49w ...
DemoTakts	dw 0			; DATA XREF: EndDemo+7w EndDemo+51o ...
DemoOfs		dw 0			; DATA XREF: DeInit_DemoSystem+19w
					; EndDemo+16o ...
DBlockSize	dw 0			; DATA XREF: StartDemo+DAo
					; StartDemo+F5r ...
DemoPtr		dd 0			; DATA XREF: Init_DemoSystem+Ao
					; Init_DemoSystem+17r ...
DmSeg		dw 0			; DATA XREF: Init_DemoSystem+1Dw
					; Demo_RecordNext+8r ...
DTakt		dw 0			; DATA XREF: StartDemo+15w
					; Demo_ReadNextQuant+4r ...
MemoActive	db 0			; DATA XREF: Init_DemoSystem+3r
					; Init_DemoSystem:loc_12199w ...
		align 2
PPS		dd 0			; DATA XREF: Demo_RecordNext+26w
					; Demo_RecordNext+2Dr ...
DEvent		db 0			; DATA XREF: Demo_ReadNextQuant+339o
					; Demo_ReadNextQuant+345r
byte_368A1	db 0			; DATA XREF: Demo_ReadNextQuant+349r
word_368A2	dw 0			; DATA XREF: Demo_ReadNextQuant+34Dr
word_368A4	dw 0			; DATA XREF: Demo_ReadNextQuant+351r
word_368A6	dw 0			; DATA XREF: Demo_ReadNextQuant+355r
word_368A8	dw 0			; DATA XREF: Demo_ReadNextQuant+359r
M		dw 0			; DATA XREF: Demo_ReadNextQuant+3BEo
					; Demo_ReadNextQuant+3E9r ...
word_368AC	dw 0			; DATA XREF: Demo_ReadNextQuant+3EDr
					; Demo_ReadNextQuant+41Er ...
		db    0
		db    0
		db    0
		db    0
word_368B2	dw 0			; DATA XREF: Demo_ReadNextQuant:loc_12ACEr
					; Demo_ReadNextQuant:loc_12AFFr ...
byte_368B4	db 0			; DATA XREF: Demo_ReadNextQuant+3F1r
					; Demo_ReadNextQuant+422r ...
byte_368B5	db 0			; DATA XREF: Demo_ReadNextQuant+3CAr
					; Demo_ReadNextQuant+442r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
plx		dw 0			; DATA XREF: GetTarget+16Ew
					; GetTarget+233w ...
ply		dw 0			; DATA XREF: GetTarget+175w
					; GetTarget+23Aw ...
ShadowCount	dw 0			; DATA XREF: LoadConfig+197o
					; ExecConsole+32Cw ...
ShLevel		dw 0			; DATA XREF: VLineD+84r
					; Draw3DObject+23Fw ...
GlobX		dw 0			; DATA XREF: Expand3dObject+4Dw
					; ExpandSepPart+2Cw ...
GlobY		dw 0			; DATA XREF: Expand3dObject+54w
					; ExpandSepPart+33w ...
Curdark		dw 0			; DATA XREF: DrawItems+4w
					; EndPaint+1E0w ...
HPrior		dw 0			; DATA XREF: DrawHoles+162w
					; Expand3dObject+BAw ...
DrawMask	db 0			; DATA XREF: DrawHoles+176r
					; DrawHoles+17Bw ...
YWrap		db 0			; DATA XREF: Expand3dObject:loc_5C78w
					; RotateModelASM+BDr ...
Invisibility	db 0			; DATA XREF: EndPaint:loc_4414w
					; ExpandPlayer:loc_6560w ...
HiRot		db 0			; DATA XREF: Expand3dObject:loc_5C89w
					; Draw3DObject:loc_17EDDr ...
XTabUpdated	db 0			; DATA XREF: DrawFaces+1Fr
					; RotateModelASM_HiDet+17Bw ...
		align 2
XFi		dw 0			; DATA XREF: ExpandRocket+E7w
					; ExpandPlayer+114w ...
Xfiz0		dw 0			; DATA XREF: RotateModelASM_XZ+17Ar
					; Draw3DObject+640w
DepthD		dw 0			; DATA XREF: Expand3dObject+15Bw
					; Expand3dObject+162w ...
ShadowZ0	dw 0			; DATA XREF: Expand3dObject+74w
					; Expand3dObject+77r ...
_dx		dw 0			; DATA XREF: BuildTreeAsm_Clip+134w
					; BuildTreeAsm_Clip+144r
ReColor		dw 0			; DATA XREF: ExpandSepPart+B3w
					; ExpandPlayer+97w ...
LocalFi		dw 0			; DATA XREF: Expand3dObject+31w
					; RotateModelASM_HiDet+4r
WallHhi		dw 0			; DATA XREF: ProcToScrASM_Clip_hi+4Dr
					; DrawHi3D+202w
WallWhi		dw 0			; DATA XREF: ProcToScrASM_Clip_hi+38r
					; DrawHi3D+220w
FacesXtab	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Lx1		dw 0			; DATA XREF: DrawFourFacew
					; DrawFourFace+20r ...
Lx2		dw 0			; DATA XREF: DrawFourFace+6w
					; DrawFourFace:loc_168B1r ...
Ix		db    0
		db    0
Nx		db    0
		db    0
DDIX		db    0
		db    0
DDX		db    0
		db    0
DDY		db    0
		db    0
OBJx		dw 0			; DATA XREF: RotateModelCopy+12r
					; RotateModelASM+9Fr ...
OBJy		dw 0			; DATA XREF: RotateModelCopy+1Dr
					; RotateModelASM+B7r ...
OBJz		dw 0			; DATA XREF: ProcToScrASM_Far+2Fr
					; ProcToScrASM_Clip+68r ...
LCnt		dw 0			; DATA XREF: Draw3DObject+16Ew
					; Draw3DObject+17Ar ...
LtX		dw 0			; DATA XREF: CreateShadow+15r
					; Draw3DObject+1FCw ...
LtY		dw 0			; DATA XREF: CreateShadow+30r
					; Draw3DObject+239w ...
llx		dw 0			; DATA XREF: Draw3DObject+1B8w
					; Draw3DObject+1E3r ...
lly		dw 0			; DATA XREF: Draw3DObject+1C5w
					; Draw3DObject+1D0r ...
R		dw 0			; DATA XREF: Draw3DObject+2B8w
					; Draw3DObject+2BBr ...
LSY1		db    0
		db    0
		db    0
		db    0
LDDY		db    0
		db    0
		db    0
		db    0
adx		dw 0			; DATA XREF: DrawFourFace+Fw
					; DrawFourFace+29r ...
ady		db    0
		db    0
adtx		db    0
		db    0
adty		db    0
		db    0
OHSeg		dw 0			; DATA XREF: DrawFaces+9r
					; DrawFacesNoCheck+9r ...
lnH		dw 0			; DATA XREF: cseg04:004Cw
					; cseg04:loc_156D7r ...
CSprOfs		dw 0			; DATA XREF: cseg04:0187r cseg04:0326r ...
CSCopy		dw 0			; DATA XREF: sub_1893B+6Dw
					; sub_1893B+70r
CurFI		dw 0			; DATA XREF: RotateModelASM+4r
					; RotateModelASM_XZ+96r ...
CntrVCnt	db    0
		db    0
VCount		dw 0			; DATA XREF: RotateModelCopy+Br
					; RotateModelASM+8Cr ...
FCount		dw 0			; DATA XREF: RotateModelASM_HiDet+16Fr
					; BuildTreeAsm_Far+14r	...
CurDH		dw 0			; DATA XREF: cseg04:002Dr cseg04:01BBr ...
CurShDh		db    0
		db    0
TSeg		dw 0			; DATA XREF: Draw3DObject+9Fw
					; Draw3DObject+B4r ...
n		dw 0			; DATA XREF: BuildTreeAsm_Far+Ew
					; BuildTreeAsm_Far:loc_1722Cr ...
np		dw 0			; DATA XREF: BuildTreeAsm_Far+E7w
					; BuildTreeAsm_Far+EAr	...
npp		dw 0			; DATA XREF: BuildTreeAsm_Far+FCw
					; BuildTreeAsm_Far+10Cr ...
Current		dw 0			; DATA XREF: DrawFaces+Er
					; DrawFacesNoCheck+Er ...
WallH4		dw 0			; DATA XREF: ProcToScrASM_Far+33r
					; ProcToScrASM_Clip+6Cr ...
POH		dw 0			; DATA XREF: Draw3DObject+5Ew
					; Show3DObject+1Fw ...
word_36C6C	dw 0			; DATA XREF: Draw3DObject+61w
					; Show3DObject+22w ...
Ya		dw 0			; DATA XREF: DrawTriFace+155w
					; DrawTriFace+23Fw ...
word_36C70	dw 0			; DATA XREF: cseg04:loc_156A6r
					; cseg04:loc_156B2r ...
DYa		db    0
		db    0
		db    0
		db    0
Yb		dw 0			; DATA XREF: DrawTriFace+15Ew
					; DrawTriFace+25Bw ...
word_36C78	dw 0			; DATA XREF: cseg04:0039r cseg04:0046r ...
DYb		db    0
		db    0
		db    0
		db    0
dy1		dw 0			; DATA XREF: DrawTriFace+19Bw
					; DrawTriFace+258r ...
word_36C80	dw 0			; DATA XREF: DrawTriFace+196w
					; DrawTriFace+25Fr ...
dy2		dw 0			; DATA XREF: DrawTriFace+1D5w
					; DrawTriFace+2C7r ...
word_36C84	dw 0			; DATA XREF: DrawTriFace+1D0w
					; DrawTriFace+2CEr ...
dy3		dw 0			; DATA XREF: DrawTriFace+20Fw
					; DrawTriFace+23Cr ...
word_36C88	dw 0			; DATA XREF: DrawTriFace+20Aw
					; DrawTriFace+243r ...
dy4		dw 0			; DATA XREF: DrawFourFace1234+134w
					; DrawFourFace1234+25Er ...
word_36C8C	dw 0			; DATA XREF: DrawFourFace1234+12Fw
					; DrawFourFace1234+265r ...
txa		dw 0			; DATA XREF: cseg04:0079r
					; cseg04:loc_15700r ...
tya		dw 0			; DATA XREF: cseg04:0086r cseg04:0094r ...
dtxa		db    0
		db    0
dtya		db    0
		db    0
txb		dw 0			; DATA XREF: cseg04:0076r cseg04:010Dr ...
tyb		dw 0			; DATA XREF: cseg04:0083r cseg04:011Ar ...
dtxb		db    0
		db    0
dtyb		db    0
		db    0
L1		dw 0			; DATA XREF: DrawTriFace+126w
					; DrawTriFace+164r ...
L2		dw 0			; DATA XREF: DrawTriFace+130w
					; DrawTriFace:loc_16260r ...
L3		dw 0			; DATA XREF: DrawTriFace+13Aw
					; DrawTriFace:loc_1629Ar ...
l4		dw 0			; DATA XREF: DrawFourFace1234+25w
					; DrawFourFace1234:loc_1649Br ...
x1		dw 0			; DATA XREF: cseg04:0023r cseg04:0169r ...
x2		dw 0			; DATA XREF: DrawTriFace+E7w
					; DrawTriFace+11Fr ...
x3		dw 0			; DATA XREF: DrawTriFace+115w
					; DrawTriFace+129r ...
x4		dw 0			; DATA XREF: DrawFourFace1234+Ar
					; DrawFourFace1234+1Er	...
y1		dw 0			; DATA XREF: DrawTriFace+C0w
					; DrawTriFace+14Fr ...
y2		dw 0			; DATA XREF: DrawTriFace+EEw
					; DrawTriFace+18Dr ...
y3		dw 0			; DATA XREF: DrawTriFace+11Cw
					; DrawTriFace+1C7r ...
y4		dw 0			; DATA XREF: DrawFourFace1234+B2r
					; DrawFourFace1234+126r ...
tx1		dw 0			; DATA XREF: DrawTriFace+A0w
					; DrawTriFace+13Dr ...
ty1		dw 0			; DATA XREF: DrawTriFace+A7w
					; DrawTriFace+146r ...
tx2		dw 0			; DATA XREF: DrawTriFace+CEw
					; DrawTriFace+173r ...
ty2		dw 0			; DATA XREF: DrawTriFace+D5w
					; DrawTriFace+180r ...
tx3		dw 0			; DATA XREF: DrawTriFace+FCw
					; DrawTriFace+1ADr ...
ty3		dw 0			; DATA XREF: DrawTriFace+103w
					; DrawTriFace+1BAr ...
tx4		dw 0			; DATA XREF: DrawFourFace1234+98r
					; DrawFourFace1234+10Cr ...
ty4		dw 0			; DATA XREF: DrawFourFace1234+A5r
					; DrawFourFace1234+119r ...
dtx1		dw 0			; DATA XREF: DrawTriFace+17Cw
					; DrawTriFace+24Ar ...
dty1		dw 0			; DATA XREF: DrawTriFace+189w
					; DrawTriFace+251r ...
dtx2		dw 0			; DATA XREF: DrawTriFace+1B6w
					; DrawTriFace+2B9r ...
dty2		dw 0			; DATA XREF: DrawTriFace+1C3w
					; DrawTriFace+2C0r ...
dtx3		dw 0			; DATA XREF: DrawTriFace+1F0w
					; DrawTriFace:loc_162F0r ...
dty3		dw 0			; DATA XREF: DrawTriFace+1FDw
					; DrawTriFace+235r ...
dtx4		dw 0			; DATA XREF: DrawFourFace1234+115w
					; DrawFourFace1234+250r ...
dty4		dw 0			; DATA XREF: DrawFourFace1234+122w
					; DrawFourFace1234+257r ...
x		db    0
		db    0
ctdx		dw 0			; DATA XREF: cseg04:007Fw cseg04:00A8r ...
ctdy		dw 0			; DATA XREF: cseg04:008Cw cseg04:00A1r ...
vx		db    0
		db    0
vy		db    0
		db    0
ux		dw 0			; DATA XREF: BuildTreeAsm_Far+7Dw
					; BuildTreeAsm_Far+A5r	...
uy		dw 0			; DATA XREF: BuildTreeAsm_Far+86w
					; BuildTreeAsm_Far+99r	...
v1		dw 0			; DATA XREF: DrawTriFace+2Bw
					; DrawTriFace:loc_160F5w ...
v2		dw 0			; DATA XREF: DrawTriFace:loc_16154w
					; DrawTriFace+C3r ...
v3		dw 0			; DATA XREF: DrawTriFace+3Dw
					; DrawTriFace:loc_16107w ...
v4		dw 0			; DATA XREF: DrawFourFace+4Bw
					; DrawFourFace+127r ...
DrawRoutOfsTab	dw 0			; DATA XREF: Draw3DObject+5E2w
					; Draw3DObject+5EAw ...
word_36CEE	dw 0			; DATA XREF: Draw3DObject+614w
					; Draw3DObject+625w ...
word_36CF0	dw 0			; DATA XREF: Draw3DObject+5F0w
					; Draw3DObject+62Bw ...
word_36CF2	dw 0			; DATA XREF: Draw3DObject+5F6w
					; Draw3DObject+631w ...
word_36CF4	dw 0			; DATA XREF: sub_1893B+44w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
DrawRout	dd 0			; DATA XREF: DrawTriFace:loc_162ECr
					; DrawTriFace+299r ...
Div_tab		dw 0			; DATA XREF: sub_1893B+89w
word_36D02	dw 0			; DATA XREF: sub_1893B+8Fw
word_36D04	dw 0			; DATA XREF: sub_1893B+95w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Free_vert	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
PProc		dd 0			; DATA XREF: CorrectProcesses+72r
					; AnimateSwitches+D2r ...
PLinks		dd 0			; DATA XREF: AnimateSwitches+8Br
					; CheckFloorLinks+53r ...
PMList		dd 0			; DATA XREF: LoadMessage+64r
					; LoadMessage+B0r ...
PChanges	dd 0			; DATA XREF: MakeChanges+69r
					; DoneChanges+6Cr ...
LinksCount	dw 0			; DATA XREF: AnimateSwitches+4r
					; AnimateSwitches:loc_772Er ...
NetOnCount	db    0
		db    0
NetOffCount	db    0
		db    0
ChangesCount	dw 0			; DATA XREF: InitChanges+6w
					; InitChanges+51r ...
pnum		dw 0			; DATA XREF: LoadAction+4r
					; LoadProcess+3Aw ...
i		dw 0			; DATA XREF: Test2Vectors+51w
					; Test2Vectors+67r ...
MortalTimer	dw 0			; DATA XREF: DoGame+BF3w
					; DoGame:loc_CE85r ...
MortalTick	db 0			; DATA XREF: DoGame+C1Bw
					; DoGame:loc_CE98w ...
		align 2
Corrected	db 0			; DATA XREF: TryToGo__0:loc_18B9Ew
					; TryToGo2P+52w ...
		align 2
cfx		dw 0			; DATA XREF: CheckConflict+D2r
					; CheckConflict+F4r ...
cfy		dw 0			; DATA XREF: CheckConflict+C0r
					; CheckConflict+CCr ...
CelSaved	dw 0			; DATA XREF: SavePicture+24r
					; SavePicture+52w ...
KbWait		dw 0			; DATA XREF: RemoveMouse+6Br
					; RemoveMouse+8Aw ...
PM		dd 0			; DATA XREF: ProcessMenu+561r
					; ProcessPreKeyboard+161r ...
MainMenu	dw 0			; DATA XREF: UpDateMenu+196r
					; UpDateMenu+1C3r ...
word_37570	dw 0			; DATA XREF: UpDateMenu+19Ar
word_37572	dw 0			; DATA XREF: UpDateMenu+18Ar
					; UpDateMenu+1AEr ...
dword_37574	dd 0			; DATA XREF: UpDateMenu+1A2r
					; UpDateMenu+1CFr ...
SklMenu		dw 0			; DATA XREF: UpDateMenu+82Dr
					; UpDateMenu+85Ar ...
word_3757A	dw 0			; DATA XREF: UpDateMenu+831r
word_3757C	dw 0			; DATA XREF: UpDateMenu+821r
					; UpDateMenu+845r
dword_3757E	dd 0			; DATA XREF: UpDateMenu+839r
					; UpDateMenu+866r
NetMenu		dw 0			; DATA XREF: UpDateMenu+2BDr
					; UpDateMenu+2EAr ...
word_37584	dw 0			; DATA XREF: UpDateMenu+2C1r
word_37586	dw 0			; DATA XREF: UpDateMenu+2B1r
					; UpDateMenu+2D5r ...
dword_37588	dd 0			; DATA XREF: UpDateMenu+2C9r
					; UpDateMenu+2F6r ...
m_pause		dw 0			; DATA XREF: UpdatePause+12r
					; LoadMenuResourses+884o
word_3758E	dw 0			; DATA XREF: UpdatePause+16r
word_37590	dw 0			; DATA XREF: UpdatePause+6r
dword_37592	dd 0			; DATA XREF: UpdatePause+20r
PTors		dw 0			; DATA XREF: UpDateMenu+D33r
					; LoadMenuResourses+891o
word_37598	dw 0			; DATA XREF: UpDateMenu+D37r
		align 4
dword_3759C	dd 0			; DATA XREF: UpDateMenu+D3Br
MnSY		dw 0			; DATA XREF: UpDateRanking+5Fr
					; DrawMenuRect+1Ew ...
MenuTiler	dd 0			; DATA XREF: DrawMenuRect:loc_28F27r
					; LoadMenuResourses+6D9o ...
ColorShift	db 0			; DATA XREF: PutIconFF2Sub+19r
					; PutString+50w ...
ColorZero	db 0			; DATA XREF: PutIconFF2Sub+1Dr
					; PutString+62w ...
RecolorMap	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Wx1		dw 0			; DATA XREF: RenderLightOnMap+45w
					; RenderLightOnMap+48r	...
Wy1		dw 0			; DATA XREF: RenderLightOnMap+75w
					; RenderLightOnMap+78r	...
Wx2		dw 0			; DATA XREF: RenderLightOnMap+ABw
					; RenderLightOnMap+AEr	...
Wy2		dw 0			; DATA XREF: RenderLightOnMap+E2w
					; RenderLightOnMap+E5r	...
os		dw 0			; DATA XREF: RenderLightOnMap+193w
					; RenderLightOnMap+1EBr ...
R__0		dw 0			; DATA XREF: RenderLightOnMap+1CAw
					; RenderLightOnMap+1CDw ...
ccx		dw 0			; DATA XREF: RenderLightOnMap:loc_108C9w
					; RenderLightOnMap:loc_108CEw ...
ccy		dw 0			; DATA XREF: RenderLightOnMap:loc_108AFw
					; RenderLightOnMap:loc_108B4w ...
N		dw 0			; DATA XREF: ProcessLights+7w
					; ProcessLights:loc_10B41r ...
CurR		dw 0			; DATA XREF: RenderLightOnMap+1D0r
					; RenderLightOnMap+1E1r ...
CurR2		dw 0			; DATA XREF: RenderLightOnMap:loc_107D0r
					; RenderLightOnMap:loc_10800r ...
CurL		dw 0			; DATA XREF: RenderLightOnMap+1DDr
					; RenderLightOnMap+2A7r ...
LLX		dw 0			; DATA XREF: RenderLightOnMap+2Dr
					; RenderLightOnMap+8Dr	...
LLY		dw 0			; DATA XREF: RenderLightOnMap+5Dr
					; RenderLightOnMap+C4r	...
k		dw 0			; DATA XREF: RenderLightOnMap+198w
					; RenderLightOnMap:loc_10949w ...
Wx		dw 0			; DATA XREF: RenderLightOnMap+16Dw
					; RenderLightOnMap:loc_1094Dr ...
Wy		dw 0			; DATA XREF: RenderLightOnMap+183w
					; RenderLightOnMap+1B5r ...
DWx		dw 0			; DATA XREF: RenderLightOnMap+164w
					; RenderLightOnMap:loc_109C1r
Dwy		dw 0			; DATA XREF: RenderLightOnMap+17Aw
					; RenderLightOnMap+21Cr
V		db    0
B		db 0			; DATA XREF: RenderLightOnMap+1E8w
					; RenderLightOnMap+1F7r ...
PifTab		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
ShadowMap	dd 0			; DATA XREF: LoadFloorMap+137r
					; LoadFloorMap+1C6r ...
WShadowMap	dd 0			; DATA XREF: LoadFloorMap+146r
					; LoadFloorMap+1E1r ...
ShadowMap2	dd 0			; DATA XREF: LoadFloorMap+1FEr
					; LoadGame+539r ...
WShadowMap2	dd 0			; DATA XREF: LoadFloorMap+211r
					; LoadGame+54Cr ...
FlSegs		dw 0			; DATA XREF: AllocFloors:loc_2E229r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Pc		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
CurPic		dw 0			; DATA XREF: ExpandBlow+C4o
					; ExpandBlow+E4o ...
word_37CEC	dw 0			; DATA XREF: ExpandBlow:loc_6341r
					; SetCurPicTo+3Cw
word_37CEE	dw 0			; DATA XREF: SetCurPicTo+53w
word_37CF0	dw 0			; DATA XREF: SetCurPicTo+92w
word_37CF2	dw 0			; DATA XREF: SetCurPicTo+95w
CurPicSeg	dw 0			; DATA XREF: PROGRAM+C1Fw PROGRAM+C22r ...
ShadowSeg	dw 0			; DATA XREF: BuildFloorCell+4r
					; RestoreLights+17Br ...
WShadowSeg	dw 0			; DATA XREF: ExpandWall+4FAr
					; ExpandWall+689r ...
ShadowSeg2	dw 0			; DATA XREF: RestoreLights:loc_10762r
					; RenderLightOnMap+Ar ...
WShadowSeg2	dw 0			; DATA XREF: RestoreLights+192r
					; RenderLightOnMap+10r	...
cwc:
		align 4
CurShOfs	dw 0			; DATA XREF: Draw_Cell1+A4r
					; Draw_Cell1+D7w ...
CMP0		dw 0			; DATA XREF: Draw_Cell1+4Br
					; Draw_Cell2+4Br ...
XORMask		dw 0			; DATA XREF: ExpandFrame+155w
					; ExpandFrame+181w ...
FileTable	dd 0			; DATA XREF: FOpen+189r FOpen+1C1r ...
GFXindex	dd 0			; DATA XREF: LoadSpryte+8r
					; LoadSpryte+8Fr ...
ShortNames	dd 0			; DATA XREF: UpDateInfo+2D4r
					; UpDateMenu+B3Ar ...
LevelNames	dd 0			; DATA XREF: ExecConsole+2BEr
					; LookForLevel+50r ...
ColorMap	db    0			; DATA XREF: LoadCommonParts+36Co
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_38A2D	dw 0			; DATA XREF: MsDos+17r	MsDos+72w ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
FloorMap	db    0			; DATA XREF: LoadFloorMap+94o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
CellMap		db    0			; DATA XREF: LoadFloorMap+7Eo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
AltXTab		db    0			; DATA XREF: AllocMemory+FBo
		db    0
		db    0
		db    0
Lights		dd 0			; DATA XREF: Draw3DObject+298r
					; InitLevelDefaults+80r ...
Tports		dd 0			; DATA XREF: CheckTelePorts+74r
					; CheckTelePorts+82r ...
PImPtr		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
PImSeg		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
WallMask	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_3D469	db 0			; DATA XREF: LoadGFXIndex:loc_1B8F6w
ObjBMPInf	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Obj3DInf	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3D71A	dw 0			; DATA XREF: ExpandAmmoBag+91r
word_3D71C	dw 0			; DATA XREF: ExpandAmmoBag+8Dr
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3D9B0	dw 0			; DATA XREF: DrawHoles+1A3r
					; DrawHoles+1AAr ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3D9C6	dw 0			; DATA XREF: DrawHoles+182r
word_3D9C8	dw 0			; DATA XREF: DrawHoles:loc_5B53r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3D9E6	dw 0			; DATA XREF: DrawItems+D8r
					; ExpandPlayer+183r
		db    0
		db    0
word_3D9EA	dw 0			; DATA XREF: DrawItems+CCr
					; DrawItems+E8r ...
word_3D9EC	dw 0			; DATA XREF: DrawItems+C8r
					; DrawItems:loc_41F1r ...
word_3D9EE	dw 0			; DATA XREF: DrawItems+BFr
					; DrawItems+D4r ...
word_3D9F0	dw 0			; DATA XREF: DrawItems+C2r
					; DrawItems+D0r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3DA0A	dw 0			; DATA XREF: DrawItems+71r
					; ExpandPlayer+1DFr
		db    0
		db    0
word_3DA0E	dw 0			; DATA XREF: DrawItems+65r
					; DrawItems+81r ...
word_3DA10	dw 0			; DATA XREF: DrawItems+61r
					; DrawItems:loc_418Ar ...
word_3DA12	dw 0			; DATA XREF: DrawItems+58r
					; DrawItems+6Dr ...
word_3DA14	dw 0			; DATA XREF: DrawItems+5Br
					; DrawItems+69r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_3DB52	dw 0			; DATA XREF: ExpandMine+9Br
word_3DB54	dw 0			; DATA XREF: ExpandMine:loc_6071r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
LinesH1		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
LinesH2		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
LinesBUF	db    0			; DATA XREF: StartPaint+4Br
					; ExpandWall+4D6r ...
		db    0
word_3F1BC	dw 0			; DATA XREF: ExpandFrame+24Fr
					; DoGame+A0Er
HolesList	dd 0			; DATA XREF: DrawHoles+21r AddHole+15r ...
SpryteUsed	db    0			; DATA XREF: ReleaseLevel+88o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Mul320		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
MulSW		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
SinTab		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Map		dd 0			; DATA XREF: DoneChanges+7Er
					; ExpandFrame+2Cr ...
ConsHistory	dd 0			; DATA XREF: ExecConsole+5Er
					; ExecConsole+94r ...
VMask		dd 0			; DATA XREF: MapXY+19Fr
					; InitLevelDefaults+A0r ...
Flags		dd 0			; DATA XREF: Expand3dObject+1C8r
					; MapXY+E3r ...
DarkMap		dd 0			; DATA XREF: BackRender+ECr
					; Draw3DObject+19Dr ...
AmbMap		dd 0			; DATA XREF: DoGame+1963r
					; LoadFloorMap+C1r ...
TeleMap		dd 0			; DATA XREF: CheckTelePorts+3Br
					; CheckTelePorts+152r ...
FloorZHi	dd 0			; DATA XREF: GetMFloorZ+1D5r
					; GetMFloorZ+204r ...
FloorZLo	dd 0			; DATA XREF: LoadServerPatch+674r
					; GetMFloorZ+22r ...
EndCamera	dw 0			; DATA XREF: DoGame+7F1r
					; LoadEndCamera+Dw
word_406E6	dw 0			; DATA XREF: DoGame+7F7r
					; LoadEndCamera+15w
word_406E8	dw 0			; DATA XREF: DoGame+7FDr
					; LoadEndCamera+1Dw
word_406EA	dw 0			; DATA XREF: DoGame+806r
					; LoadEndCamera+2Dw
word_406EC	dw 0			; DATA XREF: DoGame+80Cr
					; LoadEndCamera+25w
EventsList	db    0			; DATA XREF: InitLevelDefaults+DCo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
FramesList	dd 0			; DATA XREF: DoGame+1764r
					; InsertObject+402r ...
BlowsList	dd 0			; DATA XREF: ExpandBlow+Ar
					; SaveGame+436r ...
MonstersList	db    0			; DATA XREF: SaveGame+3E8o
					; LoadGame+35Bo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
RocketList	db    0			; DATA XREF: SaveGame+402o
					; LoadGame+374o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_41A56	db    0			; DATA XREF: cseg01:3936o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_41A6E	db    0			; DATA XREF: cseg01:38CAo cseg09:0DEDo ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
SepList		db    0			; DATA XREF: AddSepPart+16o
					; AddSinglePart+27o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_41BBC	db    0			; DATA XREF: AddSepPart+11o
					; AddSinglePart+22o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
MinesList	db    0			; DATA XREF: AddMine+16o SaveGame+41Co ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_41E70	db    0			; DATA XREF: AddMine+11o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
BlowLights	db    0			; DATA XREF: SaveGame+46Co
					; LoadGame+3DAo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_41FA5	db    0			; DATA XREF: cseg10:017Eo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
MonstersInfo	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_42154	dw 0			; DATA XREF: SendFastRocket:loc_26F58r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_4216C	dw 0			; DATA XREF: ExpandPlayer+CAr
					; ExpandPlayer+11Br
word_4216E	dw 0			; DATA XREF: ExpandPlayer:loc_6521r
					; ExpandPlayer+117r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_42298	dw 0			; DATA XREF: LoadMonsters:loc_2F6ADw
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
RocketsInfo	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
SepPartInfo	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
BlowsInfo	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
ReObjects	dd 0			; DATA XREF: DoGame+163Cr
					; sub_20F2A+37o ...
AmmoBags	dd 0			; DATA XREF: ExpandAmmoBag+8r
					; CheckFloorLinks+11Cr	...
FFlags		db    0			; DATA XREF: ReloadFloors+6Fo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Fonts		dd 0			; DATA XREF: PutString+E1r
					; PutStringFloat+B2r ...
BigFont		dd 0			; DATA XREF: PutBigChar+4r
					; AllocMemory+53o ...
LitFont		dd 0			; DATA XREF: PutLitChar+4r
					; AllocMemory+60o ...
WIcons		dd 0			; DATA XREF: UpDateInfo:loc_21F71r
					; AllocMemory+6Do ...
Palette		db    0			; DATA XREF: PlayBrifing+45o
					; LoadCommonParts+3CAo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Pal		db    0			; DATA XREF: UpDateRedShade+6Bo
					; UpDateRedShade:loc_3E5Ao ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
CharSize	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
GunsInfo	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_446B8	db 0			; DATA XREF: ReinitPlayer:loc_262r
					; FillStartInfo:loc_22E6Cr
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
NetPlace	db    0			; DATA XREF: LoadLevel+154o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_447E2	dw 0			; DATA XREF: ScanMap+ECr
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
_VGA		dd 0			; DATA XREF: AllocVideo+13o
					; AllocVideo+38o ...
Ground		dd 0			; DATA XREF: ShowVESATime:loc_214DAr
					; UpDateInfo+CCr ...
Status		dd 0			; DATA XREF: UpDateInfo+3Br
					; UpDateInfo+89r ...
Loading		dd 0			; DATA XREF: StartLoading:loc_19CA2r
					; NextLoading:loc_19D61r ...
VesaTiler	dd 0			; DATA XREF: InitVESAMonitor+61r
					; AllocMemory+D4o ...
SkyPtr		dd 0			; DATA XREF: BuildSky:loc_3626r
					; LoadSky+92r ...
RGBTab25	dd 0			; DATA XREF: AllocMemory+Fo
					; AllocMemory+1Br ...
RGBTab60	dd 0			; DATA XREF: AllocMemory+24o
					; AllocMemory+30r ...
LoadPos		dw 0			; DATA XREF: PlayBrifing+5Ew
					; StartLoading+3Cw ...
LoadingH	dw 0			; DATA XREF: StartLoading+42r
					; NextLoading+3Dr ...
LoadingW	dw 0			; DATA XREF: StartLoading+5Er
					; StartLoading+94r ...
AddonPath	db 0			; DATA XREF: PROGRAM+35Fo PROGRAM+36Br ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
ca		dw 0			; DATA XREF: DoGame+764r
					; PlayBrifing+29Br ...
word_448E2	dw 0			; DATA XREF: DoGame+767r
					; PlayBrifing+29Er ...
word_448E4	dw 0			; DATA XREF: DoGame+76Br
					; PlayBrifing+2A2r ...
sa		dw 0			; DATA XREF: DoGame+78Fr
					; PlayBrifing+2C6r ...
word_448E8	dw 0			; DATA XREF: DoGame+792r
					; PlayBrifing+2C9r ...
word_448EA	dw 0			; DATA XREF: DoGame+796r
					; PlayBrifing+2CDr ...
RShadeDir	dw 0			; DATA XREF: UpDateRedShade+4r
					; UpDateRedShade+22w ...
RShadeLev	dw 0			; DATA XREF: UpDateRedShade+11w
					; UpDateRedShade+15r ...
LastRShadeLev	dw 0			; DATA XREF: UpDateRedShade:loc_3E2Cr
					; UpDateRedShade+F0w
BShadeDir:
		align 4
BShadeLev	dw 0			; DATA XREF: UpdateBlueShade+7w
					; UpdateBlueShade+Br ...
LastBShadeLev	dw 0			; DATA XREF: UpdateBlueShade:loc_3FD3r
					; UpdateBlueShade+14Cw
GShadeDir	dw 0			; DATA XREF: UpDateRedShade+57w
					; UpDateGreenShade+4r ...
GShadeLev	dw 0			; DATA XREF: UpDateRedShade+61w
					; UpDateGreenShade+11w	...
LastGShadeLev	dw 0			; DATA XREF: UpDateRedShade+5Cw
					; UpDateGreenShade:loc_3F21r ...
MenuCode	dw 0			; DATA XREF: LoadServerPatch+162w
					; LoadServerPatch+1A3w	...
CSCopy__0	dw 0			; DATA XREF: ShowLiner	ShowLine2r ...
LoadSaveY	dw 0			; DATA XREF: ProcessMenu+44Er
					; ProcessMenu+57Cw ...
OptionsY	dw 0			; DATA XREF: PROGRAM+220w
NetMode		db 0			; DATA XREF: MenuStartNet+3Fw
					; DoGame+1C6r
TeamMode	db 0			; DATA XREF: MenuStartNet+45w
					; ShootMe+1Br
SHRC		db 0			; DATA XREF: ExpandWall+502r
					; ExpandWall+691r ...
		db    0
Ms		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Skill		dw 0			; DATA XREF: SendServerPatch+5Ar
					; LoadServerPatch+135w	...
MyNetN		dw 0			; DATA XREF: LoadServerPatch+15Fw
					; LoadServerPatch:loc_118Fr ...
bpx		dw 0			; DATA XREF: SCalcBPoint+1D9w
					; SCalcBPoint+279w ...
bpy		dw 0			; DATA XREF: SCalcBPoint+19Ew
					; SCalcBPoint+1A1r ...
ConsolePtr	dd 0			; DATA XREF: UpDateConsole:loc_288AAr
					; AllocMemory+46o ...
ConsoleComm	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_44A0B	db    0			; DATA XREF: PutConsMessage+54o
					; PutConsMessage2+54o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_44A34	db 0			; DATA XREF: ExecConsole+3Eo
					; ExecConsole:loc_9039w ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
ConsY		dw 0			; DATA XREF: DoGame+91w PROGRAM+17Fw ...
ConsDY		dw 0			; DATA XREF: AnimateKeyboard+157w
					; AnimateKeyboard:loc_C11Fw ...
ConsMode	dw 0			; DATA XREF: ProcessConsole+3Dr
					; ProcessConsole+41w ...
ConsMainY	dw 0			; DATA XREF: ProcessConsole+12Bw
					; ProcessConsole+136w ...
ConsMenu	dw 0			; DATA XREF: ProcessConsole+65r
					; ProcessConsole:loc_9183r ...
HistCnt		dw 0			; DATA XREF: ExecConsole+59r
					; ExecConsole+76r ...
CurHist		dw 0			; DATA XREF: ExecConsole+DEw
					; ExecConsole+E7w ...
MenuMode	dw 0			; DATA XREF: ProcessMenu:loc_96ECr
					; ProcessMenu:loc_9808r ...
MenuMainY	dw 0			; DATA XREF: ProcessMenu+93w
					; ProcessMenu+9Ew ...
MSsens		db 0			; DATA XREF: LoadConfig+72w
					; LoadConfig+DAo ...
		align 2
Contrast	dw 0			; DATA XREF: LoadConfig+104o
					; CheckQuit+BBo ...
Color		dw 0			; DATA XREF: LoadConfig+119o
					; CheckQuit+D0o ...
Bright		dw 0			; DATA XREF: LoadConfig+EFo
					; CheckQuit+A6o ...
LandZ		dw 0			; DATA XREF: MoveServerPlayers+667o
					; MoveServerPlayers+6C8r ...
CeilZ		dw 0			; DATA XREF: MoveServerPlayers+66Co
					; MoveServerPlayers+6D8r ...
EndDelay	dw 0			; DATA XREF: ExecConsole+261w
					; DoGame+24Cw ...
Hz		dw 0			; DATA XREF: DoGame+4C7w DoGame+535w ...
Hz2		dw 0			; DATA XREF: ExpandWall+2E5r
					; ExpandWall+305r ...
DMax		db    0
		db    0
Dy		db    0
		db    0
DDY__0		db    0
		db    0
oldy		dw 0			; DATA XREF: ExpandWall+41Aw
					; ExpandWall+432r ...
_x1		dw 0			; DATA XREF: ExpandWall+285w
					; ExpandWall+29Bw ...
_x2		dw 0			; DATA XREF: ExpandWall+2C6w
					; ExpandWall+2DCw ...
_X		dw 0			; DATA XREF: ExpandWall:loc_4A98w
					; ExpandWall:loc_4A9Dw	...
sl		dw 0			; DATA XREF: ExpandWall+1DDw
					; ExpandWall+1E0r ...
slp		dw 0			; DATA XREF: ExpandFrame+1A0w
					; ExpandFrame+3BCr ...
t1		dw 0			; DATA XREF: ProcessCD:loc_149r
					; DoneProcesses+3w ...
Times10Sum	dw 0			; DATA XREF: EndPaint+318r
					; EndPaint+34Cr ...
_Times10Sum	dw 0			; DATA XREF: DoGame+242w DoGame+1979w	...
Frames10Count	dw 0			; DATA XREF: DoGame+247w DoGame+197Dw	...
CurTime		dw 0			; DATA XREF: LookForServer+13w
					; LookForServer+3Fr ...
LastGunNumber	dw 0			; DATA XREF: ReinitPlayer+14Fw
					; LoadServerPatch+290w	...
GunShift	dw 0			; DATA XREF: ReinitPlayer+15Fw
					; LoadServerPatch+2AFw	...
RespawnTime	dw 0			; DATA XREF: LoadConfig+9Bo
					; ExecConsole+3CCw ...
ys31		dw 0			; DATA XREF: ExpandWall+42Ew
					; ExpandWall+435r ...
ys32		dw 0			; DATA XREF: ExpandWall+464w
					; ExpandWall+474r ...
ys11		dw 0			; DATA XREF: ExpandWall+2F0w
					; ExpandWall+33Br ...
ys12		dw 0			; DATA XREF: ExpandWall+300w
					; ExpandWall+345r ...
ys21		dw 0			; DATA XREF: ExpandWall+310w
					; ExpandWall+33Er ...
ys22		dw 0			; DATA XREF: ExpandWall+320w
					; ExpandWall+348r ...
sh1		dw 0			; DATA XREF: ExpandWall+342w
					; ExpandWall+367w ...
sh2		dw 0			; DATA XREF: ExpandWall+34Cw
					; ExpandWall+371w ...
mysy		dw 0			; DATA XREF: DoGame+A3Ew
ObjectsLoaded	dw 0			; DATA XREF: AnimateObjects:loc_2409Cr
					; LoadBMPObjects+24w ...
WeaponsCount	dw 0			; DATA XREF: ReinitPlayer+66r
					; ExecConsole:loc_88EEr ...
MCount		dw 0			; DATA XREF: SendServerPatch+8Dr
					; SendServerPatch:loc_B03r ...
TotalKills	dw 0			; DATA XREF: AnimateMonsters+3F5w
					; LoadLevel+14Cw ...
TotalKeys	dw 0			; DATA XREF: LoadLevel+151w
RCount		dw 0			; DATA XREF: SendServerPatch+86r
					; SendServerPatch:loc_9EEr ...
BCount		dw 0			; DATA XREF: InitLevelDefaults+3Bw
					; SaveGame+37Ao ...
DCount		dw 0			; DATA XREF: InitLevelDefaults+59w
					; SaveGame+338o ...
FCount__0	dw 0			; DATA XREF: DoGame+A26w
					; DoGame:loc_D9B7r ...
LCount		dw 0			; DATA XREF: RestoreLights+4r
					; RestoreLights:loc_1060Fr ...
LtCount		dw 0			; DATA XREF: Draw3DObject:loc_18070r
					; LoadLevel+F1o ...
SCount		dw 0			; DATA XREF: AddSepPart+4r
					; AddSepPart+Bw ...
TCount		dw 0			; DATA XREF: LoadTeleports+6w
					; LoadTeleports:loc_1C7D8r ...
MnCount		dw 0			; DATA XREF: SendServerPatch+94r
					; SendServerPatch:loc_AC4r ...
AmCount		dw 0			; DATA XREF: CheckFloorLinks:loc_7C93r
					; CheckFloorLinks+329w	...
ReCount		dw 0			; DATA XREF: DoGame+162Cr DoGame+1633w ...
HolCount	dw 0			; DATA XREF: DrawHoles+4r
					; InitLevelDefaults+68w ...
SFXSCount	dw 0			; DATA XREF: LoadLevel+147w
InfoLen:
		align 4
Di0		dw 0			; DATA XREF: ShowLine+16r
					; ShowLine2+16r ...
Dx0		dw 0			; DATA XREF: ShowLine+5r ShowLine2+5r	...
Recsize		db    0
		db    0
MTime		dw 0			; DATA XREF: DoGame+BE5w
					; DoGame:loc_CE9Dr ...
WeaponFTime	dw 0			; DATA XREF: ReinitPlayer+157w
					; LoadServerPatch+2A7w	...
WeaponPhase	dw 0			; DATA XREF: ReinitPlayer+15Cw
					; LoadServerPatch+2ACw	...
j		dw 0			; DATA XREF: AddClientProcesses+FBw
					; AddClientProcesses:loc_75D3w	...
w		dw 0			; DATA XREF: ProcessCD+35w
					; ProcessCD+3Dr ...
BLevelDef	dw 0			; DATA XREF: ExpandPicture+353r
					; Expand3dObject+139r ...
BLevel0		dw 0			; DATA XREF: DoGame+A67r
					; InitNormalViewHi+115w ...
BLevelW		dw 0			; DATA XREF: ExpandWall+468r
					; ExpandWall+600r ...
BlevelC		dw 0			; DATA XREF: CellVHi+1EDr DoGame+AB2w
BLevelF		dw 0			; DATA XREF: FloorVHi+207r DoGame+AA1w
VgaSeg		dw 0			; DATA XREF: ShowLine+Cr ShowLine2+Cr	...
RGBSeg		dw 0			; DATA XREF: ShowGlassLine+48r
					; ShowGlassLine:loc_240Dr ...
RGBSeg25	dw 0			; DATA XREF: DrawCross+4Cr
					; ExpandPicture+3C1r ...
RGBSeg60	dw 0			; DATA XREF: ExpandPicture+3D2r
					; ExpandPicture+3E3r ...
PSeg		db    0
		db    0
POfs		db    0
		db    0
PImBSeg		dw 0			; DATA XREF: DoGame+A1Br
					; LoadSpryte+120r ...
ImSeg		dw 0			; DATA XREF: ShowLine+1Er
					; ShowLine2+1Er ...
ImOfs		dw 0			; DATA XREF: StartPaint+64w
					; ExpandFrame+5BFw ...
Ims		dw 0			; DATA XREF: ExpandWall+4CDw
					; ExpandWall+4E0r ...
ImSegS:
		align 4
MyDeath		dw 0			; DATA XREF: LoadLevel+448w
					; LoadGame+48Ew
ObjectX		dw 0			; DATA XREF: ExpandPicture+8Cw
					; ExpandPicture+25Er
ObjectY		dw 0			; DATA XREF: ExpandPicture+86w
					; ExpandPicture+1ACr ...
ObjSeg		dw 0			; DATA XREF: ShowLine+28r
					; ShowLine2+28r ...
HlBr		dw 0			; DATA XREF: StartPaint+54w
					; ExpandWall:loc_4B18w	...
HLxx		dw 0			; DATA XREF: StartPaint+Dw
					; StartPaint+45w ...
HLh1		dw 0			; DATA XREF: StartPaint:loc_3D8Dw
					; StartPaint+94r ...
Hlh2		dw 0			; DATA XREF: StartPaint:loc_3D9Cw
					; StartPaint+97r ...
Hlhr1		db    0
		db    0
Hlhr2		db    0
		db    0
HLRH		db    0
		db    0
HLFh		db    0
		db    0
YMin1		dw 0			; DATA XREF: CellVHi:loc_2D26r
					; BuildSky+4r ...
YMin2		dw 0			; DATA XREF: FloorVHi:loc_32ABr
					; BuildFloorCell:loc_3720r ...
Nlines		dw 0			; DATA XREF: ExpandWall+449w
					; ExpandWall+5E4w ...
NLines1:
		align 4
takt		dw 0			; DATA XREF: LoadServerPatch+Br
					; LoadServerPatch+B8r ...
MsTakt		dw 0			; DATA XREF: CorrectMonstersPosition+Aw
					; AnimateMonsters+Dw ...
cm_ofs		dw 0			; DATA XREF: ExpandPicture:loc_57A4r
					; ExpandPicture:loc_57C0r ...
b0		dw 0			; DATA XREF: LoadConfig+143o
					; ExpandRocket+D5w ...
b1		db    0
		db    0
WeaponActive	db 0			; DATA XREF: LoadServerPatch+32Dw
					; EndPaint+39r	...
		align 2
CellV		dw 0			; DATA XREF: CellVHi+E1r DoGame+A8Cw
word_44B3A	dw 0			; DATA XREF: CellVHi+DDr DoGame+A8Fw
FloorV		dw 0			; DATA XREF: FloorVHi+F4r DoGame+A79w
word_44B3E	dw 0			; DATA XREF: FloorVHi+F0r DoGame+A7Cw
HLSt		dd 0			; DATA XREF: ShowLine+11r
					; ShowLine2+11r ...
WXSize		dw 0			; DATA XREF: ExpandWall+3Fr
					; ExpandWall+1F0r ...
isa		dw 0			; DATA XREF: CellVHi:loc_2D13r
					; FloorVHi:loc_3298r ...
ica		dw 0			; DATA XREF: CellVHi+18r FloorVHi+2Br	...
ica2		dw 0			; DATA XREF: CellVHi+103r
					; FloorVHi+119r ...
isa2		dw 0			; DATA XREF: CellVHi+114r
					; FloorVHi+12Ar ...
isa4		dw 0			; DATA XREF: CellVHi+195r
					; FloorVHi+1A9r ...
ica4		dw 0			; DATA XREF: CellVHi+15Cr
					; FloorVHi+160r ...
SxS:
		align 4
Sx11		dw 0			; DATA XREF: ExpandFrame+242w
					; ExpandFrame+253r ...
Sx21		dw 0			; DATA XREF: ExpandFrame+24Cw
					; ExpandFrame+26Dr ...
Sx1		dw 0			; DATA XREF: ExpandWall+1B4w
					; ExpandWall+1C9r ...
Sx2		dw 0			; DATA XREF: ExpandWall+1C6w
					; ExpandWall+1CCr ...
DShift		db    0
		db    0
Dir		db    0
		db    0
WpnShx		dw 0			; DATA XREF: DoGame+D22w DoGame+D5Br ...
WpnShy		dw 0			; DATA XREF: DoGame+D2Fw DoGame+D64r ...
lvz		dw 0			; DATA XREF: CenterView+1Bw
					; CenterView+24w ...
hvz		dw 0			; DATA XREF: DoGame+47Fr DoGame+490w ...
GunDx		db    0
		db    0
GunDy		db    0
		db    0
ShakeLevel	dw 0			; DATA XREF: LoadServerPatch+2B7w
					; LoadServerPatch+35Aw	...
LookVz		dw 0			; DATA XREF: ReinitPlayer+167w
					; LoadServerPatch+298w	...
_LookVz		dw 0			; DATA XREF: EndPaint+291r
					; EndPaint+2A2r ...
v1x		dw 0			; DATA XREF: Test2Vectors+20w
					; Test2Vectors+46r ...
v1y		dw 0			; DATA XREF: Test2Vectors+29w
					; Test2Vectors+4Ar ...
v2x		dw 0			; DATA XREF: Test2Vectors+32w
					; Test2Vectors+5Cr ...
v2y		dw 0			; DATA XREF: Test2Vectors+3Bw
					; Test2Vectors+60r ...
nx		dw 0			; DATA XREF: Test2Vectors+Ew
					; Test2Vectors+3Er ...
ny		dw 0			; DATA XREF: Test2Vectors+17w
					; Test2Vectors+42r ...
HS		dw 0			; DATA XREF: ShowLine+1Ar
					; ShowLine2+1Ar ...
Hx		dw 0			; DATA XREF: DoGame+452w
					; DoGame:loc_CAE6r ...
Hy		dw 0			; DATA XREF: DoGame+459w DoGame+876r ...
HMx		dw 0			; DATA XREF: DoGame+ABAw DoGame+AC5r ...
HMy		dw 0			; DATA XREF: DoGame+AC2w DoGame+AC9r ...
ehx		dw 0			; DATA XREF: ReinitPlayer+176w
					; CellVHi+17Br	...
ehy		dw 0			; DATA XREF: ReinitPlayer+17Dw
					; CellVHi+135r	...
ehz		dw 0			; DATA XREF: EndPaint+283r
					; ExpandWall+2F5r ...
n__0		dw 0			; DATA XREF: INIT_IPX_SERVER+54w
					; INIT_IPX_SERVER:loc_75Fw ...
i__0		dw 0			; DATA XREF: sub_1893B+D8w
					; sub_1893B:loc_18A18w	...
x__0		dw 0			; DATA XREF: ExpandFrame+576w
					; ExpandFrame:loc_537Er ...
y		dw 0			; DATA XREF: DoGame+B56w
					; DoGame:loc_CDD1w ...
mi		dw 0			; DATA XREF: DoGame+AD0w DoGame+AE2r ...
MapR		dw 0			; DATA XREF: DoGame+BAEw
					; ProcessLights+1DCr ...
LevelN		dw 0			; DATA XREF: SendServerPatch+4Er
					; LoadServerPatch+1A0w	...
ox		db    0
		db    0
HRv		dw 0			; DATA XREF: SendClientPatch+9Ar
					; EndPaint+1F9r ...
HksFlags	dw 0			; DATA XREF: SendClientPatch+4Er
					; ProcessDevices+4r ...
HFi		dw 0			; DATA XREF: ReinitPlayer+13Cw
					; LoadServerPatch+286w	...
EHFi		dw 0			; DATA XREF: BuildSky:loc_3516r
					; DrawHoles+197r ...
FirstTakt	db 0			; DATA XREF: LoadLevel+23w
InfoPage	db 0			; DATA XREF: DrawCross:loc_3748r
					; LoadConfig+158o ...
NextL		db 0			; DATA XREF: DoGame+254w
					; LoadLevel+441w
SERVER		db 0			; DATA XREF: RefreshMachineMode:loc_186r
					; LookForServer+80w ...
CLIENT		db 0			; DATA XREF: RefreshMachineMode:loc_199r
					; LoadServerPatch+158w	...
Paused		db 0			; DATA XREF: SendServerPatch+68r
					; LoadServerPatch:loc_107Cw ...
Monsters	db 0			; DATA XREF: PROGRAM+135w PROGRAM+2D2w ...
Animation	db 0			; DATA XREF: DoGame+16BCr PROGRAM+144w
TimeInd		db 0			; DATA XREF: EndPaint+2FDr
					; EndPaint:loc_4594r ...
FullMap		db 0			; DATA XREF: ExecConsole+8B4r
					; ExecConsole:loc_8BCFw ...
EndOfTheGame	db 0			; DATA XREF: EndPaint:loc_433Er
					; AnimateKeyboard:loc_BFCEr ...
ClipMode	db 0			; DATA XREF: PROGRAM+149w DoCheck+9r
IamDead		db    0
Slow		db 0			; DATA XREF: EndPaint+421r
					; PROGRAM+12Bw
Spline		db 0			; DATA XREF: DoGame+3EBr PROGRAM+130w	...
Ranking		db 0			; DATA XREF: ProcessPreKeyboard:loc_AAB5r
					; ProcessPreKeyboard:loc_AABFw	...
NewSecond	db 0			; DATA XREF: SetPFlags:loc_ABA1r
					; DoGame+3Ew ...
OAnimate	db 0			; DATA XREF: DoGame:loc_CEA7w
					; DoGame+C34r ...
MapMode		db 0			; DATA XREF: AnimateKeyboard+C1r
					; AnimateKeyboard:loc_C08Bw ...
ExMode		db 0			; DATA XREF: EndPaint:loc_4334r
					; InsertPlayers:loc_7FB2r ...
Chojin		db 0			; DATA XREF: ExecConsole+487r
					; ExecConsole:loc_87A2w ...
TabMode		db 0			; DATA XREF: AnimateKeyboard+D7w
					; ShowScreen+2Er ...
SafeLoad	db 0			; DATA XREF: PROGRAM+2BCw
					; PROGRAM:loc_E7F3r
EpisodeReset	db 0			; DATA XREF: LoadConfig+1ACo
					; ProcessMenu+649r ...
AlwaysRun	db 0			; DATA XREF: LoadConfig+200o
					; ProcessMenu+60Dr ...
ReverseMouse	db 0			; DATA XREF: LoadConfig+1D6o
					; ProcessMenu+635r ...
SkyVisible	db 0			; DATA XREF: Draw_Cell1+E6w
					; Draw_Cell1+119w ...
MenuOn		db 0			; DATA XREF: ProcessMenu+517w
					; ProcessMenu+54Fw ...
Console		db 0			; DATA XREF: ProcessDevices+39r
					; ProcessDevices:loc_A2FAr ...
Cocpit		db 0			; DATA XREF: DrawCross+4r
					; LoadConfig+1C1o ...
GameActive	db 0			; DATA XREF: DoGame:loc_C5C8w
					; DoGame:loc_CEB6r ...
SecCounter	db 0			; DATA XREF: ExpandMine+76r
					; ExpandSepPart+C7r ...
TimerInt	dw 0			; DATA XREF: PROGRAM+262w PROGRAM+C80o ...
word_44BC8	dw 0			; DATA XREF: PROGRAM+265w DoHalt+42r ...
KbdInt		dw 0			; DATA XREF: PROGRAM+25Aw PROGRAM+C65o ...
word_44BCC	dw 0			; DATA XREF: PROGRAM+25Dw DoHalt+1Er ...
F		db    0			; DATA XREF: LoadConfig:loc_39E0o
					; LoadConfig+3Eo ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_44C52	dw 0			; DATA XREF: LoadVoice+B6r
					; LoadSpryte+B9r ...
word_44C54	dw 0			; DATA XREF: LoadVoice+B9r
					; LoadSpryte+B0r ...
Ft		db    0			; DATA XREF: ReadRealMul+4o
					; ReadCommand:loc_F52Do ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
EDI0		dw 0			; DATA XREF: DoGame+A60w
word_44D58	dw 0			; DATA XREF: DoGame+A63w
Edi1		db    0
		db    0
		db    0
		db    0
mEDX		db    0
		db    0
		db    0
		db    0
Ll		dw 0			; DATA XREF: LoadConfig+269o
					; LoadConfig+288r ...
word_44D64	dw 0			; DATA XREF: LoadConfig+28Br
					; sub_317C3+9Dr
Time0		db    0
		db    0
		db    0
		db    0
Time		dw 0			; DATA XREF: LoadClientPatch+280r
					; LoadClientPatch+2D3r	...
word_44D6C	dw 0			; DATA XREF: LoadClientPatch+283r
					; LoadClientPatch+2CBr	...
ZTime		dw 0			; DATA XREF: DoGame+4A2w DoGame+50Ar ...
word_44D70	dw 0			; DATA XREF: DoGame+4A5w DoGame+50Dr ...
mem0		dw 0			; DATA XREF: PROGRAM+104w
					; GetMem16:loc_2CA49w
word_44D74	dw 0			; DATA XREF: PROGRAM+107w GetMem16+15w
k__0		dw 0			; DATA XREF: DoGame+53Ew DoGame+5A6w ...
word_44D78	dw 0			; DATA XREF: DoGame+541w DoGame+5ACw ...
RealTime	dw 0			; DATA XREF: SendServerPatch+4r
					; SendServerPatch:loc_849r ...
word_44D7C	dw 0			; DATA XREF: SendServerPatch+7r
					; SendServerPatch+1Fr ...
LastMouseTime	dw 0			; DATA XREF: DoGame+265w DoGame+276w
word_44D80	dw 0			; DATA XREF: DoGame+26Bw DoGame+27Cw
LastPainTime	dw 0			; DATA XREF: DoGame+27w
					; SetMePain:loc_1AC94r	...
word_44D84	dw 0			; DATA XREF: DoGame+2Aw SetMePain+Er ...
StartUpRandSeed	dw 0			; DATA XREF: PROGRAM+E0w
word_44D88	dw 0			; DATA XREF: PROGRAM+E3w
MSRND		db    0
		db    0
		db    0
		db    0
L		db 0			; DATA XREF: MapXY+57o	MapXY+D5o ...
byte_44D8F	db 0			; DATA XREF: MapXY:loc_68B3r
		db    0
word_44D91	dw 0			; DATA XREF: MapXY+187r
					; RenderLightOnMap:loc_10906r
word_44D93	dw 0			; DATA XREF: MapXY+18Br
					; RenderLightOnMap+170r
word_44D95	dw 0			; DATA XREF: MapXY+17Fr
					; RenderLightOnMap+15Dr ...
word_44D97	dw 0			; DATA XREF: MapXY+183r
					; RenderLightOnMap+173r ...
		align 2
VPSize		dw 0			; DATA XREF: CheckQuit+220o
					; AddGreatBlow+32r ...
word_44D9C	dw 0			; DATA XREF: AddGreatBlow+29r
					; AddGreatBlow:loc_2308Br ...
VideoH		dw 0			; DATA XREF: DrawItems+16r
					; PlayBrifing+3E7r ...
word_44DA0	dw 0			; DATA XREF: DrawItems+19r
					; PlayBrifing+3EAr ...
VideoW		dw 0			; DATA XREF: BuildSky+25r
					; DrawItems+2Ar ...
word_44DA4	dw 0			; DATA XREF: BuildSky+1Cr
					; DrawItems+2Dr ...
VideoBPL	dd 0			; DATA XREF: ShowLine+44r
					; ShowLine2+46r ...
VideoEX		dw 0			; DATA XREF: SetVideoMode+21w
VideoEY		dw 0			; DATA XREF: UpDateIndy+6Dr
					; UpDateInfo+A4r ...
VideoCX		dw 0			; DATA XREF: CellVHi+D1r FloorVHi+E4r	...
VideoCY		dw 0			; DATA XREF: DrawCross+1Cr
					; DrawCross:loc_375Dr ...
VideoIsFlat	db 0			; DATA XREF: ShowVideoBuffer:loc_2B61Dr
					; Init320x200+32w ...
		align 2
WinW		dw 0			; DATA XREF: EndPaint+396r
					; EndPaint+3BBr ...
WinW2		dw 0			; DATA XREF: InitNormalViewHi+12Bw
					; InitNormalViewHi+12Er ...
WinSX		dw 0			; DATA XREF: CellVHi+Cr FloorVHi+1Fr ...
WinEX		dw 0			; DATA XREF: CellVHi+12r FloorVHi+25r	...
WinSY		dw 0			; DATA XREF: ReinitBrifView+50w
					; cseg04:loc_156CAr ...
WinEY		dw 0			; DATA XREF: ExpandPicture+201r
					; ReinitBrifView+5Bw ...
WinH		dw 0			; DATA XREF: ReinitBrifView+20w
					; ReinitBrifView+23r ...
WinH2u		dw 0			; DATA XREF: CellVHi+45r BuildSky+7r ...
WinH2d		dw 0			; DATA XREF: FloorVHi+7r FloorVHi+58r	...
WinCY		dw 0			; DATA XREF: FloorVHi+4r BuildSky+55r	...
WallH		dw 0			; DATA XREF: ExpandWall:loc_4970r
					; ExpandFrame+27Dr ...
WallW		dw 0			; DATA XREF: ExpandWall+1A8r
					; ExpandWall+1BAr ...
ObjectW		dw 0			; DATA XREF: ExpandPicture+AFr
					; ExpandPicture+C4r ...
WinB		dw 0			; DATA XREF: ReinitBrifView+3Cw
					; InitNormalViewHi+182w ...
WinB3		dw 0			; DATA XREF: InitNormalViewHi+195w
					; InitMonitorView+105w
WinE		dw 0			; DATA XREF: ReinitBrifView+46w
					; InitNormalViewHi+18Cw ...
WinE3		dw 0			; DATA XREF: InitNormalViewHi+19Ew
					; InitMonitorView+10Ew
WMapX1		dw 0			; DATA XREF: Line+D0r Line+124r ...
WMapX2		dw 0			; DATA XREF: Line+EAr Line+16Br ...
WMapY1		dw 0			; DATA XREF: Line+E1r Line+1B9r ...
WMapY2		dw 0			; DATA XREF: Line+FBr Line+1CAr ...
WMapX		dw 0			; DATA XREF: Line+B5r Line+BBr ...
WMapY		dw 0			; DATA XREF: Line+C1r Line+C7r ...
mpk_x		dw 0			; DATA XREF: Line+4r ShowMap+83w
mpk_y		dw 0			; DATA XREF: Line+34r ShowMap+A2w
mps		dw 0			; DATA XREF: AnimateKeyboard+12Cr
					; AnimateKeyboard+133w	...
WinW2i		dw 0			; DATA XREF: ExpandWall:loc_48D8r
					; ExpandWall+255r ...
StepMove	dw 0			; DATA XREF: ProcessDevices+68Dw
					; ProcessDevices+6C8w ...
FLeftEnd	dw 0			; DATA XREF: Draw_Cell1+5Fr
					; Draw_Cell2+5Fr ...
FRightEnd	dw 0			; DATA XREF: CellVHi+15w
					; CellVHi:loc_2D64r ...
CLeftEnd	db    0
		db    0
CRightEnd	db    0
		db    0
FLE160		dw 0			; DATA XREF: CellVHi+DAw CellVHi+14Br	...
DNpy		dw 0			; DATA XREF: Draw_Cell1+19r
					; Draw_Cell2+19r ...
DNpx		dw 0			; DATA XREF: Draw_Cell1+5r
					; Draw_Cell2+5r ...
FMapDx		dw 0			; DATA XREF: Draw_Cell1:loc_299Dr
					; Draw_Cell2:loc_2AFBr	...
FMapDy		dw 0			; DATA XREF: Draw_Cell1:loc_29D0r
					; Draw_Cell2:loc_2B2Er	...
FShwDx		dw 0			; DATA XREF: Draw_Cell1+D4r
					; Draw_Cell2+D6r ...
FShwDy		dw 0			; DATA XREF: Draw_Cell1+107r
					; Draw_Cell2+109r ...
HXiFF:
		align 4
FloorW		dw 0			; DATA XREF: LoadConfig+12Eo
					; CheckQuit+E5o ...
FloorDiv	dw 0			; DATA XREF: CellVHi+F7r FloorVHi+10Ar ...
TMy		dw 0			; DATA XREF: CellVHi+EAw CellVHi+EDw ...
DNp		dw 0			; DATA XREF: CellVHi+FDw CellVHi+100r	...
FCurMapOfs	dw 0			; DATA XREF: Draw_Cell1+D0w
					; Draw_Cell1+DBr ...
FMx		dw 0			; DATA XREF: CellVHi+1B1w CellVHi+1B4r ...
FMy		dw 0			; DATA XREF: CellVHi+175w CellVHi+1BAr ...
Esl		dw 0			; DATA XREF: ExpandWall+E3w
					; ExpandWall:loc_4A05r	...
word_44E14	dw 0			; DATA XREF: ExpandWall+E6w
					; ExpandWall+377r ...
Io0		dw 0			; DATA XREF: ExpandWall+3A7w
					; ExpandFrame+341w
word_44E18	dw 0			; DATA XREF: ExpandWall+3AAw
					; ExpandFrame+344w
SlY2		db    0
		db    0
		db    0
		db    0
SLy		dw 0			; DATA XREF: ExpandWall+334w
					; ExpandWall+359w ...
word_44E20	dw 0			; DATA XREF: ExpandWall+337w
					; ExpandWall+35Cw ...
tx1__0		dw 0			; DATA XREF: ExpandWall+80w
					; ExpandWall+112r ...
tx2__0		dw 0			; DATA XREF: ExpandWall+A2w
					; ExpandWall+11Br ...
ty1__0		dw 0			; DATA XREF: ExpandWall+3Bw
					; ExpandWall+47r ...
ty2__0		dw 0			; DATA XREF: ExpandWall+C7w
					; ExpandWall+D2r ...
_ty1		dw 0			; DATA XREF: ExpandPicture+52w
					; ExpandPicture+55r ...
DDark		dw 0			; DATA XREF: ExpandFrame+5DDw
WShadowOfs	dw 0			; DATA XREF: ExpandWall+51Dr
					; ExpandWall+535r ...
CMPOfs		db    0
		db    0
XOfsMask	dw 0			; DATA XREF: ExpandWall+4E3r
					; ExpandWall+672r ...
Cnt		db    0
		db    0
FromOfs		db    0
		db    0
FullH		db    0
		db    0
yf0		db    0
		db    0
yf1		db    0
		db    0
yf2		db    0
		db    0
ScrollK		dw 0			; DATA XREF: ExpandFrame+57Cw
					; ExpandFrame+57Fr
Double		db 0			; DATA XREF: StartPaint:loc_3D48w
					; StartPaint+6Ew ...
		align 2
RSize		dw 0			; DATA XREF: TryToGo__0+1A4w
					; TryToGo__0+1A7r ...
rrx		dw 0			; DATA XREF: TryToGo+51r
					; TryToGo:loc_12F8Br ...
rry		dw 0			; DATA XREF: TryToGo+73r TryToGo+91r ...
nhxi		dw 0			; DATA XREF: TryToGo__0+4Fr
					; TryToGo__0:loc_18AE7r ...
nhyi		dw 0			; DATA XREF: TryToGo__0+6Er
					; TryToGo__0+8Cr ...
aLwx		dw 0			; DATA XREF: TryToGo+32w TryToGo+40r ...
aLWy		dw 0			; DATA XREF: TryToGo+3Dw
					; TryToGo:loc_12FA7r ...
DSh:
		align 4
LWx		dw 0			; DATA XREF: TryToGo+1Ew TryToGo+2Ar ...
LWy		dw 0			; DATA XREF: TryToGo+27w TryToGo+35r ...
Rx		dw 0			; DATA XREF: TryToGo+B9w TryToGo+CFw ...
Ry		dw 0			; DATA XREF: TryToGo+61w TryToGo+77w ...
R__1		dw 0			; DATA XREF: TryToGo+107w TryToGo+10Ar ...
KeysState	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_44E78	db 0			; DATA XREF: AnimateKeyboard:loc_C0E5r
byte_44E79	db 0			; DATA XREF: AnimateKeyboard:loc_C0F7r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_44E88	db 0			; DATA XREF: ProcessConsole+4r
					; ProcessMenu:loc_99B0r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_44E94	db 0			; DATA XREF: ProcessConsole+Br
					; ProcessMenu+3ADr
		align 4
byte_44E98	db 0			; DATA XREF: AnimateKeyboard:loc_C08Er
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
KBDBuf		db 0			; DATA XREF: DoGame+28Fr DoGame+29Eo ...
unk_44EDF	db    0			; DATA XREF: DoGame+299o
					; PlayBrifing+1CCo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
KBDBufCnt	dw 0			; DATA XREF: DoGame+251w DoGame+287r ...
_FrontOn	db 0			; DATA XREF: LoadConfig+86o
					; ProcessDevices:loc_A30Er ...
_BackOn		db 0			; DATA XREF: ProcessDevices:loc_A320r
_LeftOn		db 0			; DATA XREF: ProcessDevices+18Cr
					; ProcessDevices:loc_A424r
_RightOn	db 0			; DATA XREF: ProcessDevices:loc_A40Fr
					; ProcessDevices:loc_A437r
_SLeftOn	db 0			; DATA XREF: ProcessDevices:loc_A375r
_SRightOn	db 0			; DATA XREF: ProcessDevices:loc_A388r
_JumpOn		db 0			; DATA XREF: ProcessDevices:loc_A347r
_FireOn		db 0			; DATA XREF: ProcessDevices:loc_A35Ar
_ChangOn	db 0			; DATA XREF: ProcessDevices:loc_A333r
_StrafeOn	db 0			; DATA XREF: ProcessDevices:loc_A3B6r
_SpeedUpOn	db 0			; DATA XREF: ProcessDevices:loc_A39Br
					; ProcessDevices+4F0r
_MLookOn	db 0			; DATA XREF: ProcessDevices:loc_A3CAr
_MLookT		db 0			; DATA XREF: ProcessDevices:loc_A3DEr
_ViewUpOn	db 0			; DATA XREF: ProcessDevices+47r
_ViewCntrOn	db 0			; DATA XREF: ProcessDevices+6Fr
_ViewDnOn	db 0			; DATA XREF: ProcessDevices+5Br
Ms1ID		db 0			; DATA XREF: LoadConfig+77w
					; ProcessDevices+2ECr ...
Ms2ID		db 0			; DATA XREF: LoadConfig+7Cw
					; ProcessDevices+308r ...
ms3id		db 0			; DATA XREF: ProcessDevices+324r
					; UpDateMenu:loc_298D1r
kbViewUp	db 0			; DATA XREF: ProcessDevices+58w
					; ProcessDevices:loc_A7F1r ...
kbViewDn	db 0			; DATA XREF: ProcessDevices+6Cw
					; ProcessDevices+588r ...
kbViewCntr	db 0			; DATA XREF: ProcessDevices+80w
					; ProcessDevices:loc_A2F5w ...
VCenterMode	db 0			; DATA XREF: ProcessDevices+35Dw
					; ProcessDevices+3AEw ...
c		db 0			; DATA XREF: LoadServerPatch:loc_1702w
					; LoadServerPatch+7C0w	...
kod		db 0			; DATA XREF: LoadLevel+457w
key		db 0			; DATA XREF: ProcessConsole:loc_905Br
					; ProcessConsole:loc_906Er ...
ASCII_Tab	db    0			; DATA XREF: LoadCommonParts+3F9o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
S		db 0			; DATA XREF: PROGRAM+29Eo PROGRAM+2ABo ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
LastFName	db    0			; DATA XREF: LoadConfig+Eo
					; LoadConfig+22o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Regs		dw 0			; DATA XREF: TextSeek:loc_2BA57w
					; TextSeek+35o	...
word_4520C	dw 0			; DATA XREF: TextSeek+28w TextSeek+B1w
word_4520E	dw 0			; DATA XREF: TextSeek+2Dw TextSeek+B7w
word_45210	dw 0			; DATA XREF: TextSeek+32w
					; TextSeek:loc_2BA84r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_4521C	db 0			; DATA XREF: TextSeek+3Fr TextSeek+CAr
		align 2
JoyX		dw 0			; DATA XREF: GetJoyStatus+5Fr
					; GetJoyStatus+68r ...
JoyY		dw 0			; DATA XREF: GetJoyStatus:loc_22AB4r
					; GetJoyStatus+77r ...
JoyCrX		dw 0			; DATA XREF: GetJoyStatus+A8r
					; GetJoyStatus+B9r ...
JoyCrY		dw 0			; DATA XREF: GetJoyStatus+9Er
					; GetJoyStatus+115r ...
JoyMnX		dw 0			; DATA XREF: GetJoyStatus+62r
					; GetJoyStatus+6Bw ...
JoyMnY		dw 0			; DATA XREF: GetJoyStatus+71r
					; GetJoyStatus+7Aw ...
JoyMxX		dw 0			; DATA XREF: GetJoyStatus+80r
					; GetJoyStatus+89w ...
JoyMxY		dw 0			; DATA XREF: GetJoyStatus+8Fr
					; GetJoyStatus+98w ...
JoyStick	db 0			; DATA XREF: ProcessDevices+1F7r
					; ProcessDevices+55Er ...
JoyKeyA		db    0
JoyKeyB		db    0
		db    0
MsX		dw 0			; DATA XREF: GetMouseStatus+47w
					; GetMouseStatus+64r ...
MsY		dw 0			; DATA XREF: GetMouseStatus+53w
					; GetMouseStatus+6Ar ...
MsButt		dw 0			; DATA XREF: GetMouseStatus+129r
					; GetMouseStatus+139r ...
MsV		db    0
		db    0
MLookTime	db    0
		db    0
LastMouseX	dw 0			; DATA XREF: GetMouseStatus+56r
					; GetMouseStatus+67w ...
LastMouseY	dw 0			; DATA XREF: GetMouseStatus+5Dr
					; GetMouseStatus+6Dw ...
MsRv		dw 0			; DATA XREF: ProcessDevices+224r
					; ProcessDevices:loc_A7D5r ...
MsVV		dw 0			; DATA XREF: ProcessDevices+214r
					; ProcessDevices:loc_A634r ...
Msvvi		dw 0			; DATA XREF: ProcessDevices+20Br
					; ProcessDevices+218w ...
msrvi		dw 0			; DATA XREF: ProcessDevices+21Br
					; ProcessDevices+228w ...
MouseD		db 0			; DATA XREF: ProcessDevices+1F0r
					; ProcessDevices+557r ...
MsKeyA		db 0			; DATA XREF: ProcessMenu+40r
					; ProcessDevices+2E5r ...
MsKeyB		db 0			; DATA XREF: ProcessMenu:loc_965Ar
					; ProcessDevices:loc_A571r ...
MsKeyC		db 0			; DATA XREF: ProcessMenu:loc_966Ar
					; ProcessDevices:loc_A58Dr ...
MLookOn		db 0			; DATA XREF: LoadConfig+1EBo
					; ProcessDevices+349r ...
RecordDemo	db 0			; DATA XREF: EndPaint:loc_4605r
					; EndPaint+436r ...
PlayDemo	db 0			; DATA XREF: LookForServer+85w
					; EndPaint+43Dr ...
IPXPresent	db 0			; DATA XREF: ConnectIPXProcessor+86w
					; MenuStartNet+Ar ...
NGMode		db 0			; DATA XREF: MenuStartNet+3Cr
					; ProcessMenu+2A7o ...
NGTeam		db 0			; DATA XREF: MenuStartNet+42r
					; ProcessMenu+2BAo ...
NGSkill		db 0			; DATA XREF: MenuStartNet+2Cr
					; ProcessMenu+2CDo ...
NGLevel		db 0			; DATA XREF: MenuStartNet+34r
					; LookForLevel+22r ...
NGCard		db 0			; DATA XREF: INIT_IPX_SERVER+1Er
					; INIT_IPX_CLIENT+Er ...
NGPort		db 0			; DATA XREF: INIT_IPX_SERVER+2Cr
					; INIT_IPX_CLIENT+1Cr ...
NGBaud		db 0			; DATA XREF: INIT_IPX_SERVER+3Ar
					; INIT_IPX_CLIENT+2Ar ...
NGColor		db 0			; DATA XREF: ProcessMenu+377o
					; ProcessMenu+4ECw ...
NGNick		db 0			; DATA XREF: ProcessMenu+39Br
					; ProcessMenu+3A2w ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
SelfNick	db    0			; DATA XREF: INIT_IPX_SERVER+3o
					; LoadServerPatch+4BFo	...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
SelfColor	db 0			; DATA XREF: SendClientPatch+79r
					; LoadConfig+182o ...
PInfoStruct	dd 0			; DATA XREF: DO_CD_Play:loc_89r
					; DO_CD_Play:loc_BCr ...
MSCDEX		db 0			; DATA XREF: DO_CD_Play+21r
					; DO_CD_Stop+8r ...
		align 2
LCDTrack	dw 0			; DATA XREF: DO_CD_Play+19w
					; DoGame+21Ew ...
CDTrack		dw 0			; DATA XREF: DO_CD_Play+3r
					; DO_CD_Play+1Ew ...
CDTime		dw 0			; DATA XREF: DO_CD_Play+C0w
					; ProcessCD+1Aw ...
word_45278	dw 0			; DATA XREF: DO_CD_Play+C3w
					; ProcessCD+1Ew ...
Players		db 0			; DATA XREF: DoGame+5Cw
unk_4527B	db    0			; DATA XREF: INIT_IPX_SERVER+8o
					; LookForServer+A7o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_45284	dw 0			; DATA XREF: SwitchMonitor+1Fw
					; SwitchMonitor+2Er ...
word_45286	dw 0			; DATA XREF: SwitchMonitor+25w
					; SwitchMonitor+32r ...
word_45288	dw 0			; DATA XREF: SwitchMonitor+2Bw
					; DoGame+C3w ...
		align 4
word_4528C	dw 0			; DATA XREF: LoadGame+49Ew
word_4528E	dw 0			; DATA XREF: LoadGame+4A3w
		db    0
		db    0
		db    0
		db    0
word_45294	dw 0			; DATA XREF: LoadGame+499w
		align 4
word_45298	dw 0			; DATA XREF: Demo_RecordNext+44r
					; Demo_ReadNextQuant+9Cw ...
word_4529A	dw 0			; DATA XREF: DoGame+365w
		db    0
		db    0
		db    0
unk_4529F	db    0			; DATA XREF: SaveGame+204o
					; LoadGame+183o
		db    0
byte_452A1	db 0			; DATA XREF: Demo_RecordNext+79r
					; Demo_ReadNextQuant+155r ...
word_452A2	dw 0			; DATA XREF: ExecConsole+480r
					; DoGame+194Bw	...
word_452A4	dw 0			; DATA XREF: Demo_RecordNext+59r
					; Demo_ReadNextQuant+B6r ...
		align 4
unk_452A8	db    0			; DATA XREF: SaveGame+246o
					; LoadGame+1C2o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_452B0	dw 0			; DATA XREF: PROGRAM+24Bw
		db    0
		db    0
		db    0
		db    0
word_452B6	dw 0			; DATA XREF: Demo_ReadNextQuant+A3w
					; Demo_ReadNextQuant+A6r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_452C2	dw 0			; DATA XREF: Demo_RecordNext+63r
					; Demo_RecordNext+6Ar ...
		align 8
word_452C8	dw 0			; DATA XREF: LoadLevel+208w
					; SaveGame+272o ...
word_452CA	dw 0			; DATA XREF: LoadLevel+212w
					; SaveGame+29Eo ...
word_452CC	dw 0			; DATA XREF: LoadLevel+20Dw
					; SaveGame+288o ...
word_452CE	dw 0			; DATA XREF: LoadServerPatch+4B8w
					; LoadServerPatch:loc_1767r
word_452D0	dw 0			; DATA XREF: LoadServerPatch+4BBw
					; LoadServerPatch+81Ar
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
LastBorn	db 0			; DATA XREF: ReinitPlayer+A6r
					; ReinitPlayer+BCw ...
		align 2
LevelChanges	db    0			; DATA XREF: SendServerPatch+A4o
					; LoadServerPatch+4E6o	...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
ProcState	db    0			; DATA XREF: SendServerPatch+B9o
					; SendServerPost+B5o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
NetMessage	db 0			; DATA XREF: SendServerPatch+9Br
					; SendServerPatch+1BCw	...
unk_45555	db    0			; DATA XREF: SendServerPatch+195o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
MessageRec	db    0			; DATA XREF: PutConsMessage2+6Co
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_455B3	dw 0			; DATA XREF: ProcessDevices+398w
unk_455B5	db    0			; DATA XREF: PutConsMessage2+67o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_455F2	dw 0			; DATA XREF: ProcessDevices+391r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_45670	dw 0			; DATA XREF: ShowMessages+8Fw
					; PutConsMessage2+60r ...
ProcMessage	dw 0			; DATA XREF: SetProcMessage+45r
					; SetProcMessage+65w ...
word_45674	dw 0			; DATA XREF: DoGame+45w
					; SetProcMessage:loc_1F4ECr ...
VESAError	db 0			; DATA XREF: ProcedErrorw
					; ProcedError+Ew ...
		align 2
VESABank	dw 0			; DATA XREF: SetVESAMode+Ew
					; SwitchBank+Ew ...
VESABankShift	dw 0			; DATA XREF: GetB__0+12r
					; InitVideo+167w
VESA_CurrColor	db 0			; DATA XREF: VESA_Line+38r
					; VESA_Line+41r ...
VESAPresent	db 0			; DATA XREF: ProcessConsole+1DAr
					; ProcessConsole+24Cr ...
VESA20Compliant	db 0			; DATA XREF: UpDateMenu+92Br
					; InitVideo+9w	...
		align 2
VESAVersion	dw 0			; DATA XREF: PROGRAM+875r PROGRAM+8CFr ...
TotalMemory	dw 0			; DATA XREF: PROGRAM+847r
					; InitVideo+13w ...
FLATSelector	dw 0			; DATA XREF: PROGRAM:loc_EA98r
					; InitVideo+107w ...
VESA20Addr	dw 0			; DATA XREF: PROGRAM+920r
					; InitVideo+E7w ...
word_45688	dw 0			; DATA XREF: PROGRAM+91Cr
					; InitVideo+EAw ...
ModesList	dw 0			; DATA XREF: LoadConfig+282r
					; ProcessMenu+18Br ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
DRegs__0	dw 0			; DATA XREF: GetVESAInfo+13w
					; GetVESAInfo+26o ...
word_4575E	dw 0			; DATA XREF: GetVESAInfo+16w
					; GetModeInfo+16w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_45774	dw 0			; DATA XREF: GetModeInfo+2Bw
word_45776	dw 0			; DATA XREF: GetModeInfo+2Ew
word_45778	dw 0			; DATA XREF: GetVESAInfo+1Aw
					; GetVESAInfo+2Er ...
word_4577A	dw 0			; DATA XREF: GetVESAInfo+20w
					; GetModeInfo+20w
		db    0
		db    0
word_4577E	dw 0			; DATA XREF: GetVESAInfo+Aw
					; GetModeInfo+Aw
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
NETMonitor	db 0			; DATA XREF: LoadClientPatch+FAr
					; LoadClientPatch+31Fr	...
InBrifing	db 0			; DATA XREF: PlayBrifing+95w
					; PlayBrifing+50Bw
VideoOwners	db    0
		db    0
		db    0
		db    0
CurOwner	dw 0			; DATA XREF: EndPaint+A3r
					; EndPaint:loc_42ECr ...
CurVideoMode	dw 0			; DATA XREF: DrawCross:loc_3769r
					; LoadConfig+2A3w ...
LastVideoMode	dw 0			; DATA XREF: AllocVideo+4r
					; AllocVideo+2Dw
ServerSaved	dw 0			; DATA XREF: DeinitMonitor:loc_7EE8r
					; SwitchMonitor:loc_7F2Er ...
word_4579C	dw 0			; DATA XREF: SwitchMonitor+1Cr
					; InitVESAMonitor+Dw
word_4579E	dw 0			; DATA XREF: SwitchMonitor+22r
					; InitVESAMonitor+13w
word_457A0	dw 0			; DATA XREF: SwitchMonitor+28r
					; InitVESAMonitor+19w
CurWindow	dw 0			; DATA XREF: RedrawWindowSelection+18r
					; RedrawWindowSelection+58r ...
BaseFile	db 0			; DATA XREF: FOpen+1A6o TOpen+17Bo ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
sCard		db 0			; DATA XREF: PROGRAM+6D5w
					; PROGRAM:loc_E8CDr ...
sDMA		db 0			; DATA XREF: PROGRAM+736r PROGRAM+A6Er ...
sIRQ		db 0			; DATA XREF: PROGRAM+732r PROGRAM+A45r ...
		align 2
sBase		dw 0			; DATA XREF: PROGRAM+72Er PROGRAM+A0Fr ...
sbDSPver	dw 0			; DATA XREF: PROGRAM+ABAr
					; TestSBlaster+69w ...
FXVolume	db 0			; DATA XREF: LoadConfig+B0o
					; ProcessMenu+264o ...
CDVolume	db 0			; DATA XREF: LoadConfig:loc_3A1Ew
					; LoadConfig+C5o ...
ActiveVoices	db 0			; DATA XREF: UpDatePlayerPos+1Cw
					; UpDatePlayerPos+46w
MaxVoice	db 0			; DATA XREF: StopSound+12r
					; StopSounds+4r ...
Old_IRQ		dw 0			; DATA XREF: InitSb+3Bo DeInitSB+3r ...
word_45804	dw 0			; DATA XREF: DeInitSB+6r DeInitSB+10r	...
DisableALL	db 0			; DATA XREF: DoGame+31Fw
					; ContinueAmbient+3r ...
Reverse		db 0			; DATA XREF: ExecConsole+4E0r
					; ExecConsole:loc_87FBw ...
PreAmbient	dw 0			; DATA XREF: ContinueAmbient+1Ar
					; ContinueAmbient+31w ...
CurAmbient	dw 0			; DATA XREF: ContinueAmbient:loc_31B70r
					; ContinueAmbient:loc_31B7Ar ...
PAmbVol		db 0			; DATA XREF: ContinueAmbient+20r
					; ContinueAmbient+27w ...
CAmbVol		db 0			; DATA XREF: ContinueAmbient:loc_31B97r
					; ContinueAmbient+3Bw ...
Voices		dd 0			; DATA XREF: DeInitBrifing+24r
					; LoadVoice+61r ...
Ambients	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Channels	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
ObjAmb		dw 0			; DATA XREF: DoGame+BB1o
					; InsertObject+D1r ...
word_45AB4	dw 0			; DATA XREF: InsertObject+DBr
					; InsertObject+102w
word_45AB6	dw 0			; DATA XREF: InsertObject+F6w
word_45AB8	dw 0			; DATA XREF: InsertObject+FCw
ObjAmbU		dw 0			; DATA XREF: StopSound+Bw DoGame+BB6o	...
word_45ABC	dw 0			; DATA XREF: ContinueAmbient+AFr
word_45ABE	dw 0			; DATA XREF: ContinueAmbient+C3r
word_45AC0	dw 0			; DATA XREF: ContinueAmbient+C7r
GUSVPos		dw 0			; DATA XREF: cseg09:1DBCw cseg09:1DBFr ...
intN		db 0			; DATA XREF: InitSb+23w InitSb+33w ...
		align 2
Px		dw 0			; DATA XREF: GUS_MixNextBlock:loc_333DAr
					; UpDatePlayerPos+7w ...
Py		dw 0			; DATA XREF: GUS_MixNextBlock+82r
					; UpDatePlayerPos+Dw ...
PSin		dw 0			; DATA XREF: GUS_MixNextBlock+A0r
					; GUS_MixNextBlock+C3r	...
PCos		dw 0			; DATA XREF: GUS_MixNextBlock+8Fr
					; GUS_MixNextBlock+B2r	...
CSCopy__1	dw 0			; DATA XREF: sub_33F55+1Ew
					; sub_33F55+21r
n__1		dw 0			; DATA XREF: AddAmbient+18w
					; AddAmbient:loc_319EFw ...
j__0		dw 0			; DATA XREF: ResetDSP+21w ResetDSP+30r ...
F__0		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
LastBChannel	db    0
		db    0
SFXBuf		dd 0			; DATA XREF: GetDosPage+16Ao
					; GetDosPage+177r ...
SFXDMABuf	dd 0			; DATA XREF: GetDosPage+15Ew
					; GetDosPage:loc_32922r ...
TimeRate	dw 0			; DATA XREF: ProgramDSP8bit+1Br
					; InitDMABuffers+11w ...
SFXPage		dw 0			; DATA XREF: ProgramDMALo+4Fr
					; ProgramDMALo+5Ar ...
SFXRxA		db    0
		db    0
SFXRv		db    0
		db    0
SFXLv		db    0
		db    0
SFXC		dw 0			; DATA XREF: GUS_MixNextBlock+1Bw
					; GUS_MixNextBlock:loc_33385w ...
SFXLen		dw 0			; DATA XREF: ProgramDMALo+7Fr
					; ProgramDSP8bit+32r ...
SFXPageOfs	dw 0			; DATA XREF: ProgramDMALo+37r
					; ProgramDMAHi+31r ...
SFXDMASeg	dw 0			; DATA XREF: GetDosPage+21w
					; GetDosPage+AEw ...
SFXBufSeg	dw 0			; DATA XREF: GetDosPage+17Dw
					; GUS_InitDMABuffers+115w ...
SFXBOfs		dw 0			; DATA XREF: GetDosPage+167w
					; cseg09:1DC9w	...
VcSeg		dw 0			; DATA XREF: GUS_MixNextBlock+1B9w
					; GUS_MixNextBlock+237r ...
_SFXLv		dw 0			; DATA XREF: GUS_MixNextBlock+5Ew
					; GUS_MixNextBlock+6Cw	...
_SFXRv		dw 0			; DATA XREF: GUS_MixNextBlock+58w
					; GUS_MixNextBlock:loc_333CBw ...
_CurBlock	dw 0			; DATA XREF: GUS_MixNextBlock+1C3w
					; GUS_MixNextBlock+230r ...
SFXLn		dw 0			; DATA XREF: GUS_MixNextBlock+15Aw
					; GUS_MixNextBlock+15Dr ...
SFXRvW		dw 0			; DATA XREF: GUS_MixNextBlock+11Ew
					; GUS_MixNextBlock+136w ...
SFXLvW		dw 0			; DATA XREF: GUS_MixNextBlock+140w
					; GUS_MixNextBlock+18Br ...
SFXSx		dw 0			; DATA XREF: GUS_MixNextBlock+7Fw
					; GUS_MixNextBlock+9Dr	...
SFXSy		dw 0			; DATA XREF: GUS_MixNextBlock+89w
					; GUS_MixNextBlock+8Cr	...
SFXSrxA		dw 0			; DATA XREF: GUS_MixNextBlock+101w
					; GUS_MixNextBlock+107r ...
SFXSrx		dw 0			; DATA XREF: GUS_MixNextBlock+BDw
					; GUS_MixNextBlock+CEw	...
SFXSry		dw 0			; DATA XREF: GUS_MixNextBlock+9Aw
					; GUS_MixNextBlock+ABw	...
SFXCount	db    0
DSPP		db 0			; DATA XREF: SendBlock+17w
					; cseg09:1DA9w	...
dma20bit	dw 0			; DATA XREF: PrimeDMA+1Cr
					; GUS_InitDMABuffers+3Ew ...
word_45B90	dw 0			; DATA XREF: PrimeDMA+20r
					; GUS_InitDMABuffers+41w ...
CheckBreak	db 0			; DATA XREF: unknown_libname_2+33w
CheckEOF	db 0			; DATA XREF: unknown_libname_2+29w
					; cseg02:loc_1152Cr
DirectVideo	db 0			; DATA XREF: PROGRAM+E7w sub_111EA+39w
CheckSnow	db 0			; DATA XREF: sub_111EA+35w
LastMode	dw 0			; DATA XREF: sub_111EA:loc_11218w
TextAttr	db 0			; DATA XREF: unknown_libname_2+24w
					; TextMode+Fw ...
		align 2
WindMin		dw 0			; DATA XREF: sub_111EA+40w Window+32w	...
WindMax		dw 0			; DATA XREF: sub_111EA+43w Window+36w	...
word_45B9E	dw 0			; DATA XREF: unknown_libname_2+58w
					; Delay:loc_113C1r
word_45BA0	dw 0			; DATA XREF: sub_111EA+31w Window+24r	...
byte_45BA2	db 0			; DATA XREF: unknown_libname_2+21w
					; TextMode+Cr ...
byte_45BA3	db 0			; DATA XREF: unknown_libname_2+2Cw
					; KeyPressedr ...
byte_45BA4	db 0			; DATA XREF: unknown_libname_2+2Fw
					; sub_11256r ...
		align 2
Input		db    0			; DATA XREF: __CrtInit(void)+6o
					; __CrtInit(void)+10o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
Output		db    0			; DATA XREF: CheckNP:loc_6DEo
					; PROGRAM:loc_E64Co ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
SaveInt00	db    0
		db    0
		db    0
		db    0
SaveInt02	db    0
		db    0
		db    0
		db    0
SaveInt0C	db    0
		db    0
		db    0
		db    0
SaveInt0D	db    0
		db    0
		db    0
		db    0
SaveInt1B	db    0
		db    0
		db    0
		db    0
SaveInt21	dw 0			; DATA XREF: __SystemInit(void)+81r
word_45DBC	dw 0			; DATA XREF: __SystemInit(void)+88r
SaveInt23	db    0
		db    0
		db    0
		db    0
SaveInt24	db    0
		db    0
		db    0
		db    0
SaveInt34	db    0
		db    0
		db    0
		db    0
SaveInt35	db    0
		db    0
		db    0
		db    0
SaveInt36	db    0
		db    0
		db    0
		db    0
SaveInt37	db    0
		db    0
		db    0
		db    0
SaveInt38	db    0
		db    0
		db    0
		db    0
SaveInt39	db    0
		db    0
		db    0
		db    0
SaveInt3A	db    0
		db    0
		db    0
		db    0
SaveInt3B	db    0
		db    0
		db    0
		db    0
SaveInt3C	db    0
		db    0
		db    0
		db    0
SaveInt3D	db    0
		db    0
		db    0
		db    0
SaveInt3E	db    0
		db    0
		db    0
		db    0
SaveInt3F	db    0
		db    0
		db    0
		db    0
SaveInt75	db    0
		db    0
		db    0
		db    0
RealModeRegs	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_45E2C	dw 0			; DATA XREF: __SystemInit(void)+72w
word_45E2E	dw 0			; DATA XREF: __SystemInit(void)+76w
word_45E30	dw 0			; DATA XREF: __NewMemory+4w
					; __NewMemory+19r ...
		align 10h
dseg11		ends

; Segment Number    : 12
; Alloc	Size	    : 6590h
; Offset in the	file: 0000h  Length: 0000h
; Attributes  (0C41): DATA Preloaded DPL: 3
; ===========================================================================

; Segment type:	Regular
dseg12		segment	para public 'DATA' use16
		assume cs:dseg12
		assume es:nothing, ss:nothing, ds:dseg11, fs:nothing, gs:nothing
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
dseg12		ends

; ===========================================================================

; Segment type:	Externs
; KERNEL
		extrn KERNEL_15:far	; CODE XREF: AllocVideo+7BP
		extrn KERNEL_17:far	; CODE XREF: AllocVideo+25P
		extrn KERNEL_25:far	; CODE XREF: AllocVideo+6EP
		extrn KERNEL_175:far	; CODE XREF: ConnectIPXProcessor+17P
					; PROGRAM+C1AP	...
		extrn KERNEL_176:far	; CODE XREF: InitVideo+246P
		extrn KERNEL_184:far	; CODE XREF: VESAGetDosMem+17P
					; GetDosPage+9P ...
		extrn KERNEL_185:far	; CODE XREF: VESAFreeDosMem+AP
		extrn KERNEL_186:far	; CODE XREF: SetCurPicTo+67P
		extrn KERNEL_187:far	; CODE XREF: ConnectIPXProcessor+33P
					; InitVideo+116P ...
		extrn KERNEL_189:far	; CODE XREF: ConnectIPXProcessor+3FP
					; PROGRAM+C2AP	...

; ===========================================================================

; Segment type:	Externs
; KERNEL
		extrn KERNEL_91:far	; CODE XREF: PROGRAMP
		extrn KERNEL_114:near	; DATA XREF: __SystemInit(void)+2Eo
					; __SystemInit(void)+7Co ...
		extrn KERNEL_174:near	; DATA XREF: __SystemInit(void)+3Ao
		extrn KERNEL_181:near	; DATA XREF: __SystemInit(void)+40o
		extrn KERNEL_182:near	; DATA XREF: __SystemInit(void)+46o
		extrn KERNEL_193:near	; DATA XREF: __SystemInit(void)+34o

; ===========================================================================

; Segment type:	Externs
; RTM
		extrn RTM_5:far		; CODE XREF: sub_34461+FP
		extrn RTM_6:far		; CODE XREF: __DisMemory+74P
		extrn RTM_21:far	; CODE XREF: MEMAVAIL+9P MAXAVAIL+9P


		end PROGRAM
